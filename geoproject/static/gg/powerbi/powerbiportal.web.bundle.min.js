
window.parseTimeMarkers = window.parseTimeMarkers || {};
window.parseTimeMarkers['powerbiportal.web.bundle.min.js'] = {
    nominalStart: Date.now(),
    start: Date.now()
};
var __extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)},__assign=this&&this.__assign||Object.assign||function(e){for(var t,o=1,r=arguments.length;o<r;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},__awaiter=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))(function(i,a){function n(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?i(e.value):new o(function(t){t(e.value)}).then(n,s)}c((r=r.apply(e,t)).next())})},__generator=this&&this.__generator||function(e,t){function o(e){return function(t){return r([e,t])}}function r(o){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,a&&(n=a[2&o[0]?"return":o[0]?"throw":"next"])&&!(n=n.call(a,o[1])).done)return n;switch(a=0,n&&(o=[0,n.value]),o[0]){case 0:case 1:n=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(n=s.trys,!(n=n.length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){s.label=o[1];break}if(6===o[0]&&s.label<n[1]){s.label=n[1],n=o;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(o);break}n[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{i=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var i,a,n,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return{next:o(0),throw:o(1),return:o(2)}},powerbi;!(function(e){var t;!(function(t){var o;!(function(t){t.contentPackDirtyShowNotification="contentPackDirty",t.reportDeletedEventName="reportDeleted",t.onDatasetAddedEventName="onDatasetAdded",t.deleteModelFailedEventName="deleteModelFailed",t.deleteModelStartedEventName="deleteModelStarted",t.onDashboardShallowEditEventName="onDashboardShallowEdit",t.mergeDashboardContainerModelsReportsAndPackagesEventName="mergeDashboardContainerModelsReportsAndPackages",t.updateDashboardContainerEventName="updateDashboardContainer",t.addOrUpdateDashboardEventName="addOrUpdateDashboard",t.samplesContentProviderId=-1,t.initialDashboardContainerLoadingState="#loading#",t.initialDashboardContainerErrorState="#error#",t.initialDashboardContainerReadyEventName="initialDashboardContainerReady",t.CannotDeleteModelPublishedToOrganizationalAppHeader="CannotDeleteModelPublishedToOrganizationalApp",t.shouldShowEnableCustomVisualsDialog="shouldShowEnableCustomVisualsDialog",t.seenDashboardsStorageKey="seenSharedDashboards",t.ScopedInstanceProviderName="dataServices",t.dashboardElementName=".dashboard";var o;!(function(e){e.reloadExcelWorkbookEventName="reloadExcelWorkbook",e.pinClickedEventName="pinClicked",e.editInExcelOnlineClickedEventName="editInExcelOnlineClicked",e.editInExcelClickedEventName="editInExcelClicked",e.calculateWorkbookClickedEventName="calculateWorkbookClicked",e.bindToExcelWorkbookEventName="bindToExcelWorkbook",e.openWorkbookContextMenuEventName="openWorkbookContextMenu",e.viewWorkbookEventName="viewWorkbook",e.renameWorkbookEventName="renameWorkbook",e.editWorkbookEventName="editWorkbook",e.scheduleRefreshWorkbookEventName="scheduleRefreshWorkbook",e.refreshNowWorkbookEventName="refreshNowWorkbook",e.removeWorkbookEventName="removeWorkbook",e.excelWebAppScriptsLoaded="excelWebAppScriptsLoaded",e.defaultKeepOriginalContentSize=!1,e.workbookAddedEventName="workbookAdded"})(o=t.workbook||(t.workbook={})),t.SingleValueRealTimeWindow=250,t.MultipleValueRealTimeWindow=6e4,t.RealTimeIntervals=[1,5,10,15,20,25,30,45,60],t.RealTimeDataSourceName="_RealTimeSchema_",t.modelPlaceholderImageUrl="/"+e.build+"/images/modelPlaceholder.png",t.packagePublishedSuccessfullyEventName="packagePublishedSuccessfully",t.packageVersionChange="packageVersionChange";var r;!(function(e){e.TileConfigVersion="1.1",e.NoVisualType="No visual type",e.InvalidElements="Invalid elements",e.NoSelect="Select expr doesn't exist for data role projection",e.InvalidSemanticQuery="Invalid Semantic Query",e.NoQuery="No query",e.NoPlugin="No plugin",e.Version1_0="Version 1.0",e.Version1_1="Version 1.1"})(r=t.upgrader||(t.upgrader={}))})(o=t.constants||(t.constants={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.DashboardRenameReport=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.RenameReport",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRenameReportLoggers&&(f.loggers=e.telemetry.DashboardRenameReportLoggers),f},t.DashboardDeleteReport=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.DeleteReport",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteReportLoggers&&(f.loggers=e.telemetry.DashboardDeleteReportLoggers),f},t.DashboardInitializeNavigationPaneReports=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.InitializeNavigationPaneReports",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeNavigationPaneReportsLoggers&&(f.loggers=e.telemetry.DashboardInitializeNavigationPaneReportsLoggers),f},t.DashboardInitializeNavigationPaneModels=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.InitializeNavigationPaneModels",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeNavigationPaneModelsLoggers&&(f.loggers=e.telemetry.DashboardInitializeNavigationPaneModelsLoggers),f},t.DashboardRenameDataset=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.RenameDataset",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRenameDatasetLoggers&&(f.loggers=e.telemetry.DashboardRenameDatasetLoggers),f},t.DashboardUpdateModelQnaFeatures=function(t,o,r,i,a,n,s,c,d,l,p,u,v,f){void 0===i&&(i=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===d&&(d=void 0),void 0===l&&(l=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===f&&(f=!1);var h={cortanaValue:t,qnaValue:o,parentId:r,isError:i,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:d,isDebug:l,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:f},m={name:"PBI.Dashboard.UpdateModelQnaFeatures",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={cortanaValue:h.cortanaValue,qnaValue:h.qnaValue,parentId:h.parentId},o=typeof h.isError;("boolean"===o&&!!h.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=h.isError);var o=typeof h.errorSource;("boolean"===o&&!!h.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var o=typeof h.errorCode;("boolean"===o&&!!h.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=h.errorCode);var o=typeof h.errorMessage;("boolean"===o&&!!h.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=h.errorMessage);var o=typeof h.activityName;("boolean"===o&&!!h.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=h.activityName);var o=typeof h.activityId;("boolean"===o&&!!h.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=h.activityId);var o=typeof h.isDebug;("boolean"===o&&!!h.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=h.isDebug);var o=typeof h.isCancelled;("boolean"===o&&!!h.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=h.isCancelled);var o=typeof h.pingLatency;("boolean"===o&&!!h.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=h.pingLatency);var o=typeof h.isAppInactive;("boolean"===o&&!!h.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=h.isAppInactive);var o=typeof h.isInCapacity;return("boolean"===o&&!!h.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUpdateModelQnaFeaturesLoggers&&(m.loggers=e.telemetry.DashboardUpdateModelQnaFeaturesLoggers),m},t.DashboardUpdateFeaturedQuestions=function(t,o,r,i,a,n,s,c,d,l,p,u,v){void 0===r&&(r=!1),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===l&&(l=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var f={count:t,parentId:o,isError:r,errorSource:i,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:d,isCancelled:l,pingLatency:p,isAppInactive:u,isInCapacity:v},h={name:"PBI.Dashboard.UpdateFeaturedQuestions",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={count:f.count,parentId:f.parentId},o=typeof f.isError;("boolean"===o&&!!f.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=f.isError);var o=typeof f.errorSource;("boolean"===o&&!!f.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var o=typeof f.errorCode;("boolean"===o&&!!f.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=f.errorCode);var o=typeof f.errorMessage;("boolean"===o&&!!f.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=f.errorMessage);var o=typeof f.activityName;("boolean"===o&&!!f.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=f.activityName);var o=typeof f.activityId;("boolean"===o&&!!f.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=f.activityId);var o=typeof f.isDebug;("boolean"===o&&!!f.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=f.isDebug);var o=typeof f.isCancelled;("boolean"===o&&!!f.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=f.isCancelled);var o=typeof f.pingLatency;("boolean"===o&&!!f.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=f.pingLatency);var o=typeof f.isAppInactive;("boolean"===o&&!!f.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=f.isAppInactive);var o=typeof f.isInCapacity;return("boolean"===o&&!!f.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUpdateFeaturedQuestionsLoggers&&(h.loggers=e.telemetry.DashboardUpdateFeaturedQuestionsLoggers),h},t.DashboardDeleteDataset=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.DeleteDataset",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteDatasetLoggers&&(f.loggers=e.telemetry.DashboardDeleteDatasetLoggers),f},t.DashboardTileError=function(t,o){var r={tileType:t,message:o},i={name:"PBI.Dashboard.TileError",category:e.TelemetryCategory.CriticalError,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var e={tileType:r.tileType,message:r.message};return e},info:r,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardTileErrorLoggers&&(i.loggers=e.telemetry.DashboardTileErrorLoggers),i},t.DashboardAddUpdateDashboard=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.AddUpdateDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardAddUpdateDashboardLoggers&&(f.loggers=e.telemetry.DashboardAddUpdateDashboardLoggers),f},t.DashboardSharingNewUnseenDashboards=function(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===d&&(d=void 0),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===f&&(f=!1),void 0===h&&(h=!1);var m={numNewUnseenSharedDashboards:t,numSharedDashboards:o,numAllDashboards:r,parentId:i,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:d,activityId:l,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:f,isInCapacity:h},g={name:"PBI.Dashboard.SharingNewUnseenDashboards",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numNewUnseenSharedDashboards:m.numNewUnseenSharedDashboards,numSharedDashboards:m.numSharedDashboards,numAllDashboards:m.numAllDashboards,parentId:m.parentId},o=typeof m.isError;("boolean"===o&&!!m.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=m.isError);var o=typeof m.errorSource;("boolean"===o&&!!m.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[m.errorSource]);var o=typeof m.errorCode;("boolean"===o&&!!m.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=m.errorCode);var o=typeof m.errorMessage;("boolean"===o&&!!m.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=m.errorMessage);var o=typeof m.activityName;("boolean"===o&&!!m.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=m.activityName);var o=typeof m.activityId;("boolean"===o&&!!m.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=m.activityId);var o=typeof m.isDebug;("boolean"===o&&!!m.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=m.isDebug);var o=typeof m.isCancelled;("boolean"===o&&!!m.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=m.isCancelled);var o=typeof m.pingLatency;("boolean"===o&&!!m.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=m.pingLatency);var o=typeof m.isAppInactive;("boolean"===o&&!!m.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=m.isAppInactive);var o=typeof m.isInCapacity;return("boolean"===o&&!!m.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=m.isInCapacity),t},info:m,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSharingNewUnseenDashboardsLoggers&&(g.loggers=e.telemetry.DashboardSharingNewUnseenDashboardsLoggers),g},t.DashboardInitializeNavigationPaneWorkbooks=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.InitializeNavigationPaneWorkbooks",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeNavigationPaneWorkbooksLoggers&&(f.loggers=e.telemetry.DashboardInitializeNavigationPaneWorkbooksLoggers),f},t.DashboardUpdateLocalWorkbookNeverShowExplanation=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.UpdateLocalWorkbookNeverShowExplanation",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;
return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUpdateLocalWorkbookNeverShowExplanationLoggers&&(f.loggers=e.telemetry.DashboardUpdateLocalWorkbookNeverShowExplanationLoggers),f},t.DashboardRenameWorkbook=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.RenameWorkbook",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRenameWorkbookLoggers&&(f.loggers=e.telemetry.DashboardRenameWorkbookLoggers),f},t.DashboardRemoveWorkbook=function(t,o,r,i,a,n,s,c,d,l,p,u,v,f){void 0===i&&(i=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===d&&(d=void 0),void 0===l&&(l=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===f&&(f=!1);var h={storageProvider:t,contentProvider:o,parentId:r,isError:i,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:d,isDebug:l,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:f},m={name:"PBI.Dashboard.RemoveWorkbook",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={storageProvider:h.storageProvider,contentProvider:h.contentProvider,parentId:h.parentId},o=typeof h.isError;("boolean"===o&&!!h.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=h.isError);var o=typeof h.errorSource;("boolean"===o&&!!h.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var o=typeof h.errorCode;("boolean"===o&&!!h.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=h.errorCode);var o=typeof h.errorMessage;("boolean"===o&&!!h.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=h.errorMessage);var o=typeof h.activityName;("boolean"===o&&!!h.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=h.activityName);var o=typeof h.activityId;("boolean"===o&&!!h.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=h.activityId);var o=typeof h.isDebug;("boolean"===o&&!!h.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=h.isDebug);var o=typeof h.isCancelled;("boolean"===o&&!!h.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=h.isCancelled);var o=typeof h.pingLatency;("boolean"===o&&!!h.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=h.pingLatency);var o=typeof h.isAppInactive;("boolean"===o&&!!h.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=h.isAppInactive);var o=typeof h.isInCapacity;return("boolean"===o&&!!h.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRemoveWorkbookLoggers&&(m.loggers=e.telemetry.DashboardRemoveWorkbookLoggers),m},t.DashboardGetWorkbookWopiAccessInformation=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.GetWorkbookWopiAccessInformation",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetWorkbookWopiAccessInformationLoggers&&(f.loggers=e.telemetry.DashboardGetWorkbookWopiAccessInformationLoggers),f},t.DashboardWorkbookEmbeddingExternalSuccess=function(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h,m,g){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===d&&(d=void 0),void 0===l&&(l=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===f&&(f=!1),void 0===h&&(h=void 0),void 0===m&&(m=!1),void 0===g&&(g=!1);var y={etagHash:t,correlationId:o,storageProvider:r,permissions:i,contentProvider:a,parentId:n,isError:s,errorSource:c,errorCode:d,errorMessage:l,activityName:p,activityId:u,isDebug:v,isCancelled:f,pingLatency:h,isAppInactive:m,isInCapacity:g},b={name:"PBI.Dashboard.WorkbookEmbeddingExternalSuccess",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={etagHash:y.etagHash,correlationId:y.correlationId,storageProvider:y.storageProvider,permissions:y.permissions,contentProvider:y.contentProvider,parentId:y.parentId},o=typeof y.isError;("boolean"===o&&!!y.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=y.isError);var o=typeof y.errorSource;("boolean"===o&&!!y.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[y.errorSource]);var o=typeof y.errorCode;("boolean"===o&&!!y.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=y.errorCode);var o=typeof y.errorMessage;("boolean"===o&&!!y.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=y.errorMessage);var o=typeof y.activityName;("boolean"===o&&!!y.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=y.activityName);var o=typeof y.activityId;("boolean"===o&&!!y.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=y.activityId);var o=typeof y.isDebug;("boolean"===o&&!!y.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=y.isDebug);var o=typeof y.isCancelled;("boolean"===o&&!!y.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=y.isCancelled);var o=typeof y.pingLatency;("boolean"===o&&!!y.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=y.pingLatency);var o=typeof y.isAppInactive;("boolean"===o&&!!y.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=y.isAppInactive);var o=typeof y.isInCapacity;return("boolean"===o&&!!y.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=y.isInCapacity),t},info:y,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWorkbookEmbeddingExternalSuccessLoggers&&(b.loggers=e.telemetry.DashboardWorkbookEmbeddingExternalSuccessLoggers),b},t.DashboardWorkbookEmbeddingExternalFailure=function(t,o,r,i,a,n,s,c){var d={etagHash:t,errorCode:o,errorDescription:r,correlationId:i,storageProvider:a,permissions:n,contentProvider:s,message:c},l={name:"PBI.Dashboard.WorkbookEmbeddingExternalFailure",category:e.TelemetryCategory.CriticalError,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var e={etagHash:d.etagHash,errorCode:d.errorCode,errorDescription:d.errorDescription,correlationId:d.correlationId,storageProvider:d.storageProvider,permissions:d.permissions,contentProvider:d.contentProvider,message:d.message};return e},info:d,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWorkbookEmbeddingExternalFailureLoggers&&(l.loggers=e.telemetry.DashboardWorkbookEmbeddingExternalFailureLoggers),l},t.DashboardImportResourcePackagesOnLoad=function(t,o,r,i,a,n,s,c,d,l,p,u,v,f){void 0===i&&(i=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===d&&(d=void 0),void 0===l&&(l=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===f&&(f=!1);var h={dashboardId:t,resourcePackagesCount:o,parentId:r,isError:i,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:d,isDebug:l,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:f},m={name:"PBI.Dashboard.ImportResourcePackagesOnLoad",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardId:h.dashboardId,resourcePackagesCount:h.resourcePackagesCount,parentId:h.parentId},o=typeof h.isError;("boolean"===o&&!!h.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=h.isError);var o=typeof h.errorSource;("boolean"===o&&!!h.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var o=typeof h.errorCode;("boolean"===o&&!!h.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=h.errorCode);var o=typeof h.errorMessage;("boolean"===o&&!!h.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=h.errorMessage);var o=typeof h.activityName;("boolean"===o&&!!h.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=h.activityName);var o=typeof h.activityId;("boolean"===o&&!!h.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=h.activityId);var o=typeof h.isDebug;("boolean"===o&&!!h.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=h.isDebug);var o=typeof h.isCancelled;("boolean"===o&&!!h.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=h.isCancelled);var o=typeof h.pingLatency;("boolean"===o&&!!h.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=h.pingLatency);var o=typeof h.isAppInactive;("boolean"===o&&!!h.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=h.isAppInactive);var o=typeof h.isInCapacity;return("boolean"===o&&!!h.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardImportResourcePackagesOnLoadLoggers&&(m.loggers=e.telemetry.DashboardImportResourcePackagesOnLoadLoggers),m},t.DashboardGetNavigationPanePackage=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Dashboard.GetNavigationPanePackage",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetNavigationPanePackageLoggers&&(f.loggers=e.telemetry.DashboardGetNavigationPanePackageLoggers),f},t.PermissionsObjectNotFound=function(t,o,r,i){var a={Id:t,packageId:o,objectType:r,message:i},n={name:"PBI.Permissions.ObjectNotFound",category:e.TelemetryCategory.CriticalError,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var e={Id:a.Id,packageId:a.packageId,objectType:a.objectType,message:a.message};return e},info:a,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.PermissionsObjectNotFoundLoggers&&(n.loggers=e.telemetry.PermissionsObjectNotFoundLoggers),n},t.AppsGetApp=function(t,o,r,i,a,n,s,c,d,l,p,u){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===l&&(l=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:o,errorSource:r,errorCode:i,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:d,pingLatency:l,isAppInactive:p,isInCapacity:u},f={name:"PBI.Apps.GetApp",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},o=typeof v.isError;("boolean"===o&&!!v.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=v.isError);var o=typeof v.errorSource;("boolean"===o&&!!v.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var o=typeof v.errorCode;("boolean"===o&&!!v.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=v.errorCode);var o=typeof v.errorMessage;("boolean"===o&&!!v.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=v.errorMessage);var o=typeof v.activityName;("boolean"===o&&!!v.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=v.activityName);var o=typeof v.activityId;("boolean"===o&&!!v.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=v.activityId);var o=typeof v.isDebug;("boolean"===o&&!!v.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=v.isDebug);var o=typeof v.isCancelled;("boolean"===o&&!!v.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=v.isCancelled);var o=typeof v.pingLatency;("boolean"===o&&!!v.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=v.pingLatency);var o=typeof v.isAppInactive;("boolean"===o&&!!v.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=v.isAppInactive);var o=typeof v.isInCapacity;return("boolean"===o&&!!v.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppsGetAppLoggers&&(f.loggers=e.telemetry.AppsGetAppLoggers),f},t.AppsUninstallApp=function(t,o,r,i,a,n,s,c,d,l,p,u,v,f){void 0===i&&(i=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===d&&(d=void 0),void 0===l&&(l=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===f&&(f=!1);var h={appGUID:t,contentProviderCategory:o,parentId:r,isError:i,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:d,isDebug:l,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:f},m={name:"PBI.Apps.UninstallApp",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={appGUID:h.appGUID,contentProviderCategory:h.contentProviderCategory,parentId:h.parentId},o=typeof h.isError;("boolean"===o&&!!h.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=h.isError);var o=typeof h.errorSource;("boolean"===o&&!!h.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var o=typeof h.errorCode;("boolean"===o&&!!h.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=h.errorCode);var o=typeof h.errorMessage;("boolean"===o&&!!h.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=h.errorMessage);var o=typeof h.activityName;("boolean"===o&&!!h.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=h.activityName);var o=typeof h.activityId;("boolean"===o&&!!h.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=h.activityId);var o=typeof h.isDebug;("boolean"===o&&!!h.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=h.isDebug);var o=typeof h.isCancelled;("boolean"===o&&!!h.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=h.isCancelled);var o=typeof h.pingLatency;("boolean"===o&&!!h.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=h.pingLatency);var o=typeof h.isAppInactive;("boolean"===o&&!!h.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=h.isAppInactive);var o=typeof h.isInCapacity;return("boolean"===o&&!!h.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppsUninstallAppLoggers&&(m.loggers=e.telemetry.AppsUninstallAppLoggers),m},t.TileConfigUpgradeTileConfig=function(t,o,r,i,a,n,s,c,d,l,p,u,v){void 0===r&&(r=!1),void 0===i&&(i=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===d&&(d=!1),void 0===l&&(l=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var f={error:t,parentId:o,isError:r,errorSource:i,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:d,isCancelled:l,pingLatency:p,isAppInactive:u,isInCapacity:v},h={name:"PBI.TileConfig.UpgradeTileConfig",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={error:f.error,parentId:f.parentId},o=typeof f.isError;("boolean"===o&&!!f.isError!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isError=f.isError);var o=typeof f.errorSource;("boolean"===o&&!!f.errorSource!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var o=typeof f.errorCode;("boolean"===o&&!!f.errorCode!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorCode=f.errorCode);var o=typeof f.errorMessage;("boolean"===o&&!!f.errorMessage!=!1||"undefined"!==o&&"boolean"!==o)&&(t.errorMessage=f.errorMessage);var o=typeof f.activityName;("boolean"===o&&!!f.activityName!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityName=f.activityName);var o=typeof f.activityId;("boolean"===o&&!!f.activityId!=!1||"undefined"!==o&&"boolean"!==o)&&(t.activityId=f.activityId);var o=typeof f.isDebug;("boolean"===o&&!!f.isDebug!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isDebug=f.isDebug);var o=typeof f.isCancelled;("boolean"===o&&!!f.isCancelled!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isCancelled=f.isCancelled);var o=typeof f.pingLatency;("boolean"===o&&!!f.pingLatency!=!1||"undefined"!==o&&"boolean"!==o)&&(t.pingLatency=f.pingLatency);var o=typeof f.isAppInactive;("boolean"===o&&!!f.isAppInactive!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isAppInactive=f.isAppInactive);var o=typeof f.isInCapacity;return("boolean"===o&&!!f.isInCapacity!=!1||"undefined"!==o&&"boolean"!==o)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.TileConfigUpgradeTileConfigLoggers&&(h.loggers=e.telemetry.TileConfigUpgradeTileConfigLoggers),h}})(t=e.telemetry||(e.telemetry={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t;!(function(e){e[e.none=0]="none",e[e.workbookTileGeneralError=10]="workbookTileGeneralError",e[e.workbookTileFileNotFound=11]="workbookTileFileNotFound",e[e.workbookTileObjectNotFound=12]="workbookTileObjectNotFound",e[e.workbookTileUnauthorized=13]="workbookTileUnauthorized"})(t=e.TileErrorCode||(e.TileErrorCode={}));var o;!(function(e){e[e.None=0]="None",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed"})(o=e.TilePublishState||(e.TilePublishState={}));var r;!(function(e){e[e.composite=0]="composite",e[e.iframe=1]="iframe",e[e.image=2]="image",e[e.model=3]="model",e[e.ssrs=4]="ssrs",e[e.workbook=5]="workbook",e[e.report=6]="report",e[e.realTime=8]="realTime"})(r=e.TileType||(e.TileType={}));var i;!(function(e){e[e.PowerBIServiceException=0]="PowerBIServiceException",e[e.DSRException=1]="DSRException"})(i=e.QueryResultErrorType||(e.QueryResultErrorType={}));var a;!(function(e){e[e.SingleVisual=0]="SingleVisual"})(a=e.CompositeTileType||(e.CompositeTileType={}));var n;!(function(e){e[e.Undefined=0]="Undefined",e[e.AppTemplate=1]="AppTemplate",e[e.AppInstance=2]="AppInstance",e[e.AppCopy=3]="AppCopy"})(n=e.PackageType||(e.PackageType={}))})(t=e.contracts||(e.contracts={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t;!(function(e){e[e.Dashboard=0]="Dashboard",e[e.Report=1]="Report",e[e.Model=2]="Model",e[e.Workbook=3]="Workbook"})(t=e.ContentPackItems||(e.ContentPackItems={}))})(t=e.models||(e.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=e.common.contracts.ContentTileType,r=e.common.models.Model,i=(function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),Object.defineProperty(t.prototype,"contentTileType",{get:function(){return o.AppDataset},enumerable:!0,configurable:!0}),t})(r);t.AppDataset=i})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e.AppModelIconColors=["#000","#FFF"],e.AppModelIconBackgroundColors=[{color:"#01B8AA",fontColor:"#000"},{color:"#374649",fontColor:"#FFF"},{color:"#FD625E",fontColor:"#FFF"},{color:"#F2C80F",fontColor:"#000"},{color:"#5F6B6D",fontColor:"#000"},{color:"#8AD4EB",fontColor:"#000"},{color:"#FE9666",fontColor:"#000"},{color:"#A66999",fontColor:"#000"},{color:"#3599B8",fontColor:"#000"},{color:"#DFBFBF",fontColor:"#000"}],e.ServiceAppFallbackColors={color:"#374649",fontColor:"#FFF"},e.AppModelIcons=["financial","emi","group","realtime","image","pc1","paintbrush","world","streaming-data","user","barchart","gauge","globe","piedouble","areachart","comment","visualinteraction","code","shapes","piechart","stackedcolumn","scatter","database","home","insight"]})(t=e.models||(e.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){var r=e.common.contracts.ContentTileType,i=jsCommon.Lazy;o.DashboardAsyncLayoutDelayMs=100;var a=(function(){function e(e){this.contract=e,this.resetSampleFields(),this.hasOnPremiseModel=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=e&&null!=e.tiles,this.hitCount=0,this.lazyTiles=null}return e.prototype.getPermissions=function(){var e;return this.getPermissionsCallback&&null!=(e=this.getPermissionsCallback())?e:this.contract&&this.contract.permissions},e.prototype.resetSampleFields=function(){this.isSharedSample=!1,this.isSample=!1,this.isNotified=!1,this.sampleProviderName=""},e.prototype.increaseHitCount=function(){this.hitCount++},Object.defineProperty(e.prototype,"tiles",{get:function(){return this.lazyTiles||(this.lazyTiles=new i(function(){return[]})),this.lazyTiles.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.contract.id},set:function(e){this.contract.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canEdit",{get:function(){return t.DashboardUtils.isWriteable(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)&&!this.contract.cached},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentTileType",{get:function(){return r.Dashboard},enumerable:!0,configurable:!0}),e.prototype.isFilled=function(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length},e.prototype.calculateLayout=function(){this.layoutRequired=!1;var e=this.tiles;if(!_.isEmpty(e))for(var t=0,o=e;t<o.length;t++){var r=o[t];r.calculateLayout()}},e.prototype.applyLayout=function(){var e=this.tiles;if(!_.isEmpty(e))for(var t=0,o=e;t<o.length;t++){var r=o[t];r.applyLayout()}},e.prototype.runLayoutIfRequired=function(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},e.prototype.scheduleDelayedLayout=function(e){var t=this;void 0===e&&(e=!1),this.layoutRequired||(this.layoutRequired=!0,e||setTimeout((function(){t.layoutRequired&&(t.calculateLayout(),t.applyLayout())}),o.DashboardAsyncLayoutDelayMs))},e.prototype.findTile=function(e){return _.find(this.tiles,(function(t){return t.id===e}))},e.prototype.findTileByObjectIdOrOriginalObjectId=function(e,t){if(e||t)return _.find(this.tiles,(function(o){return!_.isEmpty(e)&&o.contract.objectId===e||!_.isEmpty(t)&&o.contract.originalTileObjectId===t}))},e.prototype.getTileIndex=function(e){return _.findIndex(this.tiles,(function(t){return t.id===e}))},e.prototype.getTileContractIndex=function(e){return _.findIndex(this.contract.tiles,(function(t){return t.id===e}))},e.prototype.getUniquePackageId=function(){var e=this.contract;return e.originalPackageId?e.originalPackageId:e.packageIds&&1===e.packageIds.length?e.packageIds[0]:void 0},e.prototype.hasModel=function(e){return _.some(this.tiles,(function(t){return t.contract.modelId===e}))},e.prototype.hasOwnerInfo=function(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)},e})();o.Dashboard=a})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(r){function i(e,t,o,r,i,a,n,s,c,d,l,p){return new S(e,t,o,r,i,a,n,s,c,d,l,p)}var a=jsCommon.ArrayExtensions,n=e.common.contracts,s=n.ContentProviderCategory,c=n.ContentTileType,d=t.models,l=jsCommon.GzipUtility,p=jsCommon.JsonExtensions,u=jsCommon.Lazy,v=e.common.helpers.ModelConverterHelper,f=jsCommon.PerfTimer,h=n.PublishOrRefreshStatus,m=e.common.models.Report,g=e.common.models.ReportSlide,y=t.contracts.TileType,b=e.explore.contracts.Version;r.createDataServiceModelConverter=i;var S=(function(){function i(e,t,o,r,i,a,n,s,c,d,l,p){this.geolocationService=e,this.telemetryService=t,this.visualPlugins=o,this.visualPluginOps=r,this.featureSwitchService=i,this.geocoder=a,this.promiseFactory=n,this.moduleLoader=s,this.permissionService=c,this.tileConfigUpgraderService=d,this.localizationService=l,this.explorationSerializer=p}return i.prototype.setModelMerger=function(e){this.modelMerger=e},i.prototype.convertCompositeTile=function(o){if(!o||o.type!==y.composite)return null;var i=this.convertTileConfig(o);this.convertTileLayoutConfig(o);var a;if(!i||!i.visualContainer)return null;a=new r.SingleVisualCompositeTileModel(o,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader),a.config=i.visualContainer,a.displayText=o.displayText,a.subDisplayText=o.subDisplayText;var n=t.ContractUtils.getMasterLayoutPosition(o);if(a.size={rowSpan:n.height,colSpan:n.width},a.isLoading=r.TileFactory.isTileLoading(o),o.queryResultError){a.isError=!0;var s=o.queryResultError;this.telemetryService.logEvent(e.telemetry.DashboardTileError,y[y.composite],jsCommon.StringExtensions.format("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",jsCommon.EnumExtensions.toString(t.contracts.QueryResultErrorType,s.type),s.errorDetail,s.rootActivityId,o.modelId.toString(),o.id.toString()));var c=t.TileUtils.getTileErrorDetailsFromQueryResultError(s);c?(a.errorDetails=c,a.errorText=c.message):a.errorText=e.common.localize.get("Tile_ErrorText")}return a},i.prototype.convertTileData=function(t){if(t.tileDataSet)return t.tileDataSet;var o=this.convertTileConfig(t);try{t.tileDataSet=this.parseTileData(t,o.tileDataType)}catch(o){throw this.telemetryService.logEvent(e.telemetry.DashboardTileError,y[y.composite],jsCommon.StringExtensions.format("DsrParseError:{0} with modelId:{1} and tileId:{2}",o.message,t.modelId.toString(),t.id.toString())),o}return t.tileDataSet},i.prototype.convertDashboard=function(e,t,o,r){var i=this,a=this.convertDashboardShallow(e);return e.tiles&&(a.lazyTiles=new u(function(){return _.map(e.tiles,(function(e){return i.convertTile(e,t,o,r)}))})),a},i.prototype.convertDashboardShallow=function(e){var t=this,o=new r.Dashboard(e);return o.getPermissionsCallback=function(){return t.permissionService.getDashboardEffectivePermissions(e)},o.dataClassificationId=e.dataClassificationId,this.modelMerger.mergeDashboardShallow(o,e),o},i.prototype.convertIframeTile=function(e){if(!e||e.type!==y.iframe)return null;var t=new r.IframeTileModel(e),o=this.convertTileConfig(e);return this.convertTileLayoutConfig(e),o&&o.iframe&&(t.srcUrl=o.iframe.srcUrl,
t.embedCode=o.iframe.embedCode),t.isLoading=r.TileFactory.isTileLoading(e),t},i.prototype.convertImageTile=function(e){if(!e||e.type!==y.image)return null;var o=new r.ImageTileModel(e);return this.convertTileLayoutConfig(e),o.displayText=e.displayText,o.subDisplayText=e.subDisplayText,"number"!=typeof o.contract.reportId||e.config?(o.isStatic=!1,o.imageUrl=this.getImageUrl(e)):(o.isStatic=!0,o.imageUrl=t.constants.modelPlaceholderImageUrl),o.isLoading=r.TileFactory.isTileLoading(e),o},i.prototype.convertContentPackBase=function(e){if(e){var o,r,i=p.tryParseJSON(e.providerConfig);i&&(o=_.isEmpty(i.shortDescription)||e.category!==s.ServiceApp&&e.category!==s.Services&&e.category!==s.BuiltIn?i.description:i.shortDescription,r=i.author);var a={providerContract:e,providerId:e.providerId,displayText:e.displayText,iconUrl:e.iconUrl||"",description:o,publishTime:t.AppUtils.getAppPublishDate(e),providerKey:e.providerKey,author:r,category:e.category,allowCopyContent:!0,dashboardIds:e.dashboardIds||[],reportIds:e.reportIds||[],modelIds:e.modelIds||[],workbookIds:e.workbookIds||[]};return a}},i.prototype.convertAppModelBase=function(e){var r=p.tryParseJSON(e.providerConfig);if(r&&r.appSettings){var i=r.appSettings;return{icon:i.iconName,iconColor:i.iconColor,iconBackgroundColor:i.iconBackgroundColor,headerBackgroundColor:i.headerBackgroundColor||t.AppUtils.getAppHeaderBackgroundColor(i.iconBackgroundColor),defaultContent:i.defaultAppArtifact,defaultContentOption:i.defaultAppArtifact?1:0}}if(e.category===s.ServiceApp||e.category===s.Services||e.category===s.BuiltIn)return{iconColor:o.ServiceAppFallbackColors.fontColor,iconBackgroundColor:o.ServiceAppFallbackColors.color,headerBackgroundColor:t.AppUtils.getAppHeaderBackgroundColor(o.ServiceAppFallbackColors.color),defaultContentOption:0}},i.prototype.convertInstalledAppModel=function(e,o){var r=this.convertContentPackBase(e);if(r){var i=this.convertAppModelBase(e);return __assign({objectId:e.providerKey,contentTileType:c.OrgApp,packageId:o,displayName:e.displayText,publishTime:t.AppUtils.getAppPublishDate(e),getPermissions:function(){return n.Permissions.Read|n.Permissions.CopyOnWrite},dashboards:[],models:[],reports:[],workbooks:[],isFavorite:!1,isFavoriteDisabled:!1,favoriteInfo:void 0},r,i)}},i.prototype.convertModel=function(e){var t=this.convertModelShallow(e);return this.updateModelProperties(t,e),t},i.prototype.convertAppDataset=function(e){var t=new r.AppDataset(e);return this.updateModelProperties(t,e),t},i.prototype.convertModelTile=function(e){if(!e||e.type!==y.model)return null;var t=new r.ModelTileModel(e);return this.convertTileLayoutConfig(e),t.displayText=e.displayText,t.isLoading=r.TileFactory.isTileLoading(e),t.subDisplayText=e.subDisplayText,t},i.prototype.convertModelShallow=function(t){return new e.common.models.Model(t)},i.prototype.convertPackage=function(e){var t=this,o=this.convertPackageShallow(e);return e&&(o.contract=e,o.id=e.id,o.contentProviderId=e.contentProviderId,o.lastRefreshTime=e.lastRefreshTime,o.latestVersion=e.latestVersion,o.version=e.version,o.name=e.name,o.publishOrRefreshStatus=e.publishOrRefreshStatus||h.FinishedSuccessfully,o.packageType=e.packageType,o.originalPackageId=e.originalPackageId,o.getPermissionsCallback=function(){return t.permissionService.getPackageEffectivePermissions(e)}),o},i.prototype.convertPackageShallow=function(e){return new d.Package(e)},i.prototype.convertRealTimeTile=function(e){if(!e||e.type!==y.realTime)return null;var o=this.convertTileConfig(e);this.convertTileLayoutConfig(e);var i=new r.RealTimeTileModel(e,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader);o&&o.realTimeVisual&&(i.config=o.realTimeVisual),i.displayText=e.displayText,i.subDisplayText=e.subDisplayText;var a=t.ContractUtils.getMasterLayoutPosition(e);return i.size={rowSpan:a.height,colSpan:a.width},i},i.prototype.convertReport=function(e){var t=this,o=this.convertReportShallow(e);return e&&(o.id=e.id,o.modelId=e.modelId,o.reportUrl=e.reportUrl,o.packagePublishStatus=e.packagePublishStatus||h.FinishedSuccessfully,o.name=e.name,o.displayName=e.displayName,o.description=e.description,o.fileName=e.fileName,o.packageId=e.packageId,o.packageVersion=e.packageVersion,o.contentProviderId=e.contentProviderId,o.objectId=e.objectId,o.reportSlides=a.createWithId(),o.getPermissionsCallback=function(){return t.permissionService.getReportEffectivePermissions(e)},this.fillReport(o,e)),o},i.prototype.convertReportShallow=function(e){return new m(e)},i.prototype.convertReportSlide=function(e){var t=new g(e);return t.ordinalPosition=e.ordinalPosition,t.name=e.name,t.displayText=e.displayText,t.thumbnailUrl=e.thumbnailUrl,t.highResolutionThumbnailUrl=e.highResolutionThumbnailUrl,t},i.prototype.convertReportTile=function(e){return e&&e.type===y.report?(this.convertTileLayoutConfig(e),new r.ReportTileModel(e)):null},i.prototype.convertSpecificTileShallow=function(e,o){switch(this.convertTileLayoutConfig(e),e.type){case y.composite:var i=this.convertTileConfig(e);if(i&&i.visualContainer&&(o.composite=new r.SingleVisualCompositeTileModel(e,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader)),o.composite){var a=t.ContractUtils.getMasterLayoutPosition(e);o.composite.size={rowSpan:a.height,colSpan:a.width},o.composite.isLoading=r.TileFactory.isTileLoading(e)}break;case y.iframe:o.iframe=new r.IframeTileModel(e),o.iframe.isLoading=r.TileFactory.isTileLoading(e);break;case y.image:o.image=new r.ImageTileModel(e),o.image.isLoading=r.TileFactory.isTileLoading(e);break;case y.model:o.model=new r.ModelTileModel(e),o.model.isLoading=r.TileFactory.isTileLoading(e);break;case y.ssrs:o.model=new r.SsrsTileModel(e),o.model.isLoading=r.TileFactory.isTileLoading(e);break;case y.workbook:o.workbook=new r.WorkbookTileModel(e,o),o.workbook.isLoading=r.TileFactory.isTileLoading(e);break;case y.report:o.model=new r.ReportTileModel(e),o.model.isLoading=r.TileFactory.isTileLoading(e);break;case y.realTime:this.convertTileConfig(e),o.realTime=new r.RealTimeTileModel(e,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader)}},i.prototype.convertSsrsTile=function(e){if(!e||e.type!==y.ssrs)return null;this.convertTileLayoutConfig(e);var t=new r.SsrsTileModel(e);return e.config&&(t.imageUrl=this.getSsrsImageUrl(e)),t.isLoading=r.TileFactory.isTileLoading(e),t},i.prototype.convertTile=function(e,t,o,r){this.convertTileLayoutConfig(e);var i=this.convertTileShallow(e,t,o);if(this.modelMerger.mergeTile(i,e,t,o,r),null!=e.reportId){var a=this.getTileReport(e.reportId,o);a&&(i.report=i.report||new m(a),this.fillReport(i.report,a))}return i},i.prototype.convertTileLayoutConfig=function(e){if(!e.$layoutConfig){var t={x:e.col,y:e.row,width:e.colSpan,height:e.rowSpan},o=void 0;if(e.layoutConfig)try{o=JSON.parse(e.layoutConfig);var r=a.extendWithId(o.layouts),i=r.withId(0);i.position=t}catch(e){}else o={layouts:[{id:0,position:t}]};e.$layoutConfig=o,e.layoutConfig=JSON.stringify(o)}return e.$layoutConfig},i.prototype.convertTileAction=function(e){var t=e.$action;if(!t){var o;if(e.action&&0===e.action.indexOf("{"))try{o=JSON.parse(e.action)}catch(e){}else o={action:e.action};t=e.$action=o}return t},i.prototype.convertTileConfig=function(e){var t=e.$config;if(!t){var o=f.start("Parse tile config");try{t=e.$config=this.deserializeTileConfig(e.config);var r=t.visualContainer||t.realTimeVisual;this.deserializeVisualContainer(r);var i=r||t.visual;this.deserializeModelExtensions(i),this.tileConfigUpgraderService.upgrade(t,e.query)}catch(e){}finally{o()}}return t},i.prototype.deserializeTileConfig=function(e){var t=p.tryParseJSON(e);return null==t&&(t={version:b.ZeroStr}),t},i.prototype.deserializeVisualContainer=function(e){e&&e.visualContainer&&!e.$visualContainer&&(e.$visualContainer=this.explorationSerializer.deserializeVisualContainer(e.visualContainer))},i.prototype.deserializeModelExtensions=function(e){e&&e.modelExtensions&&!e.$modelExtensions&&(e.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(e.modelExtensions))},i.prototype.convertTileShallow=function(e,t,o){this.convertTileLayoutConfig(e);var i=new r.Tile(e,this.localizationService);return this.modelMerger.mergeTileShallow(i,e,t,o),i},i.prototype.convertWorkbook=function(e){var t=this,o=this.convertWorkbookShallow(e);return e&&(o.id=e.id,o.modelId=e.modelId,o.viewUrl=this.getWorkbookViewUrl(e),o.editUrl=this.getWorkbookEditUrl(e),o.embedUrl=this.getWorkbookEmbedView(e),o.name=e.name,o.displayName=e.displayName,o.description=e.description,o.fileName=e.fileName,o.packageId=e.packageId,o.getPermissionsCallback=function(){return t.permissionService.getWorkbookEffectivePermissions(e)}),o},i.prototype.convertWorkbookShallow=function(e){return new r.Workbook(e)},i.prototype.convertWorkbookTile=function(e,o,i){if(!e||e.type!==y.workbook)return null;this.convertTileLayoutConfig(e);var a=new r.WorkbookTileModel(e,i);a.displayText=e.displayText,a.subDisplayText=e.subDisplayText,a.isLoading=r.TileFactory.isTileLoading(e),a.image=e.tileDataBinaryBase64Encoded,e.$config.workbookTile&&e.$config.workbookTile.keepOriginalContentSize?a.keepOriginalContentSize=e.$config.workbookTile.keepOriginalContentSize:a.keepOriginalContentSize=t.constants.workbook.defaultKeepOriginalContentSize;var n=e.$config.workbookTile;return o&&(n&&(a.embedUrl=o.embedUrl+"&item="+n.item),o.contract&&(a.webUri=o.contract.webUri)),a},i.prototype.fillDashboardChildren=function(e,t,o,r){var i=this,a=e.contract;e.displayName!==a.displayName&&(e.displayName=a.displayName),a.tiles&&(e.lazyTiles=new u(function(){return a.tiles.map((function(e){return i.convertTile(e,t,o,r)}))}))},i.prototype.fillModel=function(e,t){e.id=t.id,e.contract=t},i.prototype.fillReport=function(e,t){e.id=t.id,e.contract=t,e.reportUrl=t.reportUrl,t.reportSlides&&(e.reportSlides=a.extendWithId(t.reportSlides.map(this.convertReportSlide)))},i.prototype.getImageUrl=function(e){var t=this.convertTileConfig(e);if(t&&t.imageTile)return t.imageTile.imageUrl},i.prototype.getSsrsImageUrl=function(e){var t=this.convertTileConfig(e);if(t&&t.ssrsTile)return t.ssrsTile.imageUrl},i.prototype.getTileModel=function(e,t){var o=void 0;if(t){var r=a.indexOf(t,(function(t){return t&&t.id===e}));r!==-1&&(o=t[r])}return o},i.prototype.getTileReport=function(e,t){var o=void 0;if(t){var r=a.indexOf(t,(function(t){return t&&t.id===e}));r!==-1&&(o=t[r])}return o},i.prototype.getTileWorkbook=function(e,t,o){var r=void 0;if(o){var i=a.indexOf(o,(function(o){return o.id===e&&o.packageId===t}));i!==-1&&(r=o[i])}return r},i.prototype.resolveTilePackage=function(e,t){if(e.packageId){var o=a.indexOf(t,(function(t){return t.id===e.packageId}));o!==-1&&(e.tilePackage=t[o])}},i.prototype.getWorkbookViewUrl=function(e){return this.getWorkbookActionUrl(e,"view")},i.prototype.getWorkbookEditUrl=function(e){return this.getWorkbookActionUrl(e,"edit")},i.prototype.getWorkbookEmbedView=function(e){return this.getWorkbookActionUrl(e,"embedview")},i.prototype.getWorkbookActionUrl=function(e,t){return e.webUri&&e.etagHash?e.webUri+"/_layouts/WopiFrame.aspx?sourcedoc={"+e.etagHash+"}&action="+t:""},i.prototype.updateModelProperties=function(e,t){var o=this;t&&(e.id=t.id,e.isNew=t.isNew,e.cloudRlsEnabled=t.cloudRlsEnabled,e.name=t.name,e.displayName=t.displayName,e.description=t.description,e.fileName=t.fileName,e.packageId=t.packageId,e.packageVersion=t.packageVersion,e.contentProviderId=t.contentProviderId,e.isHidden=t.isHidden||!1,e.isRefreshInProgress=t.currentRefreshStartingTime&&v.convertRefreshTimeToJsDateTime(t.currentRefreshStartingTime).getTime()+18e5>Date.now(),e.dbName=t.dbName,e.vsName=t.vsName,e.realTimeMode=t.realTimeMode,e.getPermissionsCallback=function(){return o.permissionService.getModelEffectivePermissions(t)},this.fillModel(e,t))},i.prototype.parseTileData=function(e,t){var o,r=f.start("Parse tile data");try{if(e.tileDataBinaryBase64Encoded){var i=l.uncompress(e.tileDataBinaryBase64Encoded);o=JSON.parse(i)}else e.tileData&&(o=JSON.parse(e.tileData));return{type:t,data:o}}finally{r()}},i})()})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){function r(e,t){return new s(e,t)}var i=jsCommon.ArrayExtensions,a=jsCommon.Lazy,n=e.common.helpers.ModelConverterHelper;o.createDataServiceModelMerger=r;var s=(function(){function e(e,t){this.modelConverter=e,this.permissionService=t}return e.prototype.mergeDashboard=function(e,t,o,r,i){var n=this,s=this.modelConverter.convertDashboard(t,o,r,i);e.contract=t,e.displayName=s.displayName,e.getPermissionsCallback=function(){return n.permissionService.getDashboardEffectivePermissions(t)},e.contract.modelIds=t.modelIds,e.contract.reportIds=t.reportIds,e.contract.packageIds=t.packageIds,e.contract.workbookIds=t.workbookIds,e.qnaEnabled=t.qnaEnabled,e.gravityEnabled=t.gravityEnabled,e.isSharedFromSecurityGroup=t.isSharedFromSecurityGroup,e.isHidden=t.isHidden;var c=e.tiles;e.lazyTiles=new a(function(){var e=[];if(_.isEmpty(s.tiles))return e;for(var t=function(t){var a=_.find(c,(function(e){return e.id===t.id}));a?(e.push(a),n.mergeTile(a,t.contract,o,r,i)):e.push(t)},a=0,d=s.tiles;a<d.length;a++){var l=d[a];t(l)}return e})},e.prototype.mergeDashboardOwnerInfo=function(e,t){e.ownerFullname=t.givenName,t.familyName&&(e.ownerFullname=e.ownerFullname+" "+t.familyName),e.ownerMail=t.emailAddress,t.userObjectId&&(e.ownerUserObjectId=t.userObjectId),t.groupObjectId&&(e.ownerGroupObjectId=t.groupObjectId),e.contract.ownerInfo||(e.contract.ownerInfo=t)},e.prototype.mergeDashboardShallow=function(e,t){var o=this;if(t.displayName&&(e.displayName=t.displayName),void 0!==t.permissions&&(e.getPermissionsCallback=function(){return o.permissionService.getDashboardEffectivePermissions(t)}),t.modelIds&&(e.contract.modelIds=t.modelIds),t.reportIds&&(e.contract.reportIds=t.reportIds),t.workbookIds&&(e.contract.workbookIds=t.workbookIds),t.packageIds&&(e.contract.packageIds=t.packageIds),void 0!==t.qnaEnabled&&(e.qnaEnabled=t.qnaEnabled),void 0!==t.gravityEnabled&&(e.gravityEnabled=t.gravityEnabled),void 0!==t.isSharedFromSecurityGroup&&(e.isSharedFromSecurityGroup=t.isSharedFromSecurityGroup),void 0!==t.isHidden&&(e.isHidden=t.isHidden),void 0!==t.ownerInfo){var r=t.ownerInfo;this.mergeDashboardOwnerInfo(e,r)}e.sharedTime=t.sharedTime||"/Date(0)/"},e.prototype.mergeDashboardTiles=function(e,t){var o=t.models||[],r=t.reports||[],i=t.workbooks||[],a=t.packages||[],n=e.contract.tiles;if(n)for(var s=0,c=n;s<c.length;s++){var d=c[s];this.modelConverter.resolveTilePackage(d,a)}var l=e.tiles;if(l)for(var p=0,u=l;p<u.length;p++){var v=u[p];this.mergeTile(v,v.contract,o,r,i)}},e.prototype.mergeModel=function(e,t){var o=this;e&&t&&(e.contract=t,e.id=t.id||e.id,e.isNew=t.isNew||e.isNew,e.getPermissionsCallback=function(){return o.permissionService.getModelEffectivePermissions(t)},e.name=t.name||e.name,e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,e.fileName=t.fileName||e.fileName,e.packageId=t.packageId||e.packageId,e.packageVersion=t.packageVersion||e.packageVersion,e.contentProviderId=t.contentProviderId||e.contentProviderId,e.packagePublishStatus=null!=t.packagePublishStatus?t.packagePublishStatus:e.packagePublishStatus,e.isRefreshInProgress=t.currentRefreshStartingTime&&n.convertRefreshTimeToJsDateTime(t.currentRefreshStartingTime).getTime()+18e5>Date.now(),e.cloudRlsEnabled=t.cloudRlsEnabled,e.realTimeMode=t.realTimeMode)},e.prototype.mergeModelContentProviderId=function(e,o){if(e)for(var r=0;r<e.length;r++){var i=e[r];i.contentProviderId=i.contentProviderId||t.ContractUtils.findContentProviderId(o,i.packageId)}},e.prototype.mergeReport=function(e,t){var o=this;if(e&&t&&(e.contract=t,e.id=t.id||e.id,e.objectId=t.objectId||e.objectId,e.modelId=t.modelId||e.modelId,e.reportUrl=t.reportUrl||e.reportUrl,e.getPermissionsCallback=function(){return o.permissionService.getReportEffectivePermissions(t)},e.packagePublishStatus=t.packagePublishStatus||e.packagePublishStatus,e.name=t.name||e.name,e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,e.fileName=t.fileName||e.fileName,e.packageId=t.packageId||e.packageId,e.packageVersion=t.packageVersion||e.packageVersion,e.contentProviderId=t.contentProviderId||e.contentProviderId,i.clear(e.reportSlides),t.reportSlides))for(var r=0,a=t.reportSlides.length;r<a;r++)e.reportSlides.push(this.modelConverter.convertReportSlide(t.reportSlides))},e.prototype.mergeTileShallow=function(e,t,r,i){this.modelConverter.convertTileLayoutConfig(t),e.contract=t,e.type=t.type,this.mergeTileLayoutConfig(e,t),e.displayText=t.displayText,e.subDisplayText=t.subDisplayText,e.backgroundImageUrl=this.modelConverter.getImageUrl(t),e.errorCode=t.errorCode;var a=this.modelConverter.getTileReport(t.reportId,i);if(a&&a.reportSlides&&a.reportSlides.length>0&&(e.thumbnailUrl=a.reportSlides[0].thumbnailUrl),t.query&&t.query.modelQuery&&(e.utterance=t.query.modelQuery.utterance),e.action=this.modelConverter.convertTileAction(t),e.config=this.modelConverter.convertTileConfig(t),e.isLoading=o.TileFactory.isTileLoading(t),t.modelId){var n=this.modelConverter.getTileModel(t.modelId,r);n&&(e.vsName=n.vsName,e.dbName=n.dbName)}t.reportId&&(e.report=e.report||this.modelConverter.convertReport(a),e.report.id=t.reportId),a&&(this.modelConverter.fillReport(e.report,a),e.action||(e.action={action:"/openReport"})),this.modelConverter.convertSpecificTileShallow(t,e)},e.prototype.mergeTileLayoutConfig=function(e,t){if(!(e.layoutPosition.x&&e.layoutPosition.y&&e.layoutPosition.width&&e.layoutPosition.height)){var o=i.extendWithId(t.$layoutConfig.layouts),r=e.gridLayoutContext,a=r?r.getActiveLayout():0,n=o.withId(a);n&&this.mergeLayoutPosition(e.layoutPosition,n.position)}},e.prototype.mergeLayoutPosition=function(e,t){t&&(e.x=e.x||t.x,e.y=e.y||t.y,e.width=e.width||t.width,e.height=e.height||t.height)},e.prototype.mergeTile=function(e,t,r,i,a,n){var s=e.composite,c=e.realTime;this.mergeTileShallow(e,t,r,i),e.composite=this.modelConverter.convertCompositeTile(t),s&&e.composite&&(e.composite.setDataLoadEventDelegate(s.dataLoadEventDelegate),e.composite.copyDependencies(s),s instanceof o.SingleVisualCompositeTileModel&&e.composite instanceof o.SingleVisualCompositeTileModel&&this.mergeVisual(e.composite.visual,s.visual)),e.iframe=this.modelConverter.convertIframeTile(t),e.image=this.modelConverter.convertImageTile(t),e.model=this.modelConverter.convertModelTile(t),e.ssrs=this.modelConverter.convertSsrsTile(t);var d=this.modelConverter.convertRealTimeTile(t);if(this.updateTileRealTimeModel(e,c,d),e&&e.reportTile){var l=e.reportTile.exploration;e.reportTile=this.modelConverter.convertReportTile(t),e.reportTile.exploration=l}else e.reportTile=this.modelConverter.convertReportTile(t);if(!_.isEmpty(a)){var p=this.modelConverter.getTileWorkbook(t.workbookId,t.packageId,a);if(p){var u=this.modelConverter.convertWorkbook(p);e.workbook=this.modelConverter.convertWorkbookTile(t,u,e)}}if(i){var v=this.modelConverter.getTileReport(t.reportId,i);v?(e.report=e.report||this.modelConverter.convertReport(v),this.modelConverter.fillReport(e.report,v)):e.report=null,e.contractsReport=this.modelConverter.getTileReport(t.reportId,i)}else if(n){for(var f=void 0,h=0,m=n.length;h<m;h++)if(t.reportId===n[h].id){f=n[h];break}f&&(e.report=e.report||f,this.modelConverter.fillReport(e.report,f.contract),e.contractsReport=f.contract)}t.modelId&&(e.contractsModel=this.modelConverter.getTileModel(t.modelId,r))},e.prototype.mergeWorkbook=function(e,t){var o=this;e&&t&&(e.contract=t,e.id=t.id||e.id,e.getPermissionsCallback=function(){return o.permissionService.getWorkbookEffectivePermissions(t)},e.name=t.name||e.name,e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,e.packageId=t.packageId||e.packageId)},e.prototype.mergePackage=function(e,t){var o=this;e&&t&&(e.contract=t,e.contentProviderId=t.contentProviderId,e.id=t.id,e.lastRefreshTime=t.lastRefreshTime,e.latestVersion=t.latestVersion,e.name=t.name,e.publishOrRefreshStatus=t.publishOrRefreshStatus,e.version=t.version,e.originalPackageId=t.originalPackageId||e.originalPackageId,e.packageType=t.packageType||e.packageType,e.getPermissionsCallback=function(){return o.permissionService.getPackageEffectivePermissions(t)})},e.prototype.updateTileRealTimeModel=function(e,t,o){e.realTime=o,t&&e.realTime&&e.realTime.copyRealTimeModelDependencies(t)},e.prototype.mergeVisual=function(e,t){t.visual&&e.type===t.type&&(e.visual=t.visual),e.viewport=t.viewport},e})();o.DataServiceModelMerger=s})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.contract=e}return e.prototype.getPermissions=function(){var e;return this.getPermissionsCallback&&(e=this.getPermissionsCallback()),e?e:this.contract&&this.contract.permissions},e.prototype.hasUpdate=function(){return this.version&&this.latestVersion&&this.version!==this.latestVersion},e})();e.Package=t})(t=e.models||(e.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=e.common.models.DefaultGridLayoutStrategy,r=(function(t){function o(e,o){var r=t.call(this)||this;return r.displayWidth=e,r.displayHeight=o,r.minNumOfColumns=2,r.isLayoutLocked=!0,r}return __extends(o,t),o.prototype.calculateDisplayPositions=function(e){t.prototype.calculateDisplayPositions.call(this,e),this.scaleDashboard(e)},o.prototype.scaleDashboard=function(t){var r=this.getDashboardSize(t),i=o.calculateDashboardScaleFactor(r.width,r.height,this.displayWidth,this.displayHeight);if(!(i<=0)){var a={transform:"scale("+i+")",width:r.width+"px",height:this.displayHeight/i+"px",left:0};$(e.dataServices.constants.dashboardElementName).css(a)}},o.prototype.getDashboardSize=function(t){var o=this.getMaxColumnInLayout(t),r=this.getMaxRowInLayout(t);o<this.minNumOfColumns&&(o=this.minNumOfColumns);var i=e.common.GridLayoutConstants.defaultGridItemSpacing;return{width:o*this.gridWidth+i,height:r*this.gridHeight+i}},o.calculateDashboardScaleFactor=function(e,t,o,r){return o/e},o.prototype.getMaxRowInLayout=function(e){return _.max(_.map(e,(function(e){return e.displayRow-1+e.displaySize.rowSpan})))},o.prototype.getMaxColumnInLayout=function(e){return _.max(_.map(e,(function(e){return e.displayCol-1+e.displaySize.colSpan})))},o})(o);t.PhoneLandscapeTileLayoutStrategy=r})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o,r=e.dataServices.contracts.TileType;!(function(e){e.tileSpacing=12,e.smallTileRowSpan=4,e.defaultTileRowSpan=6,e.mediumTileRowSpan=7,e.largeTileRowSpan=9,e.resizeBuffer=10,e.aspectRatio=.1111})(o=t.PhoneTileLayoutConstants||(t.PhoneTileLayoutConstants={}));var i=(function(){function t(t,i){this.isLayoutLocked=!0,this.willOverrideDisplayPosition=!0,this.gridItemSpacing=o.tileSpacing,this.tileTypeRowSpanMap={},this.visualTypeRowSpanMap={},this.gridWidth=t-this.gridItemSpacing,this.gridHeight=Math.round(this.gridWidth*o.aspectRatio),this.gridMinWidthOnResize=this.gridWidth-o.resizeBuffer,this.gridMinHeightOnResize=this.gridHeight-o.resizeBuffer,this.gridMaxWidthOnResize=this.gridWidth*e.common.models.gridLayoutConstants.gridMaxColSpan,this.gridMaxHeightOnResize=this.gridHeight*e.common.models.gridLayoutConstants.gridMaxColSpan,this.tileTypeRowSpanMap[r.report]=o.mediumTileRowSpan,this.visualTypeRowSpanMap[e.visuals.plugins.card.name]=o.smallTileRowSpan,this.visualTypeRowSpanMap[e.visuals.plugins.animatedNumber.name]=o.smallTileRowSpan,this.visualTypeRowSpanMap[e.visuals.plugins.textbox.name]=o.smallTileRowSpan}return t.prototype.calculateDisplayPositions=function(t){for(var o=e.dataServices.DashboardUtils.orderItems(_.map(t,(function(e){return{getActiveLayoutPosition:function(){return e.getLayoutPosition()},getItem:function(){return e}}}))),r=1,i=0,a=o;i<a.length;i++){var n=a[i];n.displayCol=1,n.displayRow=r,this.calculateDisplaySize(n),r+=n.displaySize.rowSpan}this.removeScale()},t.prototype.calculateDisplaySize=function(e){var t=this.getRowSpan(e);e.displaySize={colSpan:1,rowSpan:t}},t.prototype.getRowSpan=function(e){var t=e.gridItem,r=this.tileTypeRowSpanMap[t.type];if(!r&&t.composite){var i=t.composite;null!==i&&(r=this.visualTypeRowSpanMap[i.visual.type])}return r||o.defaultTileRowSpan},t.prototype.removeScale=function(){$(e.dataServices.constants.dashboardElementName).removeAttr("style")},t.prototype.isDynamic=function(){return!1},t})();t.PhonePortraitTileLayoutStrategy=i})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(t){var o=(function(){function t(e,t){this.datasetInfo=e,this.definition=t}return Object.defineProperty(t.prototype,"databaseName",{get:function(){return this.datasetInfo.databaseName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"primaryKey",{get:function(){return this.datasetInfo.resourceKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secondaryKey",{get:function(){return this.datasetInfo.resourceKeySecondary},enumerable:!0,configurable:!0}),t.prototype.getPushUrl=function(){var e=window.tenantId,t=window.apiUri,o=window.clusterUri;"https://wabi-staging-us-east-redirect.analysis.windows.net"===o&&(t="https://powerbistagingapi.analysis.windows.net");var r="/beta/"+e+"/datasets/"+this.databaseName+"/rows",i=jsCommon.Utility.urlCombine(t,r),a={};return a.key=this.primaryKey,jsCommon.QueryStringUtil.addOrUpdateQueryStringToUrl(i,a)},t.createRealTimeDatasetDefinition=function(o,r,i){var a=i.schema(e.constants.RealTimeDataSourceName).entities,n=_.first(a),s=[];return _.map(n.properties,(function(e){s.push({name:e.displayName,dataType:t.convertToRealTimeDataType(e.type)})})),{name:o,columns:s,mode:r,tableName:n.name}},t.convertToRealTimeDataType=function(e){switch(e.primitiveType){case 3:case 4:return 1;case 7:return 2;case 1:return 0;case 5:return 3}},t})();t.RealTimeModel=o})(t=e.models||(e.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=e.common.GridLayoutConstants,r=(function(e){function t(t,o){var r=e.call(this,t,o)||this;return r.maxColumnsToDisaply=7,r.minColumnsToDisplay=3,r.portionOfNextColumn=.2,r}return __extends(t,e),t.prototype.getDashboardSize=function(e){var t=this.getMaxColumnInLayout(e),r=this.getMaxRowInLayout(e);t>this.maxColumnsToDisaply?t=this.maxColumnsToDisaply+this.portionOfNextColumn:t<this.minColumnsToDisplay&&(t=this.minColumnsToDisplay);var i=o.defaultGridItemSpacing;return{width:t*this.gridWidth+i,height:r*this.gridHeight+i}},t})(t.PhoneLandscapeTileLayoutStrategy);t.TabletTileLayoutStrategy=r})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){var r,i=e.common.GridLayoutConstants,a=e.data.services.DataViewObjectSerializer,n=e.data.services.DataViewTransformActionsSerializer,s=e.common.models.gridLayoutConstants,c=e.common.contracts.PinData,d=t.constants.upgrader.TileConfigVersion,l=t.contracts.TileType;!(function(o){function r(e,t,o){for(var r=0,i=o.length;r<i;r++){var a=o[r];if(a.vsName===e&&a.dbName===t)return a}}function p(e,t,o,r){return D(e,l.composite,t,o,r)}function u(e,t){var o=v(e,t);if(null!=e.realTimeDataWindow){var r=o;return r.dataWindow=e.realTimeDataWindow,{realTimeVisual:r,version:d}}return{version:d,visualContainer:o}}function v(e,t){var o={$visualContainer:e.visualContainer,$modelExtensions:e.modelExtensions};return f(o,e.dataTransforms,e.elements,e.tileLayoutType,e.queryMetadata,e.themeName,e.tileFilterDetails,e.tileHeading,e.tileSubDisplay,t,c.getVisualType(e)),o}function f(e,t,o,r,i,a,s,c,d,l,p){r&&(e.layoutType=r),a&&(e.themeName=a),o&&(e.elements=o),i&&(e.queryMetadata=i),c&&(e.heading1=c),s&&(e.heading2=s),d&&(e.heading3=d);var u=l.capabilities(p);t&&(e.transform=n.serializeTransformActions(n.serializeDataViewTransformActions(t,u&&u.objects)))}function h(e,o,r){var i=u(o,e);o.tileDataType&&(i.tileDataType=o.tileDataType);var a=D(i,null!=o.realTimeDataWindow?l.realTime:l.composite,o.query,o.dataViewSource,r);return a.publishState=t.contracts.TilePublishState.Completed,o.action&&(a.action=JSON.stringify(o.action)),null!=o.utterance&&(a.query.modelQuery.utterance=o.utterance),o.name&&(a.name=o.name),a.reportId=o.reportId,o.modelId&&(a.modelId=o.modelId),o.packageId&&(a.packageId=o.packageId),a.resourcePackageIds=o.resourcePackageIds,a}function m(e){var o=_.omit({id:++w,type:e.type,query:e.query,action:e.action,$config:e.$config,tileData:e.tileData,tileDataSet:e.tileDataSet,publishState:e.publishState,displayText:e.displayText,subDisplayText:e.subDisplayText,modelId:e.modelId,reportId:e.reportId,workbookId:e.workbookId,packageId:e.packageId,name:e.name},(function(e){return void 0===e})),r=t.ContractUtils.getMasterLayoutPosition(e),i=t.ContractUtils.createMasterLayoutConfig({height:r.height,width:r.width});return o.$layoutConfig=i,o.layoutConfig=JSON.stringify(i),o}function g(e,o,r,a,n,c,p,u,v,f,h){var m={version:d};(p||u)&&(m.reportTile={pod:p,filters:u});var g;v&&(g={modelQuery:{utterance:v}});var y=2*i.defaultGridWidth,b=2*i.defaultGridHeight,S=f?f/y:2,I=h?h/b:2;0===Math.round(S)&&(S=2),0===Math.round(I)&&(S=2);var k=Math.round(i.gridItemMediumLandscapeColSpan*S),C=Math.round(i.gridItemMediumLandscapeRowSpan*I);k=k>s.gridMaxColSpan?s.gridMaxColSpan:k,C=C>s.gridMaxRowSpan?s.gridMaxRowSpan:C;var D=t.ContractUtils.createMasterLayoutConfig({width:k,height:C}),T={id:++w,type:l.report,displayText:a,subDisplayText:n,action:JSON.stringify(c),reportId:e,sectionId:r,modelId:o,publishState:t.contracts.TilePublishState.Completed,query:g,config:m?JSON.stringify(m):void 0,$config:m,layoutConfig:JSON.stringify(D),$layoutConfig:D};return T}function y(e){return e.publishState===t.contracts.TilePublishState.InProgress}function b(){var e=[],t=k();t&&!_.isEmpty(t.tiles)&&e.push(t);var o=C();return o&&!_.isEmpty(o.tiles)&&e.push(o),_.cloneDeep(e)}function S(e){for(var t=b(),o=0,r=t;o<r.length;o++){var i=r[o],a=_.find(i.tiles,(function(t){return t.id===e}));if(null!=a)return a.template}return null}function I(e){if(void 0!==e)return JSON.stringify(e,(function(e,t){return e&&e.charAt&&"$"===e.charAt(0)?void 0:t}))}function k(){var o=[{id:1,title:e.common.localize.get("AddWidgetModal_IframeOption_Title"),description:e.common.localize.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:l.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:1,name:"webContent"}},$layoutConfig:t.ContractUtils.createMasterLayoutConfig()}},{id:2,title:e.common.localize.get("AddWidgetModal_ImageOption_Title"),description:e.common.localize.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:l.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:2,name:"image"}},$layoutConfig:t.ContractUtils.createMasterLayoutConfig()}},{id:3,title:e.common.localize.get("AddWidgetModal_TextOption_Title"),description:e.common.localize.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:l.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",
visualContainer:{layoutType:e.common.contracts.TileLayoutType.Default,$visualContainer:{config:{singleVisual:{objects:{},visualType:"textbox"}}}},widget:{id:3,name:"textbox"}},$layoutConfig:t.ContractUtils.createMasterLayoutConfig()}},{id:4,title:e.common.localize.get("AddWidgetModal_VideoOption_Title"),description:e.common.localize.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:l.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:4,name:"video"}},$layoutConfig:t.ContractUtils.createMasterLayoutConfig()}}];return{title:e.common.localize.get("Add_Widgets_Section_Title"),tiles:o}}function C(){var o=[];return o.push({id:6,title:e.common.localize.get("Realtime_TileTitle"),description:e.common.localize.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:l.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:e.common.contracts.TileLayoutType.Default,$visualContainer:{config:{singleVisual:null}}},version:"1.0"},$layoutConfig:t.ContractUtils.createMasterLayoutConfig({width:i.gridItemSmallLandscapeColSpan,height:i.gridItemSmallLandscapeRowSpan})}}),{title:e.common.localize.get("Add_Realtime_Section_Title"),tiles:o}}function D(o,r,a,n,s){var c=i.gridItemMediumLandscapeColSpan,d=i.gridItemMediumLandscapeRowSpan;t.TileUtils.getVisualType(o)===e.visuals.plugins.card.name&&(c=i.gridItemSmallLandscapeColSpan,d=i.gridItemSmallLandscapeRowSpan);var l=a?{modelQuery:{sq:JSON.stringify(a)}}:null,p=t.ContractUtils.createMasterLayoutConfig({width:c,height:d}),u={id:++w,type:r,query:l,$config:o,tileData:n?I(n.data):null,tileDataSet:n,layoutConfig:JSON.stringify(p),$layoutConfig:p},v=o.visualContainer;return v&&(u.displayText=v.heading1,u.subDisplayText=v.heading3),s&&(u.modelId=s.id),u}function T(e,t,o,r){if(e){var i=_.cloneDeep(e),n=i.realTimeVisual||i.visualContainer;if(n){if(r){var s=e.realTimeVisual||e.visualContainer;n.visualContainer=t.serializeVisualContainer(s.$visualContainer)}else{var c=n.$visualContainer.config.singleVisual,d=c.stylePresetName;d&&(n.stylePresetName=d),n.visual=c.visualType;var s=e.realTimeVisual||e.visualContainer,l=s.$visualContainer.config.singleVisual.objects;if(l){var p=o.capabilities(c.visualType);p&&p.objects&&(n.objects=a.serializeObjects(l,p.objects))}i.visualContainer&&(i.visual=n,delete i.visualContainer),i.version="0.1"}n.$modelExtensions&&(n.modelExtensions=t.serializeModelExtensions(n.$modelExtensions)),delete n.$visualContainer,delete n.$modelExtensions}return JSON.stringify(i)}}var w=100;o.findModel=r,o.createCompositeTile=p,o.createTileConfig=u,o.createTileForPinData=h,o.createNonVisualTileFromExisting=m,o.createReportTileForExploreData=g,o.isTileLoading=y,o.getTileGalleryGroups=b,o.getTileTemplate=S,o.serializeTileConfig=T})(r=o.TileFactory||(o.TileFactory={}))})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=e.common.contracts.ContentTileType,r=jsCommon.EnumExtensions,i=e.common.contracts.Permissions,a=e.common.models.ReportResource,n=e.common.models.ResourceType,s=(function(e){function t(t){var o=e.call(this,"undefined"==typeof t?0:t.id,n.Workbook,"undefined"==typeof t?0:t.packageId)||this;return o.contract=t,o}return __extends(t,e),t.prototype.getPermissions=function(){var e;return this.getPermissionsCallback&&(e=this.getPermissionsCallback()),e?e:this.contract&&this.contract.permissions},Object.defineProperty(t.prototype,"contentTileType",{get:function(){return o.Workbook},enumerable:!0,configurable:!0}),t.prototype.isOwner=function(){return r.hasFlag(this.getPermissions(),i.All)},t.prototype.isPersonalized=function(){var e=this.getPermissions();return r.hasFlag(e,i.ReadWrite|i.Explore)&&!r.hasFlag(e,i.All)},t.prototype.isEditable=function(){var e=this.editUrl;return this.isOwner()&&null!==e&&void 0!==e&&""!==e},Object.defineProperty(t.prototype,"displayNameWithExtension",{get:function(){var e=jsCommon.FileUtils.getFileExtension(this.contract.sourceFilePath);return this.displayName.concat(".").concat(e)},enumerable:!0,configurable:!0}),t})(a);t.Workbook=s})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){var r=e.explore.services.createVisualHostServices,i=e.data.services.DataViewTransformActionsSerializer,a=e.common.models.gridLayoutConstants,n=e.common.helpers.ModelConverterHelper,s=(function(){function e(e,t,o){this._useSmallPlotArea=!1,this.contract=e,this.visualPluginService=t,this.pluginOps=o}return Object.defineProperty(e.prototype,"type",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileData",{get:function(){return null},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isError",{get:function(){return this._isError},set:function(e){this._isError=e,this.onErrorDelegate&&this.onErrorDelegate()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useSmallPlotArea",{get:function(){return this._useSmallPlotArea},set:function(e){this._useSmallPlotArea=e},enumerable:!0,configurable:!0}),e.prototype.isDataStale=function(e){return!1},e.prototype.setDependencies=function(e){this.dataProxy=e},e.prototype.setDataLoadEventDelegate=function(e){this.dataLoadEventDelegate=e},e.prototype.copyDependencies=function(e){e.dataProxy&&this.setDependencies(e.dataProxy)},e})();o.CompositeTileModel=s,o.staleDataDeltaInMs=36e5;var c=(function(s){function c(e,t,o,i,a,n,c,d){var l=s.call(this,e,t,o)||this;return l.requiresResize=!1,l.geoLocationService=a,l.geocoder=n,l.featureSwitches=i,l.promiseFactory=c,l.moduleLoader=d,l._visual={hostServices:r(l.promiseFactory,l.moduleLoader,a,n)},l}return __extends(c,s),Object.defineProperty(c.prototype,"type",{get:function(){return t.contracts.CompositeTileType.SingleVisual},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"visual",{get:function(){return this._visual},enumerable:!0,configurable:!0}),c.prototype.getThemeName=function(){return this._visual&&this._visual.themeName},c.prototype.isDataStale=function(e){if(!e)return!1;var t=this.contract,r=n.convertRefreshTimeToJsDateTime(t.tileDataUpdatedTime),i=r&&r.getTime();return!!i&&e-i>o.staleDataDeltaInMs},c.prototype.setData=function(e,t,o){this.ensureVisual(),this._visual.data=e,this._visual.dataTransforms=t,this._visual.type=o},c.prototype.ensureVisual=function(){this._visual||(this._visual={hostServices:r(this.promiseFactory,this.moduleLoader,this.geoLocationService,this.geocoder)},this.calculateLayout())},Object.defineProperty(c.prototype,"config",{get:function(){return this._config},set:function(e){if(this._config=e,this._visual){var t=e.$visualContainer.config.singleVisual,o=t.visualType;this._visual.type=o,this._visual.themeName=e.themeName,this._visual.stylePresetName=t.stylePresetName;var r,a,n=this.visualPluginService.capabilities(o);n&&(r=n.objects,a=t.objects);var s=jsCommon.JsonExtensions.tryParseJSON(e.transform);s?this._visual.dataTransforms=i.deserializeDataViewTransformActions(s,r):this._visual.dataTransforms=i.createTransformActions(e.queryMetadata,e.elements,r,a)}},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"tileData",{get:function(){return this._tileData},set:function(e){this._tileData=e,this.readDataView(!0)},enumerable:!0,configurable:!0}),c.prototype.refreshData=function(){this.readDataView(!1)},c.prototype.setDependencies=function(e){var t=!this.dataProxy&&this._tileData&&!this.isLoading;s.prototype.setDependencies.call(this,e),t&&this.refreshData()},c.prototype.readDataView=function(o){return __awaiter(this,void 0,e.Promise,(function(){var r,i,a,n,s,c,d,l,p,u,v;return __generator(this,(function(f){switch(f.label){case 0:if(r=this._visual.type,i=e.visualHost.utils.shouldDisableVisual(r,e.common.localize.shouldDisableMap()),this.visual&&!this.requiresData()&&!i)return[2];if(a=this.dataProxy,!a)return[2];if(this.contract.queryResultError&&(n=t.TileUtils.getTileErrorDetailsFromQueryResultError(this.contract.queryResultError),n?(this.isError=!0,this.errorDetails=n,this.errorText=n.message):this.errorText=e.common.localize.get("Tile_ErrorText")),!this._tileData||!this._tileData.data)return this.isLoading=!0,[2];s=this._tileData,c={type:s.type,query:{dataSources:null,command:s.data},allowCache:o,perfId:r,kinds:this.pluginOps.dataViewKinds(r)},d=null,this.dataLoadEventDelegate&&(d=this.dataLoadEventDelegate(),this.dataLoadEventDelegate=null),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,a.execute(c)];case 2:return l=f.sent(),p={dataView:l&&l.dataReaderResult?l.dataReaderResult.dataView:null,dataViewSource:l&&l.dataViewSource?l.dataViewSource:null},u=l.dataReaderResult.error,i&&(u={code:"NotSupportedForLocale",debugInfo:"",getDetails:function(e){return{displayableErrorInfo:[{errorInfoKey:e.get("VisualContainer_NotSupportedForLocaleKey"),errorInfoValue:e.get("VisualContainer_NotSupportedForLocaleValue")}],message:e.get("VisualContainer_NotSupportedForLocaleMessage")}},ignorable:!1,requestId:""},this.errorDetails=u.getDetails(e.common.localize),this.errorText=this.errorDetails.message),this._visual.data=p,this.isError=this.isError||null!=u,d&&(this.isError?d.reject():d.resolve()),[3,4];case 3:return v=f.sent(),this.isError=!0,d&&d.reject(),[3,4];case 4:return[2]}}))}))},c.prototype.applyLayout=function(t){if(this.requiresResize){var o=this.visual;if(o&&o.visual){var r=o.visual,i=t===a.changeType.resized?2:t===a.changeType.resizing?1:void 0;r.update({viewport:o.viewport,dataViews:o.dataViews,suppressAnimations:!0,type:e.VisualUpdateType.Resize,resizeMode:i})}this.requiresResize=!1}},c.prototype.calculateLayout=function(t){if(t&&(this.viewport&&this.viewport.height===t.height&&this.viewport.width===t.width||(this.requiresResize=!0),this.viewport=t),this.viewport){var r=this.viewport.height,i=this.viewport.width;switch(this._config&&this._config.layoutType){case e.common.contracts.TileLayoutType.Full:break;default:r-=this.useSmallPlotArea?o.TileConstants.VisualSmallVerticalMargin:o.TileConstants.VisualVerticalMargin,i-=o.TileConstants.VisualHorizontalMargin}this._visual&&(this._visual.viewport={height:r,width:i,scale:1})}},c.prototype.canResizeTo=function(t){var o=this._visual&&this._visual.visual;return!!o&&(!o.canResizeTo||o.canResizeTo(e.common.GridLayoutConstants.getDefaultGridItemViewport(t)))},c.prototype.getErrorLocId=function(e,t){return""},c.prototype.requiresData=function(){var e=this.visual,t=this.pluginOps;if(e){if(e&&e.type){if(!t)return!0;if(!t.isQueryVisual(e.type))return!1}return!0}},c.prototype.updateVisualInteractivityOptions=function(e){var t=this.visualPluginService.getInteractivityOptions(this._visual.type);"undefined"!=typeof t.isInteractiveLegend&&(t.isInteractiveLegend=t.isInteractiveLegend&&e),this._visual.interactivityOptions=t},Object.defineProperty(c.prototype,"useSmallPlotArea",{get:function(){return this._useSmallPlotArea},set:function(e){this._useSmallPlotArea!==e&&(this._useSmallPlotArea=e,this.requiresResize=!0)},enumerable:!0,configurable:!0}),c})(s);o.SingleVisualCompositeTileModel=c})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.tileModel=e}return Object.defineProperty(e.prototype,"isSelected",{get:function(){return this.tileModel.isSelected},set:function(e){this.tileModel.isSelected=e},enumerable:!0,configurable:!0}),e})();e.DashboardTileModel=t})(t=e.models||(e.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=(function(){function t(e){this.contract=e}return t.prototype.canResizeTo=function(t){return t.rowSpan===e.common.GridLayoutConstants.gridItemMediumLandscapeRowSpan||t.colSpan===e.common.GridLayoutConstants.gridItemSmallLandscapeColSpan},t.prototype.getErrorLocId=function(e,t){return""},t})();t.IframeTileModel=o})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=(function(){function t(e){this.contract=e}return Object.defineProperty(t.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(e){this._imageUrl=e,e&&!this.isStatic&&0!==e.indexOf("data:")&&(this._imageUrl=jsCommon.Utility.getAbsoluteUri(e))},enumerable:!0,configurable:!0}),t.prototype.canResizeTo=function(t){return t.rowSpan===e.common.GridLayoutConstants.gridItemMediumLandscapeRowSpan||t.colSpan===e.common.GridLayoutConstants.gridItemSmallLandscapeColSpan},t.prototype.getErrorLocId=function(e,t){return""},t})();t.ImageTileModel=o})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=(function(){function t(e){this.contract=e}return t.prototype.canResizeTo=function(t){return t.rowSpan===e.common.GridLayoutConstants.gridItemSmallLandscapeRowSpan},t.prototype.getErrorLocId=function(e,t){return""},t})();t.ModelTileModel=o})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){var r=t.constants.SingleValueRealTimeWindow,i=e.data.EmptyDataClientError,a=e.data.FailedRealTimeUpdateClientError,n=(function(n){function s(e,t,o,r,i,a,s,c){var d=n.call(this,e,t,o,r,i,a,s,c)||this;return d._visual=null,d}return __extends(s,n),s.prototype.setModelId=function(e){this.contract.modelId=e,this.initialize()},Object.defineProperty(s.prototype,"realTimeModelId",{get:function(){var e=this.contract,t=this.modelService.findModel(e.modelId,e.packageId);return t&&t.contract?{id:t.id,originalModelId:t.contract.originalModelId,tableName:this.getSchemaTableName(),schema:this.getRealTimeConceptualSchema(),packageId:e.packageId}:null},enumerable:!0,configurable:!0}),s.prototype.setRealTimeModelDependencies=function(e,t,o,r,i){n.prototype.setDependencies.call(this,e),this.visualQueryGenerator=t,this.conceptualSchemaProxy=o,this.realTimeDataService=r,this.modelService=i},s.prototype.copyRealTimeModelDependencies=function(e){e.schema&&(this.schema=e.schema),e.dataProxy&&e.realTimeDataService&&e.visualQueryGenerator&&e.conceptualSchemaProxy&&(this.setRealTimeModelDependencies(e.dataProxy,e.visualQueryGenerator,e.conceptualSchemaProxy,e.realTimeDataService,e.modelService),e.onErrorDelegate&&!this.onErrorDelegate&&(this.onErrorDelegate=e.onErrorDelegate),this.realTimeDataService.replaceListener(e.realTimeModelId,e,this))},s.prototype.onDataChanged=function(){var t=this;if(this.singleVisualConfig){var o=r,a=this.config;a&&a.dataWindow&&(o=a.dataWindow);var n=this.visualQueryGenerator.execute({dataSources:this.datasources,schema:this.schema,config:this.singleVisualConfig,additionalFilters:null,dataWindow:o});if(!n||n.error){var s=void 0;n&&n.error&&(s=n.error.getDetails(e.common.localize)),this.onError(s)}else this.dataProxy.execute(n.options).then((function(e){t.isError=!1;var o={dataView:e&&e.dataReaderResult?e.dataReaderResult.dataView:null},r=t.lastCategoryValue;try{var i=t.getLastDateOrNumericCategoryValue(o.dataView);if(null!=r&&null!=i&&r.valueOf()>=i.valueOf())return;t.lastCategoryValue=i}catch(e){}t.setData(o,n.transforms,t.config.$visualContainer.config.singleVisual.visualType),t.isLoading=!1}),(function(o){if(!(o instanceof i)){var r=o&&o.getDetails(e.common.localize);t.onError(r)}}))}},s.prototype.onError=function(t){t||(t=(new a).getDetails(e.common.localize)),this.setErrorDetails(t)},Object.defineProperty(s.prototype,"datasources",{get:function(){var e=this.realTimeModelId;if(e)return o.RealTimeModelUtility.getRealTimeDataSource(e.id,e.originalModelId)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"singleVisualConfig",{get:function(){return this.config.$visualContainer.config.singleVisual},set:function(e){this.config.$visualContainer.config.singleVisual=e,this.onDataChanged()},enumerable:!0,configurable:!0}),s.prototype.isDataStale=function(e){return!1},s.prototype.initialize=function(){var e=this,o=t.ContractUtils.getMasterLayoutPosition(this.contract);this.size={rowSpan:o.height,colSpan:o.width};var r=this.datasources;r&&this.conceptualSchemaProxy.get(r).then((function(t){e.fixUpSchema(t),e.schema=t,e.realTimeDataService.subscribe(e.realTimeModelId,e)}))},s.prototype.unsubscribe=function(){this.realTimeModelId&&this.realTimeDataService.unsubscribe(this.realTimeModelId,this)},s.prototype.fixUpSchema=function(o){for(var r=o.schema(t.constants.RealTimeDataSourceName).entities,i=r[0].properties,a=0,n=i;a<n.length;a++){var s=n[a];s.type!==e.ValueType.fromDescriptor({numeric:!0})&&s.type!==e.ValueType.fromDescriptor({integer:!0})||(s.kind=1)}},s.prototype.getSchemaTableName=function(){var e=this.getRealTimeConceptualSchema();if(e){var t=e.entities;return _.first(t).name}},s.prototype.getRealTimeConceptualSchema=function(){if(this.schema)return this.schema.schema(t.constants.RealTimeDataSourceName)},s.prototype.setErrorDetails=function(e){this.errorDetails=e,this.errorText=e.message,this.isError=!0},s.prototype.getLastDateOrNumericCategoryValue=function(e){var t=e&&e.categorical;if(t){var o=_.first(t.categories),r=o&&o.values;if(!_.isEmpty(r)){var i=_.last(r);return i&&!_.isBoolean(i)&&(_.isDate(i)||_.isNumber(i))?i:void 0}}},s})(o.SingleVisualCompositeTileModel);o.RealTimeTileModel=n})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){var r,i=o.RealTimeModel;!(function(o){function r(o,r){if(o&&!(o<0))return e.explore.contracts.createDataSourceArray([{id:o,type:e.data.tabular.type,name:t.constants.RealTimeDataSourceName,tabular:{modelId:null!=r?r:o}}])}function a(t){var o=e.data.tabular.getColumnsMetadata(t);if(o){for(var r=[],a=0,n=o;a<n.length;a++){var s=n[a];r.push({name:s.name,dataType:i.convertToRealTimeDataType(e.ValueType.fromDescriptor(s.type))})}return r}}o.getRealTimeDataSource=r,o.convertToColumnsDefinition=a})(r=o.RealTimeModelUtility||(o.RealTimeModelUtility={}))})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=(function(){function t(e){this.contract=e,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}return t.prototype.canResizeTo=function(t){return t.rowSpan===e.common.GridLayoutConstants.gridItemMediumLandscapeRowSpan||t.colSpan===e.common.GridLayoutConstants.gridItemSmallLandscapeColSpan},t.prototype.getErrorLocId=function(e,t){return""},t})();t.ReportTileModel=o})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o=(function(){function t(e){this.contract=e}return Object.defineProperty(t.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(e){e&&(0!==e.indexOf("data:")?this._imageUrl=jsCommon.Utility.getAbsoluteUri(e):this._imageUrl=e)},enumerable:!0,configurable:!0}),t.prototype.canResizeTo=function(t){return t.rowSpan===e.common.GridLayoutConstants.gridItemLargeLandscapeRowSpan||t.colSpan===e.common.GridLayoutConstants.gridItemLargeLandscapeColSpan},t.prototype.getErrorLocId=function(e,t){return""},t})();t.SsrsTileModel=o})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){function r(e){if(!(_.isEmpty(e)||e.length<o.DashboardIntraDomainNavigationPrefix.length)&&i(e))return e.substr(o.DashboardIntraDomainNavigationPrefix.length)}function i(e){return!_.isEmpty(e)&&0===e.toLowerCase().indexOf(o.DashboardIntraDomainNavigationPrefix)}function a(e){return!_.isEmpty(e)&&0===e.toLowerCase().indexOf(o.ReportIntraDomainNavigationPrefix)}function n(e){return!_.isEmpty(e)&&0===e.toLowerCase().indexOf(o.WorkbookIntraDomainNavigationPrefix)}function s(e){return i(e)||a(e)||n(e)}var c,d=jsCommon.ArrayExtensions,l=jsCommon.DateExtensions,p=e.common.utils.DateFormatter,u=e.common.helpers.ModelConverterHelper,v=jsCommon.UrlUtils;!(function(e){e[e.Dashboard=0]="Dashboard",e[e.Report=1]="Report"})(c=o.IntraDomainNavigationType||(o.IntraDomainNavigationType={})),o.getDashboardGuidFromUrl=r,o.IsDashboardIntraDomainPrefix=i,o.IsReportIntraDomainPrefix=a,o.IsWorkbookIntraDomainPrefix=n,o.IsValidIntraDomainPrefix=s,o.DashboardIntraDomainNavigationPrefix="/dashboards/",o.ReportIntraDomainNavigationPrefix="/reports/",o.WorkbookIntraDomainNavigationPrefix="/workbooks/";var f;!(function(e){e.SubtitleHeight=10,e.TileDefaultPadding=10,e.RegularHeaderHeight=50,e.SmallHeaderHeight=42,e.LargeHeaderHeight=65,e.VisualVerticalMargin=20,e.VisualHorizontalMargin=20,e.VisualSmallVerticalMargin=8})(f=o.TileConstants||(o.TileConstants={}));var h=(function(){function o(e,t){this.isSelected=!1,this.contract=e,this.tileHeaderSize=1,this.layoutPosition={},this.localizationService=t}return Object.defineProperty(o.prototype,"gridLayouts",{get:function(){return this.contract.$layoutConfig.layouts},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"id",{get:function(){return this.contract.id},set:function(e){this.contract.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"details",{get:function(){switch(this.type){case t.contracts.TileType.composite:return this.composite;case t.contracts.TileType.iframe:return this.iframe;case t.contracts.TileType.image:return this.image;case t.contracts.TileType.model:return this.model;case t.contracts.TileType.ssrs:return this.ssrs;case t.contracts.TileType.workbook:return this.workbook;case t.contracts.TileType.report:return this.reportTile;case t.contracts.TileType.realTime:return this.realTime;default:return null}},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"shouldBeIncludedInTelemetryMeasurement",{get:function(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isTemporary",{get:function(){return this.id<=0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isTileLoading",{get:function(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading},enumerable:!0,configurable:!0}),o.prototype.calculateLayout=function(t){var o=this.getHeaderSizeByType(this.tileHeaderSize);if(this.compositeTile&&t){var r=t;if(this.compositeTile.useSmallPlotArea)if(this.hasTitle())r.height-=o;else{var i=this.composite&&this.composite.config&&this.composite.config.layoutType;i!==e.common.contracts.TileLayoutType.Full&&(r.height-=f.TileDefaultPadding)}else this.hasTitle()&&(this.hasSubtitle()?r.height-=o:r.height-=o-f.SubtitleHeight);this.compositeTile.calculateLayout(r)}},o.prototype.applyLayout=function(e){this.compositeTile&&this.compositeTile.applyLayout(e)},o.prototype.invalidateLayout=function(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()},o.prototype.tryPopulateLayoutPositionValues=function(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var e=this.gridLayoutContext.getActiveLayout(),t=d.extendWithId(this.contract.$layoutConfig.layouts),o=t.withId(e);return o&&o.position&&(this.layoutPosition=_.cloneDeep(o.position)),!0},o.prototype.applyChanges=function(){if(this.contract&&this.gridLayoutContext){var e=_.cloneDeep(this.layoutPosition),t=this.contract.$layoutConfig;this.addOrUpdateLayoutPosition(t,e),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}},o.isValidUrl=function(e){return!_.isEmpty(e)&&(v.isValidHttpUrl(e)||s(e))},o.prototype.getDisplayText=function(){if(this.displayText)return this.displayText;if(this.compositeTile){var e=this.compositeTile.config;if(e&&!_.isEmpty(e.heading1))return e.heading1}return""},o.prototype.getSubDisplayText=function(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var e=this.compositeTile.config;if(!this.displayText&&e&&!_.isEmpty(e.heading3))return e.heading3}return""},o.prototype.shouldPlaceBulletSeperator=function(){var e=this.displayText&&this.displayText.length>0;return e&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled},Object.defineProperty(o.prototype,"hrefTarget",{get:function(){return this.action.openInSameTab?"_self":"_blank"},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lastRefreshTimeInLocaleString",{get:function(){var e=u.convertRefreshTimeToJsDateTime(this.contract.tileDataUpdatedTime);return e?e.toLocaleString():this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"formattedTime",{get:function(){var e;if(this.workbook){var t=this.contract.tilePackage;e=t?u.convertRefreshTimeToJsDateTime(t.lastRefreshTime):null}else e=u.convertRefreshTimeToJsDateTime(this.contract.tileDataUpdatedTime);if(e){var o=m,r=l.isContainedInTimeFrame,i=l.isMomentPresent();return i&&r(e,o.Minute,o.MaxMinuteThreshold,!1)?p.getPrettyRelativeDate(e,this.localizationService):i&&r(e,o.Day,o.SameDayThreshold,!0)?l.GetTime(this.localizationService.currentLanguageLocale,e):i&&r(e,o.Day,o.YesterdayThreshold,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[l.GetTime(this.localizationService.currentLanguageLocale,e)]):i&&r(e,o.Day,o.WeekThreshold,!0)?l.GetDayWithTime(this.localizationService.currentLanguageLocale,e):l.GetFullDateWithTime(this.localizationService.currentLanguageLocale,e)}if(this.datasetModel)return this.datasetModel.lastRefreshTimeInLocaleString},enumerable:!0,configurable:!0}),o.prototype.setDatasetModelAndPackageInfo=function(e,t){e&&(this.datasetModel=e,t&&(this.datasetModel.packagePublishStatus=t.publishOrRefreshStatus))},o.prototype.hasTitle=function(){if(this.config&&this.config.hideTitle)return!1;var e=this.compositeTile?this.compositeTile.config:null;return!_.isEmpty(this.displayText)||e&&!_.isEmpty(e.heading1)},o.prototype.hasSubtitle=function(){var e=this.config;return(!e||!e.hideTitle)&&(!_.isEmpty(this.subDisplayText)||e&&e.lastRefreshTimeEnabled)},o.prototype.lastRefreshTimeInLocaleWithLabel=function(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("DashboardTile_LastRefreshTimeTemplate",[this.formattedTime])},o.prototype.setTileHeaderSize=function(e){this.tileHeaderSize!==e&&(this.tileHeaderSize=e,this.compositeTile&&(this.compositeTile.useSmallPlotArea=2===e),this.invalidateLayout())},Object.defineProperty(o.prototype,"compositeTile",{get:function(){return this.composite||this.realTime},enumerable:!0,configurable:!0}),o.prototype.hasLayoutDefinition=function(e){var t=d.extendWithId(this.contract.$layoutConfig.layouts);return!!t.withId(e)},o.prototype.hasLayoutPosition=function(e){return!!t.ContractUtils.getLayoutPosition(this.contract,e)},o.prototype.removeLayoutPosition=function(e){return void 0===e&&(e=1),this.hasLayoutDefinition(e)&&(this.addLayout({id:e,position:null},e),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},o.prototype.resetTileLayoutSizeAndPosition=function(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null},o.prototype.removeLayoutDefinition=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.hasLayoutDefinition(e)&&(_.remove(this.contract.$layoutConfig.layouts,(function(t){return t.id===e})),t&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},o.prototype.applyLayoutSize=function(e,t){this.compositeTile&&(this.compositeTile.size={colSpan:e.colSpan,rowSpan:e.rowSpan}),this.applyLayout(t)},o.prototype.getCurrentTileLayoutDescriptor=function(e,t){var o=e?e:this.contract.$layoutConfig;return{id:this.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(o),query:t?t[0]:null,updatedQuery:t?t[1]:null,modelId:this.contract.modelId}},o.prototype.buildLayoutDescriptor=function(){var e=_.cloneDeep(this.layoutPosition),t=_.cloneDeep(this.contract.$layoutConfig);this.addOrUpdateLayoutPosition(t,e);var o=this.updateTileQueryAfterResize(e);return this.getCurrentTileLayoutDescriptor(t,o)},o.prototype.updateTileQueryAfterResize=function(o){var r=this.composite&&this.composite.contract&&this.composite.contract.query;if(r){var i=t.ContractUtils.convertToTileDataQuery(r);if(!i)return;for(var a=_.cloneDeep(r),n=o.width*e.common.GridLayoutConstants.defaultGridWidth,s=o.height*e.common.GridLayoutConstants.defaultGridHeight,c=!1,d=0;d<i.Commands.length;++d){var l=i.Commands[d].ScriptVisualCommand;if(l){var p=l.ViewportWidthPx,u=l.ViewportHeightPx;p===n&&u===s||(l.ViewportWidthPx=n,l.ViewportHeightPx=s,i.Commands[d].ScriptVisualCommand=l,c=!0)}}if(c){this.composite.contract.query.modelQuery.sq=JSON.stringify(i);var v=JSON.stringify(this.composite.contract.query);return[a,v]}}},o.prototype.addOrUpdateLayoutPosition=function(e,t){var o=this.gridLayoutContext.getActiveLayout(),r=d.extendWithId(e.layouts),i=r.withId(o);i||(i={id:o,position:{}},r.push(i)),i.position=t},o.prototype.addLayout=function(e,t){return this.removeLayoutDefinition(t),this.contract.$layoutConfig.layouts.push(e),this.getCurrentTileLayoutDescriptor()},o.prototype.getHeaderSizeByType=function(e){switch(e){case 0:return f.LargeHeaderHeight;case 2:return f.SmallHeaderHeight;case 1:default:return f.RegularHeaderHeight}},o})();o.Tile=h;var m;!(function(e){e.Minute="minute",e.Day="day",e.MaxMinuteThreshold=15,e.SameDayThreshold=0,e.YesterdayThreshold=1,e.WeekThreshold=6})(m||(m={}))})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){var r=(function(){function o(e,t){this.contract=e,this.tileModel=t}return o.prototype.canResizeTo=function(t){return t.rowSpan===e.common.GridLayoutConstants.gridItemMediumLandscapeRowSpan||t.colSpan===e.common.GridLayoutConstants.gridItemSmallLandscapeColSpan},o.prototype.getErrorLocId=function(e,o){var r,i=[];switch(e){case t.contracts.TileErrorCode.workbookTileGeneralError:r="WorkbookTile_GeneralError";break;case t.contracts.TileErrorCode.workbookTileFileNotFound:r="WorkbookTile_FileNotFound";break;case t.contracts.TileErrorCode.workbookTileObjectNotFound:r="WorkbookTile_ObjectNotFound",i=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case t.contracts.TileErrorCode.workbookTileUnauthorized:r="WorkbookTile_Unauthorized";break;default:return""}return o.format(r,i)},o.prototype.hasImages=function(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0},Object.defineProperty(o.prototype,"images",{get:function(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hasWorkbookTileConfig",{get:function(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile},enumerable:!0,configurable:!0}),o})();o.WorkbookTileModel=r})(o=t.models||(t.models={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){function t(e){var t=i.tryParseJSON(e.layoutConfig),o=r.extendWithId(t.layouts).withId(0);e.col=o.position.x,e.row=o.position.y,e.colSpan=o.position.width,
e.rowSpan=o.position.height}function o(e){for(var t=0,o=e;t<o.length;t++){var a=o[t],n=i.tryParseJSON(a.layoutConfig),s=r.extendWithId(n.layouts).withId(0);a.col=s.position.x,a.row=s.position.y,a.colSpan=s.position.width,a.rowSpan=s.position.height}}var r=jsCommon.ArrayExtensions,i=jsCommon.JsonExtensions;e.conformOutgoingTile=t,e.conformOutgoingTileLayoutDescriptors=o})(t=e.compatibility||(e.compatibility={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,o,r,i,a,s){return t.dashboardHttpService||(t.dashboardHttpService=new n(e,o,r,i,a,s)),t.dashboardHttpService}var r=jsCommon.GzipUtility,i=t.models.TileFactory;t.createDashboardHttpService=o;var a=1048576,n=(function(){function o(e,t,o,r,i,a){this.syncService=e,this.promiseFactory=t,this.notificationToastService=o,this.explorationSerializer=r,this.featureSwitchService=i,this.visualPlugin=a,this.batchedDashboardRequests=[]}return o.prototype.getDashboardContainer=function(t){var o=e.common.httpService.powerbiRequestOptions(t,"GetDashboardContainer");return e.common.httpService.get("powerbi/metadata/dashboards",o)},o.prototype.getDashboards=function(e,t,o){return this.getDashboardsInternal(e,t,o)},o.prototype.getDashboardContainerByObjectId=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"GetDashboardByObjectId"),i=this.getDashboardContainerByObjectIdUrl(t);return e.common.httpService.get(i,r)},o.prototype.batchGetDashboards=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetDashboardsByIds");return i.enableTelemetry=!0,e.common.httpService.post("powerbi/metadata/getDashboardsByIds",JSON.stringify(o),i)},o.prototype.getDashboardMetadata=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetDashboardMetadata");return i.enableTelemetry=!0,e.common.httpService.get("powerbi/metadata/dashboards/"+o+"/metadata",i)},o.prototype.getDashboardUrl=function(e){return"powerbi/metadata/dashboards/"+e},o.prototype.getDashboardContainerByObjectIdUrl=function(e){return"metadata/embed/dashboard/"+e},o.prototype.addDashboard=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"AddDashboard");this.syncService.addMetadataEditRequestId(r.headers[e.telemetryConstants.httpRequestIdHeader]);var i={displayName:t.displayName};return r.enableTelemetry=!0,e.common.httpService.put("powerbi/metadata/dashboards",i,r)},o.prototype.renameDashboard=function(o,r,i){t.DashboardUtils.isWriteable(o)||this.notifyReadOnly(o.id);var a=e.common.httpService.powerbiRequestOptions(i,"RenameDashboard");return this.syncService.addMetadataEditRequestId(a.headers[e.telemetryConstants.httpRequestIdHeader]),a.enableTelemetry=!0,e.common.httpService.post("powerbi/metadata/dashboards/"+o.id+"/name",JSON.stringify(r),a)},o.prototype.duplicateDashboard=function(o,r,i){t.DashboardUtils.isWriteable(o)||this.notifyReadOnly(o.id);var a=e.common.httpService.powerbiRequestOptions(i,"DuplicateDashboard");return this.syncService.addMetadataEditRequestId(a.headers[e.telemetryConstants.httpRequestIdHeader]),a.enableTelemetry=!0,e.common.httpService.post("powerbi/metadata/dashboards/"+o.id+"/copy",JSON.stringify(r),a)},o.prototype.setQnaEnabledForDashboard=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"SetQnaEnabled");return this.syncService.addMetadataEditRequestId(i.headers[e.telemetryConstants.httpRequestIdHeader]),i.enableTelemetry=!0,e.common.httpService.post("powerbi/metadata/dashboards/"+t+"/qnaEnabled",JSON.stringify(o),i)},o.prototype.deleteDashboard=function(o,r){t.DashboardUtils.isWriteable(o)||this.notifyReadOnly(o.id);var i=e.common.httpService.powerbiRequestOptions(r,"DeleteDashboard");this.syncService.addMetadataEditRequestId(i.headers[e.telemetryConstants.httpRequestIdHeader]),i.enableTelemetry=!0;var a="powerbi/metadata/dashboards/"+o.id;return e.common.httpService.delete(a,i)},o.prototype.exportDashboard=function(o,r,i){if(!t.DashboardUtils.isWriteable(o))return this.notificationToastService.notify({title:e.common.localize.get("DashboardReadOnlyWarning_Title"),message:e.common.localize.get("DashboardReadOnlyExportWarning_Message"),notificationType:e.common.NotificationToastType.Alert}),null;var a=e.common.httpService.powerbiRequestOptions(i,"ExportDashboard");return a.responseType="blob",a.enableTelemetry=!0,e.common.httpService.get("powerbi/resource/packages/"+o.id+"/?packageType="+r,a)},o.prototype.addTile=function(o,n,s,c,d){if(!t.DashboardUtils.isWriteable(o))return e.common.httpService.getResolvedHttpChain();var l=e.common.httpService.powerbiRequestOptions(d);this.syncService.addMetadataEditRequestId(l.headers[e.telemetryConstants.httpRequestIdHeader]);var p={id:0,type:n.type,config:i.serializeTileConfig(n.$config,this.explorationSerializer,this.visualPlugin,this.featureSwitchService.featureSwitches.visualContainerTileConfig),displayText:n.displayText,subDisplayText:n.subDisplayText,name:n.name,action:n.action,image:n.image,query:n.query,tileDataBinaryBase64Encoded:r.compress(n.tileData),layoutConfig:n.layoutConfig,publishState:n.publishState,resourcePackageIds:n.resourcePackageIds};p.modelId=n.modelId,p.reportId=n.reportId,p.workbookId=n.workbookId,p.sectionId=n.sectionId,"number"==typeof n.packageId&&(p.packageId=n.packageId),t.compatibility.conformOutgoingTile(p);var u=JSON.stringify(p).length;return u>a?this.promiseFactory.reject({data:p,headers:function(){return null},status:e.HttpStatusCode.RequestEntityTooLarge,error:{code:"AddTileRequestTooLarge","pbi.error":{code:"AddTileRequestTooLarge",parameters:[],details:[],exceptionCulprit:e.ExceptionCulprit.User}}}):(l.telemetryDescription="AddTile",l.enableTelemetry=!0,e.common.httpService.put("powerbi/metadata/tiles/"+o.id,p,l))},o.prototype.updateTile=function(t,o,r){var i,a={};return _.isEqual(t.displayText,o.displayText)||(a.displayText=o.displayText),_.isEqual(t.subDisplayText,o.subDisplayText)||(a.subDisplayText=o.subDisplayText),_.isEqual(t.action,o.action)||(a.action=o.action),_.isEqual(t.config,o.config)||(a.config=o.config),_.isEqual(t.query,o.query)||(a.query=o.query),_.isEqual(t.tileData,o.tileData)||(a.tileDataBinaryBase64Encoded=jsCommon.GzipUtility.compress(o.tileData)),i=e.common.httpService.powerbiRequestOptions(r,"UpdateTile"),i.enableTelemetry=!0,this.syncService.addMetadataEditRequestId(i.headers[e.telemetryConstants.httpRequestIdHeader]),e.common.httpService.patch("powerbi/metadata/tiles/"+t.id,JSON.stringify(a),i)},o.prototype.deleteTile=function(o,r,i){t.DashboardUtils.isWriteable(o)||this.notifyReadOnly(o.id);var a=e.common.httpService.powerbiRequestOptions(i,"DeleteTile");return this.syncService.addMetadataEditRequestId(a.headers[e.telemetryConstants.httpRequestIdHeader]),a.enableTelemetry=!0,e.common.httpService.delete("powerbi/metadata/tiles/"+r,a)},o.prototype.getTile=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"GetTile");return r.enableTelemetry=!0,e.common.httpService.get("powerbi/metadata/tiles/"+t,r)},o.prototype.batchGetTiles=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"BatchGetTiles");return i.enableTelemetry=!0,e.common.httpService.post("powerbi/metadata/dashboard/"+t+"/tiles",JSON.stringify(o),i)},o.prototype.renameTile=function(t,o,r,i){var a=e.common.httpService.powerbiRequestOptions(i,"RenameTile");this.syncService.addMetadataEditRequestId(a.headers[e.telemetryConstants.httpRequestIdHeader]);var n={id:t,displayText:o,subDisplayText:r};return a.enableTelemetry=!0,e.common.httpService.post("powerbi/metadata/tiles/"+t+"/displayText",JSON.stringify(n),a)},o.prototype.getTileShortUrl=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetTileShortUrl");return i.enableTelemetry=!0,e.common.httpService.get("metadata/dashboards/"+t+"/tiles/"+o+"/shortUrl",i)},o.prototype.batchUpdateTileSizePosition=function(e,o,r,i){if(t.compatibility.conformOutgoingTileLayoutDescriptors(r),!t.DashboardUtils.isWriteable(o))return this.isDashboardBatchTilePositionUpgrade(o,r)||this.notifyReadOnly(o.id),null;var a=r.filter((function(e){return!!e.updatedQuery})),n=r.filter((function(e){return!e.updatedQuery})),s=this.batchUpdateTileSizePositionInternal(o,n,i,!0),c=this.batchUpdateTileSizePositionInternal(o,a,i,!1),d=[];return s&&d.push(s),c&&d.push(c),e.allSettled(d)},o.prototype.batchUpdateTileSizePositionInternal=function(t,o,r,i){if(void 0===i&&(i=!0),o&&0!==o.length){var a=e.common.httpService.powerbiRequestOptions(r,"SetTileSizePosition"),n=a.headers[e.telemetryConstants.httpRequestIdHeader];return i?this.syncService.addMetadataEditRequestId(n):this.syncService.addDashboardTransactionFilter(n,(function(t){return t.changeType!==e.common.contracts.MetadataChangeType.TileDataChange})),a.enableTelemetry=!0,e.common.httpService.post("/powerbi/metadata/dashboard/"+t.id+"/tiles/sizeandposition",o,a)}},o.prototype.isDashboardBatchTilePositionUpgrade=function(t,o){for(var r={},i=t.tiles,a=0,n=i.length;a<n;++a){var s=i[a];r[s.id]=s}for(var a=0,n=o.length;a<n;++a){var c=o[a],s=r[c.id];if(s&&s.row>e.common.constants.contractRowProtocolThreshold)return!0}return!1},o.prototype.setActiveDashboardId=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"SetActiveDashboard");i.enableTelemetry=!0;var a=null;return o&&o.length>0&&(a=JSON.stringify(o)),e.common.httpService.post("/powerbi/metadata/user/activedashboard/"+t,a,i)},o.prototype.refreshTileData=function(t,o,r,i){var a=e.common.httpService.powerbiRequestOptions(r,"SetActiveDashboard",i);a.enableTelemetry=!0;var n=null;return o&&o.length>0&&(n=JSON.stringify(o)),e.common.httpService.post("/powerbi/metadata/user/activedashboard/"+t+"/refresh",n,a)},o.prototype.notifyReadOnly=function(t,o){var r="NotifiedReadOnlyDashboard"+t,i=o||!e.common.sessionStorageService.getData(r);i&&(this.notificationToastService.notify({title:e.common.localize.get("DashboardReadOnlyWarning_Title"),message:e.common.localize.get("DashboardReadOnlyWarning_Message"),notificationType:e.common.NotificationToastType.Alert}),e.common.sessionStorageService.setData(r,!0))},o.prototype.addDashboardRequestToBatch=function(t,o,r){for(var i=this.batchedDashboardRequests,a=0,n=i.length;a<n;++a){var s=i[a];if(s.dashboardId===o&&s.requestType===r)return s.deferred.promise()}var c=$.Deferred(),d={dashboardId:o,deferred:c,requestType:r};return i.push(d),void 0===d.requestType||null===d.requestType||d.requestType===e.common.DashboardRequestType.Default?this.getDashboards(t,[o],void 0).then((function(e){return e&&e.length>0?c.resolve(e[0].data):c.reject()}),(function(){c.reject()})):d.requestType===e.common.DashboardRequestType.Metadata&&this.getDashboardMetadata(t,o,void 0).then((function(e){return e?c.resolve(e.data):c.reject()}),(function(){c.reject()})),c.promise()},o.prototype.getDashboardsInternal=function(t,o,r,i){var a=this;return _.isEmpty(o)?null:(i=i||t.defer(),e.common.httpService.getAll(o.map((function(e){return a.getDashboardUrl(e)})),o.map((function(t){var o=e.common.httpService.powerbiRequestOptions(r,"GetDashboard");return o.enableTelemetry=!0,o}))).then((function(e){i.resolve(e)}),(function(o){for(var n=[],s=[],c=0,d=o.length;c<d;c++){var l=o[c];l.status===e.HttpStatusCode.OK?n.push(l):s.push(l)}var p=!!s.length;n.length?(i.resolve(n),p&&a.getDashboardsInternal(t,s.map((function(e){return e.data.dashboards[0].id})),r,i)):i.reject(s)})),i.promise)},o.prototype.updateDashboardSetting=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"UpdateDashboardSetting");return this.syncService.addMetadataEditRequestId(i.headers[e.telemetryConstants.httpRequestIdHeader]),i.enableTelemetry=!0,e.common.httpService.post("powerbi/metadata/dashboards/"+t+"/settings",JSON.stringify(o),i)},o})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e){return t.modelHttpService||(t.modelHttpService=new r(e)),t.modelHttpService}t.createModelHttpService=o;var r=(function(){function t(e){this.syncService=e}return t.prototype.getModels=function(t){var o=e.common.httpService.powerbiRequestOptions(t,"GetModels");return e.common.httpService.get("powerbi/metadata/models",o)},t.prototype.getModel=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetModel");return o?e.common.httpService.get("powerbi/metadata/models/"+t+"/?modelOptions=Default&packageId="+o,i):e.common.httpService.get("powerbi/metadata/models/"+t+"/?modelOptions=Default",i)},t.prototype.getModelForRefresh=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetModelForRefresh");return e.common.httpService.get("powerbi/metadata/models/"+t+"/?modelOption=Refresh&packageId="+o,i)},t.prototype.getModelAndPackageForRefresh=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetModelAndPackageForRefresh");return this.syncService.addMetadataEditRequestId(i.headers[e.telemetryConstants.httpRequestIdHeader]),e.common.httpService.get("powerbi/metadata/models/"+t+"/?modelOption=PackageModelRefresh&packageId="+o,i)},t.prototype.renameModel=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"RenameModel");return this.syncService.addMetadataEditRequestId(i.headers[e.telemetryConstants.httpRequestIdHeader]),e.common.httpService.post("powerbi/metadata/models/"+t.id+"/name",JSON.stringify(o),i)},t.prototype.deleteModel=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"DeleteModel");return e.common.httpService.delete("powerbi/content/models/"+t.id+"/?packageId="+t.packageId,r)},t.prototype.getPackageModels=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"GetPackageModels");return e.common.httpService.get("powerbi/metadata/packages/"+t+"/models",r)},t.prototype.getModelRefreshHistories=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"GetModelRefreshHistories");return e.common.httpService.get("powerbi/metadata/models/"+t+"/refreshhistories",r)},t.prototype.getPackageRefreshHistories=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"GetPackageRefreshHistories");return e.common.httpService.get("powerbi/metadata/packages/"+t+"/refreshhistories",r)},t.prototype.updateFeaturedQuestions=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"UpdateFeaturedQuestions");return e.common.httpService.put("powerbi/metadata/models/"+t+"/featuredQuestions",JSON.stringify(o),i)},t.prototype.disableRlsModel=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"DisableRlsModel");return e.common.httpService.post("metadata/model/"+t+"/rlsdisabled",JSON.stringify(!1),r)},t.prototype.updateModelQnaFeatures=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"UpdateModelQnaFeatures");return e.common.httpService.post("powerbi/metadata/models/"+t+"/qnafeatures",JSON.stringify(o),i)},t})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){function o(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"GetPackage");return e.common.httpService.get("powerbi/metadata/packages/"+t,r)}t.getPackage=o})(o=t.packageHttpService||(t.packageHttpService={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e){return new r(e)}t.createReportHttpService=o;var r=(function(){function t(e){this.syncService=e}return t.prototype.getReports=function(t){var o=e.common.httpService.powerbiRequestOptions(t,"GetReports");return e.common.httpService.get("powerbi/metadata/reports",o)},t.prototype.getReport=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"GetReport");return e.common.httpService.get("powerbi/metadata/reports/"+t,r)},t.prototype.renameReport=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"RenameReport");return this.syncService.addMetadataEditRequestId(i.headers[e.telemetryConstants.httpRequestIdHeader]),e.common.httpService.post("powerbi/metadata/reports/"+t.id+"/name",JSON.stringify(o),i)},t.prototype.deleteReport=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"DeleteReport");return e.common.httpService.delete("powerbi/content/reports/"+t.id+"/",r)},t.prototype.getReportShortUrl=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetReportShortUrl");i.enableTelemetry=!0;var a="metadata/reports/"+t+"/shortUrl";return null!=o&&o.trim().length>0&&(a=a+"?reportPage="+o),e.common.httpService.get(a,i)},t})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e){return new i(e)}var r=jsCommon.QueryStringUtil;t.createTutorialDataStoreService=o;var i=(function(){function t(t,o){this.featureSwitchService=t,this.promiseFactory=o||e.createJQueryPromiseFactory(),this.loadedDeferred=this.promiseFactory.defer()}return t.prototype.setJsonData=function(e){if(this.jsonData=e,!r.getQueryStringValue(t.IgnoreQueryParam)){if(this.store={},!r.getQueryStringValue(t.ShowAllQueryParam))try{_.extend(this.store,JSON.parse(e))}catch(e){}this.loadedDeferred.resolve({})}},t.prototype.onReady=function(e){this.store?e():this.loadedDeferred.promise.then((function(){return e()}))},t.prototype.hasKey=function(t){return!!this.store&&(t===e.common.constants.previewConceptualModelNewKey&&this.featureSwitchService.featureSwitches.previewConceptualModel&&this.featureSwitchService.featureSwitches.previewDefaultOptIn?!this.store.hasOwnProperty(t)||this.store[t]:this.store.hasOwnProperty(t)&&this.store[t])},t.prototype.getKey=function(e){return this.store?this.store[e]:null},t.prototype.setKey=function(o,i,a){var n=this;if(!this.store)return this.promiseFactory.reject();this.store[o]=i;var s=JSON.stringify(this.store);if(this.jsonData===s)return this.promiseFactory.resolve();if(!r.getQueryStringValue(t.ShowAllQueryParam)){var c=e.common.httpService.powerbiRequestOptions(a.event,"SetGettingStartedStatus",{dismissGroupObjectId:!0}),d=JSON.stringify(s);return e.common.httpService.post(t.ServerURL,d,c).then((function(){n.jsonData=s,a.resolve()}),(function(){a.reject()}))}return this.promiseFactory.reject()},t})();i.ServerURL="powerbi/metadata/user/gettingStartedStatus",i.IgnoreQueryParam="ignoreGettingStartedPopups",i.ShowAllQueryParam="showGettingStartedPopups",t.TutorialDataStoreService=i})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e){return new r(e)}t.createWorkbookHttpService=o;var r=(function(){function t(e){this.syncService=e}return t.prototype.getWorkbooks=function(t){var o=e.common.httpService.powerbiRequestOptions(t,"GetWorkbooks");return e.common.httpService.get("powerbi/metadata/workbooks",o)},t.prototype.getWorkbook=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"GetWorkbook");return e.common.httpService.get("powerbi/metadata/workbooks/"+t+"/?packageId="+o,i)},t.prototype.renameWorkbook=function(t,o,r){var i=e.common.httpService.powerbiRequestOptions(r,"RenameWorkbook");return e.common.httpService.post("powerbi/metadata/workbooks/"+t.id+"/name",JSON.stringify(o),i)},t.prototype.deleteWorkbook=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"DeleteWorkbook");return e.common.httpService.delete("powerbi/content/workbooks/"+t.id+"/?packageId="+t.packageId,r)},t.prototype.getWorkbookWopiData=function(t,o){var r=e.common.httpService.powerbiRequestOptions(o,"WopiWorkbook");return e.common.httpService.post("powerbi/metadata/workbooks/wopiaccessinfo",JSON.stringify(t),r)},t})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,i,a,n,s){return new r(e,t,o,i,a,n,s)}t.createAppMetadataService=o;var r=(function(){function o(e,t,o,r,i,a,n){this.rootScope=e,this.promiseFactory=t,this.resourcePackagesService=o,this.resourcePackageGateService=r,this.visualPluginService=i,this.telemetryService=a,this.editableFeatureSwitchService=n,this.gettingAppMetadata=!1,this.getAppMetadataDeferred=this.promiseFactory.defer()}return o.prototype.getAppMetadata=function(){var e=this;if(!this.gettingAppMetadata)if(window.initialDashboardContainer)if(window.initialDashboardContainer===t.constants.initialDashboardContainerLoadingState){this.gettingAppMetadata=!0;var o=this.rootScope.$on(t.constants.initialDashboardContainerReadyEventName,(function(){e.editableFeatureSwitchService.registerFeatureSwitches(window.initialDashboardContainer.featureSwitches),e.importResourcePackages(window.initialDashboardContainer.resourcePackages).finally((function(){e.getAppMetadataDeferred.resolve(window.initialDashboardContainer),e.gettingAppMetadata=!1,o()}))}))}else window.initialDashboardContainer!==t.constants.initialDashboardContainerErrorState?(this.editableFeatureSwitchService.registerFeatureSwitches(window.initialDashboardContainer.featureSwitches),this.importResourcePackages(window.initialDashboardContainer.resourcePackages).finally((function(){e.getAppMetadataDeferred.resolve(window.initialDashboardContainer)}))):this.getAppMetadataDeferred.reject();else this.getAppMetadataDeferred.reject();return this.getAppMetadataDeferred.promise},o.prototype.importResourcePackages=function(t){var o=this;if(this.importResourcePackagesDeferred)return this.importResourcePackagesDeferred.promise;this.importResourcePackagesDeferred=this.promiseFactory.defer();var r=window.initialDashboardContainer.activeDashboardId;if(_.isEmpty(t))this.importResourcePackagesDeferred.resolve(null),window.initialDashboardContainer&&r&&this.telemetryService.logEvent(e.telemetry.DashboardImportResourcePackagesOnLoad,r.toString(),0);else{var i;window.initialDashboardContainer&&r&&(i=this.telemetryService.startEvent(e.telemetry.DashboardImportResourcePackagesOnLoad,window.initialDashboardContainer.activeDashboardId.toString(),t.length));var a=_.map(t,(function(e){return e.id.toString()}));this.resourcePackageGateService.shouldShowWarning(a,r.toString())?(this.importResourcePackagesDeferred.resolve(null),i&&i.resolve()):(this.resourcePackagesService.registerPackages(t),this.visualPluginService.ensurePlugins(t,!1).catch((function(){i&&i.reject()})).finally((function(){i&&i.resolve(),o.importResourcePackagesDeferred.resolve(null)})))}return this.importResourcePackagesDeferred.promise},o})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(){return new i}var r=e.common.contracts.ContentProviderCategory;t.createAppCollectionService=o;var i=(function(){function e(){this.apps=[]}return e.prototype.findServiceContentProvider=function(e){return _.find(this.apps,(function(t){return t.providerId===e&&(t.category===r.ServiceApp||t.category===r.Services)}))},e.prototype.findOrganizationalContentProvider=function(e){return _.find(this.apps,(function(t){return t.providerId===e&&(t.category===r.Organizational||t.category===r.OrganizationalApp||t.category===r.OrganizationalTemplate||t.category===r.OrganizationalTemplateApp)}))},e.prototype.findContentProviderByKey=function(e){if(null!=e)return _.find(this.apps,(function(t){return t.providerKey===e}))},e})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,r,i,a,n,s,c,d,p,u,v){return new l(e,t,o,r,i,a,n,s,c,d,p,u,v)}function r(e){return new p(e)}var i=e.common.contracts,a=e.common.contracts.ContentProviderCategory,n=e.errorDetailsHelper,s=e.common.dialog.MessageDialogBuilder,c=e.common.NotifyCollection,d=t.contracts.PackageType;t.createAppService=o;var l=(function(){function t(e,t,o,r,i,a,n,d,l,p,u,v,f){var h=this;this.appMetadataService=e,this.dashboardDataService=t,this.appCollectionService=o,this.modelService=r,this.reportService=i,this.workbookService=a,this.promiseFactory=n,this.dataServiceModelConverter=d,this.telemetryService=p,this.errorService=v,this.localizationService=f,this.inFlightAppRequests=[{},{},{}],this.appInstanceRequests={},this.appsInitializationDeferred=n.defer(),this.apps=[],this.instances=new c,this.messageDialogBuilder=new s(u),this.promiseFactory.all([this.appMetadataService.getAppMetadata(),l.getFeatureSwitches(),t.getDashboards(),i.ensureReportsInitialization(),a.ensureWorkbookInitialization(),r.modelsPromise]).then((function(e){h.initializeAppCategories(l);var t=e[0];t&&(t.apps||t.packages)&&h.updateAppsCollection(t.apps,t.packages),l.featureSwitches.appsEnabled&&(h.modelService.subscribe(h),h.reportService.subscribe(h),h.dashboardDataService.subscribe(h)),h.appInstancesCollectionChangedHandlers=[],h.appsInitializationDeferred.resolve(h)}),(function(){return h.appsInitializationDeferred.reject()}))}return Object.defineProperty(t.prototype,"apps",{get:function(){return this.appCollectionService.apps},set:function(e){this.appCollectionService.apps=e},enumerable:!0,configurable:!0}),t.prototype.getInstalledAppModel=function(e,t){var o=this.dataServiceModelConverter.convertInstalledAppModel(e,t);return this.updateInstance(o),o},t.prototype.ensureAppsInitialization=function(){return this.appsInitializationDeferred.promise},t.prototype.getAppByCategory=function(e){return _.filter(this.apps,(function(t){return t.category===e}))},t.prototype.getAppByGUID=function(e){return _.find(this.apps,(function(t){return t.providerKey===e}))},t.prototype.updateAppsCollection=function(e,t){var o=this;this.apps=_.filter(e,(function(e){return o.isAppContentProvider(e)}))||[],this.instances.setItems([]);var r=_.filter(t,(function(e){return e.packageType===d.AppInstance}));if(!_.isEmpty(r))for(var i=0,a=r;i<a.length;i++){var n=a[i];this.onInstanceAdded(n)}},t.prototype.addApp=function(e){!this.isInstalledApp(e)&&this.isAppContentProvider(e)&&this.apps.push(e)},Object.defineProperty(t.prototype,"appInstances",{get:function(){return this.instances.items},set:function(e){this.instances.setItems(e)},enumerable:!0,configurable:!0}),t.prototype.onInstanceAdded=function(e){var t=this;if(e.packageType!==d.AppInstance)return this.promiseFactory.reject();var o=this.getAppInstance(e.id);if(null!=o)return this.updateInstance(o),this.promiseFactory.resolve(o);var r=this.appInstanceRequests[e.id];if(r)return r.promise;r=this.appInstanceRequests[e.id]=this.promiseFactory.defer();var i=this.getAppDefinitionForInstance(e);return i.then((function(o){var i=t.createInstance(o,e.id);t.addInstance(i),r.resolve(i)}),(function(e){r.reject()})).finally((function(){delete t.appInstanceRequests[e.id]})),r.promise},t.prototype.onInstanceDeleted=function(e){this.instances.deleteItems((function(t){return t.packageId===e}))},t.prototype.deleteInstance=function(e){var t=this,o=this.getAppInstance(e);if(null==o)return this.promiseFactory.reject();var r=this.promiseFactory.defer();return this.messageDialogBuilder.show("UninstallAppDialog",{titleText:this.localizationService.get("AppModel_UninstallAppTitle"),messageText:this.localizationService.get("AppModel_UninstallAppMessage"),okButtonText:this.localizationService.get("ModalDialogButtonText_Delete"),cancelButtonText:this.localizationService.get("ModalDialogButtonText_Cancel")}).then((function(e){0===e?t.deleteInstanceInternal(o,r):r.reject()})),r.promise},t.prototype.getAppInstance=function(e){return _.find(this.appInstances,(function(t){return t.packageId===e}))},t.prototype.subscribeToInstanceEvents=function(e){this.appInstancesCollectionChangedHandlers||(this.appInstancesCollectionChangedHandlers=[]),this.appInstancesCollectionChangedHandlers.push(e),this.instances.subscribe(this)},t.prototype.unsubscribeToInstanceEvents=function(e){this.appInstancesCollectionChangedHandlers&&_.pull(this.appInstancesCollectionChangedHandlers,e)},t.prototype.getAppInstancesForApp=function(e){return _.filter(this.appInstances,(function(t){return t.providerContract.providerKey===e}))},t.prototype.onDashboardAdded=function(e){this.updateInstanceIfExists(e.contract.originalPackageId)},t.prototype.onDashboardDeleted=function(e){this.updateInstanceIfExists(e.contract.originalPackageId)},t.prototype.onDashboardsReset=function(){},t.prototype.onModelAdded=function(e){this.updateInstanceIfExists(e.packageId)},t.prototype.onModelDeleted=function(e){this.updateInstanceIfExists(e.packageId)},t.prototype.onModelsReset=function(){},t.prototype.onReportAdded=function(e){this.updateInstanceIfExists(e.packageId)},t.prototype.onReportDeleted=function(e){this.updateInstanceIfExists(e.packageId)},t.prototype.onReportsReset=function(){},t.prototype.onAdded=function(e){this.notifyListeners((function(t){return t.onInstanceInstalled&&t.onInstanceInstalled(e)}))},t.prototype.onDeleted=function(e){this.notifyListeners((function(t){return t.onInstanceUninstalled&&t.onInstanceUninstalled(e)}))},t.prototype.onReset=function(){this.notifyListeners((function(e){return e.onInstancesReset&&e.onInstancesReset()}))},t.prototype.notifyListeners=function(e){var t=this.appInstancesCollectionChangedHandlers;if(!_.isEmpty(t)&&e)for(var o=t.length-1;o>=0;o--)e(t[o])},t.prototype.deleteInstanceInternal=function(t,o){var r=this,i=t.providerContract.providerKey,s=t.packageId;this.onInstanceDeleted(s);var c=this.telemetryService.startEvent(e.telemetry.AppsUninstallApp,i,a[t.category]),d=e.common.httpService.powerbiRequestOptions(c.event,"UninstallApp");d.enableTelemetry=!0,e.common.httpService.delete("/powerbi/content/providers/organization/"+i+"/?packageid="+s+"&uninstall=true",d).then((function(e){c.resolve(),o.resolve(null)}),(function(e){r.addInstance(t),c.reject(n.getTelemetryErrorDetails(e.error,e.status)),r.errorService.error(r.localizationService.get("AppModel_FailToUninstallAppMessage"),"AppModel_FailToUninstallApp",{requestId:e.requestId,statusCode:e.status.toString()}),o.reject()}))},t.prototype.getServiceApp=function(e){return _.find(this.apps,(function(t){return t.providerId===e&&(t.category===a.ServiceApp||t.category===a.Services)}))},t.prototype.getBuiltInApp=function(e){return _.find(this.apps,(function(t){return t.providerId===e&&t.category===a.BuiltIn}))},t.prototype.getOrgApp=function(e){return _.find(this.apps,(function(t){return t.providerId===e&&(t.category===a.OrganizationalApp||t.category===a.OrganizationalTemplateApp)}))},t.prototype.getAppDefinitionForInstance=function(e){return e.packageType!==d.AppInstance?this.promiseFactory.reject():e.contentProviderRefId?this.getAppDefinitionByType(e.contentProviderRefId,0):e.serviceContentProviderId?this.getAppDefinitionByType(e.serviceContentProviderId,1):e.contentProviderId?this.getAppDefinitionByType(e.contentProviderId,2):this.promiseFactory.reject()},t.prototype.getAppDefinitionByType=function(e,t){var o,r=this;switch(t){case 2:o=this.getBuiltInApp(e);break;case 0:o=this.getOrgApp(e);break;case 1:o=this.getServiceApp(e);break;default:o=null}if(o)return this.promiseFactory.resolve(o);var a=this.inFlightAppRequests[t][e];if(a)return a.promise;if(2===t){var n=_.find(i.contentProviderManifest,(function(t){return t.providerId===e}));return n&&this.isAppContentProvider(n)?(o=this.getAppByGUID(n.providerKey),o||this.addApp(n),this.promiseFactory.resolve(o||n)):this.promiseFactory.reject()}return a=this.inFlightAppRequests[t][e]=this.promiseFactory.defer(),this.getAppDefinition(e,1===t).then((function(e){var t=e&&e.data;t&&r.isAppContentProvider(t)?(o=r.getAppByGUID(t.providerKey),o||r.addApp(t),a.resolve(o||t)):a.reject()}),(function(e){return a.reject()})).finally((function(){delete r.inFlightAppRequests[t][e]})),a.promise},t.prototype.isInstalledApp=function(e){return!!this.getAppByGUID(e.providerKey)},t.prototype.isAppCategory=function(e){return _.contains(this.validAppCategories,e)},t.prototype.isAppContentProvider=function(e){return!!e&&this.isAppCategory(e.category)},t.prototype.initializeAppCategories=function(e){this.validAppCategories=[],e.featureSwitches.appsEnabled&&this.validAppCategories.push(a.OrganizationalApp),e.featureSwitches.appTemplatesEnabled&&this.validAppCategories.push(a.OrganizationalTemplateApp),e.featureSwitches.serviceAppsEnabled&&(this.validAppCategories.push(a.BuiltIn),this.validAppCategories.push(a.ServiceApp),this.validAppCategories.push(a.Services))},t.prototype.getAppDefinition=function(t,o){
var r=this.telemetryService.startEvent(e.telemetry.AppsGetApp),i=e.common.httpService.powerbiRequestOptions(r.event,"GetContentProvider"),a="/metadata/appmodel/contentprovider?id="+t;o&&(a+="&isService=true");var s=e.common.httpService.get(a,i);return s.then((function(e){r.resolve()}),(function(e){r.reject(n.getTelemetryErrorDetails(e.error,e.status))})),s},t.prototype.addInstance=function(e){var t=this.getAppInstance(e.packageId);null==t&&this.instances.addItem(e)},t.prototype.createInstance=function(e,t){var o=this.dataServiceModelConverter.convertInstalledAppModel(e,t);return this.updateInstance(o),o},t.prototype.updateInstance=function(e){e.dashboards=this.dashboardDataService.findDashboardsByPackageId(e.packageId)||[],e.reports=this.reportService.findReportsByPackageId(e.packageId)||[],e.workbooks=this.workbookService.findWorkbooksByPackageId(e.packageId)||[],e.models=this.modelService.findModelsByPackageId(e.packageId)||[],e.dashboardIds=_.map(e.dashboards,(function(e){return e.id})),e.reportIds=_.map(e.reports,(function(e){return e.id})),e.workbookIds=_.map(e.workbooks,(function(e){return e.id})),e.modelIds=_.map(e.models,(function(e){return e.id})),this.notifyListeners((function(t){return t.onInstanceUpdated&&t.onInstanceUpdated(e)}))},t.prototype.updateInstanceIfExists=function(e){var t=this.getAppInstance(e);null!=t&&this.updateInstance(t)},t})();t.createMockAppService=r;var p=(function(){function e(e){this.promiseFactory=e}return Object.defineProperty(e.prototype,"apps",{get:function(){return[]},set:function(e){},enumerable:!0,configurable:!0}),e.prototype.getInstalledAppModel=function(e,t){return null},e.prototype.ensureAppsInitialization=function(){return this.promiseFactory.reject()},e.prototype.getAppByCategory=function(e){return[]},e.prototype.getAppByGUID=function(e){return null},e.prototype.updateAppsCollection=function(e){},e.prototype.updateInstances=function(e){},e.prototype.addApp=function(e){},e.prototype.isAppCategory=function(e){return!1},e.prototype.onInstanceAdded=function(e){return this.promiseFactory.reject()},e.prototype.onInstanceDeleted=function(e){},e.prototype.deleteInstance=function(e){return this.promiseFactory.reject()},e.prototype.getAppInstance=function(e){return null},e.prototype.subscribeToInstanceEvents=function(e){},e.prototype.unsubscribeToInstanceEvents=function(e){},e.prototype.getAppInstancesForApp=function(e){},e.prototype.onDashboardAdded=function(e){},e.prototype.onDashboardDeleted=function(e){},e.prototype.onDashboardsReset=function(){},e.prototype.onModelAdded=function(e){},e.prototype.onModelDeleted=function(e){},e.prototype.onModelsReset=function(){},e.prototype.onReportAdded=function(e){},e.prototype.onReportDeleted=function(e){},e.prototype.onReportsReset=function(){},e.prototype.onAdded=function(e){},e.prototype.onDeleted=function(e){},e.prototype.onReset=function(){},e})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(){return new i}var r=e.common.NotifyCollection;t.createDashboardCollectionService=o;var i=(function(){function e(){this.listeners=[],this.collection=new r}return Object.defineProperty(e.prototype,"dashboards",{get:function(){return this.collection.items},set:function(e){this.collection.setItems(e)},enumerable:!0,configurable:!0}),e.prototype.getDashboardContracts=function(){return _.map(this.dashboards,(function(e){return e.contract}))},e.prototype.findDashboardContract=function(e){var t=this.getDashboardContracts();return _.find(t,(function(t){return t.id===e}))},e.prototype.onAdded=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onDashboardAdded&&i.onDashboardAdded(e)}},e.prototype.onDeleted=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onDashboardDeleted&&i.onDashboardDeleted(e)}},e.prototype.onReset=function(){for(var e=this.listeners,t=0,o=e;t<o.length;t++){var r=o[t];r.onDashboardsReset&&r.onDashboardsReset()}},e.prototype.addDashboard=function(e){this.collection.addItem(e)},e.prototype.removeDashboard=function(e){this.collection.deleteItems((function(t){return t.id===e}))},e.prototype.subscribe=function(e){this.listeners.length<1&&this.collection.subscribe(this),this.listeners.push(e)},e.prototype.unsubscribe=function(e){_.pull(this.listeners,e),this.listeners.length<1&&this.collection.unsubscribe(this)},e})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,r,i,n,s){return new a(e,t,o,r,i,n,s)}var r=e.common.contracts.PermissionArtifactType;t.createDashboardDataService=o;var i=3e3,a=(function(){function e(e,t,o,r,i,a,n){this.refreshStateListeners=[],this.InEditMobileLayoutMode=!1,this.dashboardCollectionService=a,this.isDashboardLoaded=!1,this.dashboardHttpService=e,this.promiseFactory=t,this.featureSwitchService=o,this.modelMerger=r,this.modelService=i,this.dashboardsDeferred=t.defer(),this.isQnaEnabled=!1,this.modelService.addModelUpdateListener(this),this.timeout=n,this.refreshState=0}return e.prototype.registerRefreshStateListener=function(e){_.contains(this.refreshStateListeners,e)||this.refreshStateListeners.push(e)},e.prototype.unregisterRefreshStateListener=function(e){_.remove(this.refreshStateListeners,e)},e.prototype.onDashboardTileRefreshStarted=function(e){this.activeDashboardId===e&&0===this.refreshState&&this.notify(1,e)},e.prototype.onDashboardTileRefreshFinished=function(e){var t=this;this.activeDashboardId===e&&1===this.refreshState&&(this.notify(2,e),this.timeout((function(){return t.notify(0,e)}),i))},e.prototype.notify=function(e,t){this.refreshState=e;for(var o=0,r=this.refreshStateListeners;o<r.length;o++){var i=r[o];i.onStateChange(this.refreshState,t)}},Object.defineProperty(e.prototype,"dashboards",{get:function(){return this.dashboardCollectionService.dashboards},set:function(e){this.dashboardCollectionService.dashboards=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editableAndReshareableDashboards",{get:function(){var e=this.dashboards;return _.filter(e,(function(e){return!e.contract.isHidden&&t.PermissionsUtils.canReshare(e.getPermissions(),r.Dashboard)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeDashboard",{get:function(){return this.activeDashboardId===-1?null:this.findDashboard(this.activeDashboardId)},set:function(e){e?this.activeDashboardId=e.id:this.activeDashboardId=-1,this.refreshState=0,this.updateActiveDashboardModels()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeDashboardContainsQnaSupportedModel",{get:function(){return t.DashboardUtils.containsQnaSupportedModel(this.activeDashboardModels,this.modelService,this.featureSwitchService)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeDashboardIndex",{get:function(){return this.dashboards.indexOf(this.activeDashboard)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayName",{get:function(){return this.activeDashboard?this.activeDashboard.displayName:""},enumerable:!0,configurable:!0}),e.prototype.addDashboard=function(e){if(e){var t=this.getDashboardIndex(e.id);t<0&&this.dashboardCollectionService.addDashboard(e)}},e.prototype.addOrReplaceDashboard=function(e){var t=this.getDashboardIndex(e.id);t<0?this.dashboardCollectionService.addDashboard(e):this.dashboards.splice(t,1,e)},e.prototype.deleteDashboardAtServerSide=function(e,t){var o=this.promiseFactory.defer(),r=this.dashboards.filter((function(t){return t.id===e}))[0];return r?this.dashboardHttpService.deleteDashboard(r.contract,t.event).then((function(){t.resolve(),o.resolve(null)}),(function(e){t.reject(),o.reject(e)})):o.reject(),o.promise},e.prototype.deleteDashboard=function(e){this.removeDashboard(e)},e.prototype.deleteTile=function(e,t){var o=this,r=this.promiseFactory.defer(),i=this.findDashboard(e);return i?this.tryUpdateTile(i,t,(function(e,t){if(e>=0&&t>=0){var a=i.contract.tiles[e];i.contract.tiles.splice(e,1),i.tiles.splice(t,1),i.hasModel(a.modelId)||o.dashboardHttpService.addDashboardRequestToBatch(o.promiseFactory,i.id).done((function(e){o.modelMerger.mergeDashboardShallow(i,e.dashboards[0]),o.updateActiveDashboardModels(),r.resolve(null)})).fail((function(){r.reject()}))}else r.resolve(null)})):r.resolve(null),r.promise},e.prototype.dropDashboardfromMemoryIfNotActive=function(e){var t=this.activeDashboard;if(!t||t.id!==e){var o=this.findDashboard(e);return o&&(o.contract.tiles=null,o.isLoaded=!1),!0}return!1},e.prototype.findDashboard=function(e){return _.find(this.dashboards,(function(t){return t.id===e}))},e.prototype.findDashboardByGUID=function(e){for(var t=0,o=this.dashboards;t<o.length;t++){var r=o[t];if(r.objectId===e)return r}},e.prototype.findDashboardsByPackageId=function(e){var t=this.dashboards;if(t)return _.filter(t,(function(t){return!(!t.contract||!t.contract.originalPackageId)&&t.contract.originalPackageId===e}))},e.prototype.getDashboardIndex=function(e){for(var t=this.dashboards,o=0,r=t.length;o<r;o++)if(t[o].id===e)return o;return-1},e.prototype.registerDashboards=function(e){this.dashboards=e,this.isDashboardLoaded=!0},e.prototype.tryUpdateTile=function(e,t,o){if(e){var r=e.getTileContractIndex(t),i=e.getTileIndex(t);o(r,i),e.scheduleDelayedLayout(this.activeDashboard!==e)}},e.prototype.updateActiveDashboardModels=function(){this.activeDashboardModels=t.DashboardUtils.getDashboardModels(this.activeDashboard,this.modelService.getModelContracts()),this.updateIsQnaEnabled()},e.prototype.isActiveDashboardModelRefreshDisabled=function(){var e=this.activeDashboardModels;if(_.isEmpty(e))return!1;for(var t=this.modelService,o=0,r=e;o<r.length;o++){var i=r[o],a=t.findModel(i.id,i.packageId);if(a&&a.isRefreshDisabledDueToInactivity())return!0}return!1},e.prototype.updateIsQnaEnabled=function(){this.activeDashboard?"undefined"!=typeof this.activeDashboard.qnaEnabled?this.isQnaEnabled=this.activeDashboard.qnaEnabled:this.isQnaEnabled=this.activeDashboardContainsQnaSupportedModel:this.isQnaEnabled=!1},e.prototype.onModelUpdated=function(e,t){var o=this.modelService.findModel(e,t);o&&this.updateActiveDashboardModels()},e.prototype.getDashboards=function(){var e=this;return this.dashboardsDeferred.promise.then((function(){return e.dashboards}))},e.prototype.resolveDashboardDeferred=function(){this.dashboardsDeferred.resolve(this)},e.prototype.rejectDashboardDeferred=function(){this.dashboardsDeferred.reject()},e.prototype.removeDashboard=function(e){this.dashboardCollectionService.removeDashboard(e)},e.prototype.subscribe=function(e){this.dashboardCollectionService.subscribe(e)},e.prototype.unsubscribe=function(e){this.dashboardCollectionService.unsubscribe(e)},e})();t.DashboardDataService=a})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,i,a,n,s,c,d,l,p,u,v,f,h,m,g){return new r(e,t,o,i,a,n,s,c,d,l,p,u,v,f,h,m,g)}t.createDashboarSyncService=o;var r=(function(){function o(e,t,o,r,i,a,n,s,c,d,l,p,u,v,f,h,m){this.rootScope=e,this.dashboardDataService=t,this.dashboardHttpService=o,this.modelConverter=r,this.modelMerger=i,this.modelService=a,this.reportService=s,this.promiseFactory=n,this.resourcePackageGateService=c,this.resourcePackageListenerService=d,this.resourcePackagesService=l,this.syncService=p,this.telemetryService=u,this.tutorialDataStore=v,this.userInfo=f,this.workbookService=h,this.permissionService=m,this.syncService.addDashboardRefreshListener(this)}return o.prototype.onTilesAddedOrUpdated=function(e,t){var o=this;if(!this.dashboardDataService.dropDashboardfromMemoryIfNotActive(e)){if(this.dashboardDataService.selectedDashboardTile){0===t.length&&(t=this.dashboardDataService.activeDashboard.tiles.map((function(e){return e.id})));var r=t.indexOf(this.dashboardDataService.selectedDashboardTile.tileModel.id);if(r>=0&&(t.splice(r,1),0===t.length))return}this.dashboardHttpService.batchGetTiles(e,t,void 0).then((function(t){var r=t.data;if(!_.isEmpty(r))for(var i=0,a=r.length;i<a;++i){var n=r[i];o.registerAndUpdateTile(e,n)}}))}},o.prototype.onTileDeleted=function(e,t){this.dashboardDataService.dropDashboardfromMemoryIfNotActive(e)||this.dashboardDataService.deleteTile(e,t)},o.prototype.onDashboardAdded=function(e){this.addOrDeepEditDashboard(e)},o.prototype.onDashboardDeleted=function(e){this.beforeDashboardDeleting&&this.beforeDashboardDeleting(e),this.dashboardDataService.deleteDashboard(e),this.afterDashboardDeleting&&this.afterDashboardDeleting(e)},o.prototype.onDashboardShallowEdit=function(o){var r=this,i=this.dashboardDataService.findDashboard(o);i&&this.dashboardHttpService.addDashboardRequestToBatch(this.promiseFactory,o,e.common.DashboardRequestType.Metadata).done((function(e){var o=e.dashboards[0],a=o.isHidden&&!i.isHidden;r.modelMerger.mergeDashboardShallow(i,o),a&&r.dashboardDataService.deleteDashboard(i.id),r.rootScope.$emit(t.constants.onDashboardShallowEditEventName,i,o)}))},o.prototype.onDashboardDeepEdit=function(e){this.dashboardDataService.dropDashboardfromMemoryIfNotActive(e)||this.addOrDeepEditDashboard(e)},o.prototype.onDashboardTileDataChange=function(e){this.onTilesAddedOrUpdated(e,[]),this.dashboardDataService.onDashboardTileRefreshFinished(e)},o.prototype.onClearBatchedDashboardRequests=function(){this.dashboardHttpService.batchedDashboardRequests=[]},o.prototype.addOrDeepEditDashboard=function(o){var r=this,i=this.telemetryService.startEvent(e.telemetry.DashboardAddUpdateDashboard);this.dashboardHttpService.addDashboardRequestToBatch(this.promiseFactory,o).done((function(e){r.addOrUpdateDashboard(e),r.rootScope.$emit(t.constants.updateDashboardContainerEventName,[e]),r.dashboardDataService.onDashboardTileRefreshFinished(o),i.resolve()})).fail((function(){i.reject()}))},o.prototype.addOrUpdateCustomVisualTile=function(e,o,r,i){var a=this;this.isResourcePackageInCache(e)?this.addOrUpdateTile(o,r,this.modelService.getModelContracts()):this.resourcePackageListenerService.getAndLoadVisualPlugin(e).then((function(){a.addOrUpdateTile(o,r,a.modelService.getModelContracts()),i&&(a.resourcePackageGateService.resetResourceFlag(),a.rootScope.$emit(t.constants.shouldShowEnableCustomVisualsDialog))}))},o.prototype.addOrUpdateDashboard=function(e){var o=e.dashboards[0],r=this.modelConverter.convertDashboard(o,e.models,e.reports),i=this.dashboardDataService.getDashboardIndex(o.id),a=!1;if(this.modelConverter.fillDashboardChildren(r,e.models,e.reports,this.workbookService.getWorkbookContracts()),i>=0){var n=this.dashboardDataService.dashboards[i];this.modelMerger.mergeDashboard(n,o,e.models,e.reports);for(var s=n.tiles.length,c=0;c<s;c++){var d=n.tiles[c];d.invalidateLayout()}}else this.dashboardDataService.addDashboard(r),r.isNew=!0,r.isNotified=!1,r.isLoaded=!0,a=!0,this.userInfo.addOrUpdateDashboardOwnerInfoCache(o.ownerInfo);this.rootScope.$emit(t.constants.addOrUpdateDashboardEventName,e,a),this.dashboardDataService.onDashboardTileRefreshFinished(r.id)},o.prototype.addOrUpdateTile=function(e,t,o){var r=this;e&&(o=o||[],this.updateModelsIfRequired(e,t),this.dashboardDataService.tryUpdateTile(e,t.id,(function(i,a){var n=r.reportService.findReport(t.reportId),s=null;i>=0?(e.contract.tiles[i]=t,a>=0&&(s=e.tiles[a],r.modelMerger.mergeTile(s,t,o,null,r.workbookService.getWorkbookContracts(),r.reportService.reports))):(!n&&t.reportId&&(n=r.modelConverter.convertReport({id:t.reportId}),r.reportService.addReport(n)),s=r.modelConverter.convertTile(t,o,null,r.workbookService.getWorkbookContracts()),e.contract.tiles.push(t),e.tiles.push(s)),s&&(s.invalidateLayout(),n&&(s.report=n))})))},o.prototype.clearSeenDashboards=function(){var o=this.telemetryService.startEvent(e.telemetry.DashboardSharingNewUnseenDashboards,0,0,0);this.tutorialDataStore.setKey(t.constants.seenDashboardsStorageKey,{},o)},o.prototype.registerAndUpdateTile=function(e,t){var o=this.dashboardDataService.findDashboard(e),r=$.map(t.resourcePackageIds,(function(e){return e.toString()})),i=this.resourcePackageGateService.shouldShowWarning(r,this.dashboardDataService.activeDashboard.objectId);if(t.resourcePackageIds&&t.resourcePackageIds.length>0)for(var a=t.resourcePackageIds.length,n=0;n<a;++n)this.addOrUpdateCustomVisualTile(t.resourcePackageIds[n],o,t,i);else this.addOrUpdateTile(o,t,this.modelService.getModelContracts())},o.prototype.updateModelsIfRequired=function(e,o){var r=this,i=e.getTileContractIndex(o.id),a=i!==-1&&o.publishState===t.contracts.TilePublishState.Completed&&e.contract.tiles[i].publishState===t.contracts.TilePublishState.InProgress;!a&&e.hasModel(o.modelId)||this.dashboardHttpService.addDashboardRequestToBatch(this.promiseFactory,e.id).done((function(o){a&&(r.modelMerger.mergeDashboardTiles(e,o),r.rootScope.$emit(t.constants.mergeDashboardContainerModelsReportsAndPackagesEventName,o),r.modelMerger.mergeModelContentProviderId(o.models,o.packages)),r.modelMerger.mergeDashboardShallow(e,o.dashboards[0]),r.dashboardDataService.updateActiveDashboardModels()}))},o.prototype.isResourcePackageInCache=function(e){var t=this.resourcePackagesService.getAllPackages();return _.some(t,(function(t){return t.id===e}))},o})();t.DashboardSyncService=r})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,i,a,n){return new r(e,t,o,i,a,n)}t.createHostAppMetadataService=o;var r=(function(){function t(e,t,o,r,i,a){this.promiseFactory=e,this.telemetryService=t,this.eventFactory=o,this.editableFeatureSwitchService=r,this.errorCallback=i,this.getAppMetadataDeferred=this.promiseFactory.defer(),this.requestAppMetadata(r,a)}return t.prototype.getAppMetadata=function(){return this.getAppMetadataDeferred.promise},t.prototype.requestAppMetadata=function(o,r){var i=this,a=this.telemetryService.startEvent(this.eventFactory),n=e.common.httpService.powerbiRequestOptions(a.event,"DashboardHostGetAppMetadata",{isAdminRequest:r});e.common.httpService.get("powerbi/metadata/app",n).then((function(e){var t=e.data;window.initialDashboardContainer=t,i.editableFeatureSwitchService.registerFeatureSwitches(t.featureSwitches),i.getAppMetadataDeferred.resolve(t),a.resolve()}),(function(o){i.getAppMetadataDeferred.reject(null),a.reject(e.errorDetailsHelper.getTelemetryErrorDetails(o.error,o.status)),i.errorCallback&&i.errorCallback(t.pageRefreshErrorMessage)}))},t})();r.pageRefreshErrorMessage="GetAppMetadataRequestFailed"})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){function t(){return new o}e.createPackageCollectionService=t;var o=(function(){function e(){this.packages=[]}return e.prototype.getPackageContracts=function(){return _.map(this.packages,(function(e){return e.contract}))},e.prototype.findPackageContract=function(e){var t=this.getPackageContracts();return _.find(t,(function(t){return t.id===e}))},e})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,r,i,a,n,s,d,l,p,u,v,f,h){return new c(e,t,o,r,i,a,n,s,d,l,p,u,v,f,h)}var r=t.models.ContentPackItems,i=e.common.contracts.ContentProviderCategory,a=t.contracts.PackageType,n=e.common.contracts.PublishOrRefreshStatus,s=e.common.contracts.StorageProviderType;t.createPackageService=o;var c=(function(){function o(e,t,o,r,i,a,n,s,c,d,l,p,u,v,f){this.rootScope=e,this.telemetryService=t,this.errorService=o,this.modelMerger=r,this.modelConverter=i,this.reportService=a,this.modelService=n,this.syncService=s,this.localizationService=c,this.appMetadataService=d,this.workbookService=l,this.appService=p,this.packageCollectionService=u,this.permissionService=v,this.promiseFactory=f,this.initPackages(),this.syncService.addPackageRefreshListener(this)}return o.prototype.ensurePackagesInitialization=function(){return this.packagesInitializationDeferred.promise},Object.defineProperty(o.prototype,"packages",{get:function(){return this.packageCollectionService.packages},set:function(e){this.packageCollectionService.packages=e},enumerable:!0,configurable:!0}),o.prototype.findPackage=function(e){return _.find(this.packages,(function(t){return t.id===e}))},o.prototype.getWorkbookStorageProvider=function(e){var t=this.findPackage(e);return t&&t.contract?t.contract.storageProviderType:null},o.prototype.getWorkbookContentProvider=function(e){var t=this.findPackage(e);return t?t.contentProviderId:null},o.prototype.getInstalledOrgPackage=function(e){return _.find(this.packages,(function(t){return t.contract&&t.contract.contentProviderRefId&&t.contract.contentProviderRefId===e&&t.packageType===a.AppInstance}))},o.prototype.isLocalWorkbook=function(e){var t=this.findPackage(e);return t&&t.contract&&t.contract.storageProviderType===s.Local},o.prototype.getPackagesByProviderId=function(e,t){switch(t){case i.BuiltIn:return _.filter(this.packages,(function(t){return t.contract.contentProviderId===e}));case i.Organizational:case i.OrganizationalApp:case i.OrganizationalTemplate:case i.OrganizationalTemplateApp:return _.filter(this.packages,(function(t){return t.contract.contentProviderRefId===e}));case i.ServiceApp:case i.Services:return _.filter(this.packages,(function(t){return t.contract.serviceContentProviderId===e}))}},o.prototype.getPackagesByProviderIdAndPackageType=function(e,t,o){switch(t){case i.BuiltIn:return _.filter(this.packages,(function(t){return t.contract.contentProviderId===e&&t.packageType===o}));case i.Organizational:case i.OrganizationalApp:case i.OrganizationalTemplate:case i.OrganizationalTemplateApp:return _.filter(this.packages,(function(t){return t.contract.contentProviderRefId===e&&t.packageType===o}));case i.ServiceApp:case i.Services:return _.filter(this.packages,(function(t){return t.contract.serviceContentProviderId===e&&t.packageType===o}))}},o.prototype.getAllAppPackagesByType=function(e){return _.filter(this.packages,(function(t){return t.packageType===e}))},o.prototype.isRefreshNowEnabledForWorkbook=function(e){if(!e)return!1;if(!e.isOwner())return!1;var t=this.findPackage(e.packageId);return!(!t||!t.contract)},o.prototype.isScheduleRefreshEnabledForWorkbook=function(e){return!(!e||!e.contract)&&(!!this.isRefreshNowEnabledForWorkbook(e)&&(void 0!==e.modelId&&!!e.contract.isPowerPivotVersionSupportsRefresh))},o.prototype.initPackages=function(){var e=this;this.packagesInitializationDeferred=this.promiseFactory.defer(),this.appMetadataService.getAppMetadata().then((function(t){e.loadPackages(t),e.packagesInitializationDeferred.resolve(e)}),(function(){return e.packagesInitializationDeferred.reject()}))},o.prototype.loadPackages=function(e){e&&e.packages&&this.updatePackageCollection(e.packages)},o.prototype.updatePackageCollection=function(e){if(this.packages=[],!_.isEmpty(e))for(var t=0,o=e.length;t<o;++t)this.packages.push(this.modelConverter.convertPackage(e[t]))},o.prototype.mergePackageCollection=function(e){if(!_.isEmpty(e)){for(var t=0,o=e.length;t<o;++t)this.packages.push(this.modelConverter.convertPackage(e[t]));this.packages=_.unique(this.packages,!1,(function(e){return e.id}))}},o.prototype.deletePackage=function(e){var t=this.getPackageIndex(e);if(t>=0){var o=this.findPackage(e);o.contract.reports&&this.reportService.deleteReportForPackage(e),o.packageType===a.AppInstance&&this.appService.onInstanceDeleted(o.id),this.modelService.deleteModelForPackage(e),this.workbookService.deleteWorkbookForPackage(e),this.packages.splice(t,1)}},o.prototype.getPackageIndex=function(e){if(this.packages.length>0)for(var t=0,o=this.packages.length;t<o;t++){var r=this.packages[t];if(r.id===e)return t}return-1},o.prototype.updatePackage=function(e){if(e&&e.id){var o=this.findPackage(e.id);o?this.modelMerger.mergePackage(o,e):(o=this.modelConverter.convertPackage(e),this.packages.push(o)),o.hasUpdate()&&this.rootScope.$emit(t.constants.packageVersionChange,e.id)}},o.prototype.onPackagePublishRefreshCompleted=function(o){var r=this,i=this.telemetryService.startEvent(e.telemetry.DashboardGetNavigationPanePackage);t.packageHttpService.getPackage(o,i.event).then((function(t){var s=t.data;if(s.models)for(var c=0,d=s.models.length;c<d;c++){var l=s.models[c],p=r.modelService.findModel(l.id,o);p?r.updateExistingModel(p,l,s.publishOrRefreshStatus):r.modelService.onModelAdded(l.id,o)}if(s.reports)for(var c=0,u=s.reports.length;c<u;c++){var v=s.reports[c],f=r.reportService.updateReport(v);f?f.packagePublishStatus=s.publishOrRefreshStatus:r.reportService.addContractReport(v)}if(s.workbooks)for(var c=0,h=s.workbooks.length;c<h;c++){var m=s.workbooks[c],g=r.workbookService.updateWorkbook(m.id);g||r.workbookService.onWorkbookAdded(m.id,o)}s.packageType===a.AppInstance&&r.appService.onInstanceAdded(s),r.updatePackage(s),s.publishOrRefreshStatus===n.FinishedSuccessfully&&r.rootScope.$emit(e.dataServices.constants.packagePublishedSuccessfullyEventName,s.id),i.resolve()}),(function(){i.reject()}))},o.prototype.onPackagePublishEdit=function(o){var i=this,a=this.telemetryService,s=a.startEvent(e.telemetry.DashboardGetNavigationPanePackage);t.packageHttpService.getPackage(o,s.event).then((function(a){var c=a.data,d=!1,l=0;if(c.models)for(var p=0,u=c.models.length;p<u;p++){var v=c.models[p],f=i.modelService.findModel(v.id,o);f&&i.updateExistingModel(f,v,c.publishOrRefreshStatus)}if(c.reports)for(var p=0,h=c.reports.length;p<h;p++){var m=c.reports[p],g=i.reportService.findReport(m.id);g&&g.packageVersion!==m.packageVersion&&g.isUsedByContentPack&&(d=!0,l=m.id);var y=i.reportService.updateReport(m);y&&(y.modelId=m.modelId,y.model=i.modelService.findModel(m.modelId,o),y.packagePublishStatus=c.publishOrRefreshStatus)}if(c.workbooks)for(var p=0,b=c.workbooks.length;p<b;p++){var S=c.workbooks[p];i.workbookService.updateWorkbook(S.id)}var I=i.findPackage(c.id),k=I?I.publishOrRefreshStatus:null;i.updatePackage(c),k!==n.FinishedSuccessfully&&c.publishOrRefreshStatus===n.FinishedSuccessfully&&i.rootScope.$emit(e.dataServices.constants.packagePublishedSuccessfullyEventName,c.id),c.publishOrRefreshStatus===n.PublishError&&i.deletePackageOnPublishFailure(a),d&&(i.rootScope.$emit(t.constants.contentPackDirtyShowNotification,l,r.Report),d=!1),s.resolve()}),(function(){s.reject()}))},o.prototype.updateExistingModel=function(e,t,o){e.dbName=t.dbName,e.vsName=t.vsName,e.contract.packagePublishStatus=o,e.packagePublishStatus=o},o.prototype.onPackageDeleted=function(e){this.deletePackage(e)},o.prototype.deletePackageOnPublishFailure=function(e){var t=this,o=this.localizationService.get("NavigationPane_PackagePublishErrorTitle"),r=this.localizationService.get("NavigationPane_PackagePublishErrorContent"),i={label:this.localizationService.get("ModalDialogButtonText_Delete"),resultValue:"delete",cssClass:"primary"},a={label:this.localizationService.get("ModalDialogButtonText_Cancel"),resultValue:"cancel"},n=[i,a],s=function(o){if("delete"===o)for(var r=e.data.models.length,i=0;i<r;i++)t.modelService.deleteModel(e.data.models[i].id)};this.errorService.error(r,"deletePackageOnPublishFailure",{title:o,dialogOptions:n,dismissCallback:s,isDismissable:!0,showAdditionalErrorInfo:!0,requestId:e?e.requestId:"",statusCode:e?e.status.toString():""})},o})();t.PackageService=c})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,r,i,n,s,c,d){return new a(e,t,o,r,i,n,s,c,d)}var r=jsCommon.EnumExtensions,i=e.common.contracts.Permissions;t.createPermissionService=o;var a=(function(){function o(e,t,o,r,i,a,n,s,c){this.activeGroupIdService=e,this.impersonationService=t,this.appCollectionService=o,this.packageCollectionService=r,this.modelCollectionService=i,this.reportCollectionService=a,this.workbookCollectionService=n,this.dashboardCollectionService=s,this.telemetryService=c,this.errorsLogged={}}return Object.defineProperty(o.prototype,"activeWorkSpacePermission",{get:function(){return this.activeGroupIdService.isReadOnly?i.Read:i.All},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isActiveWorkspaceIsReadOnly",{get:function(){return this.impersonationService.impersonating||!r.hasFlag(this.activeWorkSpacePermission,i.Write)},enumerable:!0,configurable:!0}),o.prototype.isGroupWorkspaceReadOnly=function(e,t){var o=e&&!t?i.Read:i.All;return!r.hasFlag(o,i.Write)},o.prototype.getReportEffectivePermissions=function(e){var o=e&&e.permissions;return null==o?this.logErrorIfItemNotFoundForType("report",e.id):e&&e.packageId&&(t.PermissionsUtils.markDashboardAndReportsAsCopyableIfPartOfTemplateInstance(null,[e.id],null,e.packageId,this.modelCollectionService,this.reportCollectionService,this.dashboardCollectionService,this.packageCollectionService,this.appCollectionService),o=e&&e.permissions),o},o.prototype.getModelEffectivePermissions=function(e){var t=e&&e.permissions;return null==t&&this.logErrorIfItemNotFoundForType("model",e.id,e.packageId),t},o.prototype.getDashboardEffectivePermissions=function(e){var o=e&&e.permissions;return null==o?this.logErrorIfItemNotFoundForType("dashboard",e.id):e&&e.originalPackageId&&(t.PermissionsUtils.markDashboardAndReportsAsCopyableIfPartOfTemplateInstance([e.id],null,null,e.originalPackageId,this.modelCollectionService,this.reportCollectionService,this.dashboardCollectionService,this.packageCollectionService,this.appCollectionService),o=e&&e.permissions),o},o.prototype.getWorkbookEffectivePermissions=function(e){var t=e&&e.permissions;return null==t&&this.logErrorIfItemNotFoundForType("workbook",e.id),t},o.prototype.getPackageEffectivePermissions=function(e){var t=e&&e.permissions;return null==t&&this.logErrorIfItemNotFoundForType("package",e.id,e.id),t},o.prototype.logErrorIfItemNotFoundForType=function(t,o,r){this.errorsLogged[t]||(this.errorsLogged[t]=!0,this.telemetryService.logEvent(e.telemetry.PermissionsObjectNotFound,o,r,t))},o})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o){return new r(e,t,o)}t.createResourcePackageListenerService=o;var r=(function(){function t(e,t,o){this.resourcePackageService=e,this.promiseFactory=t,this.visualPluginService=o}return t.prototype.onResourcePackageAdded=function(e){return this.getAndLoadVisualPlugin(e)},t.prototype.getResourcePackageByResourceId=function(t){var o=e.common.httpService.powerbiRequestOptions(null,"GetResourcePackageByResourceId");return e.common.httpService.post("/powerbi/metadata/resourcePackage",[t],o)},t.prototype.getAndLoadVisualPlugin=function(e){var t=this,o=this.promiseFactory.defer(),r=this.resourcePackageService.getPackageById(e);return r?o.resolve([r]):this.getResourcePackageByResourceId(e).then((function(r){var i=t.resourcePackageService.getPackageById(e);i?o.resolve([i]):(t.resourcePackageService.registerPackages(r.data),t.visualPluginService.ensurePlugins(r.data).then((function(){o.resolve(r.data)}),(function(){o.reject()})))}),(function(e){o.reject()})),o.promise},t.prototype.getAndLoadVisualPluginsForDashboard=function(e){var t=this,o=this.getAllRequiredResourcePackageIds(e);return this.loadRequiredResourcePackagesAndVisualPlugins(o).then((function(e){var o=_.chain(e).filter((function(e){return 0===e.type})).map((function(e){return t.getCustomVisualTypesFromResourcePackages(e.value)})).flatten(!1).unique().value();return t.promiseFactory.resolve(o)}))},t.prototype.getCustomVisualTypesFromResourcePackages=function(e){return _.chain(e).filter((function(e){return 0===e.type})).map((function(e){return e.name})).unique().value()},t.prototype.getLoadedCustomVisualTypesForDashboard=function(e){var t=[];if(e&&e.tiles)for(var o=0,r=e.tiles;o<r.length;o++){var i=r[o],a=i.contract.resourcePackageIds;if(a)for(var n=0,s=a;n<s.length;n++){var c=s[n],d=this.resourcePackageService.getPackageById(c);d&&0===d.type&&t.push(d.name)}}return _.unique(t)},t.prototype.getAllRequiredResourcePackageIds=function(e){var t=[];if(e&&e.tiles)for(var o=0,r=e.tiles;o<r.length;o++){var i=r[o],a=i.contract.resourcePackageIds;if(a)for(var n=0,s=a;n<s.length;n++){var c=s[n];t.push(c)}}return _(t).unique().value()},t.prototype.getAllRequiredResourcePackageIdStrings=function(e){var t=this.getAllRequiredResourcePackageIds(e);
return $.map(t,(function(e){return e.toString()}))},t.prototype.loadRequiredResourcePackagesAndVisualPlugins=function(e){for(var t=[],o=0,r=e;o<r.length;o++){var i=r[o];t.push(this.getAndLoadVisualPlugin(i))}return this.promiseFactory.allSettled(t)},t})();t.ResourcePackageListenerService=r})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,r,i,a,s,c,d,l,p,u){return new n(e,t,o,r,i,a,s,c,d,l,p,u)}var r=jsCommon.EnumExtensions,i=e.common.contracts.Permissions,a=e.common.contracts.PermissionArtifactType;t.createReportService=o;var n=(function(){function o(e,t,o,r,i,a,n,s,c,d,l,p){this.rootScope=e,this.telemetryService=t,this.errorService=o,this.modelMerger=r,this.modelConverter=i,this.syncService=a,this.reportHttpService=n,this.localizationService=s,this.appMetadataService=c,this.promiseFactory=d,this.reportCollectionService=l,this.permissionService=p,this.reportsDeferred=d.defer(),this.syncService.addReportRefreshListener(this),this.initReports()}return o.prototype.ensureReportsInitialization=function(){return this.reportsDeferred.promise},Object.defineProperty(o.prototype,"reports",{get:function(){return this.reportCollectionService.reports},set:function(e){this.reportCollectionService.reports=e},enumerable:!0,configurable:!0}),o.prototype.getReports=function(){return this.reportsDeferred.promise.then((function(e){return e.reports}))},o.prototype.onReportAdded=function(e){var t=this,o=this.findReport(e);o&&!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(o.displayName)||this.reportHttpService.getReport(e,this.telemetryService.root).then((function(r){var a=r.data;if((a.permissions&i.Write)===i.Write||(a.permissions&i.CopyOnWrite)===i.CopyOnWrite)if(o=t.findReport(e))t.modelMerger.mergeReport(o,a);else{var n=t.modelConverter.convertReport(a);n.isNew=!0,t.addReport(n)}}),(function(){}))},o.prototype.onReportDeleted=function(e){this.removeReport(e)},o.prototype.onReportSlideThumbnailEdit=function(e){},o.prototype.onReportUpdated=function(t){var o=this;if(!(this.reports.length<0)){var r=this.findReport(t);r&&this.reportHttpService.getReport(t,this.telemetryService.root).then((function(i){o.modelMerger.mergeReport(r,i.data),o.currentActiveReport={id:t,displayName:r.displayName,guid:r.objectId},o.rootScope.$emit(e.common.constants.currentActiveReportInfoChangedEventName,o.currentActiveReport)}),_.noop)}},o.prototype.retrieveReportForApp=function(e,t){if(null!=e&&!_.isEmpty(t))return _.find(this.reports,(function(o){return o.packageId===e&&o.contract.originalReportObjectId===t}))},o.prototype.updateReportCollection=function(e){var t=[];if(!_.isEmpty(e))for(var o=0,r=e.length;o<r;++o)t.push(this.modelConverter.convertReport(e[o]));this.reports=t},o.prototype.mergeReportCollection=function(e){if(!_.isEmpty(e))for(var t=_.indexBy(this.reports,"id"),o=0,r=e;o<r.length;o++){var i=r[o];t[i.id]||this.addReport(this.modelConverter.convertReport(i))}},o.prototype.updateReport=function(e){var t=this.findReport(e.id);return t&&this.modelMerger.mergeReport(t,e),t},o.prototype.getReportContracts=function(){return this.reportCollectionService.getReportContracts()},Object.defineProperty(o.prototype,"editableReports",{get:function(){var e=this.permissionService;return _.filter(this.reports,(function(o){var r=e.getReportEffectivePermissions(o.contract);return t.PermissionsUtils.canReshare(r,a.Report)}))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"copyAndEditReports",{get:function(){var e=this.permissionService;return _.filter(this.reports,(function(t){var o=e.getReportEffectivePermissions(t.contract);return r.hasFlag(o,i.Write)||r.hasFlag(o,i.CopyOnWrite)}))},enumerable:!0,configurable:!0}),o.prototype.deleteReportsForModel=function(e,t){for(var o=_.filter(this.reports,(function(o){return o.modelId===e&&o.packageId===t})),r=0,i=o.length;r<i;++r)this.onReportDeleted(o[r].id);return o},o.prototype.deleteReportForPackage=function(e){for(var t=_.filter(this.reports,(function(t){return t.packageId===e})),o=0,r=t.length;o<r;++o)this.onReportDeleted(t[o].id)},o.prototype.addContractReport=function(e){if(e&&null!=e.id){var t=this.modelConverter.convertReport(e),o=this.getReportIndex(e.id);o<0&&(t.isNew=!0,this.addReport(t))}},o.prototype.addReport=function(e){this.reportCollectionService.addReport(e)},o.prototype.removeReport=function(e){var t=this.findReport(e);if(null!=t)return this.reportCollectionService.removeReport(e),t},o.prototype.deleteReport=function(e){this.deleteReportInternal(e)},o.prototype.getReportIndex=function(e){if(null!=e&&this.reports.length>0)for(var t=0,o=this.reports.length;t<o;t++){var r=this.reports[t];if(r.id===e)return t}return-1},o.prototype.findReport=function(e){return null!=e?_.find(this.reports,(function(t){return t.id===e})):null},o.prototype.findReportByGUID=function(e){return null!=e?_.find(this.reports,(function(t){return t.objectId===e})):null},o.prototype.findReportByOriginalReportId=function(e){return null!=e?_.find(this.reports,(function(t){return t.contract.originalReportId===e})):null},o.prototype.findReportsByPackageId=function(e){return _.filter(this.reports,(function(t){return t.packageId===e}))},o.prototype.renameReport=function(o,r){var i=this;if(this.isReportNameValid(o)){var a=this.findReport(r);if(!a)return;var n=a.contract.displayName;if(n!==o){var s=this.telemetryService.startEvent(e.telemetry.DashboardRenameReport);a.displayName=o,this.reportHttpService.renameReport(a,o,s.event).then((function(){s.resolve(),a&&a.isUsedByContentPack&&i.rootScope.$emit(t.constants.contentPackDirtyShowNotification,a.id,t.models.ContentPackItems.Report),i.rootScope.$emit(e.common.constants.currentActiveReportInfoChangedEventName,{id:r,displayName:a.displayName,guid:a.objectId})}),(function(t){t.status===e.HttpStatusCode.Unauthorized?i.errorService.error(i.localizationService.get("Report_NoPermissionToRenameMessage"),"Report_NoPermissionToRename",{requestId:t.requestId,statusCode:t.status.toString()}):i.errorService.error(i.localizationService.get("Report_FailToRenameReportMessage"),"Report_FailToRenameReport",{requestId:t.requestId,statusCode:t.status.toString()}),a.displayName=n,s.reject()}))}}},o.prototype.isReportNameValid=function(e){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e)},o.prototype.initReports=function(){var e=this;this.appMetadataService.getAppMetadata().then((function(t){e.loadReports(t)}),(function(){e.loadReports()}))},o.prototype.deleteReportInternal=function(o){var r=this,i=this.telemetryService.startEvent(e.telemetry.DashboardDeleteReport),a=this.removeReport(o);return null==a?void i.resolve():void this.reportHttpService.deleteReport(a.contract,i.event).then((function(){r.rootScope.$emit(t.constants.reportDeletedEventName,o),i.resolve(),a&&a.isUsedByContentPack&&r.rootScope.$emit(t.constants.contentPackDirtyShowNotification,a.id,t.models.ContentPackItems.Report)}),(function(t){t.status===e.HttpStatusCode.Unauthorized?r.errorService.error(r.localizationService.get("Report_NoPermissionToDeleteMessage"),"Report_NoPermissionToDelete",{requestId:t.requestId,statusCode:t.status.toString()}):r.errorService.error(r.localizationService.get("Report_FailToDeleteReportMessage"),"Report_FailToDeleteReport",{requestId:t.requestId,statusCode:t.status.toString()}),r.addReport(a),i.reject()}))},o.prototype.loadReports=function(t){var o=this;if("undefined"==typeof t){var r=this.telemetryService.startEvent(e.telemetry.DashboardInitializeNavigationPaneReports);this.reportHttpService.getReports(r.event).then((function(e){var t=e.data;o.updateReportCollection(t),r.resolve(),o.reportsDeferred.resolve(o)}),(function(){r.reject(),o.reportsDeferred.reject()}))}else t.reports&&(this.updateReportCollection(t.reports),this.reportsDeferred.resolve(this))},o.prototype.subscribe=function(e){this.reportCollectionService.subscribe(e)},o.prototype.unsubscribe=function(e){this.reportCollectionService.unsubscribe(e)},o})();t.ReportService=n})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(){return new i}var r=e.common.NotifyCollection;t.createReportCollectionService=o;var i=(function(){function e(){this.listeners=[],this.collection=new r}return Object.defineProperty(e.prototype,"reports",{get:function(){return this.collection.items},set:function(e){this.collection.setItems(e)},enumerable:!0,configurable:!0}),e.prototype.getReportContracts=function(){return _.map(this.reports,(function(e){return e.contract}))},e.prototype.findReportContract=function(e){var t=this.getReportContracts();return _.find(t,(function(t){return t.id===e}))},e.prototype.onAdded=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onReportAdded&&i.onReportAdded(e)}},e.prototype.onDeleted=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onReportDeleted&&i.onReportDeleted(e)}},e.prototype.onReset=function(){for(var e=this.listeners,t=0,o=e;t<o.length;t++){var r=o[t];r.onReportsReset&&r.onReportsReset()}},e.prototype.addReport=function(e){this.collection.addItem(e)},e.prototype.removeReport=function(e){this.collection.deleteItems((function(t){return t.id===e}))},e.prototype.subscribe=function(e){this.listeners.length<1&&this.collection.subscribe(this),this.listeners.push(e)},e.prototype.unsubscribe=function(e){_.pull(this.listeners,e),this.listeners.length<1&&this.collection.unsubscribe(this)},e})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o=e.common.contracts.Permissions,r=e.common.models.ReportPermissions,i=(function(){function t(e){this.userInfo=e}return t.prototype.mapReportOwnerFullnames=function(e,t,o,r){this.mapResourceOwnerFullnames(e,t,o,r,"reportIds")},t.prototype.mapWorkbookOwnerFullnames=function(e,t,o,r){this.mapResourceOwnerFullnames(e,t,o,r,"workbookIds")},t.prototype.mapResourceOwnerFullnames=function(e,t,o,r,i){for(var a=0,n=e;a<n.length;a++){var s=n[a];s.ownerFullname||(s.ownerFullname=this.getOwnerFullname(s.contract.permissions,s.packageId,i,s.id,t,o,r))}},t.prototype.getOwnerFullnameFromUserInfo=function(){if(!this.userInfo)return"";var e=_.trim(this.userInfo.givenName),t=_.trim(this.userInfo.surname);return _.isEmpty(e)?"":(_.isEmpty(t)||(e+=" "+t),e)},t.prototype.hasPermission=function(e,t){return(e&t)===t},t.prototype.getOwnerFromGroupOrUser=function(t,o){return t===e.common.constants.myWorkspaceGroupId?this.getOwnerFullnameFromUserInfo():o},t.prototype.getOwnerFromUserInfo=function(e,t,i){return this.hasPermission(e,o.CopyOnWrite)||this.hasPermission(e,r.Personalized)?this.getOwnerFromGroupOrUser(t,i):""},t.prototype.getOwnerFromDashboard=function(e){return null!=e?e.ownerFullname:""},t.prototype.getOwnerFullname=function(e,t,o,r,i,a,n){for(var s,c,d,l=0,p=i;l<p.length;l++){var u=p[l],v=u.contract;if(v.originalPackageId===t){s=u;break}!c&&v.packageIds&&_.contains(v.packageIds,t)&&(c=u),!d&&v[o]&&_.contains(v[o],r)&&(d=u)}var f=s||c||d;return f?this.getOwnerFromDashboard(f):this.getOwnerFromUserInfo(e,a,n)},t})();t.ResourceOwnershipService=i})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(){return new n}var r=jsCommon.EnumExtensions,i=e.common.NotifyCollection,a=e.common.contracts.Permissions;t.createModelCollectionService=o;var n=(function(){function e(){this.listeners=[],this.collection=new i}return Object.defineProperty(e.prototype,"models",{get:function(){return this.collection.items},set:function(e){this.collection.setItems(e)},enumerable:!0,configurable:!0}),e.prototype.getModelContracts=function(){return _.map(this.models,(function(e){return e.contract}))},e.prototype.findModelContract=function(e,t){var o=this.getModelContracts();if(t)return _.find(o,(function(o){return o.id===e&&o.packageId===t}));var i=_.find(o,(function(t){return t.id===e&&r.hasFlag(t.permissions,a.Write)}));return i||_.find(o,(function(t){return t.id===e}))},e.prototype.onAdded=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onModelAdded&&i.onModelAdded(e)}},e.prototype.onDeleted=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onModelDeleted&&i.onModelDeleted(e)}},e.prototype.onReset=function(){for(var e=this.listeners,t=0,o=e;t<o.length;t++){var r=o[t];r.onModelsReset&&r.onModelsReset()}},e.prototype.addModel=function(e){this.collection.addItem(e)},e.prototype.removeModel=function(e,t){var o;return o=t?function(o){return o.id===e&&o.packageId===t}:function(t){return t.id===e},!!this.removeModels(o)},e.prototype.removeModels=function(e){return this.collection.deleteItems(e)},e.prototype.subscribe=function(e){this.listeners.length<1&&this.collection.subscribe(this),this.listeners.push(e)},e.prototype.unsubscribe=function(e){_.pull(this.listeners,e),this.listeners.length<1&&this.collection.unsubscribe(this)},e})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,r,i,a,n,c,d,l,p,u,v,f){return new s(e,t,o,r,i,a,n,c,d,l,p,u,v,f)}var r=jsCommon.EnumExtensions,i=e.common.contracts.Permissions,a=e.common.contracts.PermissionArtifactType,n=jsCommon.StringExtensions;t.createModelService=o;var s=(function(){function o(e,t,o,r,i,a,n,s,c,d,l,p,u,v){this.rootScope=e,this.telemetryService=t,this.errorService=o,this.modelMerger=r,this.modelConverter=i,this.syncService=a,this.modelHttpService=n,this.localizationService=s,this.reportService=c,this.appMetadataService=d,this.promiseFactory=l,this.dataProxy=p,this.modelCollectionService=u,this.permissionService=v,this.modelUpdateListeners=[],this.syncService.addModelRefreshListener(this),this._modelsDeferred=this.promiseFactory.defer(),this.initModels()}return Object.defineProperty(o.prototype,"models",{get:function(){return this.modelCollectionService.models},set:function(e){this.modelCollectionService.models=e},enumerable:!0,configurable:!0}),o.prototype.applyModelUpdated=function(e,t){for(var o=0;o<this.modelUpdateListeners.length;++o)this.modelUpdateListeners[o].onModelUpdated(e,t)},o.prototype.onModelAdded=function(e,t){var o=this.findModels(e,t);0===o.length&&this.addOrUpdateModel(e,t);for(var r=0,i=o.length;r<i;r++){var a=o[r];n.isNullOrUndefinedOrWhiteSpaceString(a.displayName)&&this.addOrUpdateModel(a.id,a.packageId,a)}},o.prototype.addOrUpdateModel=function(o,r,i){var a=this,n=this.telemetryService.startEvent(e.telemetry.DashboardInitializeNavigationPaneModels);this.modelHttpService.getModel(o,r,this.telemetryService.root).then((function(e){var r=e.data,s=a.modelConverter.convertModel(r);a.isContractExplorableNonLegacySampleModel(s.contract)&&(i=a.findModel(o,r.packageId),i?(a.modelMerger.mergeModel(i,r),a.applyModelUpdated(i.id,i.packageId)):(s.isNew=!0,a.pushModel(s),a.rootScope.$emit(t.constants.onDatasetAddedEventName,r))),n.resolve(),a.updateTimestamp()}),(function(){n.reject()}))},o.prototype.pushModel=function(e){this.modelCollectionService.addModel(e)},o.prototype.removeModel=function(e,t){if(_.isEmpty(this.models))return!1;var o=this.modelCollectionService.removeModel(e,t);return o&&this.updateTimestamp(),o},o.prototype.onModelDeleted=function(e,t){this.models&&this.removeModel(e,t)},o.prototype.onModelUpdated=function(t,o){var r=this;if(this.models)for(var i=this.findModels(t,o),a=0,n=i.length;a<n;a++){var s=this.telemetryService,c=s.startEvent(e.telemetry.DashboardInitializeNavigationPaneModels),d=i[a];this.modelHttpService.getModel(t,d.packageId,this.telemetryService.root).then((function(e){r.modelMerger.mergeModel(d,e.data),r.applyModelUpdated(d.id,d.packageId),c.resolve(),r.updateTimestamp();var t=e.data;r.dataProxy.clearCache("dsr",[{dbName:t.dbName,modelId:t.id,vsName:t.vsName,schemaName:void 0}])}),(function(){c.reject()}))}},o.prototype.addModelUpdateListener=function(e){this.modelUpdateListeners.push(e)},o.prototype.removeModelUpdateListener=function(e){_.pull(this.modelUpdateListeners,e)},Object.defineProperty(o.prototype,"modelsPromise",{get:function(){return this._modelsDeferred.promise},enumerable:!0,configurable:!0}),o.prototype.updateDatasetCollection=function(e){var t=[];if(!_.isEmpty(e))for(var o=0,r=e.length;o<r;++o)t.push(this.modelConverter.convertModel(e[o]));this.modelCollectionService.models=t,this.updateTimestamp()},o.prototype.mergeDatasetCollection=function(e){if(!_.isEmpty(e))for(var t=_.indexBy(this.models,"id"),o=0,r=e;o<r.length;o++){var i=r[o];t[i.id]?this.updateContractModel(i):this.pushModel(this.modelConverter.convertModel(i))}},o.prototype.getModelContracts=function(){return this.modelCollectionService.getModelContracts()},o.prototype.deleteModelForPackage=function(e){for(var t=this.getModelsByPackageId(this.models,e),o=0,r=t.length;o<r;++o)this.onModelDeleted(t[o].id,e)},o.prototype.updateContractModel=function(e){if(e){var t=this.findModel(e.id,e.packageId);t&&(this.modelMerger.mergeModel(t,e),this.applyModelUpdated(t.id,t.packageId))}},o.prototype.addContractModel=function(e){if(e){var t=this.modelConverter.convertModel(e),o=this.getModelIndex(t.id,t.packageId);o<0&&(t.isNew=!0,this.addModel(t))}},o.prototype.addModel=function(e){if(e){var t=this.getModelIndex(e.id,e.packageId);t<0&&(this.modelCollectionService.addModel(e),this.updateTimestamp())}},o.prototype.deleteModel=function(e,t){this.deleteModelInternal(e,t)},o.prototype.getModelIndex=function(e,t){if(this.models.length>0)for(var o=0,r=this.models.length;o<r;o++){var i=this.models[o];if(i.id===e&&i.packageId===t)return o}return-1},o.prototype.getModelIndices=function(e){var t=[];if(this.models.length>0)for(var o=0,r=this.models.length;o<r;o++){var i=this.models[o];i.id===e&&t.push(o)}return t},o.prototype.getModelRefreshSchedule=function(e,t){return this.findModel(e,t).contract.refreshSchedule},o.prototype.findModel=function(e,t,o){var a=this.findModels(e);if(!_.isEmpty(a)){if(1===a.length)return a[0];var n;return null!=t&&(n=this.getModelByPackageId(a,t),n||!o)?n:(n=_.find(a,(function(e){return r.hasFlag(e.getPermissions(),i.All)})),n||a[0])}},o.prototype.findModels=function(e,t){return t?_.filter(this.models,(function(o){return o.id===e&&o.packageId===t})):_.filter(this.models,(function(t){return t.id===e}))},o.prototype.findModelByDBName=function(e,t){var o;return o=t?_.find(this.models,(function(o){return o.dbName===e&&o.packageId===t})):_.find(this.models,(function(t){return t.dbName===e&&r.hasFlag(t.getPermissions(),i.Write)})),o||t||(o=_.find(this.models,(function(t){return t.dbName===e}))),o},o.prototype.findModelsByDBName=function(e){return _.filter(this.models,(function(t){return t.dbName===e}))},o.prototype.findModelByPackageId=function(e){return this.getModelByPackageId(this.models,e)},o.prototype.findModelsByPackageId=function(e){return this.getModelsByPackageId(this.models,e)},Object.defineProperty(o.prototype,"editableModels",{get:function(){var e=this;return _.filter(this.models,(function(o){var r=o.contract;if(o.contract.isHidden)return!1;var i=e.permissionService.getModelEffectivePermissions(r);return t.PermissionsUtils.canReshare(i,a.Dataset)}))},enumerable:!0,configurable:!0}),o.prototype.isContractExplorableNonLegacySampleModel=function(e){var o=e.permissions;return e.contentProviderId!==t.constants.samplesContentProviderId&&(r.hasFlag(o,i.Write)||r.hasFlag(o,i.CopyOnWrite)||r.hasFlag(o,i.Explore))},o.prototype.isExplorableNonLegacySampleModel=function(e){var o=e.getPermissions();return e.contentProviderId!==t.constants.samplesContentProviderId&&(r.hasFlag(o,i.Write)||r.hasFlag(o,i.CopyOnWrite)||r.hasFlag(o,i.Explore))},Object.defineProperty(o.prototype,"copyAndEditModels",{get:function(){var e=this;return _.filter(this.models,(function(t){return e.isExplorableNonLegacySampleModel(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"sanitizedCopyAndEditModels",{get:function(){var e=this;return _.filter(this.models,(function(t){return e.isExplorableNonLegacySampleModel(t)&&!n.isNullOrUndefinedOrWhiteSpaceString(t.displayName)&&!t.realTimeMode}))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"streamingModels",{get:function(){var e=this;return _.filter(this.models,(function(t){return e.isExplorableNonLegacySampleModel(t)&&!!t.realTimeMode}))},enumerable:!0,configurable:!0}),o.prototype.renameModel=function(o,r,i){var a=this;if(this.isModelNameValid(o)){var n=this.findModel(r,i);if(!n)return;var s=n.contract.displayName;if(s!==o){var c=this.telemetryService.startEvent(e.telemetry.DashboardRenameDataset);n.displayName=o,this.modelHttpService.renameModel(n,o,c.event).then((function(){c.resolve();var e=a.findModel(n.id,n.packageId);e&&e.isUsedByContentPack&&a.rootScope.$emit(t.constants.contentPackDirtyShowNotification,e.id,t.models.ContentPackItems.Model)}),(function(t){t.status===e.HttpStatusCode.Unauthorized?a.errorService.error(a.localizationService.get("Model_NoPermissionToRenameMessage"),"Model_NoPermissionToRename",{requestId:t.requestId,statusCode:t.status.toString()}):a.errorService.error(a.localizationService.get("Model_FailToRenameModelMessage"),"Model_FailToRenameModel",{requestId:t.requestId,statusCode:t.status.toString()}),n.displayName=s,c.reject()}))}}},o.prototype.updateModelQnaFeatures=function(t,o){var r=this.promiseFactory.defer(),i=this.telemetryService.startEvent(e.telemetry.DashboardUpdateModelQnaFeatures,o.cortanaEnabled,o.powerBIQnaEnabled);return this.modelHttpService.updateModelQnaFeatures(t,o,i.event).then((function(){i.resolve(),r.resolve({})}),(function(){i.reject(),r.reject()})),r.promise},o.prototype.updateFeaturedQuestions=function(t,o){var r=this.promiseFactory.defer(),i=this.telemetryService.startEvent(e.telemetry.DashboardUpdateFeaturedQuestions,o.length);return this.modelHttpService.updateFeaturedQuestions(t,o,i.event).then((function(){i.resolve(),r.resolve({})}),(function(){i.reject(),r.reject()})),r.promise},o.prototype.isModelNameValid=function(e){return!n.isNullOrUndefinedOrWhiteSpaceString(e)},o.prototype.removeModels=function(e){this.modelCollectionService.removeModels((function(t){return _.contains(e,t.id)}))&&this.updateTimestamp()},Object.defineProperty(o.prototype,"lastUpdatedTimestamp",{get:function(){return this._lastUpdatedTimestamp},enumerable:!0,configurable:!0}),o.prototype.updateTimestamp=function(){this._lastUpdatedTimestamp=(new Date).getTime()},o.prototype.initModels=function(){var e=this;this.appMetadataService.getAppMetadata().then((function(t){e.loadModels(t)}),(function(){e.loadModels()}))},o.prototype.deleteModelInternal=function(o,r){for(var i=this,a=this.findModels(o,r),n=0,s=a.length;n<s;n++){var c,d=this.telemetryService.startEvent(e.telemetry.DashboardDeleteDataset),l=a[n],p=this.getModelIndex(o,l.packageId);p>=0?(this.removeModel(o,l.packageId),c=this.reportService.deleteReportsForModel(o,l.packageId),this.rootScope.$emit(t.constants.deleteModelStartedEventName,o),this.modelHttpService.deleteModel(l.contract,d.event).then((function(){d.resolve(),i.updateTimestamp()}),(function(r){r.status===e.HttpStatusCode.Unauthorized?i.errorService.error(i.localizationService.get("Model_NoPermissionToDeleteMessage"),"Model_NoPermissionToDelete",{requestId:r.requestId,statusCode:r.status.toString()}):r.status===e.HttpStatusCode.BadRequest&&r.headers(e.common.PowerBIErrorHeader)===t.constants.CannotDeleteModelPublishedToOrganizationalAppHeader?i.errorService.error(i.localizationService.get("Model_DeleteWaitMessage"),"Model_DeleteWaitMessage",{requestId:r.requestId,statusCode:r.status.toString()}):i.errorService.error(i.localizationService.get("Model_FailToDeleteModelMessage"),"Model_FailToDeleteModel",{requestId:r.requestId,statusCode:r.status.toString()}),i.pushModel(l);for(var a=0,n=c.length;a<n;++a)i.reportService.addReport(c[a]);i.rootScope.$emit(t.constants.deleteModelFailedEventName,o),d.reject()}))):d.resolve()}},o.prototype.loadModels=function(t){var o=this;if(t)t.models&&(this.updateDatasetCollection(t.models),this._modelsDeferred.resolve(this.models));else{var r=this.telemetryService.startEvent(e.telemetry.DashboardInitializeNavigationPaneModels);this.modelHttpService.getModels(r.event).then((function(e){o.updateDatasetCollection(e.data),o._modelsDeferred.resolve(o.models),r.resolve()}),(function(){o._modelsDeferred.reject(),r.reject()}))}},o.prototype.getModelByPackageId=function(e,t){return _.find(e,(function(e){return e.packageId===t}))},o.prototype.getModelsByPackageId=function(e,t){return _.filter(e,(function(e){return e.packageId===t}))},o.prototype.subscribe=function(e){this.modelCollectionService.subscribe(e)},o.prototype.unsubscribe=function(e){this.modelCollectionService.unsubscribe(e)},o})();t.ModelService=s;var c=(function(){function e(){}return e.prototype.getModelContracts=function(){return[]},e.prototype.updateContractModel=function(e){},e.prototype.addContractModel=function(e){},e.prototype.addModel=function(e){},e.prototype.deleteModel=function(e,t){},e.prototype.deleteModelForPackage=function(e){},e.prototype.getModelIndex=function(e,t){return 0},e.prototype.getModelIndices=function(e){return[]},e.prototype.getModelRefreshSchedule=function(e,t){},e.prototype.findModel=function(e,t){},e.prototype.findModels=function(e,t){return[]},e.prototype.findModelByDBName=function(e,t){},e.prototype.findModelsByDBName=function(e){return[]},e.prototype.findModelByPackageId=function(e){},e.prototype.findModelsByPackageId=function(e){return[]},e.prototype.renameModel=function(e,t,o){},e.prototype.isExplorableNonLegacySampleModel=function(e){return!0},e.prototype.isModelNameValid=function(e){},e.prototype.removeModels=function(e){},e.prototype.updateDatasetCollection=function(e){},e.prototype.mergeDatasetCollection=function(e){},e.prototype.onModelAdded=function(e,t){},e.prototype.onModelDeleted=function(e,t){},e.prototype.onModelUpdated=function(e,t){},e.prototype.updateModelQnaFeatures=function(e,t){},e.prototype.updateFeaturedQuestions=function(e,t){},e.prototype.addModelUpdateListener=function(e){},e.prototype.removeModelUpdateListener=function(e){},e.prototype.subscribe=function(e){},e.prototype.unsubscribe=function(e){},e})();t.MockModelService=c})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(e,t,o,r,i,a,n,s,d,l,p,u,v,f,h,m,g){return new c(e,t,o,r,i,a,n,s,d,l,p,u,v,f,h,m,g)}var r,i=e.common.constants,a=e.common.contracts.Permissions,n=e.common.contracts.PermissionArtifactType;!(function(e){e[e.NamedRange=0]="NamedRange",e[e.Parameter=1]="Parameter",e[e.Table=2]="Table",e[e.PivotTable=3]="PivotTable",e[e.Chart=4]="Chart",e[e.WebExtension=5]="WebExtension"})(r=t.EwaNamedItemType||(t.EwaNamedItemType={})),t.createWorkbookService=o;var s=".xlsx,.xlsm",c=(function(){function o(e,t,o,r,i,a,n,s,c,d,l,p,u,v,f,h,m){this.workbookCollectionService=h,this.telemetryService=t,this.rootScope=e,this.errorService=o,this.modelMerger=r,this.modelConverter=i,this.syncService=a,this.workbookHttpService=n,this.localizationService=s,this.featureSwitchService=c,this.appMetadataService=d,this.windowService=l,this.promiseFactory=p,this.tutorialDataStore=u,this.compile=v,this.localFileService=f,this.permissionService=m,this.spoAuthenticationTelemetryCollected=!1,this.wopiDataTTL=new Array,this.deferredWopiData=Array(),this.workbooksDeferred=p.defer(),this.syncService.addWorkbookRefreshListener(this),this.replaceWorkbookScope=this.rootScope.$new(),this.replaceWorkbookScope.shouldReplaceLocalWorkbook=!1,this.initWorkbooks()}return Object.defineProperty(o.prototype,"workbooks",{get:function(){return this.workbookCollectionService.workbooks},set:function(e){this.workbookCollectionService.workbooks=e},enumerable:!0,configurable:!0}),o.prototype.addContractWorkbook=function(e){if(e&&null!=e.id){var t=this.modelConverter.convertWorkbook(e),o=this.getWorkbookIndex(t.id,t.packageId);o<0&&this.addWorkbook(t)}},o.prototype.addWorkbook=function(e){if(e&&null!=e.id){var t=this.getWorkbookIndex(e.id,e.packageId);t<0&&(this.workbookCollectionService.addWorkbook(e),this.updateTimestamp())}},o.prototype.deleteWorkbookForPackage=function(e){for(var t=_.filter(this.workbooks,(function(t){return t.packageId===e})),o=0,r=t.length;o<r;++o)this.onWorkbookDeleted(t[o].id,e)},o.prototype.postUploadWorkbookErrorMessage=function(e){this.postErrorForWorkbook(e,"UploadExcel_FailedToUploadWorkbook_Title","UploadExcel_FailedToUploadWorkbook_Message")},o.prototype.postReplaceWorkbookErrorMessage=function(e){this.postErrorForWorkbook(e,"UploadExcel_FailedToReplaceWorkbook_Title","UploadExcel_FailedToReplaceWorkbook_Message")},o.prototype.postErrorForWorkbook=function(t,o,r){var a=t.headers(e.common.PowerBIErrorHeader),n=r;if(a){var s=e.common.KnownContentProviderErrors[i.excelContentProviderId],c=s&&s[a];c&&c.messageId&&(n=c.messageId)}this.errorService.error(e.common.localize.get(n),n,{requestId:t.requestId,statusCode:t.status.toString(),title:e.common.localize.get(o)})},o.prototype.replaceLocalWorkbook=function(e){var t=this,o=this.findWorkbookByUniqueId(e);this.replaceWorkbookScope.workbookToUpdate=o;var r,i=this.promiseFactory.defer();r=function(){t.localFileService.chooseLocalFile(i,s)},i.promise.then((function(e){t.getUserConsentToReplace(r,e)})),r=function(){t.replaceWorkbook()},this.localFileService.chooseLocalFile(i,s)},o.prototype.showReplaceWorkbookTutorialIfNeeded=function(e){var t=this;return this.neverShowUpdateExplanation=this.tutorialDataStore.hasKey(o.UpdateLocalWorkbookExplanation),this.neverShowUpdateExplanation?void e():void this.showInputDialog("ReplaceLocalWorkbook_Title","ReplaceLocalWorkbook_Message","ReplaceLocalWorkbook_ReplaceFile","UploadReplace_CancelButton",e,"ToastNotification_DontShowThisAgain",(function(){t.neverShowUpdateExplanation=!t.neverShowUpdateExplanation}))},o.prototype.getUserConsentToReplace=function(e,t){if(t){this.replaceWorkbookScope.localWorkbookToUpload=t;var o=t.name;this.replaceWorkbookScope.workbookToUpdate&&this.replaceWorkbookScope.workbookToUpdate.displayNameWithExtension.toLowerCase()!==o.toLowerCase()?this.showInputDialog("ReplaceLocalWorkbook_DifferentName_Title","ReplaceLocalWorkbook_DifferentName_Message","ReplaceLocalWorkbook_ReplaceFile","UploadReplace_CancelButton",e):this.showReplaceWorkbookTutorialIfNeeded(e)}},o.prototype.showInputDialog=function(e,t,o,r,i,a,n){var s,c=this,d=this.errorService.control(),l=[new InJs.ModalDialogAction(this.localizationService.get(o),function(e,t){d.hideDialog(),c.dismissExplanationPermanentlyIfNeeded(),i()}),new InJs.ModalDialogAction(this.localizationService.get(r),function(e,t){d.hideDialog()})];a&&(s=new InJs.ModalDialogAction(this.localizationService.get(a),function(e,t){n()}));var p=this.localizationService.get(e),u=this.localizationService.get(t);d.showCustomDialog(p,angular.element("<div/>").text(u),l,(function(e){e.parent().find('input[value="'+c.localizationService.get(o)+'"]').focus()}),!1,null,null,null,null,null,null,null,null,null,s)},o.prototype.dismissExplanationPermanentlyIfNeeded=function(){if(this.neverShowUpdateExplanation){var t=this.telemetryService.startEvent(e.telemetry.DashboardUpdateLocalWorkbookNeverShowExplanation);this.tutorialDataStore.setKey(o.UpdateLocalWorkbookExplanation,!0,t)}},o.prototype.replaceWorkbook=function(){this.replaceWorkbookScope.shouldReplaceLocalWorkbook=!0,this.updateLocalWorkbookElement||(this.updateLocalWorkbookTemplate=angular.element(o.HtmlTemplateUpdate),this.updateLocalWorkbookElement=this.compile(this.updateLocalWorkbookTemplate)(this.replaceWorkbookScope),$("body").append(this.updateLocalWorkbookElement)),this.replaceWorkbookScope.$applyAsync()},o.prototype.finishReplacingLocalWorkbook=function(){this.replaceWorkbookScope.shouldReplaceLocalWorkbook=!1},o.prototype.onWorkbookAdded=function(e,o){var r=this,i=this.findWorkbook(e,o);i||this.workbookHttpService.getWorkbook(e,o,this.telemetryService.root).then((function(a){if(i=r.findWorkbook(e,o),!i){var n=a.data;i=r.modelConverter.convertWorkbook(n),i.isNew=!0,r.workbookCollectionService.addWorkbook(i),r.updateTimestamp(),r.rootScope.$emit(t.constants.workbook.workbookAddedEventName,i.uniqueId);
}}),(function(){}))},o.prototype.onWorkbookDeleted=function(e,t){0!==this.workbooks.length&&this.workbookCollectionService.removeWorkbook(e,t)&&this.updateTimestamp()},o.prototype.onWorkbookUpdated=function(e){var t=this;if(0!==this.workbooks.length){var o=this.findWorkbooks(e);if(o)for(var r=0,i=o.length;r<i;r++)this.workbookHttpService.getWorkbook(e,o[r].packageId,this.telemetryService.root).then((function(e){var o=e.data,r=t.findWorkbook(o.id,o.packageId);t.modelMerger.mergeWorkbook(r,o)}),(function(){}))}},o.prototype.updateWorkbookCollection=function(e){this.updateWorkbooks(e),this.updateTimestamp()},o.prototype.mergeWorkbookCollection=function(t){if(!_.isEmpty(t))for(var o=_.indexBy(this.workbooks,"uniqueId"),r=0,i=t;r<i.length;r++){var a=i[r];o[e.common.models.ReportResource.getUniqueId(e.common.models.ResourceType.Workbook,a.id,a.packageId)]||this.workbookCollectionService.addWorkbook(this.modelConverter.convertWorkbook(a))}this.updateTimestamp()},o.prototype.updateWorkbook=function(e){var t=this.findWorkbook(e.id,e.packageId);return t&&this.modelMerger.mergeWorkbook(t,e),t},o.prototype.getWorkbookContracts=function(){return this.workbookCollectionService.getWorkbookContracts()},Object.defineProperty(o.prototype,"copyAndEditWorkbooks",{get:function(){var e=this.permissionService;return _.filter(this.workbooks,(function(t){var o=e.getWorkbookEffectivePermissions(t.contract);return(o&a.Write)===a.Write||(o&a.CopyOnWrite)===a.CopyOnWrite}))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"editAndReShareWorkbooks",{get:function(){var e=this.permissionService;return _.filter(this.workbooks,(function(t){var o=e.getWorkbookEffectivePermissions(t.contract);return(o&a.Write)===a.Write&&(o&a.ReShare)===a.ReShare}))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"lastUpdatedTimestamp",{get:function(){return this._lastUpdatedTimestamp},enumerable:!0,configurable:!0}),o.prototype.ensureWorkbookInitialization=function(){return this.workbooksDeferred.promise},o.prototype.findWorkbooks=function(e){return _.filter(this.workbooks,(function(t){return t.id===e}))},o.prototype.updateTimestamp=function(){this._lastUpdatedTimestamp=(new Date).getTime()},o.prototype.getWorkbookIndex=function(e,t){for(var o=0,r=this.workbooks.length;o<r;o++){var i=this.workbooks[o];if(i.id===e&&i.packageId===t)return o}return-1},o.prototype.findWorkbook=function(e,t){return t?_.find(this.workbooks,(function(o){return o.id===e&&o.packageId===t})):_.find(this.workbooks,(function(t){return t.id===e&&t.isOwner()}))},o.prototype.findWorkbooksByPackageId=function(e){if(null!=e)return _.filter(this.workbooks,(function(t){return t.packageId===e}))},o.prototype.findWorkbookByEtagHash=function(e){return _.find(this.workbooks,(function(t){return t.contract.etagHash===e}))},o.prototype.findWorkbookByUniqueId=function(e){return _.find(this.workbooks,(function(t){return t.uniqueId===e}))},o.prototype.getWorkbookUniqueId=function(e){return e.uniqueId},o.prototype.initWorkbooks=function(){var e=this;this.appMetadataService.getAppMetadata().then((function(t){e.loadWorkbooks(t)}),(function(){e.loadWorkbooks()}))},o.prototype.loadWorkbooks=function(t){var o=this;if(t)t.workbooks&&(t.workbooks.forEach((function(e){var t=o.modelConverter.convertWorkbook(e);o.workbookCollectionService.addWorkbook(t)})),this.workbooksDeferred.resolve(this),this.updateTimestamp());else{var r=this.telemetryService.startEvent(e.telemetry.DashboardInitializeNavigationPaneWorkbooks);this.workbookHttpService.getWorkbooks(r.event).then((function(e){o.updateWorkbooks(e.data),r.resolve(),o.workbooksDeferred.resolve(o),o.updateTimestamp()}),(function(){r.reject(),o.workbooksDeferred.reject()}))}},o.prototype.updateWorkbooks=function(e){var t=this,o=[];_.isEmpty(e)||(o=_.map(e,(function(e){return t.modelConverter.convertWorkbook(e)}))),this.workbookCollectionService.workbooks=o},Object.defineProperty(o.prototype,"originalWorkbooks",{get:function(){var e=this.permissionService;return _.filter(this.workbooks,(function(o){var r=e.getWorkbookEffectivePermissions(o.contract);return t.PermissionsUtils.canReshare(r,n.Workbook)}))},enumerable:!0,configurable:!0}),o.prototype.renameWorkbook=function(t,o,r){var i=this;if(this.isWorkbookNameValid(t)){var a=this.findWorkbook(o,r);if(a){var n=a.contract.displayName;if(n!==t){var s=this.telemetryService.startEvent(e.telemetry.DashboardRenameWorkbook);a.displayName=t,this.workbookHttpService.renameWorkbook(a,t,s.event).then((function(){s.resolve()}),(function(t){t.status===e.HttpStatusCode.Unauthorized?i.errorService.error(i.localizationService.get("Workbook_NoPermissionToRenameMessage"),"Workbook_NoPermissionToRename",{requestId:t.requestId,statusCode:t.status.toString()}):i.errorService.error(i.localizationService.get("Workbook_FailToRenameWorkbookMessage"),"Workbook_FailToRenameWorkbook",{requestId:t.requestId,statusCode:t.status.toString()}),a.displayName=n,s.reject()}))}}}},o.prototype.isWorkbookNameValid=function(e){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e)},o.prototype.removeWorkbook=function(t,o,r,i){var a=this,n=this.telemetryService.startEvent(e.telemetry.DashboardRemoveWorkbook,r,i),s=this.workbookCollectionService.removeWorkbook(t,o);return s?void this.workbookHttpService.deleteWorkbook(s.contract,n.event).then((function(){n.resolve(),a.updateTimestamp()}),(function(t){t.status===e.HttpStatusCode.Unauthorized?a.errorService.error(a.localizationService.get("Workbook_NoPermissionToRemoveMessage"),"Workbook_NoPermissionToRemove",{requestId:t.requestId,statusCode:t.status.toString()}):a.errorService.error(a.localizationService.get("Workbook_FailToRemoveWorkbookMessage"),"Workbook_FailToRemoveWorkbook",{requestId:t.requestId,statusCode:t.status.toString()}),a.workbookCollectionService.addWorkbook(s),n.reject()})):void n.resolve()},o.prototype.haveWorkbookEmbedAccessData=function(e){var t=this.deferredWopiData[e],o=this.wopiDataTTL[e];return!(!t||o&&!(o>(new Date).getTime()))},o.prototype.getWorkbookEmbedAccessData=function(t,o,r){var i=this;if(r)var a=this.telemetryService.startChildEvent(r,e.telemetry.DashboardGetWorkbookWopiAccessInformation);else var a=this.telemetryService.startEvent(e.telemetry.DashboardGetWorkbookWopiAccessInformation);if(this.haveWorkbookEmbedAccessData(t))return a.resolve(),this.deferredWopiData[t].promise;var n=this.promiseFactory.defer();this.deferredWopiData[t]=n,this.wopiDataTTL[t]=null;var s=!1;return this.workbookHttpService.getWorkbookWopiData(t,a.event).then((function(e){if(!e.data||!e.data.accessToken||!e.data.url)return void(s=!0);var o=e.data;i.wopiDataTTL[t]=o.accessTokenTtl,i.deferredWopiData[t].resolve(o),a.resolve()}),(function(e){s=!0})).finally((function(){s&&(i.deferredWopiData[t].reject(),i.deferredWopiData[t]=null,a.reject())})),n.promise},o.prototype.createExcelWebAppEmbedUrlParams=function(e,t){var o=[{key:"dsdiv",value:e},{key:"dswp",value:"1"},{key:"dsts",value:"None"},{key:"dsat",value:"1"},{key:"dspti",value:"1"},{key:"dsfl",value:"1"},{key:"dsacs",value:this.featureSwitchService.featureSwitches.ffxlChartSelectionEnabled?"1":"0"},{key:"dsrc",value:"pplr"}];t&&o.push({key:"dssc",value:t});var r=o.map((function(e){return"&"+e.key+"="+e.value})).join("");return r},o.prototype.embedWorkbook=function(t,o,r,i,a,n,s,c,d,l){var p=this;if(null!==o&&null!==r){var u=this.promiseFactory.defer(),v=this.promiseFactory.defer(),f=d?"&wdPublishedInPbiHint=true":"";return v.promise.then((function(){var d=p.createExcelWebAppEmbedUrlParams(o.targetDiv,l),v=r+"&access_token="+i+"&access_token_ttl="+a+d+f,h=p.promiseFactory.defer();h.promise.then((function(r){r.getSucceeded()?(p.telemetryService.logEvent(e.telemetry.DashboardWorkbookEmbeddingExternalSuccess,t,r.getCorrelationId(),n,c,s),u.resolve({ewaControl:r.getReturnValue(),window:o})):(p.telemetryService.logEvent(e.telemetry.DashboardWorkbookEmbeddingExternalFailure,t,r.getCode(),r.getDescription(),r.getCorrelationId(),n,c,s),u.reject())}),(function(){p.telemetryService.logEvent(e.telemetry.DashboardWorkbookEmbeddingExternalFailure,t,-1,null,null,n,c,s),u.reject()})),o.loadEwaScripts(v,h)})),o.loadEvent=v,o.loaded&&v.resolve(null),u.promise}},o.prototype.getDefaultTileTitle=function(e,t){var o=t,r=e.sheetName;if(r)o+=", "+r.replace(/\''/g,"'");else{var i=e.item.split("!");i.length>1&&(o+=", "+i[0].substr(1,i[0].length-2))}return o},o.prototype.getDefaultTileSubtitle=function(e){var t=e.split("!");return t.length>1?t[1]:e},o.prototype.getTileSelectionQuery=function(e,t,o,i){var a="";return o===r.Chart&&i&&(a="Sheets('"+i+"')/"),a+=this.getNamedItemTypeAsString(o)+"('",e?a+=e:t&&(a+=t),encodeURIComponent(a+"')")},o.prototype.encodeImageTileQueryString=function(e){var t=encodeURI(e);return t=t.replace(/\'/g,"%27"),t=t.replace(/\(/g,"%28"),t=t.replace(/\)/g,"%29")},o.prototype.getNamedItemTypeAsString=function(e){switch(e){case r.NamedRange:return"Ranges";case r.Parameter:return"Parameters";case r.Table:return"Tables";case r.PivotTable:return"PivotTables";case r.Chart:return"Charts"}return"Ranges"},o.prototype.getWorkbookTilePreviewImageUrl=function(e){var t=this,o=this.promiseFactory.defer();return this.getWorkbookEmbedAccessData(e.workbookId,e.packageId).then((function(r){if(e.$config.workbookTile){var i=r.url.replace(/ExcelJs.ashx/i,"/XlRestInternal.aspx"),a=t.encodeImageTileQueryString(t.getTileSelectionQuery(e.$config.workbookTile.item,e.$config.workbookTile.activeSelection,e.$config.workbookTile.itemType,e.$config.workbookTile.sheetName));i+="&framemode=proxy&wdRestQuery=$format=image&wdRestPart=Model/"+a+"&access_token="+r.accessToken+"&access_token_ttl="+r.accessTokenTtl,o.resolve(i)}else o.reject()}),(function(){o.reject()})),o.promise},o.prototype.getWorkbookTileBestImageUrl=function(t){if(t.hasImages()){var o=t.images,r=-1,i=-1,a=t.tileModel.layoutPosition,n=e.common.GridLayoutConstants.getDefaultGridItemViewport({colSpan:a.width,rowSpan:a.height}),s=Number.MAX_VALUE,c=Number.MIN_VALUE,d=window.devicePixelRatio;if(n.width=n.width*d,n.height=n.height*d,t.keepOriginalContentSize)return jsCommon.Utility.getAbsoluteUri(o[0].imageUrl);for(var l=0;l<o.length;l++){o[l].width>c&&(c=o[l].width,i=l);var p=o[l].width-n.width,u=o[l].height-n.height,v=Math.max(p,u);v>=0&&v<s&&(s=v,r=l)}return r===-1&&(r=i),jsCommon.Utility.getAbsoluteUri(o[r].imageUrl)}return t.image?"data:image/png;base64,"+t.image:""},o.prototype.setModelDynamicImageUrl=function(e){e.dynamicImageUrl=this.getWorkbookTileBestImageUrl(e),e.dynamicImageUrl||(e.dynamicImageUrl=e.previewImageUrl)},o.prototype.getWorkbooks=function(){return this.workbooksDeferred.promise.then((function(e){return e.workbooks}))},o.prototype.subscribe=function(e){this.workbookCollectionService.subscribe(e)},o.prototype.unsubscribe=function(e){this.workbookCollectionService.unsubscribe(e)},o})();c.HtmlTemplateUpdate="<content-provider-local-file selected-file='localWorkbookToUpload' is-update-from-element-flow='true' ng-if='shouldReplaceLocalWorkbook' element-to-update='workbookToUpdate'></content-provider-local-file>",c.UpdateLocalWorkbookExplanation="updateLocalWorkbookExplanation",t.WorkbookService=c})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function o(){return new i}var r=e.common.NotifyCollection;t.createWorkbookCollectionService=o;var i=(function(){function e(){this.listeners=[],this.collection=new r}return Object.defineProperty(e.prototype,"workbooks",{get:function(){return this.collection.items},set:function(e){this.collection.setItems(e)},enumerable:!0,configurable:!0}),e.prototype.getWorkbookContracts=function(){return _.map(this.workbooks,(function(e){return e.contract}))},e.prototype.addWorkbook=function(e){this.collection.addItem(e)},e.prototype.removeWorkbook=function(e,t){var o=this.collection.deleteItems((function(o){return o.id===e&&o.packageId===t}));return _.first(o)},e.prototype.onAdded=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onWorkbookAdded&&i.onWorkbookAdded(e)}},e.prototype.onDeleted=function(e){for(var t=this.listeners,o=0,r=t;o<r.length;o++){var i=r[o];i.onWorkbookDeleted&&i.onWorkbookDeleted(e)}},e.prototype.onReset=function(){for(var e=this.listeners,t=0,o=e;t<o.length;t++){var r=o[t];r.onWorkbooksReset&&r.onWorkbooksReset()}},e.prototype.subscribe=function(e){this.listeners.length<1&&this.collection.subscribe(this),this.listeners.push(e)},e.prototype.unsubscribe=function(e){_.pull(this.listeners,e),this.listeners.length<1&&this.collection.unsubscribe(this)},e})()})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){function r(e,t){return new n(e,t)}var i=t.constants.upgrader,a=e.explore.contracts.Version;o.createTileConfigUpgraderService=r;var n=(function(){function r(e,t){this.telemetryService=t,this.upgraders=[o.v0_1.createVersionUpgrader(),o.v1_0.createVersionUpgrader(e,t)]}return r.prototype.upgrade=function(o,r){if(o){var n=t.ContractUtils.convertToSemanticQueryWithDataShapeBinding(r);o&&(o.version?"1.0"===o.version?this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.Version1_0):"1.1"===o.version&&this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.Version1_1):o.version=a.ZeroStr);for(var s=0,c=this.upgraders;s<c.length;s++){var d=c[s];a.lt(o.version,d.version)&&d.upgrade(o,n)}}},r})();o.TileConfigUpgraderService=n})(o=t.upgrader||(t.upgrader={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(t){var o;!(function(t){function o(){return new r}t.createVersionUpgrader=o;var r=(function(){function t(){this.version="0.1"}return t.prototype.upgrade=function(t,o){if(t.version=this.version,o&&o.defn&&!o.defn.Version&&t.visual&&!_.isEmpty(t.visual.elements)&&t.visual.visual===e.visuals.plugins.scatterChart.name){var r=t.visual.elements;if(r[0].DataRoles){for(var i=r[0].DataRoles,a=!1,n=!1,s=!1,c=void 0,d=0,l=i;d<l.length;d++){var p=l[d];"Category"===p.Name&&(a=!0,c=p.Projection),n=n||"Series"===p.Name,s=s||"Size"===p.Name}s&&a&&!n&&i.push({Name:"Series",Projection:c})}}},t})()})(o=t.v0_1||(t.v0_1={}))})(o=t.upgrader||(t.upgrader={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o;!(function(o){var r;!(function(o){function r(e,t){return new a(e,t)}var i=t.constants.upgrader;o.createVersionUpgrader=r;var a=(function(){function t(e,t){this.pluginService=e,this.telemetryService=t,this.version="1.1"}return t.prototype.upgrade=function(t,o){t.version=this.version;var r=t.visual||t.realTimeVisual;if(r){r.visual||this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.NoVisualType);var a={stylePresetName:r.stylePresetName,visualType:r.visual},n=this.pluginService.getPlugin(r.visual);n||this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.NoPlugin);var s=n&&n.capabilities.objects,c=e.data.services.DataViewObjectSerializer.deserializeObjects(r.objects,s);c&&(a.objects=c);var d={config:{singleVisual:a}};if(o&&o.defn){var l=e.data.services.SemanticQuerySerializer.tryDeserializeQuery(o.defn);if(l){var p=l.select(),u={};r.elements||(this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.InvalidElements),r.elements=[]);for(var v=0,f=e.VisualElement.getDataRolesFromVisualElements(r.elements);v<f.length;v++){var h=f[v],m=p[h.Projection];if(m){var g=h.Name,y=u[g];y||(u[g]=y=new e.data.QueryProjectionCollection([])),y.all().push({queryRef:m.name}),h.isActive&&y.addActiveQueryReference(m.name)}else this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.NoSelect)}d.filters=e.explore.FilterUtils.deriveFromSQFilters(l.from(),l.where(),r.queryMetadata),a.query=new e.explore.contracts.VisualQuery(l.where([],new e.data.SQFrom),u)}else this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.InvalidSemanticQuery)}else this.telemetryService.logEvent(e.telemetry.TileConfigUpgradeTileConfig,i.NoQuery),delete r.transform;var b={$visualContainer:d,dataWindow:t.realTimeVisual&&t.realTimeVisual.dataWindow,elements:r.elements,heading1:r.heading1,heading2:r.heading2,heading3:r.heading3,layoutType:r.layoutType,queryMetadata:r.queryMetadata,themeName:r.themeName,transform:r.transform,$modelExtensions:r.$modelExtensions};b=_.omit(b,(function(e){return void 0===e})),t.realTimeVisual?t.realTimeVisual=b:t.visualContainer=b}},t})()})(r=o.v1_0||(o.v1_0={}))})(o=t.upgrader||(t.upgrader={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o,r=t.models.AppModelIconBackgroundColors,i=jsCommon.Color,a=e.common.contracts.ContentProviderCategory,n=e.common.models.Model,s=jsCommon.DateExtensions,c=jsCommon.Utility,d=t.models.Workbook;!(function(e){function t(e){var t=e.defaultContent;if(0!==e.defaultContentOption&&t)return o(e,{dashboardOriginalGUID:t.dashboardObjectId,reportOriginalGUID:t.reportObjectId,workbookID:t.workbookObjectId})}function o(e,t){if(t.dashboardOriginalGUID){var o=t.dashboardOriginalGUID;return _.find(e.dashboards,(function(e){return e.contract.originalDashboardObjectId===o}))}if(t.reportOriginalGUID){var r=t.reportOriginalGUID;return _.find(e.reports,(function(e){return e.contract.originalReportObjectId===r}))}if(t.workbookID){var i=t.workbookID;return _.find(e.workbooks,(function(e){return e.uniqueId===i}))}}function l(e){return e&&e.category===a.OrganizationalApp}function p(e,t){var o=t.getAppInstance(e);return o&&l(o.providerContract)}function u(e){return e.category===a.BuiltIn||e.category===a.OrganizationalTemplateApp||e.category===a.ServiceApp||e.category===a.Services}function v(e,t){var o=t.getAppInstance(e);return o&&u(o.providerContract)}function f(e,t,o){if(e&&e.contract){var r=e.getUniquePackageId&&e.getUniquePackageId();if(r){var i=t.getAppInstance(r);return i&&i.providerContract.providerKey}}}function h(e,t,o){if(e){var r=e.packageId;if(r){var i=t.getAppInstance(r);return i&&i.providerContract.providerKey}}}function m(e,t,o){var r=e.getAppInstancesForApp(o);if(!_.isEmpty(r)){var i=r[0];return i.category===a.OrganizationalApp,i.packageId}}function g(e){var t=c.getDateFromWcfJsonString(e.publishTime,!0);return t||(t=s.parseIsoDate(e.publishTime)),t}function y(e){return!(e.icon||_.isEmpty(e.iconUrl)&&_.isEmpty(e.localAppLogoImageData))}function b(e,t){if(y(e)){if(e.localAppLogoImageData)return"url("+e.localAppLogoImageData+")";if(e.iconUrl){var o=e;return o.providerContract&&o.providerContract.category===a.BuiltIn?"url("+c.urlCombine(t.frontendUri,o.iconUrl)+")":"url("+c.urlCombine(t.backendUri,o.iconUrl)+")"}}}function S(e){var t=_.find(r,(function(t){return t.color===e}));return t&&t.fontColor||C}function I(e){if(e){var t=.8,o=.2;return i.calculateHighlightColor(i.parseColorString(e),t,o)}}function k(e){return e instanceof n?e.dbName:e instanceof d?e.uniqueId:e.objectId}var C="#FFF";e.getDefaultAppArtefact=t,e.getAppArtifact=o,e.isOrgApp=l,e.isOrgAppInstance=p,e.isParameterizedApp=u,e.isParameterizedAppInstance=v,e.getDashboardAppGUID=f,e.getResourceAppGUID=h,e.getPackageIDByOrgAppGUID=m,e.getAppPublishDate=g,e.hasAppLogoImage=y,e.getAppLogoImageUrlStyle=b,e.getAppHeaderFontColor=S,e.getAppHeaderBackgroundColor=I,e.getAppContentModelObjectId=k})(o=t.AppUtils||(t.AppUtils={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o,r=e.common.helpers.ModelConverterHelper,i=e.common.contracts.Permissions,a=3;!(function(e){function t(e){return(e.permissions&i.Write)===i.Write}function o(e,t,o){var i=o.featureSwitches;return _.some(e,(function(e){if(t){var o=t.findModel(e.id,e.packageId);return!!o&&r.getIsQnaSupported(o.contract,i)}return r.getIsQnaSupported(e,i)}))}function n(e,t){var o=[];if(!e)return o;var r=e.contract,i=[],a=r.modelIds;_.isEmpty(a)||(i=a.slice(0));var n=r.tiles;if(_.map(n,(function(e){null!=e.modelId&&i.push(e.modelId)})),_.isEmpty(i))return o;i=_.uniq(i);for(var s=0,c=i.length;s<c;s++){var d=_.filter(t,(function(e){return e.id===i[s]}));_.isEmpty(d)||o.push(d[0])}return o}function s(e){for(var t=[],o=1e3,r=_.sortBy(e,(function(e){var t=e.getActiveLayoutPosition();return t.y*o+t.x})),i=0,a=r;i<a.length;i++){var n=a[i],s=n.getActiveLayoutPosition();c(t,s.y,s.height)}for(var l=[],p=1e3,u=_.sortBy(e,(function(e){var t=e.getActiveLayoutPosition();return t.x*p+t.y})),v=0,f=u;v<f.length;v++){var n=f[v],s=n.getActiveLayoutPosition();c(l,s.x,s.width)}for(var h=d(t,l,r,u),m=0===h?t:l,g=0===h?u:r,y=[],b=0,S=0,I=m;S<I.length;S++){for(var k=I[S],C=b+1;C<k.startPosition;C++)y.push(void 0);for(var D=k.startPosition;D<k.startPosition+k.size;D++)y.push(k.startPosition),b=D}for(var T=_.groupBy(g,(function(e){var t=0===h?e.getActiveLayoutPosition().y:e.getActiveLayoutPosition().x;return y[t-1]})),w=[],P=0,M=m;P<M.length;P++){var k=M[P];w=w.concat(T[k.startPosition])}return _.map(w,(function(e){return e.getItem()}))}function c(e,t,o){var r=e.length,i=e[r-1];!_.isEmpty(e)&&t>=i.startPosition&&t<i.startPosition+i.size?t+o>i.startPosition+i.size&&(i.size=t+o-i.startPosition):e.push({startPosition:t,size:o})}function d(e,t,o,r){var i,a=_.max(e,(function(e){return e.size})).size,n=_.max(t,(function(e){return e.size})).size,s=_.all(e,(function(t){return t.size===e[0].size})),c=_.all(t,(function(e){return e.size===t[0].size}));return i=l(e,a,s)?0:l(t,n,c)?1:a<=n?0:1}function l(e,t,o){return e.length>1&&o&&t<=a}function p(e,t,o){if(!o||!o.tiles)return!1;switch(e){case 0:return _.any(o.tiles,(function(e){return e.hasLayoutDefinition(t)}));case 1:return _.any(o.tiles,(function(e){return e.hasLayoutPosition(t)}))}}e.isWriteable=t,e.containsQnaSupportedModel=o,e.getDashboardModels=n,e.orderItems=s,e.containsLayout=p})(o=t.DashboardUtils||(t.DashboardUtils={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t,o=jsCommon.ArrayExtensions;!(function(e){function t(e,t){if(e)for(var o=e.length,r=0;r<o;r++)if(e[r].id===t)return e[r].contentProviderId;return null}function r(e){var t=i(e);if(t&&t.Commands&&t.Commands.length>0){var o=t.Commands[0].SemanticQueryDataShapeCommand;return{defn:o.Query,shape:o.Binding}}return null}function i(e){if(e&&e.modelQuery&&e.modelQuery.sq){var t;try{t=JSON.parse(e.modelQuery.sq)}catch(e){}if(t){var o=null;return c(t)?o=t.dataQuery:d(t)?o=t:l(t)&&(o={Commands:[{SemanticQueryDataShapeCommand:{Query:t.defn,Binding:t.shape}}]}),o}}}function a(e){return void 0===e&&(e={}),{layouts:[{id:0,position:e}]}}function n(e){var t=s(e,0);return t}function s(e,t){var r=o.extendWithId(e.$layoutConfig.layouts),i=r.withId(t);return i?i.position:null}function c(e){return e.dataQuery&&e.dataQuery.Commands&&e.dataQuery.Commands.length>0}function d(e){return e.Commands&&e.Commands.length>0}function l(e){return e.defn}e.findContentProviderId=t,e.convertToSemanticQueryWithDataShapeBinding=r,e.convertToTileDataQuery=i,e.createMasterLayoutConfig=a,e.getMasterLayoutPosition=n,e.getLayoutPosition=s})(t=e.ContractUtils||(e.ContractUtils={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o,r=t.contracts,i=e.visuals.plugins,a="__default__",n=1;!(function(e){function t(e,t){void 0===t&&(t=1);var i=o[t];if(!i)return n;var s=r.TileType[e.type],c=i[s];if(!c&&e.composite){var d=e.composite;d&&(s=d.visual.type)}return i[s]||i[a]}var o={},s={};s[r.TileType[r.TileType.report]]=6,s[i.card.name]=2,s[i.animatedNumber.name]=2,s[i.textbox.name]=2,s[a]=3,o[1]=s,e.getRowSpan=t})(o=t.TileDefaultSizesUtils||(t.TileDefaultSizesUtils={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o,r=jsCommon.JsonExtensions,i=t.contracts.TileType;!(function(o){function a(o,r,a,n,s,c,d,l,p){var u=o.realTime,f=l.execute({dataSources:u.datasources,schema:s,config:r,additionalFilters:null,dataWindow:a}),h=c.getPinData({config:{singleVisual:r},layouts:void 0},e.common.contracts.TileLayoutType.Default,u.datasources,null,null,f,null,s);h.realTimeDataWindow=a;var m=t.models.TileFactory.createTileForPinData(d,h,n),g=m.$config;if(!g)return void p.logEvent(e.telemetry.DashboardTileError,i[i.realTime],v);g.hideTitle=o.config.hideTitle,o.config=g,o.realTime.config=g.realTimeVisual;var y=o.contract;if(y.query=m.query,y.modelId=m.modelId,o.isTemporary){var b=t.ContractUtils.getMasterLayoutPosition(y),S=t.ContractUtils.getMasterLayoutPosition(m);b.width=S.width,b.height=S.height;var I={colSpan:b.width,rowSpan:b.height};o.calculateLayout(e.common.GridLayoutConstants.getDefaultGridItemViewport(I)),o.invalidateLayout()}u.singleVisualConfig=r}function n(e){if(e){var t=e.visualContainer||e.realTimeVisual;return t&&t.$visualContainer?t.$visualContainer.config.singleVisual.visualType:void 0}}function s(e,t){return o.isScriptVisualTile(e,t)||o.reportTileContainsScriptVisuals(e,t)}function c(e,t){return e&&e.type===i.composite&&t.isScriptVisual(o.getVisualType(e.config))}function d(t,o){var r=t&&t.reportTile&&t.reportTile.exploration&&t.reportTile.exploration.sections;if(!r||t.type!==i.report)return!1;for(var a=0,n=r;a<n.length;a++)for(var s=n[a],c=0,d=s.contract.visualContainers;c<d.length;c++){var l=d[c],p=e.explore.util.VisualContainerUtils.getVisualType(l);if(p&&o&&o.isScriptVisual(p))return!0}return!1}function l(e,t){return"tile_"+e.id+"_dash_"+t}function p(e,o,r){var i,a=1,n=6,s=t.TileDefaultSizesUtils.getRowSpan(r,a),c={id:a,position:{y:e,x:o,width:n,height:s}};return i=r.addLayout(c,a),r.layoutPosition.y=e,r.layoutPosition.x=o,r.layoutPosition.height=s,r.layoutPosition.width=n,i}function u(t){var o=r.tryParseJSON(t.errorDetail);if(o&&!_.isEmpty(o.DataShapes)){var i=o.DataShapes[0]["odata.error"];if(i){var a=new e.DsrClientError(i);return a.getDetails(e.common.localize)}}}var v="Invalid tile config object";o.UpdateRealTimeTile=a,o.getVisualType=n,o.tileContainsScriptVisuals=s,o.isScriptVisualTile=c,o.reportTileContainsScriptVisuals=d,o.tileTrackerFn=l,o.createDefaultPhoneByTile=p,o.getTileErrorDetailsFromQueryResultError=u})(o=t.TileUtils||(t.TileUtils={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var o,r=e.common.contracts.ContentProviderCategory,i=jsCommon.EnumExtensions,a=t.contracts.PackageType,n=e.common.contracts.Permissions,s=e.common.contracts.PermissionArtifactType;!(function(e){function t(e,t,r,i,a,n,s,c,d){if(t=t||[],o(e,t,r,i,a,n,s,c,d)){var l=void 0;if(!_.isEmpty(e))for(var p=0,u=e;p<u.length;p++){var v=u[p];l=s.findDashboardContract(v),l&&(l.permissions=f,t=_.union(t,l.reportIds))}var h=void 0;if(!_.isEmpty(t))for(var m=0,g=t;m<g.length;m++){var y=g[m];h=n.findReportContract(y),h&&(h.permissions=f)}}}function o(e,t,o,r,i,a,n,s,l){var p=s.findPackageContract(r);return!!c(p,l)&&d(e,t,o,p.id,i,a,n)}function c(e,t){if(!e||e.packageType!==a.AppInstance)return!1;if(e.contentProviderId||e.serviceContentProviderId)return!0;var o=null;return!!e.contentProviderRefId&&(o=t.findOrganizationalContentProvider(e.contentProviderRefId),o&&o.category===r.OrganizationalTemplateApp)}function d(e,t,o,r,i,a,n){return!(_.isEmpty(e)&&_.isEmpty(t)&&_.isEmpty(o))&&(u(o,r,i)&&p(t,r,a)&&l(e,r,n))}function l(e,t,o){if(!_.isEmpty(e)){var r=_.uniq(e),i=_.filter(o.dashboards,(function(e){return e.contract&&e.contract.originalPackageId===t&&_.contains(r,e.id)}));if(_.isEmpty(i)||i.length!==r.length)return!1}return!0}function p(e,t,o){if(!_.isEmpty(e)){var r=_.uniq(e),i=_.filter(o.reports,(function(e){return e.packageId===t&&_.contains(r,e.id)}));if(_.isEmpty(i)||i.length!==r.length)return!1}return!0}function u(e,t,o){if(!_.isEmpty(e)){var r=_.uniq(e),i=_.filter(o.models,(function(e){return e.packageId===t&&_.contains(r,e.id)}));if(_.isEmpty(i)||i.length!==r.length)return!1}return!0}function v(e,t){return t===s.Workbook?i.hasFlag(e,n.ReShare):i.hasFlag(e,n.Write|n.ReShare)}var f=n.Read|n.CopyOnWrite;e.markDashboardAndReportsAsCopyableIfPartOfTemplateInstance=t,e.areArtifactsFromTemplateInstance=o,e.isPackageTemplateInstance=c,e.canReshare=v})(o=t.PermissionsUtils||(t.PermissionsUtils={}))})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){angular.module("powerbi.dataServices",[]);var o=["powerbi.common","powerbi.visualHost"];angular.module("powerbi.dataServices",o).factory("appCollection",[function(){return e.dataServices.createAppCollectionService()}]).factory("dashboardCollection",[function(){return e.dataServices.createDashboardCollectionService()}]).factory("modelCollection",[function(){return e.dataServices.createModelCollectionService()}]).factory("packageCollection",[function(){return e.dataServices.createPackageCollectionService()}]).factory("reportCollection",[function(){return e.dataServices.createReportCollectionService()}]).factory("workbookCollection",[function(){return e.dataServices.createWorkbookCollectionService()}]).factory("permissionService",["activeGroupId","impersonationService","appCollection","packageCollection","modelCollection","reportCollection","workbookCollection","dashboardCollection","telemetryService",function(t,o,r,i,a,n,s,c,d){return e.dataServices.createPermissionService(t,o,r,i,a,n,s,c,d)}]).factory("appMetadataService",["$rootScope","promiseFactory","resourcePackagesService","resourceGateService","visualPlugin","telemetryService","editableFeatureSwitchService",function(t,o,r,i,a,n,s){return e.dataServices.createAppMetadataService(t,o,r,i,a,n,s)}]).factory("modelHttpService",["syncService",function(t){return e.dataServices.createModelHttpService(t)}]).factory("reportHttpService",["syncService",function(t){return e.dataServices.createReportHttpService(t)}]).factory("workbookHttpService",["syncService",function(t){return e.dataServices.createWorkbookHttpService(t)}]).factory("dashboardHttpService",["syncService","promiseFactory","notificationToast","explorationSerializer","featureSwitchService","visualPlugin",function(t,o,r,i,a,n){return e.dataServices.createDashboardHttpService(t,o,r,i,a,n)}]).factory("reportService",["$rootScope","telemetryService","errorService","dataServiceModelMerger","dataServiceModelConverter","syncService","reportHttpService","localizationService","appMetadataService","promiseFactory","reportCollection","permissionService",function(t,o,r,i,a,n,s,c,d,l,p,u){return e.dataServices.createReportService(t,o,r,i,a,n,s,c,d,l,p,u)}]).factory("workbookService",["$rootScope","telemetryService","errorService","dataServiceModelMerger","dataServiceModelConverter","syncService","workbookHttpService","localizationService","featureSwitchService","appMetadataService","$window","promiseFactory","tutorialDataStore","$compile","localFileService","workbookCollection","permissionService",function(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h,m,g){return e.dataServices.createWorkbookService(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h,m,g)}]).factory("modelService",["$rootScope","telemetryService","errorService","dataServiceModelMerger","dataServiceModelConverter","syncService","modelHttpService","localizationService","reportService","appMetadataService","promiseFactory","dataProxy","modelCollection","permissionService",function(t,o,r,i,a,n,s,c,d,l,p,u,v,f){return e.dataServices.createModelService(t,o,r,i,a,n,s,c,d,l,p,u,v,f)}]).factory("dashboardDataService",["dashboardHttpService","promiseFactory","featureSwitchService","dataServiceModelMerger","modelService","dashboardCollection","$timeout",function(t,o,r,i,a,n,s){return e.dataServices.createDashboardDataService(t,o,r,i,a,n,s)}]).factory("dashboardSyncService",["$rootScope","dashboardDataService","dashboardHttpService","dataServiceModelConverter","dataServiceModelMerger","modelService","promiseFactory","reportService","resourceGateService","resourcePackageListenerService","resourcePackagesService","syncService","telemetryService","tutorialDataStore","userInfo","workbookService","permissionService",function(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h,m,g){return e.dataServices.createDashboarSyncService(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h,m,g)}]).factory("resourcePackageListenerService",["resourcePackagesService","promiseFactory","visualPlugin",function(t,o,r){
return e.dataServices.createResourcePackageListenerService(t,o,r)}]).factory("tileConfigUpgraderService",["visualPlugin","telemetryService",function(e,o){return t.upgrader.createTileConfigUpgraderService(e,o)}]).factory("dataServiceModelConverter",["geolocationService","geocoder","promiseFactory","moduleLoader","telemetryService","visualPlugin","featureSwitchService","permissionService","tileConfigUpgraderService","localizationService","explorationSerializer",function(t,o,r,i,a,n,s,c,d,l,p){return e.dataServices.models.createDataServiceModelConverter(t,a,n,e.explore.services.createVisualPluginOps(n),s,o,r,i,c,d,l,p)}]).factory("dataServiceModelMerger",["dataServiceModelConverter","permissionService",function(t,o){var r=e.dataServices.models.createDataServiceModelMerger(t,o);return t.setModelMerger(r),r}]).factory("tutorialDataStore",["featureSwitchService",function(e){return t.createTutorialDataStoreService(e)}]).factory("packageService",["$rootScope","telemetryService","errorService","dataServiceModelMerger","dataServiceModelConverter","reportService","modelService","syncService","localizationService","appMetadataService","workbookService","appService","packageCollection","permissionService","promiseFactory",function(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h){return e.dataServices.createPackageService(t,o,r,i,a,n,s,c,d,l,p,u,v,f,h)}]).factory("appService",["appMetadataService","dashboardDataService","appCollection","modelService","reportService","workbookService","promiseFactory","dataServiceModelConverter","asyncFeatureSwitchService","telemetryService","modalDialogService","errorService","localizationService",function(e,o,r,i,a,n,s,c,d,l,p,u,v){return t.createAppService(e,o,r,i,a,n,s,c,d,l,p,u,v)}]).service("resourceOwnershipService",["userInfo",e.dataServices.ResourceOwnershipService])})(t=e.dataServices||(e.dataServices={}))})(powerbi||(powerbi={}));;var __awaiter=this&&this.__awaiter||function(e,t,i,o){return new(i||(i=Promise))(function(r,a){function n(e){try{c(o.next(e))}catch(e){a(e)}}function s(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){e.done?r(e.value):new i(function(t){t(e.value)}).then(n,s)}c((o=o.apply(e,t)).next())})},__generator=this&&this.__generator||function(e,t){function i(e){return function(t){return o([e,t])}}function o(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(n=a[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,a=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(n=s.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],a=0}finally{r=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var r,a,n,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return{next:i(0),throw:i(1),return:i(2)}},__assign=this&&this.__assign||Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)};window.DEBUG=!1;var powerbi;!(function(e){var t;!(function(t){var i;!(function(e){e[e.Report=0]="Report",e[e.QnA=1]="QnA",e[e.Url=2]="Url"})(i=t.ContentTypes||(t.ContentTypes={}));var o;!(function(e){e[e.Report=0]="Report",e[e.QnA=1]="QnA",e[e.Exploration=2]="Exploration",e[e.Dashboard=3]="Dashboard",e[e.Workbook=4]="Workbook",e[e.Insights=5]="Insights",e[e.Widget=6]="Widget"})(o=t.PinTileSource||(t.PinTileSource={}));var r;!(function(e){e[e.TitleAlpabetical=0]="TitleAlpabetical",e[e.TitleReverseAlphabetical=1]="TitleReverseAlphabetical",e[e.OwnerAlphabetical=2]="OwnerAlphabetical",e[e.OwnerReverseAlphabetical=3]="OwnerReverseAlphabetical",e[e.LastAccessDate=4]="LastAccessDate",e[e.LastAccessReverseDate=5]="LastAccessReverseDate",e[e.SharedTime=6]="SharedTime",e[e.SharedReverseTime=7]="SharedReverseTime"})(r=t.SelectSort||(t.SelectSort={}));var a;!(function(e){e[e.Expand=0]="Expand",e[e.Collapse=1]="Collapse"})(a=t.NavPaneToggleAction||(t.NavPaneToggleAction={}));var n;!(function(e){e[e.NavigatorPaneGetDataButton=0]="NavigatorPaneGetDataButton",e[e.NavigatorPaneAddDatasetButton=1]="NavigatorPaneAddDatasetButton"})(n=t.OpenGetDataPageInteraction||(t.OpenGetDataPageInteraction={}));var s;!(function(e){e[e.GetData=0]="GetData",e[e.Welcome=1]="Welcome",e[e.GroupWelcome=2]="GroupWelcome"})(s=t.GetDataSplashState||(t.GetDataSplashState={}));var c;!(function(e){e[e.NavPane=0]="NavPane",e[e.Breadcrumb=1]="Breadcrumb",e[e.SplashPage=2]="SplashPage",e[e.GetApps=3]="GetApps"})(c=t.GetDataCategorySelectInteraction||(t.GetDataCategorySelectInteraction={}));var l;!(function(e){e[e.Dashboards=0]="Dashboards",e[e.Reports=1]="Reports",e[e.Datasets=2]="Datasets",e[e.Groups=3]="Groups"})(l=t.NavPaneSection||(t.NavPaneSection={}));var d;!(function(e){e[e.NavigatorBarManageStorage=0]="NavigatorBarManageStorage",e[e.DirectUrl=1]="DirectUrl"})(d=t.QuotaOpenManageStorageInteraction||(t.QuotaOpenManageStorageInteraction={}));var p;!(function(e){e[e.Group=0]="Group",e[e.Personal=1]="Personal"})(p=t.QuotaOpenManageStorageContext||(t.QuotaOpenManageStorageContext={}));var u;!(function(e){e[e.NavigatorBarManageStorage=0]="NavigatorBarManageStorage"})(u=t.OpenUpgradeAccountInteraction||(t.OpenUpgradeAccountInteraction={}));var v;!(function(e){e[e.DeleteOwnedModel=0]="DeleteOwnedModel",e[e.DeleteOwnedWorkbook=1]="DeleteOwnedWorkbook",e[e.RemoveSharedItem=2]="RemoveSharedItem"})(v=t.QuotaDeleteItemType||(t.QuotaDeleteItemType={}));var h;!(function(e){e[e.Unknown=0]="Unknown",e[e.AddDashboard=1]="AddDashboard",e[e.ShareDashboard=2]="ShareDashboard",e[e.AcceptInvitation=3]="AcceptInvitation",e[e.AddTile=4]="AddTile",e[e.ReportSaveAs=5]="ReportSaveAs",e[e.OpenDataset=6]="OpenDataset",e[e.GetData=7]="GetData",e[e.PublishContentPack=8]="PublishContentPack",e[e.UpdateContentPack=9]="UpdateContentPack",e[e.PersonalizeContentPack=10]="PersonalizeContentPack",e[e.CreateStreamingDataset=11]="CreateStreamingDataset",e[e.AppAutoInstall=12]="AppAutoInstall",e[e.PersonalizeApp=13]="PersonalizeApp"})(h=t.QuotaCheckOperation||(t.QuotaCheckOperation={}));var g;!(function(e){e[e.Duplicate=0]="Duplicate",e[e.NoDuplicate=1]="NoDuplicate",e[e.MultipleDuplicates=2]="MultipleDuplicates"})(g=t.LocalFileUploadPossibility||(t.LocalFileUploadPossibility={}));var f;!(function(e){e[e.Dashboard=0]="Dashboard",e[e.Report=1]="Report",e[e.AppInstance=2]="AppInstance"})(f=t.FavoriteType||(t.FavoriteType={}));var m;!(function(e){e[e.Settings=0]="Settings",e[e.IntroductionModal=1]="IntroductionModal",e[e.IntroductionModalClose=2]="IntroductionModalClose",e[e.PopupMessageDialog=3]="PopupMessageDialog"})(m=t.From||(t.From={}));var b;!(function(e){e[e.IntroductionModal=0]="IntroductionModal",e[e.HelpModal=1]="HelpModal"})(b=t.ModalFor||(t.ModalFor={}));var y;!(function(e){e[e.Create=0]="Create",e[e.Delete=1]="Delete",e[e.Update=2]="Update"})(y=t.CreateUpdateDeleteAction||(t.CreateUpdateDeleteAction={}));var S;!(function(e){e[e.Create=0]="Create",e[e.Update=1]="Update",e[e.Toggle=2]="Toggle",e[e.Delete=3]="Delete",e[e.Get=4]="Get"})(S=t.AlertRequestType||(t.AlertRequestType={}));var C;!(function(e){e[e.Create=0]="Create",e[e.Update=1]="Update",e[e.Toggle=2]="Toggle",e[e.Delete=3]="Delete",e[e.Get=4]="Get"})(C=t.EmailSubscriptionRequestType||(t.EmailSubscriptionRequestType={}));var w;!(function(e){e[e.Report=0]="Report",e[e.Dashboard=1]="Dashboard"})(w=t.UsageMetricsArtifactType||(t.UsageMetricsArtifactType={}));var I;!(function(e){e[e.UnifiedNotificationPane=0]="UnifiedNotificationPane"})(I=t.DataAlertNotificationSource||(t.DataAlertNotificationSource={}));var D;!(function(e){e[e.OpenTile=0]="OpenTile"})(D=t.DataAlertNotificationAction||(t.DataAlertNotificationAction={}));var M;!(function(e){e[e.DefaultMobileLayout=0]="DefaultMobileLayout",e[e.OriginalSerialLayout=1]="OriginalSerialLayout"})(M=t.MobileAuthoringResetType||(t.MobileAuthoringResetType={}));var T;!(function(e){e[e.OneDriveRefreshEnabled=0]="OneDriveRefreshEnabled",e[e.RefreshNow=1]="RefreshNow",e[e.RLSSettingsPage=2]="RLSSettingsPage",e[e.UploadOverride=3]="UploadOverride"})(T=t.DisableRLSSource||(t.DisableRLSSource={}));var E;!(function(e){e[e.APIPush=0]="APIPush",e[e.PubNub=1]="PubNub"})(E=t.StreamingDatasetGalleryOption||(t.StreamingDatasetGalleryOption={}));var P;!(function(e){e[e.Dashboard=0]="Dashboard",e[e.OrgApp=1]="OrgApp",e[e.Report=2]="Report",e[e.Workbook=3]="Workbook"})(P=t.ContentListArtifactType||(t.ContentListArtifactType={}));var k;!(function(e){e[e.ContentList=0]="ContentList",e[e.OrgApps=1]="OrgApps",e[e.RecentlyUsed=2]="RecentlyUsed",e[e.Favorites=3]="Favorites"})(k=t.ContentListArtifactSource||(t.ContentListArtifactSource={}));var A;!(function(e){e[e.Normal=0]="Normal",e[e.EmailSubscription=1]="EmailSubscription"})(A=t.OpenDashboardSource||(t.OpenDashboardSource={})),t.SettingsSetShowGridlines=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={show:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Settings.SetShowGridlines",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={show:h.show,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsSetShowGridlinesLoggers&&(g.loggers=e.telemetry.SettingsSetShowGridlinesLoggers),g},t.SettingsSetSnapToGrid=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={snap:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Settings.SetSnapToGrid",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={snap:h.snap,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsSetSnapToGridLoggers&&(g.loggers=e.telemetry.SettingsSetSnapToGridLoggers),g},t.NavigationClickBreadcrumb=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={fromState:t,toState:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Navigation.ClickBreadcrumb",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={fromState:g.fromState,toState:g.toState,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.NavigationClickBreadcrumbLoggers&&(f.loggers=e.telemetry.NavigationClickBreadcrumbLoggers),f},t.NavigationToggle=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={isExpanded:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Navigation.Toggle",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isExpanded:h.isExpanded,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.NavigationToggleLoggers&&(g.loggers=e.telemetry.NavigationToggleLoggers),g},t.NavigationClickLogo=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Navigation.ClickLogo",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.NavigationClickLogoLoggers&&(h.loggers=e.telemetry.NavigationClickLogoLoggers),h},t.ContentListSelectType=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={type:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.ContentList.SelectType",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={type:h.type,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListSelectTypeLoggers&&(g.loggers=e.telemetry.ContentListSelectTypeLoggers),g},t.ContentListArtifactsCount=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={numberOfDashboards:t,numberOfReports:i,numberOfWorkbooks:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.ContentList.ArtifactsCount",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numberOfDashboards:f.numberOfDashboards,numberOfReports:f.numberOfReports,numberOfWorkbooks:f.numberOfWorkbooks,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListArtifactsCountLoggers&&(m.loggers=e.telemetry.ContentListArtifactsCountLoggers),m},t.ContentProviderInitializeContentProviders=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.ContentProvider.InitializeContentProviders",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentProviderInitializeContentProvidersLoggers&&(h.loggers=e.telemetry.ContentProviderInitializeContentProvidersLoggers),h},t.ContentProviderInitializeUserContentProviders=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.ContentProvider.InitializeUserContentProviders",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentProviderInitializeUserContentProvidersLoggers&&(h.loggers=e.telemetry.ContentProviderInitializeUserContentProvidersLoggers),h},t.DashboardDuplicateDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.DuplicateDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDuplicateDashboardLoggers&&(h.loggers=e.telemetry.DashboardDuplicateDashboardLoggers),h},t.BaseDashboardEvent=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={dashboardGuid:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"BaseDashboardEvent",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:h.dashboardGuid,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);
var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.BaseDashboardEventLoggers&&(g.loggers=e.telemetry.BaseDashboardEventLoggers),g},t.BaseDashboardVerboseEvent=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={dashboardGuid:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"BaseDashboardVerboseEvent",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:h.dashboardGuid,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.BaseDashboardVerboseEventLoggers&&(g.loggers=e.telemetry.BaseDashboardVerboseEventLoggers),g},t.DashboardEvent=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={dashboardGuid:t,tileCount:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"DashboardEvent",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,tileCount:g.tileCount,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardEventLoggers&&(f.loggers=e.telemetry.DashboardEventLoggers),f},t.DashboardAddFavorite=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={favoriteId:t,groupId:i,favoriteType:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.AddFavorite",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={favoriteId:f.favoriteId,groupId:f.groupId,favoriteType:e.telemetry.FavoriteType[f.favoriteType],parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardAddFavoriteLoggers&&(m.loggers=e.telemetry.DashboardAddFavoriteLoggers),m},t.DashboardDeleteFavorite=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={favoriteObjectId:t,groupId:i,favoriteType:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.DeleteFavorite",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={favoriteObjectId:f.favoriteObjectId,groupId:f.groupId,favoriteType:e.telemetry.FavoriteType[f.favoriteType],parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteFavoriteLoggers&&(m.loggers=e.telemetry.DashboardDeleteFavoriteLoggers),m},t.DashboardGetFavorites=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={countOfFavorites:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.GetFavorites",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={countOfFavorites:h.countOfFavorites,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetFavoritesLoggers&&(g.loggers=e.telemetry.DashboardGetFavoritesLoggers),g},t.DashboardClaimInvitation=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={dashboardGuid:t,invitationId:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.ClaimInvitation",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,invitationId:g.invitationId,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardClaimInvitationLoggers&&(f.loggers=e.telemetry.DashboardClaimInvitationLoggers),f},t.DashboardClaimInvitationRedirectToMobileLandingPage=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={userAgent:t,invitationId:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={userAgent:g.userAgent,invitationId:g.invitationId,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardClaimInvitationRedirectToMobileLandingPageLoggers&&(f.loggers=e.telemetry.DashboardClaimInvitationRedirectToMobileLandingPageLoggers),f},t.DashboardContentProviderPublish=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={contentProviderId:t,contentProviderKey:i,contentProviderDisplayText:o,contentProviderCategory:r,autoInstall:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.Dashboard.ContentProviderPublish",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentProviderId:b.contentProviderId,contentProviderKey:b.contentProviderKey,contentProviderDisplayText:b.contentProviderDisplayText,contentProviderCategory:b.contentProviderCategory,autoInstall:b.autoInstall,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardContentProviderPublishLoggers&&(y.loggers=e.telemetry.DashboardContentProviderPublishLoggers),y},t.DashboardContentProviderPublishDSID=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={DSID:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ContentProviderPublishDSID",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={DSID:h.DSID,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardContentProviderPublishDSIDLoggers&&(g.loggers=e.telemetry.DashboardContentProviderPublishDSIDLoggers),g},t.CustomConfigHandlerSharePointDiscover=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={URL:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.CustomConfigHandler.SharePointDiscover",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={URL:h.URL,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.CustomConfigHandlerSharePointDiscoverLoggers&&(g.loggers=e.telemetry.CustomConfigHandlerSharePointDiscoverLoggers),g},t.DashboardDeletePackage=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.DeletePackage",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeletePackageLoggers&&(h.loggers=e.telemetry.DashboardDeletePackageLoggers),h},t.DashboardDeleteDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={dashboardGuid:t,tileCount:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.DeleteDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,tileCount:g.tileCount,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteDashboardLoggers&&(f.loggers=e.telemetry.DashboardDeleteDashboardLoggers),f},t.DashboardDeleteDashboardUser=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.DeleteDashboardUser",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteDashboardUserLoggers&&(h.loggers=e.telemetry.DashboardDeleteDashboardUserLoggers),h},t.DashboardDeleteTile=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.DeleteTile",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);
var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteTileLoggers&&(h.loggers=e.telemetry.DashboardDeleteTileLoggers),h},t.DashboardDownloadIOSApp=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={downloadReferrer:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DownloadIOSApp",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={downloadReferrer:h.downloadReferrer,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDownloadIOSAppLoggers&&(g.loggers=e.telemetry.DashboardDownloadIOSAppLoggers),g},t.DashboardDownloadCompanionApp=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={downloadReferrer:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DownloadCompanionApp",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={downloadReferrer:h.downloadReferrer,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDownloadCompanionAppLoggers&&(g.loggers=e.telemetry.DashboardDownloadCompanionAppLoggers),g},t.DashboardDownloadExcelPublisher=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={downloadReferrer:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DownloadExcelPublisher",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={downloadReferrer:h.downloadReferrer,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDownloadExcelPublisherLoggers&&(g.loggers=e.telemetry.DashboardDownloadExcelPublisherLoggers),g},t.DashboardDownloadGateways=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={downloadReferrer:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DownloadGateways",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={downloadReferrer:h.downloadReferrer,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDownloadGatewaysLoggers&&(g.loggers=e.telemetry.DashboardDownloadGatewaysLoggers),g},t.DashboardEditDashboardPermissions=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={dashboardGuid:t,permission:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.EditDashboardPermissions",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,permission:g.permission,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardEditDashboardPermissionsLoggers&&(f.loggers=e.telemetry.DashboardEditDashboardPermissionsLoggers),f},t.DashboardTileLayoutChanged=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={tilesChanged:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.TileLayoutChanged",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tilesChanged:h.tilesChanged,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardTileLayoutChangedLoggers&&(g.loggers=e.telemetry.DashboardTileLayoutChangedLoggers),g},t.DashboardRefreshPackage=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.RefreshPackage",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRefreshPackageLoggers&&(h.loggers=e.telemetry.DashboardRefreshPackageLoggers),h},t.DashboardRefreshAllPackages=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.RefreshAllPackages",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRefreshAllPackagesLoggers&&(h.loggers=e.telemetry.DashboardRefreshAllPackagesLoggers),h},t.DashboardResyncSession=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={resyncReason:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ResyncSession",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={resyncReason:h.resyncReason,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardResyncSessionLoggers&&(g.loggers=e.telemetry.DashboardResyncSessionLoggers),g},t.DashboardInFocusWorkbook=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={tileId:t,workbookId:i,packageId:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.InFocusWorkbook",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tileId:f.tileId,workbookId:f.workbookId,packageId:f.packageId,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInFocusWorkbookLoggers&&(m.loggers=e.telemetry.DashboardInFocusWorkbookLoggers),m},t.DashboardReloadWorkbook=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.ReloadWorkbook",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardReloadWorkbookLoggers&&(h.loggers=e.telemetry.DashboardReloadWorkbookLoggers),h},t.DashboardCalculateWorkbook=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.CalculateWorkbook",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardCalculateWorkbookLoggers&&(h.loggers=e.telemetry.DashboardCalculateWorkbookLoggers),h},t.DashboardEditTileProperties=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={readOnlyTileEdited:t,titleEdited:i,subTitleEdited:o,actionEdited:r,configEdited:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.Dashboard.EditTileProperties",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={readOnlyTileEdited:b.readOnlyTileEdited,titleEdited:b.titleEdited,subTitleEdited:b.subTitleEdited,actionEdited:b.actionEdited,configEdited:b.configEdited,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardEditTilePropertiesLoggers&&(y.loggers=e.telemetry.DashboardEditTilePropertiesLoggers),y},t.InFocusModeSaveTileProperties=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={contentEdited:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.InFocusMode.SaveTileProperties",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentEdited:h.contentEdited,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);
var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.InFocusModeSaveTilePropertiesLoggers&&(g.loggers=e.telemetry.InFocusModeSaveTilePropertiesLoggers),g},t.DashboardExportDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={dashboardGuid:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ExportDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:h.dashboardGuid,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardExportDashboardLoggers&&(g.loggers=e.telemetry.DashboardExportDashboardLoggers),g},t.DashboardLoadDevTools=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.LoadDevTools",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadDevToolsLoggers&&(h.loggers=e.telemetry.DashboardLoadDevToolsLoggers),h},t.BaseAppDashboardEvent=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={originalDashboardGuid:t,appGuid:i,dashboardGuid:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"BaseAppDashboardEvent",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={originalDashboardGuid:f.originalDashboardGuid,appGuid:f.appGuid,dashboardGuid:f.dashboardGuid,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.BaseAppDashboardEventLoggers&&(m.loggers=e.telemetry.BaseAppDashboardEventLoggers),m},t.DashboardOpenDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,D,M,T,E,P,k,A){void 0===S&&(S=!1),void 0===C&&(C=void 0),void 0===w&&(w=void 0),void 0===I&&(I=void 0),void 0===D&&(D=void 0),void 0===M&&(M=void 0),void 0===T&&(T=!1),void 0===E&&(E=!1),void 0===P&&(P=void 0),void 0===k&&(k=!1),void 0===A&&(A=!1);var L={isSample:t,hasResourcePackages:i,hasOnPremiseModel:o,compositeTilesCount:r,iframeTilesCount:a,imageTilesCount:n,modelTilesCount:s,ssrsTilesCount:c,workbookTilesCount:l,reportTilesCount:d,workbookTileNoImage:p,otherTileTypes:u,realTimeTilesCount:v,source:h,groupObjectId:g,originalDashboardGuid:f,appGuid:m,dashboardGuid:b,parentId:y,isError:S,errorSource:C,errorCode:w,errorMessage:I,activityName:D,activityId:M,isDebug:T,isCancelled:E,pingLatency:P,isAppInactive:k,isInCapacity:A},N={name:"PBI.Dashboard.OpenDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isSample:L.isSample,hasResourcePackages:L.hasResourcePackages,hasOnPremiseModel:L.hasOnPremiseModel,compositeTilesCount:L.compositeTilesCount,iframeTilesCount:L.iframeTilesCount,imageTilesCount:L.imageTilesCount,modelTilesCount:L.modelTilesCount,ssrsTilesCount:L.ssrsTilesCount,workbookTilesCount:L.workbookTilesCount,reportTilesCount:L.reportTilesCount,workbookTileNoImage:L.workbookTileNoImage,otherTileTypes:L.otherTileTypes,realTimeTilesCount:L.realTimeTilesCount,source:e.telemetry.OpenDashboardSource[L.source],groupObjectId:L.groupObjectId,originalDashboardGuid:L.originalDashboardGuid,appGuid:L.appGuid,dashboardGuid:L.dashboardGuid,parentId:L.parentId},i=typeof L.isError;("boolean"===i&&!!L.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=L.isError);var i=typeof L.errorSource;("boolean"===i&&!!L.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[L.errorSource]);var i=typeof L.errorCode;("boolean"===i&&!!L.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=L.errorCode);var i=typeof L.errorMessage;("boolean"===i&&!!L.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=L.errorMessage);var i=typeof L.activityName;("boolean"===i&&!!L.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=L.activityName);var i=typeof L.activityId;("boolean"===i&&!!L.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=L.activityId);var i=typeof L.isDebug;("boolean"===i&&!!L.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=L.isDebug);var i=typeof L.isCancelled;("boolean"===i&&!!L.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=L.isCancelled);var i=typeof L.pingLatency;("boolean"===i&&!!L.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=L.pingLatency);var i=typeof L.isAppInactive;("boolean"===i&&!!L.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=L.isAppInactive);var i=typeof L.isInCapacity;return("boolean"===i&&!!L.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=L.isInCapacity),t},info:L,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenDashboardLoggers&&(N.loggers=e.telemetry.DashboardOpenDashboardLoggers),N},t.DashboardLoadDashboardTileVisual=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={tileCount:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.LoadDashboardTileVisual",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tileCount:h.tileCount,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadDashboardTileVisualLoggers&&(g.loggers=e.telemetry.DashboardLoadDashboardTileVisualLoggers),g},t.DashboardOpenReportFromNavigationPane=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={contentProviderId:t,contentProviderDisplayText:i,reason:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.OpenReportFromNavigationPane",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentProviderId:f.contentProviderId,contentProviderDisplayText:f.contentProviderDisplayText,reason:f.reason,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenReportFromNavigationPaneLoggers&&(m.loggers=e.telemetry.DashboardOpenReportFromNavigationPaneLoggers),m},t.DashboardOpenReportFromUrl=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={contentProviderId:t,contentProviderDisplayText:i,reason:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.OpenReportFromUrl",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentProviderId:f.contentProviderId,contentProviderDisplayText:f.contentProviderDisplayText,reason:f.reason,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenReportFromUrlLoggers&&(m.loggers=e.telemetry.DashboardOpenReportFromUrlLoggers),m},t.DashboardNavigatingReportUrl=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={contentProviderId:t,contentProviderDisplayText:i,reason:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.NavigatingReportUrl",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentProviderId:f.contentProviderId,contentProviderDisplayText:f.contentProviderDisplayText,reason:f.reason,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardNavigatingReportUrlLoggers&&(m.loggers=e.telemetry.DashboardNavigatingReportUrlLoggers),m},t.DashboardOpenDataSet=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={contentProviderId:t,contentProviderDisplayText:i,reason:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.OpenDataSet",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentProviderId:f.contentProviderId,contentProviderDisplayText:f.contentProviderDisplayText,reason:f.reason,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenDataSetLoggers&&(m.loggers=e.telemetry.DashboardOpenDataSetLoggers),m},t.DashboardOpenDataSetFromUrl=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={contentProviderId:t,contentProviderDisplayText:i,reason:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.OpenDataSetFromUrl",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentProviderId:f.contentProviderId,contentProviderDisplayText:f.contentProviderDisplayText,reason:f.reason,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenDataSetFromUrlLoggers&&(m.loggers=e.telemetry.DashboardOpenDataSetFromUrlLoggers),m},t.DashboardNavigatingDatasetUrl=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={contentProviderId:t,contentProviderDisplayText:i,reason:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.NavigatingDatasetUrl",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={contentProviderId:f.contentProviderId,contentProviderDisplayText:f.contentProviderDisplayText,reason:f.reason,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardNavigatingDatasetUrlLoggers&&(m.loggers=e.telemetry.DashboardNavigatingDatasetUrlLoggers),m},t.DashboardPinTile=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S){void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1),void 0===b&&(b=void 0),void 0===y&&(y=!1),void 0===S&&(S=!1);var C={visualType:t,source:i,reason:o,unsupportedVisualPinned:r,contentProviderType:a,isCustomVisual:n,widgetType:s,reportPageContainsScriptVisuals:c,parentId:l,isError:d,errorSource:p,errorCode:u,errorMessage:v,activityName:h,activityId:g,isDebug:f,isCancelled:m,pingLatency:b,isAppInactive:y,isInCapacity:S},w={name:"PBI.Dashboard.PinTile",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={visualType:C.visualType,source:e.telemetry.PinTileSource[C.source],reason:C.reason,unsupportedVisualPinned:C.unsupportedVisualPinned,contentProviderType:C.contentProviderType,isCustomVisual:C.isCustomVisual,widgetType:C.widgetType,reportPageContainsScriptVisuals:C.reportPageContainsScriptVisuals,parentId:C.parentId},i=typeof C.isError;("boolean"===i&&!!C.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=C.isError);var i=typeof C.errorSource;("boolean"===i&&!!C.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[C.errorSource]);var i=typeof C.errorCode;("boolean"===i&&!!C.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=C.errorCode);var i=typeof C.errorMessage;("boolean"===i&&!!C.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=C.errorMessage);var i=typeof C.activityName;("boolean"===i&&!!C.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=C.activityName);var i=typeof C.activityId;("boolean"===i&&!!C.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=C.activityId);var i=typeof C.isDebug;("boolean"===i&&!!C.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=C.isDebug);var i=typeof C.isCancelled;("boolean"===i&&!!C.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=C.isCancelled);var i=typeof C.pingLatency;("boolean"===i&&!!C.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=C.pingLatency);var i=typeof C.isAppInactive;("boolean"===i&&!!C.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=C.isAppInactive);var i=typeof C.isInCapacity;return("boolean"===i&&!!C.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=C.isInCapacity),t},info:C,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardPinTileLoggers&&(w.loggers=e.telemetry.DashboardPinTileLoggers),w},t.DashboardPinWorkbookTile=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S){void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1),void 0===b&&(b=void 0),void 0===y&&(y=!1),void 0===S&&(S=!1);var C={visualType:t,source:i,reason:o,unsupportedVisualPinned:r,contentProviderType:a,smartSelection:n,namedItemType:s,storageProvider:c,parentId:l,isError:d,errorSource:p,errorCode:u,errorMessage:v,activityName:h,activityId:g,isDebug:f,isCancelled:m,pingLatency:b,isAppInactive:y,isInCapacity:S},w={name:"PBI.Dashboard.PinWorkbookTile",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={visualType:C.visualType,source:e.telemetry.PinTileSource[C.source],reason:C.reason,unsupportedVisualPinned:C.unsupportedVisualPinned,contentProviderType:C.contentProviderType,smartSelection:C.smartSelection,namedItemType:C.namedItemType,storageProvider:C.storageProvider,parentId:C.parentId},i=typeof C.isError;("boolean"===i&&!!C.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=C.isError);var i=typeof C.errorSource;("boolean"===i&&!!C.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[C.errorSource]);var i=typeof C.errorCode;("boolean"===i&&!!C.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=C.errorCode);var i=typeof C.errorMessage;
("boolean"===i&&!!C.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=C.errorMessage);var i=typeof C.activityName;("boolean"===i&&!!C.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=C.activityName);var i=typeof C.activityId;("boolean"===i&&!!C.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=C.activityId);var i=typeof C.isDebug;("boolean"===i&&!!C.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=C.isDebug);var i=typeof C.isCancelled;("boolean"===i&&!!C.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=C.isCancelled);var i=typeof C.pingLatency;("boolean"===i&&!!C.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=C.pingLatency);var i=typeof C.isAppInactive;("boolean"===i&&!!C.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=C.isAppInactive);var i=typeof C.isInCapacity;return("boolean"===i&&!!C.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=C.isInCapacity),t},info:C,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardPinWorkbookTileLoggers&&(w.loggers=e.telemetry.DashboardPinWorkbookTileLoggers),w},t.DashboardPinTileFromDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={visualType:t,source:i,reason:o,unsupportedVisualPinned:r,contentProviderType:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.Dashboard.PinTileFromDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={visualType:b.visualType,source:e.telemetry.PinTileSource[b.source],reason:b.reason,unsupportedVisualPinned:b.unsupportedVisualPinned,contentProviderType:b.contentProviderType,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardPinTileFromDashboardLoggers&&(y.loggers=e.telemetry.DashboardPinTileFromDashboardLoggers),y},t.DashboardUpdateDashboardsCache=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={characterCount:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.UpdateDashboardsCache",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={characterCount:h.characterCount,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUpdateDashboardsCacheLoggers&&(g.loggers=e.telemetry.DashboardUpdateDashboardsCacheLoggers),g},t.DashboardCachedDashboardsFound=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.CachedDashboardsFound",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardCachedDashboardsFoundLoggers&&(h.loggers=e.telemetry.DashboardCachedDashboardsFoundLoggers),h},t.DashboardInitializeContainer=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={errorReason:t,userSwitchedGroups:i,userIsBrowsingArchivedContent:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.InitializeContainer",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={errorReason:f.errorReason,userSwitchedGroups:f.userSwitchedGroups,userIsBrowsingArchivedContent:f.userIsBrowsingArchivedContent,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeContainerLoggers&&(m.loggers=e.telemetry.DashboardInitializeContainerLoggers),m},t.DashboardInitializeContentProviderConfig=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={name:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.InitializeContentProviderConfig",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={name:h.name,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeContentProviderConfigLoggers&&(g.loggers=e.telemetry.DashboardInitializeContentProviderConfigLoggers),g},t.DashboardInitializeActivityPane=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.InitializeActivityPane",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeActivityPaneLoggers&&(h.loggers=e.telemetry.DashboardInitializeActivityPaneLoggers),h},t.DashboardActivityPaneConnectionSettingsShown=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.ActivityPaneConnectionSettingsShown",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardActivityPaneConnectionSettingsShownLoggers&&(h.loggers=e.telemetry.DashboardActivityPaneConnectionSettingsShownLoggers),h},t.DashboardInviteDashboardUsers=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C){void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=void 0),void 0===m&&(m=!1),void 0===b&&(b=!1),void 0===y&&(y=void 0),void 0===S&&(S=!1),void 0===C&&(C=!1);var w={numberOfEmailAddresses:t,numberOfObjectIds:i,lengthOfMessage:o,isDefaultMessage:r,isReshared:a,reshareEnabled:n,dashboardGuid:s,notifyViaEmail:c,numberOfExternalEmails:l,parentId:d,isError:p,errorSource:u,errorCode:v,errorMessage:h,activityName:g,activityId:f,isDebug:m,isCancelled:b,pingLatency:y,isAppInactive:S,isInCapacity:C},I={name:"PBI.Dashboard.InviteDashboardUsers",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numberOfEmailAddresses:w.numberOfEmailAddresses,numberOfObjectIds:w.numberOfObjectIds,lengthOfMessage:w.lengthOfMessage,isDefaultMessage:w.isDefaultMessage,isReshared:w.isReshared,reshareEnabled:w.reshareEnabled,dashboardGuid:w.dashboardGuid,notifyViaEmail:w.notifyViaEmail,numberOfExternalEmails:w.numberOfExternalEmails,parentId:w.parentId},i=typeof w.isError;("boolean"===i&&!!w.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=w.isError);var i=typeof w.errorSource;("boolean"===i&&!!w.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[w.errorSource]);var i=typeof w.errorCode;("boolean"===i&&!!w.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=w.errorCode);var i=typeof w.errorMessage;("boolean"===i&&!!w.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=w.errorMessage);var i=typeof w.activityName;("boolean"===i&&!!w.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=w.activityName);var i=typeof w.activityId;("boolean"===i&&!!w.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=w.activityId);var i=typeof w.isDebug;("boolean"===i&&!!w.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=w.isDebug);var i=typeof w.isCancelled;("boolean"===i&&!!w.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=w.isCancelled);var i=typeof w.pingLatency;("boolean"===i&&!!w.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=w.pingLatency);var i=typeof w.isAppInactive;("boolean"===i&&!!w.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=w.isAppInactive);var i=typeof w.isInCapacity;return("boolean"===i&&!!w.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=w.isInCapacity),t},info:w,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInviteDashboardUsersLoggers&&(I.loggers=e.telemetry.DashboardInviteDashboardUsersLoggers),I},t.DashboardSharingEmailAddressExceededLimit=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={numberOfEmailAddresses:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.SharingEmailAddressExceededLimit",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numberOfEmailAddresses:h.numberOfEmailAddresses,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSharingEmailAddressExceededLimitLoggers&&(g.loggers=e.telemetry.DashboardSharingEmailAddressExceededLimitLoggers),g},t.DashboardSharingEmailAddressUnsupportedGroup=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.SharingEmailAddressUnsupportedGroup",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSharingEmailAddressUnsupportedGroupLoggers&&(h.loggers=e.telemetry.DashboardSharingEmailAddressUnsupportedGroupLoggers),h},t.DashboardSharingWithInvalidDomain=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.SharingWithInvalidDomain",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSharingWithInvalidDomainLoggers&&(h.loggers=e.telemetry.DashboardSharingWithInvalidDomainLoggers),h},t.DashboardSharingWithBlockedDomain=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.SharingWithBlockedDomain",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSharingWithBlockedDomainLoggers&&(h.loggers=e.telemetry.DashboardSharingWithBlockedDomainLoggers),h},t.DashboardOpenShareDialog=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.OpenShareDialog",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenShareDialogLoggers&&(h.loggers=e.telemetry.DashboardOpenShareDialogLoggers),h},t.DashboardSendShareInvitation=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),
void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.SendShareInvitation",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSendShareInvitationLoggers&&(h.loggers=e.telemetry.DashboardSendShareInvitationLoggers),h},t.DashboardRequestDashboardAccess=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={dashboardObjectId:t,messageLength:i,isDefaultMessage:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.RequestDashboardAccess",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardObjectId:f.dashboardObjectId,messageLength:f.messageLength,isDefaultMessage:f.isDefaultMessage,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRequestDashboardAccessLoggers&&(m.loggers=e.telemetry.DashboardRequestDashboardAccessLoggers),m},t.DashboardDeleteDashboardAccessRequest=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={dashboardObjectId:t,kind:i,id:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.DeleteDashboardAccessRequest",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardObjectId:f.dashboardObjectId,kind:f.kind,id:f.id,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteDashboardAccessRequestLoggers&&(m.loggers=e.telemetry.DashboardDeleteDashboardAccessRequestLoggers),m},t.DashboardLoadDashboardUsers=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.LoadDashboardUsers",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadDashboardUsersLoggers&&(h.loggers=e.telemetry.DashboardLoadDashboardUsersLoggers),h},t.DashboardOpenConnectionsDialog=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.OpenConnectionsDialog",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenConnectionsDialogLoggers&&(h.loggers=e.telemetry.DashboardOpenConnectionsDialogLoggers),h},t.DashboardOpenTile=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){void 0===c&&(c=!1),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1),void 0===f&&(f=void 0),void 0===m&&(m=!1),void 0===b&&(b=!1);var y={tileType:t,tileId:i,reason:o,contentProviderId:r,contentProviderDisplayText:a,hasFullUrlToDashboardOrReport:n,parentId:s,isError:c,errorSource:l,errorCode:d,errorMessage:p,activityName:u,activityId:v,isDebug:h,isCancelled:g,pingLatency:f,isAppInactive:m,isInCapacity:b},S={name:"PBI.Dashboard.OpenTile",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tileType:e.telemetry.ContentTypes[y.tileType],tileId:y.tileId,reason:y.reason,contentProviderId:y.contentProviderId,contentProviderDisplayText:y.contentProviderDisplayText,hasFullUrlToDashboardOrReport:y.hasFullUrlToDashboardOrReport,parentId:y.parentId},i=typeof y.isError;("boolean"===i&&!!y.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=y.isError);var i=typeof y.errorSource;("boolean"===i&&!!y.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[y.errorSource]);var i=typeof y.errorCode;("boolean"===i&&!!y.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=y.errorCode);var i=typeof y.errorMessage;("boolean"===i&&!!y.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=y.errorMessage);var i=typeof y.activityName;("boolean"===i&&!!y.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=y.activityName);var i=typeof y.activityId;("boolean"===i&&!!y.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=y.activityId);var i=typeof y.isDebug;("boolean"===i&&!!y.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=y.isDebug);var i=typeof y.isCancelled;("boolean"===i&&!!y.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=y.isCancelled);var i=typeof y.pingLatency;("boolean"===i&&!!y.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=y.pingLatency);var i=typeof y.isAppInactive;("boolean"===i&&!!y.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=y.isAppInactive);var i=typeof y.isInCapacity;return("boolean"===i&&!!y.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=y.isInCapacity),t},info:y,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenTileLoggers&&(S.loggers=e.telemetry.DashboardOpenTileLoggers),S},t.DashboardOpenRefreshConnectionDialog=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.OpenRefreshConnectionDialog",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenRefreshConnectionDialogLoggers&&(h.loggers=e.telemetry.DashboardOpenRefreshConnectionDialogLoggers),h},t.DashboardSettingGroupChanged=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={settingGroupTypeChangedFrom:t,settingGroupTypeChangedTo:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.SettingGroupChanged",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={settingGroupTypeChangedFrom:g.settingGroupTypeChangedFrom,settingGroupTypeChangedTo:g.settingGroupTypeChangedTo,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSettingGroupChangedLoggers&&(f.loggers=e.telemetry.DashboardSettingGroupChangedLoggers),f},t.DashboardForceScheduleRefreshUseITGW=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={isForceScheduleRefreshUseITGW_Status:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ForceScheduleRefreshUseITGW",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isForceScheduleRefreshUseITGW_Status:h.isForceScheduleRefreshUseITGW_Status,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardForceScheduleRefreshUseITGWLoggers&&(g.loggers=e.telemetry.DashboardForceScheduleRefreshUseITGWLoggers),g},t.DashboardRenameDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={tileCount:t,dashboardGuid:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.RenameDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tileCount:g.tileCount,dashboardGuid:g.dashboardGuid,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRenameDashboardLoggers&&(f.loggers=e.telemetry.DashboardRenameDashboardLoggers),f},t.DashboardViewWorkbook=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){void 0===n&&(n=!1),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1);var m={etagHash:t,permissions:i,storageProvider:o,contentProvider:r,parentId:a,isError:n,errorSource:s,errorCode:c,errorMessage:l,activityName:d,activityId:p,isDebug:u,isCancelled:v,pingLatency:h,isAppInactive:g,isInCapacity:f},b={name:"PBI.Dashboard.ViewWorkbook",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={etagHash:m.etagHash,permissions:m.permissions,storageProvider:m.storageProvider,contentProvider:m.contentProvider,parentId:m.parentId},i=typeof m.isError;("boolean"===i&&!!m.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=m.isError);var i=typeof m.errorSource;("boolean"===i&&!!m.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[m.errorSource]);var i=typeof m.errorCode;("boolean"===i&&!!m.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=m.errorCode);var i=typeof m.errorMessage;("boolean"===i&&!!m.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=m.errorMessage);var i=typeof m.activityName;("boolean"===i&&!!m.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=m.activityName);var i=typeof m.activityId;("boolean"===i&&!!m.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=m.activityId);var i=typeof m.isDebug;("boolean"===i&&!!m.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=m.isDebug);var i=typeof m.isCancelled;("boolean"===i&&!!m.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=m.isCancelled);var i=typeof m.pingLatency;("boolean"===i&&!!m.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=m.pingLatency);var i=typeof m.isAppInactive;("boolean"===i&&!!m.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=m.isAppInactive);var i=typeof m.isInCapacity;return("boolean"===i&&!!m.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=m.isInCapacity),t},info:m,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardViewWorkbookLoggers&&(b.loggers=e.telemetry.DashboardViewWorkbookLoggers),b},t.DashboardWorkbookEditedInPowerBICausedPinBlock=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.WorkbookEditedInPowerBICausedPinBlock",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWorkbookEditedInPowerBICausedPinBlockLoggers&&(h.loggers=e.telemetry.DashboardWorkbookEditedInPowerBICausedPinBlockLoggers),h},t.DashboardEditWorkbook=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={etagHash:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.EditWorkbook",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={etagHash:h.etagHash,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardEditWorkbookLoggers&&(g.loggers=e.telemetry.DashboardEditWorkbookLoggers),g},t.DashboardWorkbookViewedExternallyDueToAnError=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={etagHash:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.WorkbookViewedExternallyDueToAnError",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={etagHash:h.etagHash,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;
("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWorkbookViewedExternallyDueToAnErrorLoggers&&(g.loggers=e.telemetry.DashboardWorkbookViewedExternallyDueToAnErrorLoggers),g},t.DashboardSwitchView=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={from:t,to:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.SwitchView",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={from:g.from,to:g.to,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSwitchViewLoggers&&(f.loggers=e.telemetry.DashboardSwitchViewLoggers),f},t.DashboardUpdateActiveDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={dashboardGuid:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.UpdateActiveDashboard",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:h.dashboardGuid,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUpdateActiveDashboardLoggers&&(g.loggers=e.telemetry.DashboardUpdateActiveDashboardLoggers),g},t.DashboardRefreshTileData=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={dashboardGuid:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.RefreshTileData",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:h.dashboardGuid,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRefreshTileDataLoggers&&(g.loggers=e.telemetry.DashboardRefreshTileDataLoggers),g},t.DashboardSetHomeDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={homeDashboardId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.SetHomeDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={homeDashboardId:h.homeDashboardId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSetHomeDashboardLoggers&&(g.loggers=e.telemetry.DashboardSetHomeDashboardLoggers),g},t.DashboardDisableHomeDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={homeDashboardId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DisableHomeDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={homeDashboardId:h.homeDashboardId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDisableHomeDashboardLoggers&&(g.loggers=e.telemetry.DashboardDisableHomeDashboardLoggers),g},t.DashboardRefreshDashboardTiles=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){void 0===n&&(n=!1),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1);var m={dashboardGuid:t,totalTiles:i,numberOfScriptTiles:o,numberOfliveReportsWithR:r,parentId:a,isError:n,errorSource:s,errorCode:c,errorMessage:l,activityName:d,activityId:p,isDebug:u,isCancelled:v,pingLatency:h,isAppInactive:g,isInCapacity:f},b={name:"PBI.Dashboard.RefreshDashboardTiles",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:m.dashboardGuid,totalTiles:m.totalTiles,numberOfScriptTiles:m.numberOfScriptTiles,numberOfliveReportsWithR:m.numberOfliveReportsWithR,parentId:m.parentId},i=typeof m.isError;("boolean"===i&&!!m.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=m.isError);var i=typeof m.errorSource;("boolean"===i&&!!m.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[m.errorSource]);var i=typeof m.errorCode;("boolean"===i&&!!m.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=m.errorCode);var i=typeof m.errorMessage;("boolean"===i&&!!m.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=m.errorMessage);var i=typeof m.activityName;("boolean"===i&&!!m.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=m.activityName);var i=typeof m.activityId;("boolean"===i&&!!m.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=m.activityId);var i=typeof m.isDebug;("boolean"===i&&!!m.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=m.isDebug);var i=typeof m.isCancelled;("boolean"===i&&!!m.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=m.isCancelled);var i=typeof m.pingLatency;("boolean"===i&&!!m.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=m.pingLatency);var i=typeof m.isAppInactive;("boolean"===i&&!!m.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=m.isAppInactive);var i=typeof m.isInCapacity;return("boolean"===i&&!!m.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=m.isInCapacity),t},info:m,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRefreshDashboardTilesLoggers&&(b.loggers=e.telemetry.DashboardRefreshDashboardTilesLoggers),b},t.GroupsSwitchGroup=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={groupObjectId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Groups.SwitchGroup",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupObjectId:h.groupObjectId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupsSwitchGroupLoggers&&(g.loggers=e.telemetry.GroupsSwitchGroupLoggers),g},t.DashboardShowGettingStartedPopup=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={key:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ShowGettingStartedPopup",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={key:h.key,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardShowGettingStartedPopupLoggers&&(g.loggers=e.telemetry.DashboardShowGettingStartedPopupLoggers),g},t.BaseDataSetTopLevelCustomerAction=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"BaseDataSetTopLevelCustomerAction",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.BaseDataSetTopLevelCustomerActionLoggers&&(g.loggers=e.telemetry.BaseDataSetTopLevelCustomerActionLoggers),g},t.DashboardManageDatasetsLanding=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.ManageDatasetsLanding",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardManageDatasetsLandingLoggers&&(h.loggers=e.telemetry.DashboardManageDatasetsLandingLoggers),h},t.DashboardDatasetClickScheduleRefresh=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DatasetClickScheduleRefresh",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDatasetClickScheduleRefreshLoggers&&(g.loggers=e.telemetry.DashboardDatasetClickScheduleRefreshLoggers),g},t.DashboardWorkbookClickScheduleRefresh=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.WorkbookClickScheduleRefresh",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWorkbookClickScheduleRefreshLoggers&&(g.loggers=e.telemetry.DashboardWorkbookClickScheduleRefreshLoggers),g},t.DashboardDatasetClickRefreshNow=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DatasetClickRefreshNow",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDatasetClickRefreshNowLoggers&&(g.loggers=e.telemetry.DashboardDatasetClickRefreshNowLoggers),g},t.DashboardWorkbookClickRefreshNow=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.WorkbookClickRefreshNow",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);
var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWorkbookClickRefreshNowLoggers&&(g.loggers=e.telemetry.DashboardWorkbookClickRefreshNowLoggers),g},t.DashboardDatasetClickDelete=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DatasetClickDelete",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDatasetClickDeleteLoggers&&(g.loggers=e.telemetry.DashboardDatasetClickDeleteLoggers),g},t.DashboardDatasetClickExplore=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DatasetClickExplore",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDatasetClickExploreLoggers&&(g.loggers=e.telemetry.DashboardDatasetClickExploreLoggers),g},t.DashboardDatasetClickInsights=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DatasetClickInsights",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDatasetClickInsightsLoggers&&(g.loggers=e.telemetry.DashboardDatasetClickInsightsLoggers),g},t.DashboardDatasetClickRename=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DatasetClickRename",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDatasetClickRenameLoggers&&(g.loggers=e.telemetry.DashboardDatasetClickRenameLoggers),g},t.DashboardClickPersonalize=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={providerId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ClickPersonalize",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={providerId:h.providerId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardClickPersonalizeLoggers&&(g.loggers=e.telemetry.DashboardClickPersonalizeLoggers),g},t.DashboardGetGatewayStatus=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.GetGatewayStatus",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetGatewayStatusLoggers&&(h.loggers=e.telemetry.DashboardGetGatewayStatusLoggers),h},t.DashboardGetRefreshInfoForFlyout=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.GetRefreshInfoForFlyout",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetRefreshInfoForFlyoutLoggers&&(h.loggers=e.telemetry.DashboardGetRefreshInfoForFlyoutLoggers),h},t.DashboardDataModelSelected=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={type:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.DataModelSelected",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={type:h.type,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDataModelSelectedLoggers&&(g.loggers=e.telemetry.DashboardDataModelSelectedLoggers),g},t.DashboardExpandCollapseNavigatorPane=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={action:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ExpandCollapseNavigatorPane",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={action:e.telemetry.NavPaneToggleAction[h.action],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardExpandCollapseNavigatorPaneLoggers&&(g.loggers=e.telemetry.DashboardExpandCollapseNavigatorPaneLoggers),g},t.DashboardOpenGetDataPage=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={interaction:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.OpenGetDataPage",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={interaction:e.telemetry.OpenGetDataPageInteraction[h.interaction],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOpenGetDataPageLoggers&&(g.loggers=e.telemetry.DashboardOpenGetDataPageLoggers),g},t.DashboardExpandCollapseNavigatorPaneSection=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={action:t,section:i,numDashboards:o,numReports:r,numDatasets:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.Dashboard.ExpandCollapseNavigatorPaneSection",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={action:e.telemetry.NavPaneToggleAction[b.action],section:e.telemetry.NavPaneSection[b.section],numDashboards:b.numDashboards,numReports:b.numReports,numDatasets:b.numDatasets,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardExpandCollapseNavigatorPaneSectionLoggers&&(y.loggers=e.telemetry.DashboardExpandCollapseNavigatorPaneSectionLoggers),y},t.DashboardFilterNavigatorPaneItems=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={numDashboards:t,numReports:i,numDatasets:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.FilterNavigatorPaneItems",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numDashboards:f.numDashboards,numReports:f.numReports,numDatasets:f.numDatasets,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardFilterNavigatorPaneItemsLoggers&&(m.loggers=e.telemetry.DashboardFilterNavigatorPaneItemsLoggers),m},t.DashboardRefreshAndGetUserMetadata=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.RefreshAndGetUserMetadata",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRefreshAndGetUserMetadataLoggers&&(h.loggers=e.telemetry.DashboardRefreshAndGetUserMetadataLoggers),h},t.DashboardGetGroups=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.GetGroups",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);
var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetGroupsLoggers&&(h.loggers=e.telemetry.DashboardGetGroupsLoggers),h};var L;!(function(e){e[e.Dashboard=0]="Dashboard",e[e.Report=1]="Report",e[e.Workbook=2]="Workbook"})(L=t.DefaultAppArtifactType||(t.DefaultAppArtifactType={})),t.AppCreationEvent=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I){void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=void 0),void 0===m&&(m=void 0),void 0===b&&(b=void 0),void 0===y&&(y=!1),void 0===S&&(S=!1),void 0===C&&(C=void 0),void 0===w&&(w=!1),void 0===I&&(I=!1);var D={appGUID:t,numberOfDashboards:i,numberOfReports:o,numberOfModels:r,numberOfWorkbooks:a,isSharedWithEntireOrg:n,isSharedWithSecurityGroup:s,allowCopyContent:c,hasDefaultArtifact:l,defaultArtifactType:d,isUserError:p,parentId:u,isError:v,errorSource:h,errorCode:g,errorMessage:f,activityName:m,activityId:b,isDebug:y,isCancelled:S,pingLatency:C,isAppInactive:w,isInCapacity:I},M={name:"AppCreationEvent",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={appGUID:D.appGUID,numberOfDashboards:D.numberOfDashboards,numberOfReports:D.numberOfReports,numberOfModels:D.numberOfModels,numberOfWorkbooks:D.numberOfWorkbooks,isSharedWithEntireOrg:D.isSharedWithEntireOrg,isSharedWithSecurityGroup:D.isSharedWithSecurityGroup,allowCopyContent:D.allowCopyContent,hasDefaultArtifact:D.hasDefaultArtifact,defaultArtifactType:e.telemetry.DefaultAppArtifactType[D.defaultArtifactType],isUserError:D.isUserError,parentId:D.parentId},i=typeof D.isError;("boolean"===i&&!!D.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=D.isError);var i=typeof D.errorSource;("boolean"===i&&!!D.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[D.errorSource]);var i=typeof D.errorCode;("boolean"===i&&!!D.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=D.errorCode);var i=typeof D.errorMessage;("boolean"===i&&!!D.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=D.errorMessage);var i=typeof D.activityName;("boolean"===i&&!!D.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=D.activityName);var i=typeof D.activityId;("boolean"===i&&!!D.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=D.activityId);var i=typeof D.isDebug;("boolean"===i&&!!D.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=D.isDebug);var i=typeof D.isCancelled;("boolean"===i&&!!D.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=D.isCancelled);var i=typeof D.pingLatency;("boolean"===i&&!!D.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=D.pingLatency);var i=typeof D.isAppInactive;("boolean"===i&&!!D.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=D.isAppInactive);var i=typeof D.isInCapacity;return("boolean"===i&&!!D.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=D.isInCapacity),t},info:D,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppCreationEventLoggers&&(M.loggers=e.telemetry.AppCreationEventLoggers),M},t.AppsPublishApp=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I){void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=void 0),void 0===m&&(m=void 0),void 0===b&&(b=void 0),void 0===y&&(y=!1),void 0===S&&(S=!1),void 0===C&&(C=void 0),void 0===w&&(w=!1),void 0===I&&(I=!1);var D={appGUID:t,numberOfDashboards:i,numberOfReports:o,numberOfModels:r,numberOfWorkbooks:a,isSharedWithEntireOrg:n,isSharedWithSecurityGroup:s,allowCopyContent:c,hasDefaultArtifact:l,defaultArtifactType:d,isUserError:p,parentId:u,isError:v,errorSource:h,errorCode:g,errorMessage:f,activityName:m,activityId:b,isDebug:y,isCancelled:S,pingLatency:C,isAppInactive:w,isInCapacity:I},M={name:"PBI.Apps.PublishApp",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={appGUID:D.appGUID,numberOfDashboards:D.numberOfDashboards,numberOfReports:D.numberOfReports,numberOfModels:D.numberOfModels,numberOfWorkbooks:D.numberOfWorkbooks,isSharedWithEntireOrg:D.isSharedWithEntireOrg,isSharedWithSecurityGroup:D.isSharedWithSecurityGroup,allowCopyContent:D.allowCopyContent,hasDefaultArtifact:D.hasDefaultArtifact,defaultArtifactType:e.telemetry.DefaultAppArtifactType[D.defaultArtifactType],isUserError:D.isUserError,parentId:D.parentId},i=typeof D.isError;("boolean"===i&&!!D.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=D.isError);var i=typeof D.errorSource;("boolean"===i&&!!D.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[D.errorSource]);var i=typeof D.errorCode;("boolean"===i&&!!D.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=D.errorCode);var i=typeof D.errorMessage;("boolean"===i&&!!D.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=D.errorMessage);var i=typeof D.activityName;("boolean"===i&&!!D.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=D.activityName);var i=typeof D.activityId;("boolean"===i&&!!D.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=D.activityId);var i=typeof D.isDebug;("boolean"===i&&!!D.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=D.isDebug);var i=typeof D.isCancelled;("boolean"===i&&!!D.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=D.isCancelled);var i=typeof D.pingLatency;("boolean"===i&&!!D.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=D.pingLatency);var i=typeof D.isAppInactive;("boolean"===i&&!!D.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=D.isAppInactive);var i=typeof D.isInCapacity;return("boolean"===i&&!!D.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=D.isInCapacity),t},info:D,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppsPublishAppLoggers&&(M.loggers=e.telemetry.AppsPublishAppLoggers),M},t.AppsUpdateApp=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I){void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=void 0),void 0===m&&(m=void 0),void 0===b&&(b=void 0),void 0===y&&(y=!1),void 0===S&&(S=!1),void 0===C&&(C=void 0),void 0===w&&(w=!1),void 0===I&&(I=!1);var D={appGUID:t,numberOfDashboards:i,numberOfReports:o,numberOfModels:r,numberOfWorkbooks:a,isSharedWithEntireOrg:n,isSharedWithSecurityGroup:s,allowCopyContent:c,hasDefaultArtifact:l,defaultArtifactType:d,isUserError:p,parentId:u,isError:v,errorSource:h,errorCode:g,errorMessage:f,activityName:m,activityId:b,isDebug:y,isCancelled:S,pingLatency:C,isAppInactive:w,isInCapacity:I},M={name:"PBI.Apps.UpdateApp",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={appGUID:D.appGUID,numberOfDashboards:D.numberOfDashboards,numberOfReports:D.numberOfReports,numberOfModels:D.numberOfModels,numberOfWorkbooks:D.numberOfWorkbooks,isSharedWithEntireOrg:D.isSharedWithEntireOrg,isSharedWithSecurityGroup:D.isSharedWithSecurityGroup,allowCopyContent:D.allowCopyContent,hasDefaultArtifact:D.hasDefaultArtifact,defaultArtifactType:e.telemetry.DefaultAppArtifactType[D.defaultArtifactType],isUserError:D.isUserError,parentId:D.parentId},i=typeof D.isError;("boolean"===i&&!!D.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=D.isError);var i=typeof D.errorSource;("boolean"===i&&!!D.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[D.errorSource]);var i=typeof D.errorCode;("boolean"===i&&!!D.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=D.errorCode);var i=typeof D.errorMessage;("boolean"===i&&!!D.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=D.errorMessage);var i=typeof D.activityName;("boolean"===i&&!!D.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=D.activityName);var i=typeof D.activityId;("boolean"===i&&!!D.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=D.activityId);var i=typeof D.isDebug;("boolean"===i&&!!D.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=D.isDebug);var i=typeof D.isCancelled;("boolean"===i&&!!D.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=D.isCancelled);var i=typeof D.pingLatency;("boolean"===i&&!!D.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=D.pingLatency);var i=typeof D.isAppInactive;("boolean"===i&&!!D.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=D.isAppInactive);var i=typeof D.isInCapacity;return("boolean"===i&&!!D.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=D.isInCapacity),t},info:D,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppsUpdateAppLoggers&&(M.loggers=e.telemetry.AppsUpdateAppLoggers),M},t.AppsUpgradeContentPack=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I){void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=void 0),void 0===m&&(m=void 0),void 0===b&&(b=void 0),void 0===y&&(y=!1),void 0===S&&(S=!1),void 0===C&&(C=void 0),void 0===w&&(w=!1),void 0===I&&(I=!1);var D={appGUID:t,numberOfDashboards:i,numberOfReports:o,numberOfModels:r,numberOfWorkbooks:a,isSharedWithEntireOrg:n,isSharedWithSecurityGroup:s,allowCopyContent:c,hasDefaultArtifact:l,defaultArtifactType:d,isUserError:p,parentId:u,isError:v,errorSource:h,errorCode:g,errorMessage:f,activityName:m,activityId:b,isDebug:y,isCancelled:S,pingLatency:C,isAppInactive:w,isInCapacity:I},M={name:"PBI.Apps.UpgradeContentPack",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={appGUID:D.appGUID,numberOfDashboards:D.numberOfDashboards,numberOfReports:D.numberOfReports,numberOfModels:D.numberOfModels,numberOfWorkbooks:D.numberOfWorkbooks,isSharedWithEntireOrg:D.isSharedWithEntireOrg,isSharedWithSecurityGroup:D.isSharedWithSecurityGroup,allowCopyContent:D.allowCopyContent,hasDefaultArtifact:D.hasDefaultArtifact,defaultArtifactType:e.telemetry.DefaultAppArtifactType[D.defaultArtifactType],isUserError:D.isUserError,parentId:D.parentId},i=typeof D.isError;("boolean"===i&&!!D.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=D.isError);var i=typeof D.errorSource;("boolean"===i&&!!D.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[D.errorSource]);var i=typeof D.errorCode;("boolean"===i&&!!D.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=D.errorCode);var i=typeof D.errorMessage;("boolean"===i&&!!D.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=D.errorMessage);var i=typeof D.activityName;("boolean"===i&&!!D.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=D.activityName);var i=typeof D.activityId;("boolean"===i&&!!D.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=D.activityId);var i=typeof D.isDebug;("boolean"===i&&!!D.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=D.isDebug);var i=typeof D.isCancelled;("boolean"===i&&!!D.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=D.isCancelled);var i=typeof D.pingLatency;("boolean"===i&&!!D.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=D.pingLatency);var i=typeof D.isAppInactive;("boolean"===i&&!!D.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=D.isAppInactive);var i=typeof D.isInCapacity;return("boolean"===i&&!!D.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=D.isInCapacity),t},info:D,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppsUpgradeContentPackLoggers&&(M.loggers=e.telemetry.AppsUpgradeContentPackLoggers),M},t.DashboardContentPackPublish=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S){void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1),void 0===b&&(b=void 0),void 0===y&&(y=!1),void 0===S&&(S=!1);var C={isUpdateContentPack:t,numberOfDashboards:i,numberOfReports:o,numberOfModels:r,numberOfWorkbooks:a,isMyWorkspace:n,numberOfGroupsSharedTo:s,isUserError:c,parentId:l,isError:d,errorSource:p,errorCode:u,errorMessage:v,activityName:h,activityId:g,isDebug:f,isCancelled:m,pingLatency:b,isAppInactive:y,isInCapacity:S},w={name:"PBI.Dashboard.ContentPackPublish",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isUpdateContentPack:C.isUpdateContentPack,numberOfDashboards:C.numberOfDashboards,numberOfReports:C.numberOfReports,numberOfModels:C.numberOfModels,numberOfWorkbooks:C.numberOfWorkbooks,isMyWorkspace:C.isMyWorkspace,numberOfGroupsSharedTo:C.numberOfGroupsSharedTo,isUserError:C.isUserError,parentId:C.parentId},i=typeof C.isError;("boolean"===i&&!!C.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=C.isError);var i=typeof C.errorSource;("boolean"===i&&!!C.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[C.errorSource]);var i=typeof C.errorCode;("boolean"===i&&!!C.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=C.errorCode);var i=typeof C.errorMessage;("boolean"===i&&!!C.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=C.errorMessage);var i=typeof C.activityName;("boolean"===i&&!!C.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=C.activityName);var i=typeof C.activityId;("boolean"===i&&!!C.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=C.activityId);var i=typeof C.isDebug;("boolean"===i&&!!C.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=C.isDebug);var i=typeof C.isCancelled;("boolean"===i&&!!C.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=C.isCancelled);var i=typeof C.pingLatency;("boolean"===i&&!!C.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=C.pingLatency);var i=typeof C.isAppInactive;("boolean"===i&&!!C.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=C.isAppInactive);var i=typeof C.isInCapacity;return("boolean"===i&&!!C.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=C.isInCapacity),t},info:C,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardContentPackPublishLoggers&&(w.loggers=e.telemetry.DashboardContentPackPublishLoggers),w},t.DashboardContentPackDirty=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={numberOfContentPacksDirty:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ContentPackDirty",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numberOfContentPacksDirty:h.numberOfContentPacksDirty,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardContentPackDirtyLoggers&&(g.loggers=e.telemetry.DashboardContentPackDirtyLoggers),g},t.DashboardDeleteContentPack=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){void 0===c&&(c=!1),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1),void 0===f&&(f=void 0),void 0===m&&(m=!1),void 0===b&&(b=!1);var y={isSharedWithEntireOrganization:t,numberOfDashboards:i,numberOfReports:o,numberOfModels:r,numberOfWorkbooks:a,numberOfGroupsSharedTo:n,parentId:s,isError:c,errorSource:l,errorCode:d,errorMessage:p,activityName:u,activityId:v,isDebug:h,isCancelled:g,pingLatency:f,isAppInactive:m,isInCapacity:b},S={name:"PBI.Dashboard.DeleteContentPack",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isSharedWithEntireOrganization:y.isSharedWithEntireOrganization,numberOfDashboards:y.numberOfDashboards,numberOfReports:y.numberOfReports,numberOfModels:y.numberOfModels,numberOfWorkbooks:y.numberOfWorkbooks,numberOfGroupsSharedTo:y.numberOfGroupsSharedTo,parentId:y.parentId},i=typeof y.isError;("boolean"===i&&!!y.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=y.isError);var i=typeof y.errorSource;("boolean"===i&&!!y.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[y.errorSource]);var i=typeof y.errorCode;("boolean"===i&&!!y.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=y.errorCode);var i=typeof y.errorMessage;("boolean"===i&&!!y.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=y.errorMessage);var i=typeof y.activityName;("boolean"===i&&!!y.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=y.activityName);var i=typeof y.activityId;("boolean"===i&&!!y.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=y.activityId);var i=typeof y.isDebug;("boolean"===i&&!!y.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=y.isDebug);var i=typeof y.isCancelled;("boolean"===i&&!!y.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=y.isCancelled);var i=typeof y.pingLatency;("boolean"===i&&!!y.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=y.pingLatency);var i=typeof y.isAppInactive;("boolean"===i&&!!y.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=y.isAppInactive);var i=typeof y.isInCapacity;return("boolean"===i&&!!y.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=y.isInCapacity),t},info:y,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteContentPackLoggers&&(S.loggers=e.telemetry.DashboardDeleteContentPackLoggers),S},t.DashboardDeleteTemplateOrganizationApp=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.DeleteTemplateOrganizationApp",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardDeleteTemplateOrganizationAppLoggers&&(h.loggers=e.telemetry.DashboardDeleteTemplateOrganizationAppLoggers),h},t.DashboardViewContentPacks=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.ViewContentPacks",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardViewContentPacksLoggers&&(h.loggers=e.telemetry.DashboardViewContentPacksLoggers),h},t.DashboardContentPackPublishingGroupAddressExceededLimit=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={numberOfGroupAddresses:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.ContentPackPublishingGroupAddressExceededLimit",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numberOfGroupAddresses:h.numberOfGroupAddresses,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardContentPackPublishingGroupAddressExceededLimitLoggers&&(g.loggers=e.telemetry.DashboardContentPackPublishingGroupAddressExceededLimitLoggers),g},t.DashboardContentPackPersonalize=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.ContentPackPersonalize",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardContentPackPersonalizeLoggers&&(h.loggers=e.telemetry.DashboardContentPackPersonalizeLoggers),h},t.DashboardFirstUse=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.FirstUse",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardFirstUseLoggers&&(h.loggers=e.telemetry.DashboardFirstUseLoggers),h},t.DashboardPresentNewVisualizationTheme=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),
void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.PresentNewVisualizationTheme",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardPresentNewVisualizationThemeLoggers&&(h.loggers=e.telemetry.DashboardPresentNewVisualizationThemeLoggers),h},t.DashboardWorkbookPinabilityShown=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.WorkbookPinabilityShown",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWorkbookPinabilityShownLoggers&&(h.loggers=e.telemetry.DashboardWorkbookPinabilityShownLoggers),h},t.DashboardGetDataSplash=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={state:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.GetDataSplash",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={state:e.telemetry.GetDataSplashState[h.state],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetDataSplashLoggers&&(g.loggers=e.telemetry.DashboardGetDataSplashLoggers),g},t.DashboardGetDataSplashIntroVideo=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.GetDataSplashIntroVideo",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetDataSplashIntroVideoLoggers&&(h.loggers=e.telemetry.DashboardGetDataSplashIntroVideoLoggers),h},t.DashboardGetDataCategorySelect=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={categoryName:t,interaction:i,prevCategoryName:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.GetDataCategorySelect",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={categoryName:f.categoryName,interaction:e.telemetry.GetDataCategorySelectInteraction[f.interaction],prevCategoryName:f.prevCategoryName,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetDataCategorySelectLoggers&&(m.loggers=e.telemetry.DashboardGetDataCategorySelectLoggers),m},t.DashboardGetDataProviderSelect=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={categoryName:t,providerName:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.GetDataProviderSelect",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={categoryName:g.categoryName,providerName:g.providerName,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetDataProviderSelectLoggers&&(f.loggers=e.telemetry.DashboardGetDataProviderSelectLoggers),f},t.DashboardGetDataProviderAccordionConnect=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){void 0===n&&(n=!1),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1);var m={categoryName:t,providerName:i,userLicenseCheckFailed:o,userStorageQuotaCheckFailed:r,parentId:a,isError:n,errorSource:s,errorCode:c,errorMessage:l,activityName:d,activityId:p,isDebug:u,isCancelled:v,pingLatency:h,isAppInactive:g,isInCapacity:f},b={name:"PBI.Dashboard.GetDataProviderAccordionConnect",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={categoryName:m.categoryName,providerName:m.providerName,userLicenseCheckFailed:m.userLicenseCheckFailed,userStorageQuotaCheckFailed:m.userStorageQuotaCheckFailed,parentId:m.parentId},i=typeof m.isError;("boolean"===i&&!!m.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=m.isError);var i=typeof m.errorSource;("boolean"===i&&!!m.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[m.errorSource]);var i=typeof m.errorCode;("boolean"===i&&!!m.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=m.errorCode);var i=typeof m.errorMessage;("boolean"===i&&!!m.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=m.errorMessage);var i=typeof m.activityName;("boolean"===i&&!!m.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=m.activityName);var i=typeof m.activityId;("boolean"===i&&!!m.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=m.activityId);var i=typeof m.isDebug;("boolean"===i&&!!m.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=m.isDebug);var i=typeof m.isCancelled;("boolean"===i&&!!m.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=m.isCancelled);var i=typeof m.pingLatency;("boolean"===i&&!!m.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=m.pingLatency);var i=typeof m.isAppInactive;("boolean"===i&&!!m.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=m.isAppInactive);var i=typeof m.isInCapacity;return("boolean"===i&&!!m.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=m.isInCapacity),t},info:m,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetDataProviderAccordionConnectLoggers&&(b.loggers=e.telemetry.DashboardGetDataProviderAccordionConnectLoggers),b},t.DashboardInFocusModeSelected=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={tileType:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.InFocusModeSelected",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tileType:h.tileType,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInFocusModeSelectedLoggers&&(g.loggers=e.telemetry.DashboardInFocusModeSelectedLoggers),g},t.DashboardCloseUserAccount=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={reason:t,comment:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.CloseUserAccount",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={reason:g.reason,comment:g.comment,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardCloseUserAccountLoggers&&(f.loggers=e.telemetry.DashboardCloseUserAccountLoggers),f},t.DashboardSaveDashboardSettings=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){void 0===n&&(n=!1),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1);var m={dataClassificationUpdated:t,qnaEnabledUpdated:i,gravityEnabledUpdated:o,dashboardGuid:r,parentId:a,isError:n,errorSource:s,errorCode:c,errorMessage:l,activityName:d,activityId:p,isDebug:u,isCancelled:v,pingLatency:h,isAppInactive:g,isInCapacity:f},b={name:"PBI.Dashboard.SaveDashboardSettings",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dataClassificationUpdated:m.dataClassificationUpdated,qnaEnabledUpdated:m.qnaEnabledUpdated,gravityEnabledUpdated:m.gravityEnabledUpdated,dashboardGuid:m.dashboardGuid,parentId:m.parentId},i=typeof m.isError;("boolean"===i&&!!m.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=m.isError);var i=typeof m.errorSource;("boolean"===i&&!!m.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[m.errorSource]);var i=typeof m.errorCode;("boolean"===i&&!!m.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=m.errorCode);var i=typeof m.errorMessage;("boolean"===i&&!!m.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=m.errorMessage);var i=typeof m.activityName;("boolean"===i&&!!m.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=m.activityName);var i=typeof m.activityId;("boolean"===i&&!!m.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=m.activityId);var i=typeof m.isDebug;("boolean"===i&&!!m.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=m.isDebug);var i=typeof m.isCancelled;("boolean"===i&&!!m.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=m.isCancelled);var i=typeof m.pingLatency;("boolean"===i&&!!m.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=m.pingLatency);var i=typeof m.isAppInactive;("boolean"===i&&!!m.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=m.isAppInactive);var i=typeof m.isInCapacity;return("boolean"===i&&!!m.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=m.isInCapacity),t},info:m,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardSaveDashboardSettingsLoggers&&(b.loggers=e.telemetry.DashboardSaveDashboardSettingsLoggers),b},t.DashboardInitializeSettingsDashboardsModel=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.InitializeSettingsDashboardsModel",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeSettingsDashboardsModelLoggers&&(h.loggers=e.telemetry.DashboardInitializeSettingsDashboardsModelLoggers),h},t.DashboardInitializeSettingsDatasetModel=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.InitializeSettingsDatasetModel",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardInitializeSettingsDatasetModelLoggers&&(h.loggers=e.telemetry.DashboardInitializeSettingsDatasetModelLoggers),h},t.DashboardTestDataSourceConnection=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.TestDataSourceConnection",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardTestDataSourceConnectionLoggers&&(h.loggers=e.telemetry.DashboardTestDataSourceConnectionLoggers),h},t.DashboardGetRefreshHistoriesOnRefreshFailures=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.GetRefreshHistoriesOnRefreshFailures",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;
("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardGetRefreshHistoriesOnRefreshFailuresLoggers&&(h.loggers=e.telemetry.DashboardGetRefreshHistoriesOnRefreshFailuresLoggers),h},t.DashboardLoadTileData=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={tileId:t,modelId:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.LoadTileData",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tileId:g.tileId,modelId:g.modelId,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadTileDataLoggers&&(f.loggers=e.telemetry.DashboardLoadTileDataLoggers),f},t.DashboardOwnershipFilterSelected=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={selectedFilter:t,isMyWorkspace:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.OwnershipFilterSelected",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={selectedFilter:g.selectedFilter,isMyWorkspace:g.isMyWorkspace,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardOwnershipFilterSelectedLoggers&&(f.loggers=e.telemetry.DashboardOwnershipFilterSelectedLoggers),f},t.AppInitialAppLoad=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={initialState:t,finalState:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.App.InitialAppLoad",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={initialState:g.initialState,finalState:g.finalState,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppInitialAppLoadLoggers&&(f.loggers=e.telemetry.AppInitialAppLoadLoggers),f},t.GroupEditorCreateGroup=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y){void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1),void 0===m&&(m=void 0),void 0===b&&(b=!1),void 0===y&&(y=!1);var S={groupCreated:t,groupId:i,isReadOnly:o,adminCount:r,memberCount:a,invitedMemberCount:n,hasCapacity:s,parentId:c,isError:l,errorSource:d,errorCode:p,errorMessage:u,activityName:v,activityId:h,isDebug:g,isCancelled:f,pingLatency:m,isAppInactive:b,isInCapacity:y},C={name:"PBI.GroupEditor.CreateGroup",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupCreated:S.groupCreated,groupId:S.groupId,isReadOnly:S.isReadOnly,adminCount:S.adminCount,memberCount:S.memberCount,invitedMemberCount:S.invitedMemberCount,hasCapacity:S.hasCapacity,parentId:S.parentId},i=typeof S.isError;("boolean"===i&&!!S.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=S.isError);var i=typeof S.errorSource;("boolean"===i&&!!S.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[S.errorSource]);var i=typeof S.errorCode;("boolean"===i&&!!S.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=S.errorCode);var i=typeof S.errorMessage;("boolean"===i&&!!S.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=S.errorMessage);var i=typeof S.activityName;("boolean"===i&&!!S.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=S.activityName);var i=typeof S.activityId;("boolean"===i&&!!S.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=S.activityId);var i=typeof S.isDebug;("boolean"===i&&!!S.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=S.isDebug);var i=typeof S.isCancelled;("boolean"===i&&!!S.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=S.isCancelled);var i=typeof S.pingLatency;("boolean"===i&&!!S.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=S.pingLatency);var i=typeof S.isAppInactive;("boolean"===i&&!!S.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=S.isAppInactive);var i=typeof S.isInCapacity;return("boolean"===i&&!!S.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=S.isInCapacity),t},info:S,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupEditorCreateGroupLoggers&&(C.loggers=e.telemetry.GroupEditorCreateGroupLoggers),C},t.GroupEditorValidateGroupMembers=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.GroupEditor.ValidateGroupMembers",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupEditorValidateGroupMembersLoggers&&(h.loggers=e.telemetry.GroupEditorValidateGroupMembersLoggers),h},t.GroupEditorGetGroupMembers=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.GroupEditor.GetGroupMembers",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupEditorGetGroupMembersLoggers&&(h.loggers=e.telemetry.GroupEditorGetGroupMembersLoggers),h},t.GroupEditorUpdateGroup=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y){void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1),void 0===m&&(m=void 0),void 0===b&&(b=!1),void 0===y&&(y=!1);var S={groupUpdated:t,groupId:i,isGroupReadOnly:o,adminCount:r,memberCount:a,invitedMemberCount:n,capacityChanged:s,parentId:c,isError:l,errorSource:d,errorCode:p,errorMessage:u,activityName:v,activityId:h,isDebug:g,isCancelled:f,pingLatency:m,isAppInactive:b,isInCapacity:y},C={name:"PBI.GroupEditor.UpdateGroup",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupUpdated:S.groupUpdated,groupId:S.groupId,isGroupReadOnly:S.isGroupReadOnly,adminCount:S.adminCount,memberCount:S.memberCount,invitedMemberCount:S.invitedMemberCount,capacityChanged:S.capacityChanged,parentId:S.parentId},i=typeof S.isError;("boolean"===i&&!!S.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=S.isError);var i=typeof S.errorSource;("boolean"===i&&!!S.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[S.errorSource]);var i=typeof S.errorCode;("boolean"===i&&!!S.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=S.errorCode);var i=typeof S.errorMessage;("boolean"===i&&!!S.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=S.errorMessage);var i=typeof S.activityName;("boolean"===i&&!!S.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=S.activityName);var i=typeof S.activityId;("boolean"===i&&!!S.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=S.activityId);var i=typeof S.isDebug;("boolean"===i&&!!S.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=S.isDebug);var i=typeof S.isCancelled;("boolean"===i&&!!S.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=S.isCancelled);var i=typeof S.pingLatency;("boolean"===i&&!!S.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=S.pingLatency);var i=typeof S.isAppInactive;("boolean"===i&&!!S.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=S.isAppInactive);var i=typeof S.isInCapacity;return("boolean"===i&&!!S.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=S.isInCapacity),t},info:S,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupEditorUpdateGroupLoggers&&(C.loggers=e.telemetry.GroupEditorUpdateGroupLoggers),C},t.GroupEditorUserLeaveGroup=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={groupUpdated:t,groupId:i,isGroupReadOnly:o,adminCount:r,memberCount:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.GroupEditor.UserLeaveGroup",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupUpdated:b.groupUpdated,groupId:b.groupId,isGroupReadOnly:b.isGroupReadOnly,adminCount:b.adminCount,memberCount:b.memberCount,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupEditorUserLeaveGroupLoggers&&(y.loggers=e.telemetry.GroupEditorUserLeaveGroupLoggers),y},t.GroupEditorDeleteGroup=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.GroupEditor.DeleteGroup",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupEditorDeleteGroupLoggers&&(h.loggers=e.telemetry.GroupEditorDeleteGroupLoggers),h},t.GroupEditorValidateGroupId=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.GroupEditor.ValidateGroupId",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupEditorValidateGroupIdLoggers&&(h.loggers=e.telemetry.GroupEditorValidateGroupIdLoggers),h},t.QuotaOpenManageStoragePage=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={interaction:t,context:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Quota.OpenManageStoragePage",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={interaction:e.telemetry.QuotaOpenManageStorageInteraction[g.interaction],context:e.telemetry.QuotaOpenManageStorageContext[g.context],parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QuotaOpenManageStoragePageLoggers&&(f.loggers=e.telemetry.QuotaOpenManageStoragePageLoggers),f},t.QuotaStorageUsage=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={isPremiumUser:t,context:i,ownedUsageInMB:o,sharedUsageInMB:r,quotaLimitInMB:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.Quota.StorageUsage",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isPremiumUser:b.isPremiumUser,context:e.telemetry.QuotaOpenManageStorageContext[b.context],ownedUsageInMB:b.ownedUsageInMB,sharedUsageInMB:b.sharedUsageInMB,quotaLimitInMB:b.quotaLimitInMB,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QuotaStorageUsageLoggers&&(y.loggers=e.telemetry.QuotaStorageUsageLoggers),y},t.QuotaManageStorageDelete=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y){void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1),void 0===m&&(m=void 0),void 0===b&&(b=!1),void 0===y&&(y=!1);var S={isPremiumUser:t,context:i,itemType:o,sizeInMBToDelete:r,ownedUsageInMB:a,sharedUsageInMB:n,quotaLimitInMB:s,parentId:c,isError:l,errorSource:d,errorCode:p,errorMessage:u,activityName:v,activityId:h,isDebug:g,isCancelled:f,pingLatency:m,isAppInactive:b,isInCapacity:y},C={name:"PBI.Quota.ManageStorageDelete",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isPremiumUser:S.isPremiumUser,context:e.telemetry.QuotaOpenManageStorageContext[S.context],itemType:e.telemetry.QuotaDeleteItemType[S.itemType],sizeInMBToDelete:S.sizeInMBToDelete,ownedUsageInMB:S.ownedUsageInMB,sharedUsageInMB:S.sharedUsageInMB,quotaLimitInMB:S.quotaLimitInMB,parentId:S.parentId},i=typeof S.isError;("boolean"===i&&!!S.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=S.isError);var i=typeof S.errorSource;("boolean"===i&&!!S.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[S.errorSource]);var i=typeof S.errorCode;("boolean"===i&&!!S.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=S.errorCode);var i=typeof S.errorMessage;("boolean"===i&&!!S.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=S.errorMessage);var i=typeof S.activityName;("boolean"===i&&!!S.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=S.activityName);var i=typeof S.activityId;("boolean"===i&&!!S.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=S.activityId);var i=typeof S.isDebug;("boolean"===i&&!!S.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=S.isDebug);var i=typeof S.isCancelled;("boolean"===i&&!!S.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=S.isCancelled);var i=typeof S.pingLatency;("boolean"===i&&!!S.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=S.pingLatency);var i=typeof S.isAppInactive;("boolean"===i&&!!S.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=S.isAppInactive);var i=typeof S.isInCapacity;return("boolean"===i&&!!S.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=S.isInCapacity),t},info:S,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QuotaManageStorageDeleteLoggers&&(C.loggers=e.telemetry.QuotaManageStorageDeleteLoggers),C},t.QuotaExceeded=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){void 0===c&&(c=!1),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1),void 0===f&&(f=void 0),void 0===m&&(m=!1),void 0===b&&(b=!1);var y={isPremiumUser:t,context:i,operation:o,ownedUsageInMB:r,sharedUsageInMB:a,quotaLimitInMB:n,parentId:s,isError:c,errorSource:l,errorCode:d,errorMessage:p,activityName:u,activityId:v,isDebug:h,isCancelled:g,pingLatency:f,isAppInactive:m,isInCapacity:b},S={name:"PBI.Quota.Exceeded",category:e.TelemetryCategory.CustomerAction,
time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isPremiumUser:y.isPremiumUser,context:e.telemetry.QuotaOpenManageStorageContext[y.context],operation:e.telemetry.QuotaCheckOperation[y.operation],ownedUsageInMB:y.ownedUsageInMB,sharedUsageInMB:y.sharedUsageInMB,quotaLimitInMB:y.quotaLimitInMB,parentId:y.parentId},i=typeof y.isError;("boolean"===i&&!!y.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=y.isError);var i=typeof y.errorSource;("boolean"===i&&!!y.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[y.errorSource]);var i=typeof y.errorCode;("boolean"===i&&!!y.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=y.errorCode);var i=typeof y.errorMessage;("boolean"===i&&!!y.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=y.errorMessage);var i=typeof y.activityName;("boolean"===i&&!!y.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=y.activityName);var i=typeof y.activityId;("boolean"===i&&!!y.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=y.activityId);var i=typeof y.isDebug;("boolean"===i&&!!y.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=y.isDebug);var i=typeof y.isCancelled;("boolean"===i&&!!y.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=y.isCancelled);var i=typeof y.pingLatency;("boolean"===i&&!!y.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=y.pingLatency);var i=typeof y.isAppInactive;("boolean"===i&&!!y.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=y.isAppInactive);var i=typeof y.isInCapacity;return("boolean"===i&&!!y.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=y.isInCapacity),t},info:y,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QuotaExceededLoggers&&(S.loggers=e.telemetry.QuotaExceededLoggers),S},t.OpenUpgradeAccountPage=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={interaction:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.OpenUpgradeAccountPage",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={interaction:e.telemetry.OpenUpgradeAccountInteraction[h.interaction],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.OpenUpgradeAccountPageLoggers&&(g.loggers=e.telemetry.OpenUpgradeAccountPageLoggers),g},t.PrivacyInitializeSettingsModel=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Privacy.InitializeSettingsModel",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.PrivacyInitializeSettingsModelLoggers&&(h.loggers=e.telemetry.PrivacyInitializeSettingsModelLoggers),h},t.PrivacySaveSettingsModel=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Privacy.SaveSettingsModel",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.PrivacySaveSettingsModelLoggers&&(h.loggers=e.telemetry.PrivacySaveSettingsModelLoggers),h},t.SettingsEsriSaveModel=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={esriEnabled:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Settings.EsriSaveModel",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={esriEnabled:h.esriEnabled,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsEsriSaveModelLoggers&&(g.loggers=e.telemetry.SettingsEsriSaveModelLoggers),g},t.SettingsDeleteAllDatasources=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Settings.DeleteAllDatasources",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsDeleteAllDatasourcesLoggers&&(h.loggers=e.telemetry.SettingsDeleteAllDatasourcesLoggers),h},t.SettingsDeveloperModeEnabled=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Settings.DeveloperModeEnabled",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsDeveloperModeEnabledLoggers&&(h.loggers=e.telemetry.SettingsDeveloperModeEnabledLoggers),h},t.SettingsTakeoverDatasources=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Settings.TakeoverDatasources",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsTakeoverDatasourcesLoggers&&(h.loggers=e.telemetry.SettingsTakeoverDatasourcesLoggers),h},t.PrivacySendPowerBIEmail=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Privacy.SendPowerBIEmail",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.PrivacySendPowerBIEmailLoggers&&(h.loggers=e.telemetry.PrivacySendPowerBIEmailLoggers),h},t.LocaleIncorrectLocaleSetting=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={settingLocale:t,clientLocale:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Locale.IncorrectLocaleSetting",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={settingLocale:g.settingLocale,clientLocale:g.clientLocale,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.LocaleIncorrectLocaleSettingLoggers&&(f.loggers=e.telemetry.LocaleIncorrectLocaleSettingLoggers),f},t.LocaleSaveLocaleSetting=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={locale:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Locale.SaveLocaleSetting",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={locale:h.locale,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.LocaleSaveLocaleSettingLoggers&&(g.loggers=e.telemetry.LocaleSaveLocaleSettingLoggers),g},t.SettingsLoadSettingsData=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Settings.LoadSettingsData",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsLoadSettingsDataLoggers&&(h.loggers=e.telemetry.SettingsLoadSettingsDataLoggers),h},t.SettingsEnterFullScreen=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={startingState:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Settings.EnterFullScreen",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={startingState:h.startingState,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsEnterFullScreenLoggers&&(g.loggers=e.telemetry.SettingsEnterFullScreenLoggers),g},t.SettingsScaleContent=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Settings.ScaleContent",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.SettingsScaleContentLoggers&&(h.loggers=e.telemetry.SettingsScaleContentLoggers),h},t.LocalFileContentProviderLocalFileUpload=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={fileExtension:t,possibility:i,DSID:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.LocalFile.ContentProviderLocalFileUpload",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={fileExtension:f.fileExtension,possibility:e.telemetry.LocalFileUploadPossibility[f.possibility],
DSID:f.DSID,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.LocalFileContentProviderLocalFileUploadLoggers&&(m.loggers=e.telemetry.LocalFileContentProviderLocalFileUploadLoggers),m},t.LocalFileContentProviderLocalFileUploadReplace=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={isReplaced:t,isUpdateFromWorkbookFlow:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.LocalFile.ContentProviderLocalFileUploadReplace",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isReplaced:g.isReplaced,isUpdateFromWorkbookFlow:g.isUpdateFromWorkbookFlow,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.LocalFileContentProviderLocalFileUploadReplaceLoggers&&(f.loggers=e.telemetry.LocalFileContentProviderLocalFileUploadReplaceLoggers),f},t.LocalFileContentProviderLocalFileUploadLiveConnectPbix=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={response:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.LocalFile.ContentProviderLocalFileUpload.LiveConnectPbix",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={response:h.response,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.LocalFileContentProviderLocalFileUploadLiveConnectPbixLoggers&&(g.loggers=e.telemetry.LocalFileContentProviderLocalFileUploadLiveConnectPbixLoggers),g},t.PreviewConceptualModel=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={enabled:t,from:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Preview.ConceptualModel",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={enabled:g.enabled,from:e.telemetry.From[g.from],parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.PreviewConceptualModelLoggers&&(f.loggers=e.telemetry.PreviewConceptualModelLoggers),f},t.PreviewFeaturesIntroductionModalLogged=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Preview.FeaturesIntroductionModalLogged",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.PreviewFeaturesIntroductionModalLoggedLoggers&&(h.loggers=e.telemetry.PreviewFeaturesIntroductionModalLoggedLoggers),h},t.PreviewFeaturesModalShown=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={modalFor:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Preview.FeaturesModalShown",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={modalFor:e.telemetry.ModalFor[h.modalFor],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.PreviewFeaturesModalShownLoggers&&(g.loggers=e.telemetry.PreviewFeaturesModalShownLoggers),g},t.QRCodeQRCodeDialogShown=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){void 0===c&&(c=!1),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1),void 0===f&&(f=void 0),void 0===m&&(m=!1),void 0===b&&(b=!1);var y={groupObjectId:t,dashboardObjectId:i,tileObjectId:o,appId:r,originalDashboardObjectId:a,originalTileObjectId:n,parentId:s,isError:c,errorSource:l,errorCode:d,errorMessage:p,activityName:u,activityId:v,isDebug:h,isCancelled:g,pingLatency:f,isAppInactive:m,isInCapacity:b},S={name:"PBI.QRCode.QRCodeDialogShown",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupObjectId:y.groupObjectId,dashboardObjectId:y.dashboardObjectId,tileObjectId:y.tileObjectId,appId:y.appId,originalDashboardObjectId:y.originalDashboardObjectId,originalTileObjectId:y.originalTileObjectId,parentId:y.parentId},i=typeof y.isError;("boolean"===i&&!!y.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=y.isError);var i=typeof y.errorSource;("boolean"===i&&!!y.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[y.errorSource]);var i=typeof y.errorCode;("boolean"===i&&!!y.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=y.errorCode);var i=typeof y.errorMessage;("boolean"===i&&!!y.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=y.errorMessage);var i=typeof y.activityName;("boolean"===i&&!!y.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=y.activityName);var i=typeof y.activityId;("boolean"===i&&!!y.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=y.activityId);var i=typeof y.isDebug;("boolean"===i&&!!y.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=y.isDebug);var i=typeof y.isCancelled;("boolean"===i&&!!y.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=y.isCancelled);var i=typeof y.pingLatency;("boolean"===i&&!!y.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=y.pingLatency);var i=typeof y.isAppInactive;("boolean"===i&&!!y.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=y.isAppInactive);var i=typeof y.isInCapacity;return("boolean"===i&&!!y.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=y.isInCapacity),t},info:y,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QRCodeQRCodeDialogShownLoggers&&(S.loggers=e.telemetry.QRCodeQRCodeDialogShownLoggers),S},t.QRCodeShortUrlCreated=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){void 0===c&&(c=!1),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1),void 0===f&&(f=void 0),void 0===m&&(m=!1),void 0===b&&(b=!1);var y={groupObjectId:t,dashboardObjectId:i,tileObjectId:o,appId:r,originalDashboardObjectId:a,originalTileObjectId:n,parentId:s,isError:c,errorSource:l,errorCode:d,errorMessage:p,activityName:u,activityId:v,isDebug:h,isCancelled:g,pingLatency:f,isAppInactive:m,isInCapacity:b},S={name:"PBI.QRCode.ShortUrlCreated",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupObjectId:y.groupObjectId,dashboardObjectId:y.dashboardObjectId,tileObjectId:y.tileObjectId,appId:y.appId,originalDashboardObjectId:y.originalDashboardObjectId,originalTileObjectId:y.originalTileObjectId,parentId:y.parentId},i=typeof y.isError;("boolean"===i&&!!y.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=y.isError);var i=typeof y.errorSource;("boolean"===i&&!!y.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[y.errorSource]);var i=typeof y.errorCode;("boolean"===i&&!!y.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=y.errorCode);var i=typeof y.errorMessage;("boolean"===i&&!!y.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=y.errorMessage);var i=typeof y.activityName;("boolean"===i&&!!y.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=y.activityName);var i=typeof y.activityId;("boolean"===i&&!!y.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=y.activityId);var i=typeof y.isDebug;("boolean"===i&&!!y.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=y.isDebug);var i=typeof y.isCancelled;("boolean"===i&&!!y.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=y.isCancelled);var i=typeof y.pingLatency;("boolean"===i&&!!y.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=y.pingLatency);var i=typeof y.isAppInactive;("boolean"===i&&!!y.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=y.isAppInactive);var i=typeof y.isInCapacity;return("boolean"===i&&!!y.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=y.isInCapacity),t},info:y,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QRCodeShortUrlCreatedLoggers&&(S.loggers=e.telemetry.QRCodeShortUrlCreatedLoggers),S},t.QRCodeShortUrlFailed=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y){void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1),void 0===m&&(m=void 0),void 0===b&&(b=!1),void 0===y&&(y=!1);var S={groupObjectId:t,dashboardObjectId:i,tileObjectId:o,errorStatus:r,appId:a,originalDashboardObjectId:n,originalTileObjectId:s,parentId:c,isError:l,errorSource:d,errorCode:p,errorMessage:u,activityName:v,activityId:h,isDebug:g,isCancelled:f,pingLatency:m,isAppInactive:b,isInCapacity:y},C={name:"PBI.QRCode.ShortUrlFailed",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupObjectId:S.groupObjectId,dashboardObjectId:S.dashboardObjectId,tileObjectId:S.tileObjectId,errorStatus:S.errorStatus,appId:S.appId,originalDashboardObjectId:S.originalDashboardObjectId,originalTileObjectId:S.originalTileObjectId,parentId:S.parentId},i=typeof S.isError;("boolean"===i&&!!S.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=S.isError);var i=typeof S.errorSource;("boolean"===i&&!!S.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[S.errorSource]);var i=typeof S.errorCode;("boolean"===i&&!!S.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=S.errorCode);var i=typeof S.errorMessage;("boolean"===i&&!!S.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=S.errorMessage);var i=typeof S.activityName;("boolean"===i&&!!S.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=S.activityName);var i=typeof S.activityId;("boolean"===i&&!!S.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=S.activityId);var i=typeof S.isDebug;("boolean"===i&&!!S.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=S.isDebug);var i=typeof S.isCancelled;("boolean"===i&&!!S.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=S.isCancelled);var i=typeof S.pingLatency;("boolean"===i&&!!S.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=S.pingLatency);var i=typeof S.isAppInactive;("boolean"===i&&!!S.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=S.isAppInactive);var i=typeof S.isInCapacity;return("boolean"===i&&!!S.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=S.isInCapacity),t},info:S,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QRCodeShortUrlFailedLoggers&&(C.loggers=e.telemetry.QRCodeShortUrlFailedLoggers),C},t.QRCodeQRCodeReportDialogShown=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){void 0===n&&(n=!1),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1);var m={groupObjectId:t,reportObjectId:i,appId:o,originalReportObjectId:r,parentId:a,isError:n,errorSource:s,errorCode:c,errorMessage:l,activityName:d,activityId:p,isDebug:u,isCancelled:v,pingLatency:h,isAppInactive:g,isInCapacity:f},b={name:"PBI.QRCode.QRCodeReportDialogShown",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupObjectId:m.groupObjectId,reportObjectId:m.reportObjectId,appId:m.appId,originalReportObjectId:m.originalReportObjectId,parentId:m.parentId},i=typeof m.isError;("boolean"===i&&!!m.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=m.isError);var i=typeof m.errorSource;("boolean"===i&&!!m.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[m.errorSource]);var i=typeof m.errorCode;("boolean"===i&&!!m.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=m.errorCode);var i=typeof m.errorMessage;("boolean"===i&&!!m.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=m.errorMessage);var i=typeof m.activityName;("boolean"===i&&!!m.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=m.activityName);var i=typeof m.activityId;("boolean"===i&&!!m.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=m.activityId);var i=typeof m.isDebug;("boolean"===i&&!!m.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=m.isDebug);var i=typeof m.isCancelled;("boolean"===i&&!!m.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=m.isCancelled);var i=typeof m.pingLatency;("boolean"===i&&!!m.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=m.pingLatency);var i=typeof m.isAppInactive;("boolean"===i&&!!m.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=m.isAppInactive);var i=typeof m.isInCapacity;return("boolean"===i&&!!m.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=m.isInCapacity),t},info:m,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QRCodeQRCodeReportDialogShownLoggers&&(b.loggers=e.telemetry.QRCodeQRCodeReportDialogShownLoggers),b},t.QRCodeReportShortUrlCreated=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){void 0===n&&(n=!1),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1);var m={groupObjectId:t,reportObjectId:i,appId:o,originalReportObjectId:r,parentId:a,isError:n,errorSource:s,errorCode:c,errorMessage:l,activityName:d,activityId:p,isDebug:u,isCancelled:v,pingLatency:h,isAppInactive:g,isInCapacity:f},b={name:"PBI.QRCode.ReportShortUrlCreated",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupObjectId:m.groupObjectId,reportObjectId:m.reportObjectId,appId:m.appId,originalReportObjectId:m.originalReportObjectId,parentId:m.parentId},i=typeof m.isError;("boolean"===i&&!!m.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=m.isError);var i=typeof m.errorSource;("boolean"===i&&!!m.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[m.errorSource]);var i=typeof m.errorCode;("boolean"===i&&!!m.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=m.errorCode);var i=typeof m.errorMessage;("boolean"===i&&!!m.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=m.errorMessage);var i=typeof m.activityName;("boolean"===i&&!!m.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=m.activityName);var i=typeof m.activityId;("boolean"===i&&!!m.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=m.activityId);var i=typeof m.isDebug;("boolean"===i&&!!m.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=m.isDebug);var i=typeof m.isCancelled;("boolean"===i&&!!m.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=m.isCancelled);var i=typeof m.pingLatency;("boolean"===i&&!!m.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=m.pingLatency);var i=typeof m.isAppInactive;("boolean"===i&&!!m.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=m.isAppInactive);var i=typeof m.isInCapacity;return("boolean"===i&&!!m.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=m.isInCapacity),t},info:m,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QRCodeReportShortUrlCreatedLoggers&&(b.loggers=e.telemetry.QRCodeReportShortUrlCreatedLoggers),b},t.QRCodeReportShortUrlFailed=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={groupObjectId:t,reportObjectId:i,errorStatus:o,appId:r,originalReportObjectId:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.QRCode.ReportShortUrlFailed",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={groupObjectId:b.groupObjectId,reportObjectId:b.reportObjectId,errorStatus:b.errorStatus,appId:b.appId,originalReportObjectId:b.originalReportObjectId,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.QRCodeReportShortUrlFailedLoggers&&(y.loggers=e.telemetry.QRCodeReportShortUrlFailedLoggers),y},t.ManageEmbedDeleteEmbedCode=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={snapshotId:t,embedType:i,disabled:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.ManageEmbed.DeleteEmbedCode",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={snapshotId:f.snapshotId,embedType:f.embedType,disabled:f.disabled,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ManageEmbedDeleteEmbedCodeLoggers&&(m.loggers=e.telemetry.ManageEmbedDeleteEmbedCodeLoggers),m},t.ManageEmbedToggleEmbedCode=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={snapshotId:t,embedType:i,disabled:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.ManageEmbed.ToggleEmbedCode",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={snapshotId:f.snapshotId,embedType:f.embedType,disabled:f.disabled,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);
var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ManageEmbedToggleEmbedCodeLoggers&&(m.loggers=e.telemetry.ManageEmbedToggleEmbedCodeLoggers),m},t.ManageEmbedLoadEmbeddedResources=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={reportId:t,embedType:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.ManageEmbed.LoadEmbeddedResources",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={reportId:g.reportId,embedType:g.embedType,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ManageEmbedLoadEmbeddedResourcesLoggers&&(f.loggers=e.telemetry.ManageEmbedLoadEmbeddedResourcesLoggers),f},t.ManageEmbedLoadAllLiveEmbeddedResources=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.ManageEmbed.LoadAllLiveEmbeddedResources",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ManageEmbedLoadAllLiveEmbeddedResourcesLoggers&&(h.loggers=e.telemetry.ManageEmbedLoadAllLiveEmbeddedResourcesLoggers),h},t.DashboardAddWidget=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.AddWidget",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardAddWidgetLoggers&&(h.loggers=e.telemetry.DashboardAddWidgetLoggers),h},t.DashboardWidgetSelected=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={widgetType:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.WidgetSelected",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={widgetType:h.widgetType,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardWidgetSelectedLoggers&&(g.loggers=e.telemetry.DashboardWidgetSelectedLoggers),g},t.DashboardLoadTenantContentPacks=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Dashboard.LoadTenantContentPacks",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadTenantContentPacksLoggers&&(h.loggers=e.telemetry.DashboardLoadTenantContentPacksLoggers),h},t.DashboardTenantContentPackPublish=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y){void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=!1),void 0===f&&(f=!1),void 0===m&&(m=void 0),void 0===b&&(b=!1),void 0===y&&(y=!1);var S={isUpdateContentPack:t,numberOfDashboards:i,numberOfReports:o,numberOfModels:r,numberOfWorkbooks:a,isMyWorkspace:n,isUserError:s,parentId:c,isError:l,errorSource:d,errorCode:p,errorMessage:u,activityName:v,activityId:h,isDebug:g,isCancelled:f,pingLatency:m,isAppInactive:b,isInCapacity:y},C={name:"PBI.Dashboard.TenantContentPackPublish",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isUpdateContentPack:S.isUpdateContentPack,numberOfDashboards:S.numberOfDashboards,numberOfReports:S.numberOfReports,numberOfModels:S.numberOfModels,numberOfWorkbooks:S.numberOfWorkbooks,isMyWorkspace:S.isMyWorkspace,isUserError:S.isUserError,parentId:S.parentId},i=typeof S.isError;("boolean"===i&&!!S.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=S.isError);var i=typeof S.errorSource;("boolean"===i&&!!S.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[S.errorSource]);var i=typeof S.errorCode;("boolean"===i&&!!S.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=S.errorCode);var i=typeof S.errorMessage;("boolean"===i&&!!S.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=S.errorMessage);var i=typeof S.activityName;("boolean"===i&&!!S.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=S.activityName);var i=typeof S.activityId;("boolean"===i&&!!S.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=S.activityId);var i=typeof S.isDebug;("boolean"===i&&!!S.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=S.isDebug);var i=typeof S.isCancelled;("boolean"===i&&!!S.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=S.isCancelled);var i=typeof S.pingLatency;("boolean"===i&&!!S.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=S.pingLatency);var i=typeof S.isAppInactive;("boolean"===i&&!!S.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=S.isAppInactive);var i=typeof S.isInCapacity;return("boolean"===i&&!!S.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=S.isInCapacity),t},info:S,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardTenantContentPackPublishLoggers&&(C.loggers=e.telemetry.DashboardTenantContentPackPublishLoggers),C},t.ContentListLoaded=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.ContentList.Loaded",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListLoadedLoggers&&(h.loggers=e.telemetry.ContentListLoadedLoggers),h},t.ContentListSelectSort=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={predicate:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.ContentList.SelectSort",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={predicate:e.telemetry.SelectSort[h.predicate],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListSelectSortLoggers&&(g.loggers=e.telemetry.ContentListSelectSortLoggers),g},t.ContentListSelectOwnership=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={ownership:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.ContentList.SelectOwnership",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={ownership:h.ownership,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListSelectOwnershipLoggers&&(g.loggers=e.telemetry.ContentListSelectOwnershipLoggers),g},t.ContentListPersistFilter=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.ContentList.PersistFilter",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListPersistFilterLoggers&&(h.loggers=e.telemetry.ContentListPersistFilterLoggers),h},t.MostRecentlyUsedServiceUpdateMRUData=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.MostRecentlyUsedService.UpdateMRUData",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.MostRecentlyUsedServiceUpdateMRUDataLoggers&&(h.loggers=e.telemetry.MostRecentlyUsedServiceUpdateMRUDataLoggers),h},t.ContentListSearch=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.ContentList.Search",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListSearchLoggers&&(h.loggers=e.telemetry.ContentListSearchLoggers),h},t.ContentListOpenArtifact=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={source:t,type:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.ContentList.OpenArtifact",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={source:e.telemetry.ContentListArtifactSource[g.source],type:e.telemetry.ContentListArtifactType[g.type],parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ContentListOpenArtifactLoggers&&(f.loggers=e.telemetry.ContentListOpenArtifactLoggers),f},t.MarketplaceEmbeddedOpened=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Marketplace.EmbeddedOpened",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);
var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.MarketplaceEmbeddedOpenedLoggers&&(h.loggers=e.telemetry.MarketplaceEmbeddedOpenedLoggers),h},t.MarketplaceEmbeddedClosedWithAppAcquired=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Marketplace.EmbeddedClosedWithAppAcquired",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.MarketplaceEmbeddedClosedWithAppAcquiredLoggers&&(h.loggers=e.telemetry.MarketplaceEmbeddedClosedWithAppAcquiredLoggers),h},t.MarketplaceEmbeddedClosedWithoutAppAcquired=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Marketplace.EmbeddedClosedWithoutAppAcquired",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.MarketplaceEmbeddedClosedWithoutAppAcquiredLoggers&&(h.loggers=e.telemetry.MarketplaceEmbeddedClosedWithoutAppAcquiredLoggers),h},t.RealTimeEditStreamingDatasetPaneOpened=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={isNew:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.RealTime.EditStreamingDatasetPaneOpened",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={isNew:h.isNew,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeEditStreamingDatasetPaneOpenedLoggers&&(g.loggers=e.telemetry.RealTimeEditStreamingDatasetPaneOpenedLoggers),g},t.RealTimeStreamingDatasetGalleryPaneOpened=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.RealTime.StreamingDatasetGalleryPaneOpened",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeStreamingDatasetGalleryPaneOpenedLoggers&&(h.loggers=e.telemetry.RealTimeStreamingDatasetGalleryPaneOpenedLoggers),h},t.RealTimeStreamingDatasetGalleryOptionSelected=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={selectedOption:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.RealTime.StreamingDatasetGalleryOptionSelected",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={selectedOption:e.telemetry.StreamingDatasetGalleryOption[h.selectedOption],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeStreamingDatasetGalleryOptionSelectedLoggers&&(g.loggers=e.telemetry.RealTimeStreamingDatasetGalleryOptionSelectedLoggers),g},t.RealTimeStreamingDatasetPushInfoPaneOpened=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.RealTime.StreamingDatasetPushInfoPaneOpened",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeStreamingDatasetPushInfoPaneOpenedLoggers&&(h.loggers=e.telemetry.RealTimeStreamingDatasetPushInfoPaneOpenedLoggers),h},t.RealTimeAddUpdateRemoveStreamingDataset=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){void 0===s&&(s=!1),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1),void 0===g&&(g=void 0),void 0===f&&(f=!1),void 0===m&&(m=!1);var b={action:t,dateTimeColumnCount:i,numericColumnCount:o,stringColumnCount:r,realTimeType:a,parentId:n,isError:s,errorSource:c,errorCode:l,errorMessage:d,activityName:p,activityId:u,isDebug:v,isCancelled:h,pingLatency:g,isAppInactive:f,isInCapacity:m},y={name:"PBI.RealTime.AddUpdateRemoveStreamingDataset",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={action:e.telemetry.CreateUpdateDeleteAction[b.action],dateTimeColumnCount:b.dateTimeColumnCount,numericColumnCount:b.numericColumnCount,stringColumnCount:b.stringColumnCount,realTimeType:b.realTimeType,parentId:b.parentId},i=typeof b.isError;("boolean"===i&&!!b.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=b.isError);var i=typeof b.errorSource;("boolean"===i&&!!b.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[b.errorSource]);var i=typeof b.errorCode;("boolean"===i&&!!b.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=b.errorCode);var i=typeof b.errorMessage;("boolean"===i&&!!b.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=b.errorMessage);var i=typeof b.activityName;("boolean"===i&&!!b.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=b.activityName);var i=typeof b.activityId;("boolean"===i&&!!b.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=b.activityId);var i=typeof b.isDebug;("boolean"===i&&!!b.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=b.isDebug);var i=typeof b.isCancelled;("boolean"===i&&!!b.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=b.isCancelled);var i=typeof b.pingLatency;("boolean"===i&&!!b.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=b.pingLatency);var i=typeof b.isAppInactive;("boolean"===i&&!!b.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=b.isAppInactive);var i=typeof b.isInCapacity;return("boolean"===i&&!!b.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=b.isInCapacity),t},info:b,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeAddUpdateRemoveStreamingDatasetLoggers&&(y.loggers=e.telemetry.RealTimeAddUpdateRemoveStreamingDatasetLoggers),y},t.RealTimeGetStreamingDataset=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.RealTime.GetStreamingDataset",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeGetStreamingDatasetLoggers&&(h.loggers=e.telemetry.RealTimeGetStreamingDatasetLoggers),h},t.RealTimeGetPubNubCredentials=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.RealTime.GetPubNubCredentials",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeGetPubNubCredentialsLoggers&&(h.loggers=e.telemetry.RealTimeGetPubNubCredentialsLoggers),h},t.RealTimeLongPollError=function(t){var i={message:t},o={name:"PBI.RealTime.LongPollError",category:e.TelemetryCategory.CriticalError,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var e={message:i.message};return e},info:i,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RealTimeLongPollErrorLoggers&&(o.loggers=e.telemetry.RealTimeLongPollErrorLoggers),o},t.RowLevelSecurityDisableRLS=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={source:t,confirmed:i,modelId:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.RowLevelSecurity.DisableRLS",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={source:e.telemetry.DisableRLSSource[f.source],confirmed:f.confirmed,modelId:f.modelId,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.RowLevelSecurityDisableRLSLoggers&&(m.loggers=e.telemetry.RowLevelSecurityDisableRLSLoggers),m},t.DataAlertsOpenAlertsEditor=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.DataAlerts.OpenAlertsEditor",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsOpenAlertsEditorLoggers&&(h.loggers=e.telemetry.DataAlertsOpenAlertsEditorLoggers),h},t.DataAlertsSaveAlerts=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){void 0===c&&(c=!1),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=void 0),void 0===u&&(u=void 0),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1),void 0===f&&(f=void 0),void 0===m&&(m=!1),void 0===b&&(b=!1);var y={createCount:t,editCount:i,toggleCount:o,createFailCount:r,editFailCount:a,toggleFailCount:n,parentId:s,isError:c,errorSource:l,errorCode:d,errorMessage:p,activityName:u,activityId:v,isDebug:h,isCancelled:g,pingLatency:f,isAppInactive:m,isInCapacity:b},S={name:"PBI.DataAlerts.SaveAlerts",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={createCount:y.createCount,editCount:y.editCount,toggleCount:y.toggleCount,createFailCount:y.createFailCount,editFailCount:y.editFailCount,toggleFailCount:y.toggleFailCount,parentId:y.parentId},i=typeof y.isError;("boolean"===i&&!!y.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=y.isError);var i=typeof y.errorSource;("boolean"===i&&!!y.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[y.errorSource]);var i=typeof y.errorCode;("boolean"===i&&!!y.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=y.errorCode);var i=typeof y.errorMessage;("boolean"===i&&!!y.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=y.errorMessage);var i=typeof y.activityName;("boolean"===i&&!!y.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=y.activityName);var i=typeof y.activityId;("boolean"===i&&!!y.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=y.activityId);var i=typeof y.isDebug;("boolean"===i&&!!y.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=y.isDebug);var i=typeof y.isCancelled;("boolean"===i&&!!y.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=y.isCancelled);var i=typeof y.pingLatency;("boolean"===i&&!!y.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=y.pingLatency);var i=typeof y.isAppInactive;("boolean"===i&&!!y.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=y.isAppInactive);var i=typeof y.isInCapacity;return("boolean"===i&&!!y.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=y.isInCapacity),t},info:y,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsSaveAlertsLoggers&&(S.loggers=e.telemetry.DataAlertsSaveAlertsLoggers),S},t.DataAlertsDeleteAlertAccept=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.DataAlerts.DeleteAlertAccept",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsDeleteAlertAcceptLoggers&&(h.loggers=e.telemetry.DataAlertsDeleteAlertAcceptLoggers),h},t.DataAlertsDeleteAlertCancel=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),
void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.DataAlerts.DeleteAlertCancel",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsDeleteAlertCancelLoggers&&(h.loggers=e.telemetry.DataAlertsDeleteAlertCancelLoggers),h},t.DataAlertsTileBadgeClicked=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={alertId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.DataAlerts.TileBadgeClicked",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={alertId:h.alertId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsTileBadgeClickedLoggers&&(g.loggers=e.telemetry.DataAlertsTileBadgeClickedLoggers),g},t.DataAlertsNotificationAction=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={source:t,action:i,alertId:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.DataAlerts.NotificationAction",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={source:e.telemetry.DataAlertNotificationSource[f.source],action:e.telemetry.DataAlertNotificationAction[f.action],alertId:f.alertId,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsNotificationActionLoggers&&(m.loggers=e.telemetry.DataAlertsNotificationActionLoggers),m},t.DataAlertsRequest=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={requestType:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.DataAlerts.Request",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={requestType:e.telemetry.AlertRequestType[h.requestType],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsRequestLoggers&&(g.loggers=e.telemetry.DataAlertsRequestLoggers),g},t.DataAlertsOpenAlertsSettings=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.DataAlerts.OpenAlertsSettings",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsOpenAlertsSettingsLoggers&&(h.loggers=e.telemetry.DataAlertsOpenAlertsSettingsLoggers),h},t.DataAlertsAlertsSettingsToggle=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.DataAlerts.AlertsSettingsToggle",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsAlertsSettingsToggleLoggers&&(h.loggers=e.telemetry.DataAlertsAlertsSettingsToggleLoggers),h},t.DataAlertsAlertsSettingsEdit=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.DataAlerts.AlertsSettingsEdit",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsAlertsSettingsEditLoggers&&(h.loggers=e.telemetry.DataAlertsAlertsSettingsEditLoggers),h},t.DataAlertsAlertsSettingsDelete=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.DataAlerts.AlertsSettingsDelete",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DataAlertsAlertsSettingsDeleteLoggers&&(h.loggers=e.telemetry.DataAlertsAlertsSettingsDeleteLoggers),h},t.EmailSubscriptionsSaveSubscription=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.SaveSubscription",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsSaveSubscriptionLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsSaveSubscriptionLoggers),h},t.EmailSubscriptionsUpdateSubscription=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.UpdateSubscription",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsUpdateSubscriptionLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsUpdateSubscriptionLoggers),h},t.EmailSubscriptionsAddSubscription=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.AddSubscription",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsAddSubscriptionLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsAddSubscriptionLoggers),h},t.EmailSubscriptionsDeleteSubscription=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.DeleteSubscription",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsDeleteSubscriptionLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsDeleteSubscriptionLoggers),h},t.EmailSubscriptionsOpenEmailSettings=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.OpenEmailSettings",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsOpenEmailSettingsLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsOpenEmailSettingsLoggers),h},t.EmailSubscriptionsEditEmailSettings=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.EditEmailSettings",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsEditEmailSettingsLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsEditEmailSettingsLoggers),h},t.EmailSubscriptionsRequest=function(t){var i={requestType:t},o={name:"PBI.EmailSubscriptions.Request",time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={requestType:e.telemetry.EmailSubscriptionRequestType[i.requestType]};return t},info:i,
privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsRequestLoggers&&(o.loggers=e.telemetry.EmailSubscriptionsRequestLoggers),o},t.EmailSubscriptionsOpenPane=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.OpenPane",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsOpenPaneLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsOpenPaneLoggers),h},t.EmailSubscriptionsInertOrUpdateSubscriptions=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.EmailSubscriptions.InertOrUpdateSubscriptions",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.EmailSubscriptionsInertOrUpdateSubscriptionsLoggers&&(h.loggers=e.telemetry.EmailSubscriptionsInertOrUpdateSubscriptionsLoggers),h},t.UsageMetricsHttpGetPackage=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={artifactType:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.UsageMetrics.Http.GetPackage",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={artifactType:e.telemetry.UsageMetricsArtifactType[h.artifactType],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.UsageMetricsHttpGetPackageLoggers&&(g.loggers=e.telemetry.UsageMetricsHttpGetPackageLoggers),g},t.DashboardLoadDashboardWithScriptVisuals=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={numScriptTiles:t,numTotalTiles:i,numReportTilesWithScriptVisuals:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.LoadDashboardWithScriptVisuals",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={numScriptTiles:f.numScriptTiles,numTotalTiles:f.numTotalTiles,numReportTilesWithScriptVisuals:f.numReportTilesWithScriptVisuals,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadDashboardWithScriptVisualsLoggers&&(m.loggers=e.telemetry.DashboardLoadDashboardWithScriptVisualsLoggers),m},t.UserNotificationsLoadNotificationPane=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={unseenCount:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.UserNotifications.LoadNotificationPane",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={unseenCount:h.unseenCount,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.UserNotificationsLoadNotificationPaneLoggers&&(g.loggers=e.telemetry.UserNotificationsLoadNotificationPaneLoggers),g},t.UserNotificationsLinkClicked=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={notificationCategory:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.UserNotifications.LinkClicked",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={notificationCategory:h.notificationCategory,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.UserNotificationsLinkClickedLoggers&&(g.loggers=e.telemetry.UserNotificationsLinkClickedLoggers),g},t.DashboardUserEnteredPhoneMobileAuthoringMode=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={dashboardGuid:t,isFirstTime:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.UserEnteredPhoneMobileAuthoringMode",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,isFirstTime:g.isFirstTime,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUserEnteredPhoneMobileAuthoringModeLoggers&&(f.loggers=e.telemetry.DashboardUserEnteredPhoneMobileAuthoringModeLoggers),f},t.DashboardUserDeletedMobileLayout=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={dashboardGuid:t,resetType:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.UserDeletedMobileLayout",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,resetType:e.telemetry.MobileAuthoringResetType[g.resetType],parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUserDeletedMobileLayoutLoggers&&(f.loggers=e.telemetry.DashboardUserDeletedMobileLayoutLoggers),f},t.DashboardUserExitsAuthoringModeWithEmptyMobileLayout=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={dashboardGuid:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.UserExitsAuthoringModeWithEmptyMobileLayout",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:h.dashboardGuid,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardUserExitsAuthoringModeWithEmptyMobileLayoutLoggers&&(g.loggers=e.telemetry.DashboardUserExitsAuthoringModeWithEmptyMobileLayoutLoggers),g},t.DynamicMessageGetMessage=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={parsedMessage:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.DynamicMessage.GetMessage",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parsedMessage:h.parsedMessage,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DynamicMessageGetMessageLoggers&&(g.loggers=e.telemetry.DynamicMessageGetMessageLoggers),g},t.DynamicMessageUserAction=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={userAction:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.DynamicMessage.UserAction",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={userAction:h.userAction,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DynamicMessageUserActionLoggers&&(g.loggers=e.telemetry.DynamicMessageUserActionLoggers),g},t.DashboardRetryDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={retryCount:t,dashboardGuid:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.RetryDashboard",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={retryCount:g.retryCount,dashboardGuid:g.dashboardGuid,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRetryDashboardLoggers&&(f.loggers=e.telemetry.DashboardRetryDashboardLoggers),f},t.DashboardPreloadLinkedDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={dashboardCount:t,dashboardGuid:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.PreloadLinkedDashboard",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardCount:g.dashboardCount,dashboardGuid:g.dashboardGuid,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardPreloadLinkedDashboardLoggers&&(f.loggers=e.telemetry.DashboardPreloadLinkedDashboardLoggers),f},t.DashboardRegisterAndLoadResourcePackages=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={resourcePackageLength:t,compositeTileHasCustomVisual:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.RegisterAndLoadResourcePackages",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={resourcePackageLength:g.resourcePackageLength,compositeTileHasCustomVisual:g.compositeTileHasCustomVisual,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);
var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRegisterAndLoadResourcePackagesLoggers&&(f.loggers=e.telemetry.DashboardRegisterAndLoadResourcePackagesLoggers),f},t.DashboardLoadDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={pendingRequestCount:t,dashboardGuid:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.LoadDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,parentId:g.parentId},i=typeof g.pendingRequestCount;("boolean"===i&&!!g.pendingRequestCount!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pendingRequestCount=g.pendingRequestCount);var i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadDashboardLoggers&&(f.loggers=e.telemetry.DashboardLoadDashboardLoggers),f},t.DashboardRecordDashboardTiles=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={tileIds:t,dashboardGuid:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.RecordDashboardTiles",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={tileIds:g.tileIds,dashboardGuid:g.dashboardGuid,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRecordDashboardTilesLoggers&&(f.loggers=e.telemetry.DashboardRecordDashboardTilesLoggers),f},t.DashboardRegisterAndLoadResourcePackagesForReportTiles=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={resourcePackageLength:t,tileId:i,reportTileHasCustomVisual:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={resourcePackageLength:f.resourcePackageLength,tileId:f.tileId,reportTileHasCustomVisual:f.reportTileHasCustomVisual,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardRegisterAndLoadResourcePackagesForReportTilesLoggers&&(m.loggers=e.telemetry.DashboardRegisterAndLoadResourcePackagesForReportTilesLoggers),m},t.AppLoadPerformanceTiming=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,D,M,T,E,P,k,A,L,N){void 0===w&&(w=!1),void 0===I&&(I=void 0),void 0===D&&(D=void 0),void 0===M&&(M=void 0),void 0===T&&(T=void 0),void 0===E&&(E=void 0),void 0===P&&(P=!1),void 0===k&&(k=!1),void 0===A&&(A=void 0),void 0===L&&(L=!1),void 0===N&&(N=!1);var _={navigationStart:t,unloadEventStart:i,unloadEventEnd:o,redirectStart:r,redirectEnd:a,fetchStart:n,domainLookupStart:s,domainLookupEnd:c,connectStart:l,connectEnd:d,requestStart:p,responseStart:u,responseEnd:v,domLoading:h,domInteractive:g,domContentLoadedEventStart:f,domContentLoadedEventEnd:m,domComplete:b,loadEventStart:y,loadEventEnd:S,parentId:C,isError:w,errorSource:I,errorCode:D,errorMessage:M,activityName:T,activityId:E,isDebug:P,isCancelled:k,pingLatency:A,isAppInactive:L,isInCapacity:N},R={name:"PBI.App.LoadPerformanceTiming",time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={navigationStart:_.navigationStart,unloadEventStart:_.unloadEventStart,unloadEventEnd:_.unloadEventEnd,redirectStart:_.redirectStart,redirectEnd:_.redirectEnd,fetchStart:_.fetchStart,domainLookupStart:_.domainLookupStart,domainLookupEnd:_.domainLookupEnd,connectStart:_.connectStart,connectEnd:_.connectEnd,requestStart:_.requestStart,responseStart:_.responseStart,responseEnd:_.responseEnd,domLoading:_.domLoading,domInteractive:_.domInteractive,domContentLoadedEventStart:_.domContentLoadedEventStart,domContentLoadedEventEnd:_.domContentLoadedEventEnd,domComplete:_.domComplete,loadEventStart:_.loadEventStart,loadEventEnd:_.loadEventEnd,parentId:_.parentId},i=typeof _.isError;("boolean"===i&&!!_.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=_.isError);var i=typeof _.errorSource;("boolean"===i&&!!_.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[_.errorSource]);var i=typeof _.errorCode;("boolean"===i&&!!_.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=_.errorCode);var i=typeof _.errorMessage;("boolean"===i&&!!_.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=_.errorMessage);var i=typeof _.activityName;("boolean"===i&&!!_.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=_.activityName);var i=typeof _.activityId;("boolean"===i&&!!_.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=_.activityId);var i=typeof _.isDebug;("boolean"===i&&!!_.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=_.isDebug);var i=typeof _.isCancelled;("boolean"===i&&!!_.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=_.isCancelled);var i=typeof _.pingLatency;("boolean"===i&&!!_.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=_.pingLatency);var i=typeof _.isAppInactive;("boolean"===i&&!!_.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=_.isAppInactive);var i=typeof _.isInCapacity;return("boolean"===i&&!!_.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=_.isInCapacity),t},info:_,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppLoadPerformanceTimingLoggers&&(R.loggers=e.telemetry.AppLoadPerformanceTimingLoggers),R},t.AppGetAppMetadata=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w){void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=void 0),void 0===g&&(g=void 0),void 0===f&&(f=void 0),void 0===m&&(m=void 0),void 0===b&&(b=!1),void 0===y&&(y=!1),void 0===S&&(S=void 0),void 0===C&&(C=!1),void 0===w&&(w=!1);var I={url:t,groupGUID:i,requestSize:o,numOfDashboards:r,numOfReports:a,numOfModels:n,numOfWorkbooks:s,numOfFavorites:c,start:l,end:d,parentId:p,isError:u,errorSource:v,errorCode:h,errorMessage:g,activityName:f,activityId:m,isDebug:b,isCancelled:y,pingLatency:S,isAppInactive:C,isInCapacity:w},D={name:"PBI.App.GetAppMetadata",time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={url:I.url,groupGUID:I.groupGUID,requestSize:I.requestSize,numOfDashboards:I.numOfDashboards,numOfReports:I.numOfReports,numOfModels:I.numOfModels,numOfWorkbooks:I.numOfWorkbooks,numOfFavorites:I.numOfFavorites,start:I.start,end:I.end,parentId:I.parentId},i=typeof I.isError;("boolean"===i&&!!I.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=I.isError);var i=typeof I.errorSource;("boolean"===i&&!!I.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[I.errorSource]);var i=typeof I.errorCode;("boolean"===i&&!!I.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=I.errorCode);var i=typeof I.errorMessage;("boolean"===i&&!!I.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=I.errorMessage);var i=typeof I.activityName;("boolean"===i&&!!I.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=I.activityName);var i=typeof I.activityId;("boolean"===i&&!!I.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=I.activityId);var i=typeof I.isDebug;("boolean"===i&&!!I.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=I.isDebug);var i=typeof I.isCancelled;("boolean"===i&&!!I.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=I.isCancelled);var i=typeof I.pingLatency;("boolean"===i&&!!I.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=I.pingLatency);var i=typeof I.isAppInactive;("boolean"===i&&!!I.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=I.isAppInactive);var i=typeof I.isInCapacity;return("boolean"===i&&!!I.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=I.isInCapacity),t},info:I,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppGetAppMetadataLoggers&&(D.loggers=e.telemetry.AppGetAppMetadataLoggers),D},t.AppParseAppMetadata=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={start:t,end:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.App.ParseAppMetadata",time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={start:g.start,end:g.end,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppParseAppMetadataLoggers&&(f.loggers=e.telemetry.AppParseAppMetadataLoggers),f},t.AppAngularBootstrap=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={start:t,end:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.App.AngularBootstrap",time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={start:g.start,end:g.end,parentId:g.parentId},i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppAngularBootstrapLoggers&&(f.loggers=e.telemetry.AppAngularBootstrapLoggers),f},t.AppJavaScriptParse=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={fileName:t,start:i,end:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.App.JavaScriptParse",time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={fileName:f.fileName,start:f.start,end:f.end,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppJavaScriptParseLoggers&&(m.loggers=e.telemetry.AppJavaScriptParseLoggers),m},t.ArtifactNotFound=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={artifactKind:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.ArtifactNotFound",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={artifactKind:h.artifactKind,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.ArtifactNotFoundLoggers&&(g.loggers=e.telemetry.ArtifactNotFoundLoggers),g},t.CreateReportDialogCanceled=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.CreateReportDialog.Canceled",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.CreateReportDialogCanceledLoggers&&(h.loggers=e.telemetry.CreateReportDialogCanceledLoggers),h},t.CreateReportDialogCreate=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={datasetGuid:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.CreateReportDialog.Create",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={datasetGuid:h.datasetGuid,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.CreateReportDialogCreateLoggers&&(g.loggers=e.telemetry.CreateReportDialogCreateLoggers),g},t.CreateReportDialogImport=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.CreateReportDialog.Import",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.CreateReportDialogImportLoggers&&(h.loggers=e.telemetry.CreateReportDialogImportLoggers),h},t.AppModelInitializeContentProviders=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.AppModel.InitializeContentProviders",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppModelInitializeContentProvidersLoggers&&(h.loggers=e.telemetry.AppModelInitializeContentProvidersLoggers),h};var N;!(function(e){e[e.Add=0]="Add",e[e.Cancel=1]="Cancel";
})(N=t.StoreAppInstallAction||(t.StoreAppInstallAction={})),t.AppsInstallStoreAppDialog=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={action:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Apps.InstallStoreAppDialog",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={action:e.telemetry.StoreAppInstallAction[h.action],parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppsInstallStoreAppDialogLoggers&&(g.loggers=e.telemetry.AppsInstallStoreAppDialogLoggers),g};var _;!(function(e){e[e.AppSource=0]="AppSource",e[e.AppAutoInstallLink=1]="AppAutoInstallLink",e[e.AppArtifactAutoInstallLink=2]="AppArtifactAutoInstallLink"})(_=t.InstallSource||(t.InstallSource={})),t.AppsInstallApp=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={appGUID:t,contentProviderCategory:i,installSource:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.Apps.InstallApp",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={appGUID:f.appGUID,contentProviderCategory:f.contentProviderCategory,installSource:e.telemetry.InstallSource[f.installSource],parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppsInstallAppLoggers&&(m.loggers=e.telemetry.AppsInstallAppLoggers),m},t.NPSShowDialog=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.NPS.ShowDialog",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.NPSShowDialogLoggers&&(h.loggers=e.telemetry.NPSShowDialogLoggers),h},t.AppPreemptiveQueryData=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={jobId:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.App.PreemptiveQueryData",time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={jobId:h.jobId,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.AppPreemptiveQueryDataLoggers&&(g.loggers=e.telemetry.AppPreemptiveQueryDataLoggers),g},t.DashboardLoadTileVisualTimedOut=function(t,i,o,r,a,n,s,c,l,d,p,u,v){void 0===o&&(o=!1),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=!1),void 0===d&&(d=!1),void 0===p&&(p=void 0),void 0===u&&(u=!1),void 0===v&&(v=!1);var h={visualType:t,parentId:i,isError:o,errorSource:r,errorCode:a,errorMessage:n,activityName:s,activityId:c,isDebug:l,isCancelled:d,pingLatency:p,isAppInactive:u,isInCapacity:v},g={name:"PBI.Dashboard.LoadTileVisualTimedOut",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={visualType:h.visualType,parentId:h.parentId},i=typeof h.isError;("boolean"===i&&!!h.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=h.isError);var i=typeof h.errorSource;("boolean"===i&&!!h.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[h.errorSource]);var i=typeof h.errorCode;("boolean"===i&&!!h.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=h.errorCode);var i=typeof h.errorMessage;("boolean"===i&&!!h.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=h.errorMessage);var i=typeof h.activityName;("boolean"===i&&!!h.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=h.activityName);var i=typeof h.activityId;("boolean"===i&&!!h.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=h.activityId);var i=typeof h.isDebug;("boolean"===i&&!!h.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=h.isDebug);var i=typeof h.isCancelled;("boolean"===i&&!!h.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=h.isCancelled);var i=typeof h.pingLatency;("boolean"===i&&!!h.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=h.pingLatency);var i=typeof h.isAppInactive;("boolean"===i&&!!h.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=h.isAppInactive);var i=typeof h.isInCapacity;return("boolean"===i&&!!h.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=h.isInCapacity),t},info:h,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardLoadTileVisualTimedOutLoggers&&(g.loggers=e.telemetry.DashboardLoadTileVisualTimedOutLoggers),g},t.DashboardAddDashboard=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h){void 0===r&&(r=!1),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=!1),void 0===p&&(p=!1),void 0===u&&(u=void 0),void 0===v&&(v=!1),void 0===h&&(h=!1);var g={pendingRequestCount:t,dashboardGuid:i,parentId:o,isError:r,errorSource:a,errorCode:n,errorMessage:s,activityName:c,activityId:l,isDebug:d,isCancelled:p,pingLatency:u,isAppInactive:v,isInCapacity:h},f={name:"PBI.Dashboard.AddDashboard",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={dashboardGuid:g.dashboardGuid,parentId:g.parentId},i=typeof g.pendingRequestCount;("boolean"===i&&!!g.pendingRequestCount!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pendingRequestCount=g.pendingRequestCount);var i=typeof g.isError;("boolean"===i&&!!g.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=g.isError);var i=typeof g.errorSource;("boolean"===i&&!!g.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[g.errorSource]);var i=typeof g.errorCode;("boolean"===i&&!!g.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=g.errorCode);var i=typeof g.errorMessage;("boolean"===i&&!!g.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=g.errorMessage);var i=typeof g.activityName;("boolean"===i&&!!g.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=g.activityName);var i=typeof g.activityId;("boolean"===i&&!!g.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=g.activityId);var i=typeof g.isDebug;("boolean"===i&&!!g.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=g.isDebug);var i=typeof g.isCancelled;("boolean"===i&&!!g.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=g.isCancelled);var i=typeof g.pingLatency;("boolean"===i&&!!g.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=g.pingLatency);var i=typeof g.isAppInactive;("boolean"===i&&!!g.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=g.isAppInactive);var i=typeof g.isInCapacity;return("boolean"===i&&!!g.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=g.isInCapacity),t},info:g,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.DashboardAddDashboardLoggers&&(f.loggers=e.telemetry.DashboardAddDashboardLoggers),f},t.UsageMetricsViewUsageMetricsReport=function(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g){void 0===a&&(a=!1),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=void 0),void 0===l&&(l=void 0),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===v&&(v=void 0),void 0===h&&(h=!1),void 0===g&&(g=!1);var f={artifactType:t,artifactGuid:i,source:o,parentId:r,isError:a,errorSource:n,errorCode:s,errorMessage:c,activityName:l,activityId:d,isDebug:p,isCancelled:u,pingLatency:v,isAppInactive:h,isInCapacity:g},m={name:"PBI.UsageMetrics.ViewUsageMetricsReport",category:e.TelemetryCategory.CustomerAction,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={artifactType:f.artifactType,artifactGuid:f.artifactGuid,source:f.source,parentId:f.parentId},i=typeof f.isError;("boolean"===i&&!!f.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=f.isError);var i=typeof f.errorSource;("boolean"===i&&!!f.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[f.errorSource]);var i=typeof f.errorCode;("boolean"===i&&!!f.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=f.errorCode);var i=typeof f.errorMessage;("boolean"===i&&!!f.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=f.errorMessage);var i=typeof f.activityName;("boolean"===i&&!!f.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=f.activityName);var i=typeof f.activityId;("boolean"===i&&!!f.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=f.activityId);var i=typeof f.isDebug;("boolean"===i&&!!f.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=f.isDebug);var i=typeof f.isCancelled;("boolean"===i&&!!f.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=f.isCancelled);var i=typeof f.pingLatency;("boolean"===i&&!!f.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=f.pingLatency);var i=typeof f.isAppInactive;("boolean"===i&&!!f.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=f.isAppInactive);var i=typeof f.isInCapacity;return("boolean"===i&&!!f.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=f.isInCapacity),t},info:f,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.UsageMetricsViewUsageMetricsReportLoggers&&(m.loggers=e.telemetry.UsageMetricsViewUsageMetricsReportLoggers),m},t.GroupsGetCapacities=function(t,i,o,r,a,n,s,c,l,d,p,u){void 0===i&&(i=!1),void 0===o&&(o=void 0),void 0===r&&(r=void 0),void 0===a&&(a=void 0),void 0===n&&(n=void 0),void 0===s&&(s=void 0),void 0===c&&(c=!1),void 0===l&&(l=!1),void 0===d&&(d=void 0),void 0===p&&(p=!1),void 0===u&&(u=!1);var v={parentId:t,isError:i,errorSource:o,errorCode:r,errorMessage:a,activityName:n,activityId:s,isDebug:c,isCancelled:l,pingLatency:d,isAppInactive:p,isInCapacity:u},h={name:"PBI.Groups.GetCapacities",category:e.TelemetryCategory.Verbose,time:Date.now(),id:jsCommon.Utility.generateGuid(),getFormattedInfoObject:function(){var t={parentId:v.parentId},i=typeof v.isError;("boolean"===i&&!!v.isError!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isError=v.isError);var i=typeof v.errorSource;("boolean"===i&&!!v.errorSource!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorSource=e.telemetry.ErrorSource[v.errorSource]);var i=typeof v.errorCode;("boolean"===i&&!!v.errorCode!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorCode=v.errorCode);var i=typeof v.errorMessage;("boolean"===i&&!!v.errorMessage!=!1||"undefined"!==i&&"boolean"!==i)&&(t.errorMessage=v.errorMessage);var i=typeof v.activityName;("boolean"===i&&!!v.activityName!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityName=v.activityName);var i=typeof v.activityId;("boolean"===i&&!!v.activityId!=!1||"undefined"!==i&&"boolean"!==i)&&(t.activityId=v.activityId);var i=typeof v.isDebug;("boolean"===i&&!!v.isDebug!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isDebug=v.isDebug);var i=typeof v.isCancelled;("boolean"===i&&!!v.isCancelled!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isCancelled=v.isCancelled);var i=typeof v.pingLatency;("boolean"===i&&!!v.pingLatency!=!1||"undefined"!==i&&"boolean"!==i)&&(t.pingLatency=v.pingLatency);var i=typeof v.isAppInactive;("boolean"===i&&!!v.isAppInactive!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isAppInactive=v.isAppInactive);var i=typeof v.isInCapacity;return("boolean"===i&&!!v.isInCapacity!=!1||"undefined"!==i&&"boolean"!==i)&&(t.isInCapacity=v.isInCapacity),t},info:v,privateFields:[],orgInfoFields:[]};return"undefined"!=typeof e.telemetry.GroupsGetCapacitiesLoggers&&(h.loggers=e.telemetry.GroupsGetCapacitiesLoggers),h}})(t=e.telemetry||(e.telemetry={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){e.actualOpenTileEventName="actualOpenTile",e.ambientAnimationTickIntervalMs=5e3,e.analyzeInExcelEventName="analyzeInExcel",e.cancelEditWidgetEventName="cancelEditWidget",e.cancelQrGenerationEventName="cancelQrGeneration",e.configPageErrorLoadingEventName="configPageErrorLoading",e.configPageLoadedEventName="configPageLoaded",e.contentListDashboardsLoadedEvent="contentListDashboardsLoaded",e.contentListDatasetsLoadedEvent="contentListDatasetssLoaded",e.contentListFavoritesLoadedEvent="contentListFavoritesLoaded",e.contentListRecentlyUsedLoadedEvent="contentListRecentlyUsedLoaded",e.contentListReportsLoadedEvent="contentListReportsLoaded",e.contentListWorkbooksLoadedEvent="contentListWorkbooksLoaded",e.contentListPublishedAppsLoadedEvent="contentListPublishedAppsLoaded",e.dashboardContainerLoaded="dashboardContainerLoaded",e.dataSourceAccessInfoGeneratedEventName="dataSourceAccessInfoGenerated",e.datasetShowHistoryDialog="datasetShowHistoryDialog",e.deleteModelEventName="deleteModel",e.deleteReportEventName="deleteReport",e.deregisterTileFromDashboardEventName="deregisterTileFromDashboard",e.enablePowerBIASConnectorApp="asConnectorEnabled",e.enablePowerBICompanionApp="companionEnabled",e.initializeContainerWithActiveDashboardOverride="initializeContainerWithActiveDashboardOverride",e.localFileControllerInitializedEventName="localFileControllerInitialized",e.myWorkSpaceGroupId="me",e.navPaneScrollEventName="navPaneScroll",e.navigateToActiveDashboard="navigateToActiveDashboard",e.notifyDashboardOwnerInfoLoaded="dashboardOwnerInfoLoaded",e.notifyUpdateAllowQnaDataCollectionEventName="notifyUpdateAllowQnaDataCollection",e.openCreateContentPackEventName="openCreateContentPack",e.openModelEventName="openModel",e.openProviderTileEventName="openProviderTile",e.openReportEventName="openReport",e.openTileEventName="openTile",e.personalizeEventName="personalize",e.previewfeaturesModalKey="previewfeaturesModal",e.registerTileToDashboardEventName="registerTileToDashboard",e.removeTileEventName="removeTileFromGroup",e.renameDashboardEventName="renameDashboard",e.renameModelEventName="renameModel",e.reportDeletedEventName="reportDeleted",e.resizeCompletedEventName="resizeCompleted",e.scrollNavPaneToActiveDashboardEventName="scrollNavPaneToActiveDashboard",e.scrollToNavPaneListItemEventName="scrollToNavPaneListItem",e.setDashboardTileOptionsMenuVisibility="setDashboardTileOptionsMenuVisibility",e.shouldShowProviderTilesEventName="shouldShowProviderTiles",e.showConnectionSettingsDialogEventName="showConnectionSettingsDialog",e.showInsightsEventName="showInsights",e.temporaryTilePinned="temporaryTilePinned",e.upadateCarouselEventName="upadateCarousel",e.updateTileHrefEventName="updateTileHref",e.uploadFormatChosenEventName="uploadFormatChosen",e.replaceLocalWorkbookEventName="replaceLocalFile",e.dashboardTileErrorEventName="dashboardTileError",e.tileRefreshStateChangedEventName="tileRefreshStateChanged",e.removeDashboardTileErrorEventName="removeDashboardTileError",e.rowLevelSecurityAccessDeniedEventName="rowLevelSecurityAccessDenied",e.defaultPortraitPrintWidth=673,e.defaultPortraitPrintHeight=860,e.defaultLandscapePrintWidth=940,e.defaultLandscapePrintHeight=578,e.inFocusEnterEvent="inFocusEnter",e.inFocusExitEvent="inFocusExit",e.dashboardTileRepeatFinishedEvent="dashboardTileRepeatFinished",e.dashboardTileLayoutChangeEvent="dashboardTileLayoutChangeEvent",e.notifyDashboardUpdate="notifyDashboardUpdate",e.hideDashboardConnectionsDialogEventName="hideDashboardConnectionsDialog",e.mobileApplication="winApp",e.pvScriptsLoaded="exploreHostLoaded",e.openReportStarting="openReportStarting",e.openReportSucceeded="openReportSucceded",e.openReportFailed="openReportFailed",e.modelFailedGenericServiceError="modelFailedGenericServiceError",e.modelFailedGenericClientError="modelFailedGenericClientError",e.modelFailednoErrorInfo="modelFailednoErrorInfo",e.openDashboardStarting="openDashboardStarting",e.openDashboardSucceeded="openDashboardSucceeded",e.openDashboardFailed="openDashboardFailed",e.openUrlActionName="/openUrl",e.openInFocusTileActionName="/openInFocus",e.openInFocusWorkbookTileActionName="/openInFocusWorkbook",e.openInFocusRealTimeTileActionName="/openInFocusRealTime",e.hideEditorEventName="hideEditor",e.showTileEditorEventName="showTileEditor",e.hideTileEditorEventName="hideTileEditor",e.showAlertsEditorEventName="showAlertsEditor",e.alertTitleMaxLength=250,e.hideTaskPaneSliderOnClickEventName="hideTaskPaneSliderOnClick",e.refreshTileData="refreshTileData",e.maxDashboardNameLength=30,e.deferredRenderingTileRowThreshold=5,e.deferredRenderingTileColumnThreshold=5,e.openReportFinished="OpenReportFinished",e.samplesContentProviderName="Sample Dashboard",e.tokenRefreshIntervalOffset=27e5,e.biTokenRefreshInterval=23760027e5,e.biTokenRefreshIntervalAfterFailureToGetBIToken=6e4,e.windowParentScope="windowParentScope",e.oauthResponseName="oAuthResponse",e.appLoadErrorGroupNotAccessible="#groupNotAccessible#",e.checkWelcomeStatusInterval=200,e.saveReportFromPinDialog="saveReportFromPinDialog",e.populateDashboardWithReportTiles="populateDashboardWithReportTiles",e.updateFavorites="updateFavorites",e.updateSharedWithMe="updateSharedWithMe",e.showSettingsBlade="showSettingsBlade",e.saveDashboardSettings="saveDashboardSettings",e.insightsDescriptor="insights",e.groupSwitchedEventName="GroupSwitched",e.groupAddedUpdateContextMenuEventName="GroupAddedUpdateContextMenu",e.groupDeletedEventName="GroupDeleted",e.contentPackDirtyShowNotification="contentPackDirty",e.loadDashboardFailed="loadDashboardFailed",e.usageMetrics_Report="Report",e.usageMetrics_Dashboard="Dashboard",e.usageMetrics_NavModel="NavModel";var t;!(function(e){var t;!(function(e){e.landing="landing",e.adminPortal="landing.adminPortal",e.adminPortalCapacities="landing.adminPortal.capacities",e.adminPortalCapacity="landing.adminPortal.capacities.capacity",e.appAutoinstall="landing.autoInstall",e.devTools="landing.devTools",e.home="landing.featureddashboard",e.groups="landing.groups",e.group="landing.groups.group",e.apps="landing.groups.group.apps",e.app="landing.groups.group.apps.app",e.appDashboards="landing.groups.group.apps.app.dashboards",e.appDashboard="landing.groups.group.apps.app.dashboards.dashboard",e.appAlertsEditor="landing.groups.group.apps.app.dashboards.dashboard.alerts",e.appInFocusMode="landing.groups.group.apps.app.dashboards.dashboard.infocus",e.appInFocusInsights="landing.groups.group.apps.app.dashboards.dashboard.insights",e.appDashboardQna="landing.groups.group.apps.app.dashboards.dashboard.qna",e.appDashboardQnaStart="landing.groups.group.apps.app.dashboards.dashboard.qnastart",e.appInstances="landing.groups.group.apps.app.instances",e.appInstance="landing.groups.group.apps.app.instances.instance",e.appInstanceDashboards="landing.groups.group.apps.app.instances.instance.dashboards",e.appInstanceDashboard="landing.groups.group.apps.app.instances.instance.dashboards.dashboard",e.appInstanceAlertsEditor="landing.groups.group.apps.app.instances.instance.dashboards.dashboard.alerts",e.appInstanceInFocusMode="landing.groups.group.apps.app.instances.instance.dashboards.dashboard.infocus",e.appInstanceInFocusInsights="landing.groups.group.apps.app.instances.instance.dashboards.dashboard.insights",e.appInstanceDashboardQna="landing.groups.group.apps.app.instances.instance.dashboards.dashboard.qna",e.appInstanceDashboardQnaStart="landing.groups.group.apps.app.instances.instance.dashboards.dashboard.qnastart",e.contentList="landing.groups.group.contentList",e.contentListPivot="landing.groups.group.contentList.pivot",e.dashboards="landing.groups.group.dashboards",e.dashboard="landing.groups.group.dashboards.dashboard",e.dashboardReports="landing.groups.group.dashboards.dashboard.reports",e.dashboardReport="landing.groups.group.dashboards.dashboard.reports.report",e.dashboardReportPage="landing.groups.group.dashboards.dashboard.reports.report.page",e.dashboardWorkbooks="landing.groups.group.dashboards.dashboard.workbooks",e.dashboardWorkbook="landing.groups.group.dashboards.dashboard.workbooks.workbook",e.alertsEditor="landing.groups.group.dashboards.dashboard.alerts",e.inFocusMode="landing.groups.group.dashboards.dashboard.infocus",e.inFocusInsights="landing.groups.group.dashboards.dashboard.insights",e.dashboardQna="landing.groups.group.dashboards.dashboard.qna",e.dashboardQnaStart="landing.groups.group.dashboards.dashboard.qnastart",e.dashboardRequestAccess="landing.groups.group.dashboards.dashboard.requestaccess",e.dashboardShare="landing.groups.group.dashboards.dashboard.share",e.modelQna="landing.groups.group.datasets.dataset.qna",e.extendTrial="landing.groups.group.extendTrial",e.favorites="landing.groups.group.favorites",e.insights="landing.groups.group.insights",e.gateways="landing.groups.group.gateways",e.gateway="landing.groups.group.gateways.gateway",e.dataSource="landing.groups.group.gateways.gateway.dataSource",e.getData="landing.groups.group.getData",e.getDataCategory="landing.groups.group.getData.category",e.getDataCategoryProviderName="landing.groups.group.getData.category.providerName",e.groupWelcome="landing.groups.group.groupWelcome",e.manageEmbed="landing.groups.group.manageEmbed",e.manageStorage="landing.groups.group.manageStorage",e.publishApp="landing.groups.group.publishApp",e.publishContent="landing.groups.group.publishContent",e.recentlyViewed="landing.groups.group.recentlyViewed",e.rowLevelSecurity="landing.groups.group.rowLevelSecurity",e.settings="landing.groups.group.settings",e.settingsGroup="landing.groups.group.settings.settingsGroup",e.settingsId="landing.groups.group.settings.settingsGroup.settingsId",e.sharedWithMe="landing.groups.group.sharedWithMe",e.sharedDashboards="landing.groups.group.sharedWithMe.dashboards",e.sharedDashboard="landing.groups.group.sharedWithMe.dashboards.dashboard",e.sharedAlertsEditor="landing.groups.group.sharedWithMe.dashboards.dashboard.alerts",e.sharedInFocusMode="landing.groups.group.sharedWithMe.dashboards.dashboard.infocus",e.sharedInFocusInsights="landing.groups.group.sharedWithMe.dashboards.dashboard.insights",e.sharedDashboardQna="landing.groups.group.sharedWithMe.dashboards.dashboard.qna",e.sharedDashboardQnaStart="landing.groups.group.sharedWithMe.dashboards.dashboard.qnastart",e.sharedDashboardReports="landing.groups.group.sharedWithMe.dashboards.dashboard.reports",e.sharedDashboardReport="landing.groups.group.sharedWithMe.dashboards.dashboard.reports.report",e.sharedDashboardReportPage="landing.groups.group.sharedWithMe.dashboards.dashboard.reports.report.page",e.sharedDashboardRequestAccess="landing.groups.group.sharedWithMe.dashboards.dashboard.requestaccess",e.sharedDashboardShare="landing.groups.group.sharedWithMe.dashboards.dashboard.share",e.sharedDashboardWorkbooks="landing.groups.group.sharedWithMe.dashboards.dashboard.workbooks",e.sharedDashboardWorkbook="landing.groups.group.sharedWithMe.dashboards.dashboard.workbooks.workbook",e.viewContent="landing.groups.group.viewContent",e.workspaces="landing.workspaces"})(t=e.states||(e.states={})),e.getDataWelcome="welcome"})(t=e.navigation||(e.navigation={})),e.loadDashboardEventName="loadDashboard",e.maximumDashboardBatchSize=5,e.emailsListSeparator="; ",e.streamingDatasetModelPubNub="PubNub",e.defaultBrowserLanguageCode="browserLanguage";var i;!(function(e){e.PowerBIUserQuotaExceeded="PowerBIUserQuotaExceeded",e.PowerBIGroupQuotaExceeded="PowerBIGroupQuotaExceeded"})(i=e.quotaErrorCodes||(e.quotaErrorCodes={}));var o;!(function(e){e.OverwriteNonLocalPackageWithLocalFileError="OverwriteNonLocalPackageWithLocalFileError"})(o=e.FileUploadWarnings||(e.FileUploadWarnings={}));var r;!(function(e){e.ReportWithDisplayNameForTheModelExists="ReportWithDisplayNameForTheModelExists",e.MoreThanOneDuplicateReportFoundError="MoreThanOneDuplicateReportFoundError",e.ReplaceOriginalReportForPowerBICompanionNotSupported="ReplaceOriginalReportForPowerBICompanionNotSupported",e.ModelNotFound="PowerBIModelNotFoundException"})(r=e.pbixUploadWarnings||(e.pbixUploadWarnings={}));var a;!(function(e){e.acquireAppEventName="acquireSaasMarketplaceApp",e.initSaasMarketplaceEventName="initSaasMarketplace",e.updateHostUrl="updateUrlForSaasMarketplaceApp";var t;!(function(e){e.acquireApp="acquireApp",e.externalRedirect="externalRedirect",e.updateUrl="updateUrl",e.closeSaasMarketplace="closeSaasMarketplace",e.finishedLoadingContentProviderList="contentProvidersLoaded"})(t=e.actionTypes||(e.actionTypes={}))})(a=e.saasMarketplace||(e.saasMarketplace={}));var n;!(function(e){e.closeNpsDialog="closeNpsDialog",e.resizeNpsDialog="thankyouNpsDialog",e.renderPath="/render/powerbi/",e.displayPath="/display/powerbi/",e.puidParam="puid",e.languageParam="culture"})(n=e.nps||(e.nps={})),e.DashboardSharingSecurityGroupRequirePro="DashboardInvitationSGRequirePro",e.DashboardInvitationUnsupportedGroup="DashboardInvitationUnsupportedGroup";var s;!(function(e){e.invitationCodeQueryParam="invitationCode",e.invitationCodeQueryParamV2="i",e.invitationClaimed="invitationClaimed"})(s=e.invitation||(e.invitation={}));var c;!(function(e){e.userDismissedAction="dismissed",e.userClickedAction="clicked"})(c=e.dynamicMessaging||(e.dynamicMessaging={})),e.targetValueBlank="_blank",e.downloadPBIDesktopLink="https://go.microsoft.com/fwlink/?LinkID=521920",
e.pbiAppsLink="https://go.microsoft.com/fwlink/?linkid=838948",e.refreshHistoryDialogTimeoutValue=9e6,e.configureScheduledRefreshLink="https://go.microsoft.com/fwlink/?linkid=844603";var l;!(function(e){e.skipConfirmationQueryParam="skipConfirmation"})(l=e.appAutoInstall||(e.appAutoInstall={}))})(t=e.constants||(e.constants={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.dataServices.AppUtils,r=e.common.models.ArtifactType,a=e.common.models.CollapsiblePaneExpandedWidth,n=e.common.constants,s=e.common.models,c=e.dataServices.ContractUtils.convertToSemanticQueryWithDataShapeBinding,l=e.dataServices.models.DashboardTileModel,d=e.dataServices.DashboardUtils,p=e.dataServices.constants,u=e.dataServices.EwaNamedItemType,v=e.common.dialogs.FeatureNotSupportedDialogBuilder,h=e.dataServices.models.IntraDomainNavigationType,g=e.dataServices.models.IsDashboardIntraDomainPrefix,f=e.dataServices.models.IsReportIntraDomainPrefix,m=e.telemetry.MobileAuthoringResetType,b=e.common.contracts.Permissions,y=jsCommon.StringExtensions,S=e.common.constants.TaskPaneCollapsiblePaneMode,C=e.dataServices.contracts.TilePublishState,w=e.dataServices.contracts.TileType,I='\n    <div class="tileErrors">\n        <div class="errorText" ng-bind="::title"></div>\n        <div ng-repeat="tileError in ::tileErrors" class="tileError">\n            <div class="tileErrorCount">\n                <pbi-icon name="error" size="small"></pbi-icon>\n                <span localize="DashboardAppBar_TileError_ErrorDialogErrorTitle" localize-fragments>\n                    <span fragment-index="0" ng-bind="::tileError.count"></span>\n                </span>\n            </div>\n            <error-details-info error-details="tileError.errorDetails"></error-details-info>\n        </div>\n        <a class="modalErrorHelpLink" target="_blank" href="https://go.microsoft.com/fwlink/?LinkId=690865" localize="TopNav_HelpMenu_GetHelp"></a>\n    </div>\n    ';!(function(e){e[e.Normal=0]="Normal",e[e.NoDashboardsWatermark=1]="NoDashboardsWatermark",e[e.RequestAccess=2]="RequestAccess",e[e.Uninitialized=3]="Uninitialized"})(i=t.DashboardContainerControllerViewState||(t.DashboardContainerControllerViewState={}));var D=(function(){function D(t,i){var o=this;this.scope=t,this.services=i,this.scope.rootScope=i.rootScope,this.scope.refreshState=0,this.notificationIds=[],this.authorOptionsMenu=e.models.modelFactory.createAuthoringDashboardMenuItems(this.services.localizationService),this.initialize(this.services.dashboardService.dashboardContainerModel),this.initialized||(this.unregisterViewModelWatch=this.services.rootScope.$on(e.constants.dashboardContainerLoaded,(function(){o.initialize(o.services.dashboardService.dashboardContainerModel)}))),this.scope.listViewEnabled=function(){return o.services.conceptualModelSetting.isListViewEnabled()},this.scope.groupService=this.services.groupService,this.services.dashboardDataService.registerRefreshStateListener(this)}return D.createOptions=function(){return{additionalServices:["$window","contentProviderHttpService","dashboardHttpService","dashboardService","dashboardStateChangeService","dashboardWarningsService","home","errorService","featureSwitchService","modelConverter","modelMerger","navigation","promiseFactory","reportService","modelService","workbookService","settingsMetadataService","syncService","telemetryService","localizationService","overlayService","visualPlugin","groupService","notificationBar","notificationToast","viralTenantMergeHelperService","modelService","licenseHelperService","licenseEnforcementService","userInfo","dashboardDataService","fullScreen","inFocusService","permissionService","pinTileService","favorites","gridLayout","dashboardConfigurationService","modalDialogService","auditing","mostRecentlyUsedService","quota","conceptualModelSetting","appService","packageService","taskPaneSliderService","subscription","ownership","usageMetricsReport","pbiLazyLoad","dropdown"],scopedDependencies:["explorationCapabilities"],scopedServiceRoot:!0}},D.prototype.initialize=function(t){var o=this;if(!this.initialized&&t){this.viewModel=t;var r=this.services,n=this.scope,s=n.dashboardDataService=r.dashboardDataService;n.showBreadcrumb=0===n.refreshState&&(!r.featureSwitchService.featureSwitches.breadcrumbNavigationEnabled||_.include(r.$window.location.pathname,"invite")),r.navigation.inDashboardView()&&r.dashboardWarningsService.showWarningsIfNeeded();var c=n.permissionService=r.permissionService,l=n.navigation=r.navigation,u=n.fullScreen=r.fullScreen;n.maxDashboardNameLength=e.constants.maxDashboardNameLength,n.shouldShowAuthoringDropDown=function(){var e=o.services.dashboardDataService.activeDashboard;return e&&e.canEdit},n.sharingEnabled=function(){return!c.isActiveWorkspaceIsReadOnly&&s.activeDashboard&&(s.activeDashboard.getPermissions()&b.ReShare)===b.ReShare&&!u.fullScreenMode&&e.common.containsDirective("ShareView")},n.showAddTileButton=function(){return o.isDashboardEditable()&&!u.fullScreenMode},n.showHomeDashboardButton=function(){return!r.dashboardConfigurationService.disableSetFeaturedDashboard&&!l.inAppView()&&r.conceptualModelSetting.isListViewEnabled()},n.showViewRelatedButton=function(){return!r.dashboardConfigurationService.disableViewRelated&&!u.fullScreenMode},n.showUsageMetricsButton=function(){return o.services.featureSwitchService.featureSwitches.usageMetricsEnabled&&o.services.userInfo.isPremiumUser&&o.isDashboardEditable()},n.openUsageMetricsReport=function(){return o.openUsageMetricsReport()},n.showRelatedContentPane=function(){return o.showRelatedContentPane()},n.showTileGalleryPane=function(){return o.showTileGalleryPane()},n.showShareSlider=function(){return o.showShareSlider()},n.showSubscriptionPane=function(){return o.showSubscriptionPane()},n.isEmailSubscriptionEnabled=function(){return o.isEmailSubscriptionEnabled()},n.navigateToContentList=function(){return o.navigateToContentList()},n.shareDashboard=function(e){return r.dashboardService.navigateToShareDashboard(e)},n.personalize=function(){return o.personalize()},this.scope.shouldShowUnpinTiles=function(){return d.containsLayout(1,1,s.activeDashboard)},n.getAdditionalODataFilter=function(){return r.navigation.additionalODataFilter},n.addDashboardFavorite=function(){return o.addDashboardFavorite()},n.deleteDashboardFavorite=function(){return o.deleteDashboardFavorite()},n.setHomeDashboard=function(){return o.setHomeDashboard()},n.unsetHomeDashboard=function(){return o.unsetHomeDashboard()},n.unpinAllTiles=function(){return o.unpinAll()},n.resetTiles=function(){return o.resetTilesClicked()},n.resetPhoneView=function(){return o.resetPhoneViewClicked()},n.authorMenuSelectedItem=function(){return o.getAuthorMenuSelectedItem()},n.exploreContainerOptions=r.explorationCapabilities.getCapabilities(),n.showQna=function(){return o.showQna()},n.canWrite=function(){return!c.isActiveWorkspaceIsReadOnly},n.isOnHomeDashboard=r.home.isOnHomeDashboard(r.navigation.currentDashboardGUID),this.tileErrorDetails={},n.showDashboardTileErrors=!1,n.dashboardTileErrorCount=0,n.toggleTileError=function(){return o.toggleTileError()},n.showTileErrorDetails=function(){return o.showTileErrorDetails()},n.$watch("dashboardDataService.activeDashboard",(function(t){if(t){o.hideAllNotifications();var i=o.isAppInstanceDashboard(t);if(n.favoriteEnabled=!r.dashboardConfigurationService.disableDashboardFavoriteButton&&!i,n.isOnHomeDashboard=r.home.isOnHomeDashboard(r.navigation.currentDashboardGUID),r.dashboardService.updateDashboardMenuItems(n),o.services.dashboardDataService.updateIsQnaEnabled(),o.updateShouldDisplayQuestionBox(),o.resetDashboardToWebView(t),o.toggleFullScreenByViewState(),o.resetDashboardTileErrors(),t.id>=0){var a=t.contract.originalPackageId,s=o.services.groupService.activeGroup,c=s&&s.aadGroupId,l=t.contract.originalDashboardObjectId;r.mostRecentlyUsedService.updateMRU(e.models.MRUArtifactType.Dashboards,t.objectId,t.displayName,t.getPermissions(),c,l,a),n.activeDashboardId=t.id}o.notifyIfModelRefreshDisabledBySelectiveRefresh()}})),n.showMoreOptionsMenu=function(e){return o.showMoreOptionsMenu(e)},n.showMenu=function(e,t){return o.showMenu(e,t)},n.getAuthoringMenuProperties=function(e){return o.getAuthoringMenuProperties(e)},n.moreOptionsMenuSelected=function(e){return o.onDashboardMenuItemSelected(e)},n.isMoreOptionsMenuAvailable=function(){return _.any(n.moreOptionsMenu)},n.$watchGroup(["fullScreen.fullScreenMode","dashboardDataService.isQnaEnabled || navigation.inQnaView() || navigation.inQnaStartView()","isActive"],(function(e){r.dashboardDataService.activeDashboard&&o.updateShouldDisplayQuestionBox()})),r.licenseEnforcementService.createNotificationForTrial(),r.localizationService.ensureLocalization((function(){var t=r.localizationService;n.newDashboardPlaceholder=t.get("NewDashboard_Placeholder"),n.dashboardReadOnlyText=t.get("DashboardReadOnly_Tooltip"),r.viralTenantMergeHelperService.viewingDataFromMergedViralTenant()&&r.notificationBar.notify({message:r.localizationService.get("ArchivedContent_HeaderMessage"),notificationType:e.common.NotificationBarType.Warning,actions:[{displayText:r.localizationService.get("ArchivedContent_BackToPowerBI"),linkId:1,action:function(){return n.navigation.toggleArchivedContent()}}],secondaryLink:{displayText:r.localizationService.get("LearnMore"),urlString:"https://go.microsoft.com/fwlink/p/?LinkId=522081"}}),n.errorMessageConfig={canEdit:n.canWrite(),mode:!1,titleShared:t.get("Dashboard_NoDashboardsWarningTitle_ReadOnlyMode"),titleNonShared:t.get("Dashboard_NoDashboardsWarningTitle"),contentShared:t.get("Dashboard_NoDashboardsWarningText_ReadOnlyMode"),contentNonShared:t.get("Dashboard_NoDashboardsWarningText")}})),n.getViewState=function(){return r.navigation.inRequestDashboardAccessView()?i.RequestAccess:t.dashboards.length>0?i.Normal:this.initialized?r.conceptualModelSetting.isListViewEnabled()?void 0:i.NoDashboardsWatermark:i.Uninitialized},r.home.onHomeSettingChanged.push((function(){n.isOnHomeDashboard=r.home.isOnHomeDashboard(r.navigation.currentDashboardGUID),r.dashboardService.updateDashboardMenuItems(n),1===o.viewModel.viewMode&&o.imitateMenuItemSelectionByAction(4)})),r.dashboardStateChangeService.registerDashboardContainerScope(n),n.$on(e.constants.actualOpenTileEventName,(function(e,t,i){return o.onActualOpenTile(e,t,i)})),n.$on(e.constants.updateTileHrefEventName,(function(e,t,i){return o.onUpdateTileHref(e,t,i)})),n.$watch("dashboardDataService.activeDashboard.isLoaded",(function(e){e&&r.navigation.inDashboardView()?r.dashboardWarningsService.showWarningsIfNeeded():r.dashboardWarningsService.hideDashboardWarnings()}));var v=r.rootScope,h=v.$on(p.shouldShowEnableCustomVisualsDialog,(function(e){return r.dashboardWarningsService.showWarningsIfNeeded()})),g=v.$on(e.constants.dashboardTileErrorEventName,(function(e,t,i){return o.onDashboardTileError(e,t,i)})),f=v.$on(e.constants.removeDashboardTileErrorEventName,(function(e,t,i){return o.onRemoveDashboardTileError(e,t,i)}));if(n.$on(e.constants.removeTileEventName,(function(e,t){return o.onRemoveTile(e,t)})),n.$on("$destroy",(function(){o.viewModel.viewMode=0,o.toggleFullScreenByViewState(),h(),g(),f(),o.unregisterViewModelWatch&&o.unregisterViewModelWatch(),r.dashboardStateChangeService.unregisterDashboardContainerScope(),r.dashboardDataService.unregisterRefreshStateListener(o),o.hideAllNotifications()})),this.initialized=!0,n.viewModel.dashboards&&0===n.viewModel.dashboards.length&&n.viewModel.contract.reports&&n.viewModel.contract.reports.length>0&&r.permissionService.isActiveWorkspaceIsReadOnly){var m=n.viewModel.contract.reports[0];r.navigation.navigateToReportByGUID(m.objectId,this.services.groupService.activeGroupObjectId,m.originalReportObjectId)}if(l.inSharingView()&&r.timeout((function(){r.dashboardService.navigateToShareDashboard(l.currentDashboardGUID),o.showShareSlider()})),l.inAlertsEditorView()&&r.timeout((function(){var e=n.$watch("dashboardDataService.activeDashboard.isLoaded",(function(t){if(l.inAlertsEditorView()){if(!t)return;var i=o.setAndGetActiveTile();i&&o.services.taskPaneSliderService.expandPane(S.AlertsEditor,a.Small)}e()}))})),l.inInFocusView()||l.inInFocusInsightsView())r.timeout((function(){var e=n.$watch("dashboardDataService.activeDashboard.isLoaded",(function(t){if(l.inInFocusView()||l.inInFocusInsightsView()){if(!t)return;var i=o.setAndGetActiveTile();i&&r.inFocusService.view(i,void 0,l.inInFocusInsightsView())}e()}))}));else if(this.services.navigation.inDashboardSubscription()){var y=s.activeDashboard.contract;this.services.subscription.expandPaneForDashboardSubscription({dashboardId:y.id,dashboardName:y.displayName,dashboardObjectId:y.objectId,modelIds:y.modelIds},this.services.navigation.currentSubscriptionGUID)}}},D.prototype.onStateChange=function(e,t){this.scope.refreshState=e},D.prototype.onAuthoringMenuItemSelected=function(e){var t=this;if(null!=e.action)switch(e.action){case 4:this.selectMenuItem(e);break;case 5:var i=this.services.dashboardDataService.activeDashboard;_.any(i.tiles,(function(e){return e.gridLayouts&&e.hasLayoutDefinition(1)}))?this.selectMenuItem(e):this.getPromiseMessage(n.PhoneVersionMessage).then((function(){t.selectMenuItem(e)}))}},D.prototype.showMenu=function(e,t){var i=this,o=this.services.dropdown,r=function(t,i){t(i),o.hideAll(),e.stopPropagation()},a=t.bind(this)($(e.currentTarget)),n={menuActionSelected:function(e){return r(a.menuActionSelected.bind(i),e)},getMenuActions:function(){return a.menuActions}};o.showMenu(n,a.templateName,a.displayOptions)},D.prototype.showMoreOptionsMenu=function(e){this.services.overlayService.toggleDropdown(e,{anchorElement:$(e.target),element:"moreOptionsMenu",preferLeft:!0,horizontal:!1,blurNeeded:!0})},D.prototype.getAuthoringMenuProperties=function(e){return{displayOptions:{anchorElement:$("#anchorElementForAuthoring"),blurNeeded:!1,disableAnimation:!0,preferLeft:!0},menuActions:this.getAuthoringMenuActions(),menuActionSelected:this.onAuthoringMenuItemSelected,templateName:"appBarAuthoringMenu.html"}},D.showDashboardDoesNotExistDialog=function(t,i,o,r){e.helpers.ArtifactNotFoundHelper.showArtifactDoesNotExistDialog("ArtifactKind_Dashboard",t,i,o),r.navigateToContentListOrActiveDashboard()},D.showTileDoesNotExistDialog=function(t,i,o){e.helpers.ArtifactNotFoundHelper.showArtifactDoesNotExistDialog("ArtifactKind_Tile",t,i,o)},D.prototype.updateCurrentViewMode=function(t){var i=this.services.dashboardDataService.activeDashboard;switch(t.action){case 4:var o=angular.isDefined(_.find(this.scope.moreOptionsMenu,(function(e){return 1===e.action})));o||this.services.dashboardService.updateDashboardMenuItems(this.scope),this.switchLayoutStrategy(i,new s.DefaultGridLayoutStrategy,0),this.viewModel.viewMode=0;break;case 5:_.remove(this.scope.moreOptionsMenu,(function(e){return 1===e.action})),this.raiseEnteredAuthoringModeEvent(i),this.viewModel.dashboardEditMobileDisplay=e.models.modelFactory.createDashboardEditMobileDisplay(i),this.createMobilePositionsIfNeeded(1),this.switchLayoutStrategy(i,new s.DynamicLayoutStrategy,1),this.viewModel.viewMode=1}this.toggleFullScreenByViewState()},D.prototype.unpinAll=function(){var e=this;this.getPromiseMessage(n.UnpinAllTilesMessages).then((function(){e.unpinAllTiles()}))},D.prototype.resetTilesClicked=function(){var e=this;this.getPromiseMessage(n.ResetTilesMessages).then((function(){e.resetTiles()}))},D.prototype.resetPhoneViewClicked=function(){var e=this;this.getPromiseMessage(n.ResetPhoneViewMessages).then((function(){e.resetPhoneView()}))},D.showDialogMessage=function(t,i,o,r){var a=o.defer();return i.ensureLocalization((function(){var o=t.control(),n=i.get(r.confirmButtonMessage),s=i.get(r.titleMessage),c=i.get(r.contentMessage),l=i.get(r.hrefLabel),d=r.hrefLink,p=d&&d.length>0?"inline":"none",u='<section class="duplicateDialog"></section>',v=$('<div class="message" style="display: inline"></div>').text(c),h=$('<a target="_blank"></a>').text(l).attr("href",r.hrefLink).css("display",p),g=$(u).append(v).append(h),f=[new InJs.ModalDialogAction(n,function(e,t){o.hideDialog(),a.resolve("")}),new InJs.ModalDialogAction(e.common.localize.get("ModalDialog_Cancel"),function(e,t){o.hideDialog(),a.reject()})];o.showCustomDialog(s,g,f,null,!0)})),a.promise},D.showDuplicateDashboardDialog=function(t,i,o,r){var a=r.defer();return o.ensureLocalization((function(){var r=i.control(),n=o.get("ModalDialog_Duplicate"),s=o.get("Duplicate_Dashboard"),c=o.get("Dashboard_DuplicateDialogMessage"),l='<section class="duplicateDialog"><div class="message"></div><input type="text" class="dashboardSaveAsName" /></section>',d=$(l);d.find(".message").text(c);var p=d.find(".dashboardSaveAsName");p.val(o.format("Dashboard_DuplicateDialogNameTemplate",[t]));var u=[new InJs.ModalDialogAction(n,function(e,t){var i=y.trimWhitespace(p.val());r.hideDialog(),a.resolve(i)}),new InJs.ModalDialogAction(e.common.localize.get("ModalDialog_Cancel"),function(e,t){r.hideDialog(),a.reject()})];r.showCustomDialog(s,d,u,(function(e){var t=e.parent().find('input[value = "'+n+'"]');p.focus().on("change keyup paste mouseup",(function(e){var i=y.isNullOrUndefinedOrWhiteSpaceString($(e.target).val());t.prop("disabled",i)})).on("keyup",(function(e){13!==e.which||y.isNullOrUndefinedOrWhiteSpaceString($(e.target).val())?27===e.which&&u[1].actionCallback(null,null,null):u[0].actionCallback(null,null,null)}))}),!0)})),a.promise},Object.defineProperty(D.prototype,"contentProviders",{get:function(){return this.services.contentProviderHttpService.getBuiltInContentProviders()},enumerable:!0,configurable:!0}),D.prototype.setAndGetActiveTile=function(){var e=this.services.dashboardDataService.activeDashboard,i=this.getValidTileNavState(e);return i?(this.services.dashboardService.selectDashboardTile(new l(i)),i):void t.DashboardContainerController.showTileDoesNotExistDialog(this.services.errorService,this.services.localizationService,this.services.telemetryService)},D.prototype.getValidTileNavState=function(e){var t=this.services.navigation.currentTileGUID,i=this.services.navigation.currentTileOriginalGUID;return e.findTileByObjectIdOrOriginalObjectId(t,i)},D.prototype.updateShouldDisplayQuestionBox=function(){this.scope.shouldDisplayQuestionBox=!this.scope.fullScreen.fullScreenMode&&(this.scope.dashboardDataService.isQnaEnabled||this.scope.navigation.inQnaView()||this.scope.navigation.inQnaStartView())&&this.scope.isActive},D.prototype.addDashboardFavorite=function(){var e=this.services.dashboardService.getActiveDashboard();e&&(e.isFavorite=!0,e.isFavoriteDisabled=!0,this.services.favorites.addFavorite(e).then((function(t){e.favoriteInfo=t})).finally((function(){e.isFavoriteDisabled=!1})))},D.prototype.deleteDashboardFavorite=function(){var e=this.services.dashboardService.getActiveDashboard();e&&this.services.favorites.deleteFavorite(e)},D.prototype.resetDashboardToWebView=function(e){e&&(e.gridLayoutService||(e.gridLayoutService=this.services.gridLayout),this.switchLayoutStrategy(e,new s.DefaultGridLayoutStrategy,0),this.viewModel.viewMode=0)},D.prototype.isAppInstanceDashboard=function(t){var i=t&&t.getUniquePackageId();if(!i)return!1;var o=this.services.packageService.findPackage(i);return!!o&&o.packageType===e.dataServices.contracts.PackageType.AppInstance},D.prototype.showQna=function(){this.services.navigation.showQnaView()},D.prototype.personalize=function(){this.services.dashboardDataService.activeDashboard.getPermissions()===b.CopyOnWrite&&this.scope.$emit(e.constants.personalizeEventName,this.services.dashboardDataService.activeDashboard.contract.originalPackageId)},D.prototype.onActualOpenTile=function(t,i,o){t&&t.stopPropagation&&t.stopPropagation();var r,a=this.services.telemetryService;i.contractsModel&&(r=i.contractsModel.contentProviderId);var s=e.common.findContentProviderName(this.contentProviders,r),c=a.startEvent(e.telemetry.DashboardOpenTile,null,i.report?i.report.id:i.id,"No error",r,s,!1);switch(i.action.action){case n.openReportActionName:this.openReportTile(i,o,c);break;case e.constants.openUrlActionName:this.openUrlTile(i,c);break;case n.openInsightsActionName:case n.openInFocusActionName:this.services.inFocusService.view(i);break;case n.openWorkbookActionName:this.openWorkbookTile(i,o,c);break;case n.openQnAActionName:this.openQnaTile(i,c)}},D.prototype.onUpdateTileHref=function(e,t,i){if(g(i))return void(t.intraDomainNavigationParameters=this.getDashboardNavigationParameters(t,this.getIntraDomainNavigationTargetName(i)));if(f(i))return void(t.intraDomainNavigationParameters=this.getReportNavigationParameters(t,this.getIntraDomainNavigationTargetName(i)));var o=t.action,r=o&&o.openInSameTab;this.processFullUrl(t,i,r)},D.prototype.onDashboardTileError=function(e,t,i){e&&e.stopPropagation&&e.stopPropagation();var o=this.services.pinTileService.pinTileScope;if(o&&o.viewModel){var r=o.viewModel;if(r.dashboardTile===t||r.reportTile===t||r.workbookTile===t)return}var a=i.message,n=this.tileErrorDetails[a]?this.tileErrorDetails[a].tileIds:null;n?n.indexOf(t.id)<0&&(n.push(t.id),this.scope.dashboardTileErrorCount++):(this.tileErrorDetails[a]={tileIds:[t.id],errorDetails:i},this.scope.dashboardTileErrorCount++)},D.prototype.onRemoveDashboardTileError=function(e,t,i){e&&e.stopPropagation&&e.stopPropagation();var o=i.message,r=this.tileErrorDetails[o]?this.tileErrorDetails[o].tileIds:null;if(!_.isEmpty(r)){var a=r.indexOf(t.id);a>=0&&(r.splice(a,1),this.scope.dashboardTileErrorCount--,_.isEmpty(r)&&delete this.tileErrorDetails[o])}},D.prototype.processFullUrl=function(e,t,i){if(i){var o=this.tryGetFullUrlIntraDomainNavigationParamers(e,t);if(o)return e.intraDomainNavigationParameters=o,void(e.href=void 0)}e.intraDomainNavigationParameters=void 0,e.href=t},D.prototype.tryGetFullUrlIntraDomainNavigationParamers=function(e,t){var i=document.createElement("a");i.href=t;var o=window.location;if(i.hostname!==o.hostname)return null;var r=i.pathname;r&&"/"!==r.charAt(0)&&(r="/"+r);var a=r.split("/");if(a.length<5)return null;var n=a[3].toLowerCase(),s=a[4].toLowerCase();return"dashboards"===n?this.getDashboardNavigationParameters(e,s):"reports"===n?this.getReportNavigationParameters(e,s,a.length>5?a[5]:null):null},D.prototype.getDashboardNavigationParameters=function(e,t){if(e.href=void 0,t){var i=this.services.dashboardService.dashboardContainerModel.visibleDashboards,r=this.services.dashboardDataService.activeDashboard,a=r&&r.getUniquePackageId(),n=r&&o.getDashboardAppGUID(r,this.services.appService,this.services.packageService);n&&(i=_.filter(i,(function(e){return e.getUniquePackageId()===a})));var s=_.filter(i,(function(e){return e.displayName.toLowerCase()===t||e.objectId.toLowerCase()===t||e.contract.originalDashboardObjectId&&e.contract.originalDashboardObjectId.toLowerCase()===t}));if(!_.isEmpty(s)){var c=s[0];s.length>1&&a&&(c=_.find(s,(function(e){return e.getUniquePackageId()===a}))||c);var l=a;return n&&!o.isOrgAppInstance(l,this.services.appService)||(l=null),{navigationTargetGuid:c.objectId,navigationTargetOriginalGuid:c.contract.originalDashboardObjectId,navigationTargetAppGuid:n,navigationType:h.Dashboard,navigationSubPage:null,appInstance:l}}}},D.prototype.getReportNavigationParameters=function(e,t,i){if(void 0===i&&(i=null),e.href=void 0,t){var r=this.services.reportService.reports,a=this.services.dashboardDataService.activeDashboard,n=a&&o.getDashboardAppGUID(a,this.services.appService,this.services.packageService),s=a&&a.getUniquePackageId();n&&(r=_.filter(r,(function(e){return e.packageId===s})));var c=_.filter(r,(function(e){return e.displayName.toLowerCase()===t||e.objectId.toLowerCase()===t||e.contract.originalReportObjectId&&e.contract.originalReportObjectId.toLowerCase()===t}));if(!_.isEmpty(c)){var l=c[0];c.length>1&&s&&(l=_.find(c,(function(e){return e.packageId===s}))||l);var d=s;return n&&!o.isOrgAppInstance(d,this.services.appService)||(d=null),{navigationTargetGuid:l.objectId,navigationTargetOriginalGuid:l.contract.originalReportObjectId,navigationTargetAppGuid:n,navigationType:h.Report,navigationSubPage:i,appInstance:d}}}},D.prototype.getIntraDomainNavigationTargetName=function(e){var t=e.split("/");return t.length<3?null:decodeURIComponent(t[2]).toLowerCase()},D.prototype.openReportTile=function(t,i,o){if(this.canOpenReport(t)){o.event.info.tileType=e.telemetry.ContentTypes.Report;var r=this.services.dashboardService.findDashboard(i);if(t.report&&t.report.id){var a=void 0,n=void 0;t.action&&(a=t.action.targetSlideId,this.services.featureSwitchService.featureSwitches.usageMetricsEnabled&&this.belongsToUsageMetricsContentPack(t)&&(n=t.action.filter)),t.report.model=t.contractsModel,t.report.packageId=t.contract.packageId,this.services.reportService.addReport(t.report),this.services.modelService.addModel(this.services.modelConverter.convertModel(t.report.model));var s=t.report.contract&&t.report.contract.originalReportObjectId;this.services.navigation.navigateToReportByGUID(t.report.objectId,this.services.groupService.activeGroupObjectId,s,a,null,r&&r.objectId,n)}else{var c=r.getPermissions();if(r.isHidden||(c&b.Write)!==b.Write)return;this.services.quota.checkQuotaExceeded()||this.services.permissionService.isActiveWorkspaceIsReadOnly||this.services.navigation.navigateToDatasetByDBName(t.contractsModel.dbName,e.common.contracts.reportServer.ReportInstantiationMode.NonTemplateForExistingTile)}}o.resolve()},D.prototype.canOpenReport=function(e){if(!e.contractsModel){var t=e.contract.modelId,i=this.services.dashboardService.dashboardContainerModel.contract.models;if(!i)return!1;for(var o=i.length,r=0;r<o;r++)i[r].id===t&&(e.contractsModel=i[r])}var a=null!=e.contractsModel&&null!=e.contractsModel.vsName&&null!=e.contractsModel.dbName,n=e.contract.publishState===C.Completed;return a&&n},D.prototype.openUrlTile=function(t,i){if(!t.href&&t.intraDomainNavigationParameters){var o=t.intraDomainNavigationParameters;switch(o.navigationType){case h.Dashboard:o.navigationTargetAppGuid?this.services.navigation.navigateToAppDashboardByGUID(o.navigationTargetGuid,o.navigationTargetOriginalGuid,o.navigationTargetAppGuid,this.services.groupService.activeGroupObjectId,null,!0,o.appInstance):this.services.navigation.navigateToDashboardByGUID(o.navigationTargetGuid);break;case h.Report:o.navigationTargetAppGuid?this.services.navigation.navigateToAppReportByGUID(o.navigationTargetGuid,o.navigationTargetOriginalGuid,o.navigationTargetAppGuid,o.navigationSubPage,this.services.groupService.activeGroupObjectId,null,!0,o.appInstance):this.services.navigation.navigateToReportByGUID(o.navigationTargetGuid,this.services.groupService.activeGroupObjectId,o.navigationTargetOriginalGuid,o.navigationSubPage)}}i.event.info.tileType=e.telemetry.ContentTypes.Url;var r=t.action&&t.action.targetUrl;i.event.info.hasFullUrlToDashboardOrReport=r&&!g(r)&&!f(r),i.resolve()},D.prototype.openWorkbookTile=function(e,t,i){var o,r=this.services.workbookService.findWorkbook(e.contract.workbookId,e.contract.packageId),a=this.services.workbookService.getWorkbookUniqueId(r);o=e.contract.$config.workbookTile.itemType===u.NamedRange||e.contract.$config.workbookTile.itemType===u.Table?e.contract.$config.workbookTile.item:e.contract.$config.workbookTile.activeSelection;var n=this.services.ownership.isResourceSharedWithMe(r);this.services.navigation.navigateToWorkbookByUrlId(a,o,n,this.services.navigation.currentDashboardGUID)},D.prototype.openQnaTile=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var o,r,a,n,s,l,d,p,u=this;return __generator(this,(function(v){switch(v.label){case 0:return i.event.info.tileType=e.telemetry.ContentTypes.QnA,o=t.contract,r=o.query.modelQuery,a=o.$config,n={name:"powerbi.infonav",namespace:"powerbi.explore.infonav",dependency:{javascript:"infonav",css:["infonav"]}},[4,this.services.pbiLazyLoad.load(n)];case 1:if(v.sent(),o.type===w.report)s=a&&a.reportTile,l={modelId:o.modelId,utterance:r.utterance,openTileTelemetryEvent:i,reportPageTile:{reportId:o.reportId,sectionId:o.sectionId,pod:s&&s.pod,filters:s&&s.filters}},this.services.timeout((function(){u.services.rootScope.$emit(e.infonav.constants.openTileEventName,l)}),D.runningQueryDelayMs);else{if(d=c(o.query),p=a.visualContainer.$visualContainer,!e.helpers.VisualQueryUtil.canVisualizeQuery(d.defn,p.filters))return this.services.navigation.showQnaView(t.utterance,0,!1),[2];this.services.timeout((function(){u.services.rootScope.$emit(e.infonav.constants.openTileEventName,{modelId:o.modelId,utterance:r.utterance,openTileTelemetryEvent:i,visualContainer:p})}),D.runningQueryDelayMs)}return this.services.navigation.inQnaView()||this.services.navigation.showQnaView(),[2]}}))}))},D.prototype.onRemoveTile=function(e,t){e&&e.stopPropagation&&e.stopPropagation(),this.services.dashboardWarningsService.showWarningsIfNeeded(),this.removeTileAndUpdateTileErrorCount(t)},D.prototype.onDashboardMenuItemSelected=function(e){if(this.services.overlayService.hideAllDropdowns(),null!=e.action)switch(e.action){case 0:this.duplicateDashboard();break;case 2:this.refreshDashboard();break;case 1:this.printDashboard();break;case 3:this.setHomeDashboard();break;case 7:this.unsetHomeDashboard();break;case 6:var t=this.services.dashboardDataService.activeDashboard.objectId;this.services.settingsMetadataService.setSettings(1,t),this.services.taskPaneSliderService.expandPane(S.SettingsBlade,a.Medium)}},D.prototype.getAuthoringMenuActions=function(){return this.authorOptionsMenu},D.prototype.selectMenuItem=function(e){this.uncheckMenuItems(e),this.updateCurrentViewMode(e),e.checked=!0},D.prototype.uncheckMenuItems=function(e){for(var t=0,i=this.scope.moreOptionsMenu;t<i.length;t++){var o=i[t];o.action!==e.action?o.checked=!1:o.checked=!0}for(var r=0,a=this.authorOptionsMenu;r<a.length;r++){var o=a[r];o.action!==e.action?o.checked=!1:o.checked=!0}},D.prototype.toggleFullScreenByViewState=function(){var e=$(".enterFullScreenBtn");e.length>0&&(0===this.viewModel.viewMode?e.show():e.hide())},D.prototype.raiseEnteredAuthoringModeEvent=function(t){var i=!_.any(t.tiles,(function(e){return e.hasLayoutDefinition(1)}));this.services.telemetryService.logEvent(e.telemetry.DashboardUserEnteredPhoneMobileAuthoringMode,t.objectId,i)},D.prototype.createMobilePositionsIfNeeded=function(t){var i=this.services.dashboardDataService.activeDashboard,o=_.filter(i.tiles,(function(e){return e.gridLayouts&&e.hasLayoutDefinition(t)}));if(_.isEmpty(o)&&!_.isEmpty(i.tiles)){var r=this.getOrderedDashboardTiles(i),a=e.models.modelFactory.createDefaultPhonePositions(r);this.applyTileLayoutChanges(i,a)}},D.prototype.getOrderedDashboardTiles=function(e){var t=d.orderItems(_.map(e.tiles,(function(e){return{getActiveLayoutPosition:function(){return e.gridLayouts[0].position},getItem:function(){return e}}})));return t},D.prototype.applyTileLayoutChanges=function(t,i){this.scope.$emit(e.common.constants.domLayoutChangedEvent),this.services.dashboardService.batchUpdateTileSizePosition(t,i)},D.prototype.switchLayoutStrategy=function(e,t,i){e.gridLayoutService.strategy=t,e.gridLayoutService.displayLayout=i,this.updateDashboardTilesWithDisplayLayout(e,i)},D.prototype.updateDashboardTilesWithDisplayLayout=function(e,t){if(e&&e.tiles)for(var i=0,o=e.tiles;i<o.length;i++){var r=o[i];r.gridLayoutContext&&r.gridLayoutContext.setActiveLayout(t),r.invalidateLayout()}},D.prototype.duplicateDashboard=function(){var t=this.services.dashboardDataService.activeDashboard,i=this.services,o=i.localizationService;i.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.AddDashboard)||D.showDuplicateDashboardDialog(t.displayName,i.errorService,o,i.promiseFactory).then((function(r){i.dashboardService.duplicateDashboard(t.contract,r).then((function(r){var a=o.get("DuplicateDashboard_Success"),n=o.format("DuplicateDashboard_Success_Details",[t.displayName]);i.notificationToast.notify({title:a,message:n,notificationType:e.common.NotificationToastType.Success})}),(function(){var r=o.get("DuplicateDashboard_Error"),a=o.format("DuplicateDashboard_Error_Details",[t.displayName]);i.notificationToast.notify({title:r,message:a,notificationType:e.common.NotificationToastType.Error
})}))}))},D.prototype.setHomeDashboard=function(){this.services.home.setHomeDashboardDialog(this.services.dashboardDataService.activeDashboard,this.services.groupService.activeGroupObjectId)},D.prototype.unsetHomeDashboard=function(){this.services.home.disableHomeDashboard()},D.prototype.printDashboard=function(){this.services.$window.print(),this.services.telemetryService.logEvent(e.telemetry.DashboardAndReportsPrint,e.telemetry.PrintType.Dashboard);var t=this.services.dashboardDataService.activeDashboard;this.services.auditing.auditEvent(t.id,e.common.contracts.AuditEntityType.Dashboard,e.common.contracts.AuditActivityType.printDashboard)},D.prototype.refreshDashboard=function(){var t=this,i=this.services.dashboardDataService.activeDashboard;if(0!==i.tiles.length){var o=this.services.notificationToast.notify({message:this.services.localizationService.get("Dashboard_RefreshStart"),notificationType:e.common.NotificationToastType.Loading}),r=this.createRefreshEvent();this.services.dashboardHttpService.refreshTileData(i.id,null,r.event).then((function(i){t.services.notificationToast.hide(o),t.services.notificationToast.notify({message:t.services.localizationService.get("Dashboard_RefreshCompletedSuccess"),notificationType:e.common.NotificationToastType.Success}),t.services.dashboardService.checkRefreshTileResponse(i.data),r.resolve()}),(function(e){t.services.notificationToast.hide(o),t.services.errorService.error(t.services.localizationService.get("Dashboard_RefreshCompletedFailure"),"Dashboard_RefreshCompletedFailure",{requestId:e.requestId,statusCode:e.status.toString()}),r.reject()}))}},D.prototype.createRefreshEvent=function(){var t=this.services.dashboardDataService.activeDashboard,i=this.services.dashboardService.getVisualCountData(),o=i.scriptVisualsCount,r=i.reportTilesWithR,a=i.totalVisualsCount;return this.services.telemetryService.startEvent(e.telemetry.DashboardRefreshDashboardTiles,t.objectId,a,o,r)},D.prototype.showRelatedContentPane=function(){var e=!this.isDashboardEditable(),t={id:this.services.dashboardDataService.activeDashboard.objectId,artifactType:r.Dashboard,displayName:this.services.dashboardDataService.activeDashboard.displayName,readOnly:e};this.services.taskPaneSliderService.expandPane(S.RelatedContent,a.Default,t)},D.prototype.isDashboardEditable=function(){return!this.services.permissionService.isActiveWorkspaceIsReadOnly&&this.services.dashboardDataService.activeDashboard&&this.services.dashboardDataService.activeDashboard.canEdit},D.prototype.showTileGalleryPane=function(){this.services.telemetryService.logEvent(e.telemetry.DashboardAddWidget),this.services.taskPaneSliderService.expandPane(S.TileGallery,a.Large)},D.prototype.showShareSlider=function(){this.services.taskPaneSliderService.expandPane(S.SharingPane,a.Large)},D.prototype.openUsageMetricsReport=function(){return __awaiter(this,void 0,e.Promise,(function(){var t,i,o;return __generator(this,(function(r){switch(r.label){case 0:t=this.services.dashboardDataService.activeDashboard,i=this.services.telemetryService.startEvent(e.telemetry.UsageMetricsViewUsageMetricsReport,e.constants.usageMetrics_Dashboard,t.objectId,e.constants.usageMetrics_Dashboard),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.services.usageMetricsReport.openDashboardUsageMetricsReport(t,this.services.groupService.activeGroupObjectId,i)];case 2:return r.sent(),i.resolve(),[3,4];case 3:return o=r.sent(),i.reject(e.errorDetailsHelper.getTelemetryErrorDetails(o.error)),[3,4];case 4:return[2]}}))}))},D.prototype.showSubscriptionPane=function(){var t,i=this,o=_.filter(this.viewModel.dashboards,(function(e){return e.contract.objectId===i.services.navigation.currentDashboardGUID})),r=o[0].contract,a=this.services.dashboardService.findDashboard(r.id);if(_.isEmpty(r.modelIds))return void(t=new v(this.services.modalDialogService).show("ModalDialog_EmailSubscriptionUnSupportedEmptyDashboardTitle","ModalDialog_EmailSubscriptionUnSupportedEmptyDashboardText","https://go.microsoft.com/fwlink/?linkid=845989"));if(a.getPermissions()===e.common.contracts.Permissions.CopyOnWrite)return void(t=new v(this.services.modalDialogService).show("ModalDialog_EmailSubscriptionUnSupportedDashboardContentPackTitle",this.services.featureSwitchService.featureSwitches.appsEnabled?"ModalDialog_DashboardEmailSubscriptionUnSupportedContentPackOrAppMessage":"ModalDialog_DashboardEmailSubscriptionUnSupportedContentPackMessage","https://go.microsoft.com/fwlink/?linkid=836808"));var n={dashboardName:r.displayName,dashboardId:r.id,modelIds:r.modelIds,dashboardObjectId:r.objectId};this.services.subscription.expandPaneForDashboardSubscription(n)},D.prototype.isEmailSubscriptionEnabled=function(){return this.services.featureSwitchService.featureSwitches.dashboardEmailSubscription},D.prototype.navigateToContentList=function(){this.services.navigation.navigateToContentList(this.services.groupService.activeGroupObjectId)},D.prototype.unpinAllTiles=function(){var e=this.services.dashboardDataService.activeDashboard,t=[];this.viewModel.dashboardEditMobileDisplay.dashboardPane.isPaneExpanded=!0;for(var i=this.viewModel.dashboardEditMobileDisplay.mobileDashboard.tiles,o=0,r=i;o<r.length;o++){var a=r[o];t.push(a.removeLayoutPosition(1))}this.applyTileLayoutChanges(e,t)},D.prototype.resetPhoneView=function(){var e=this.removeTilesLayoutDefinition(m.OriginalSerialLayout);this.applyTileLayoutChanges(this.services.dashboardDataService.activeDashboard,e);var t=this.viewModel.dashboardEditMobileDisplay.mobileDashboard.tiles;t.forEach((function(e){return e.invalidateLayout()})),this.imitateMenuItemSelectionByAction(4)},D.prototype.imitateMenuItemSelectionByAction=function(e){var t=_.find(this.authorOptionsMenu,(function(t){return t.action===e}));this.selectMenuItem(t)},D.prototype.resetTiles=function(){this.removeTilesLayoutDefinition(m.DefaultMobileLayout),this.createMobilePositionsIfNeeded(1);var e=this.viewModel.dashboardEditMobileDisplay.mobileDashboard.tiles;e.forEach((function(e){return e.invalidateLayout()}))},D.prototype.getAuthorMenuSelectedItem=function(){var e={text:"",iconClass:""},t=_.find(this.authorOptionsMenu,(function(e){return e.checked}));return t||e},D.prototype.removeTilesLayoutDefinition=function(t){for(var i=[],o=this.viewModel.dashboardEditMobileDisplay.mobileDashboard.tiles,r=0,a=o;r<a.length;r++){var n=a[r];n.hasLayoutDefinition(1)&&i.push(n.removeLayoutDefinition(1,!1))}return this.services.telemetryService.logEvent(e.telemetry.DashboardUserDeletedMobileLayout,this.viewModel.dashboardEditMobileDisplay.mobileDashboard.objectId,t),i},D.prototype.getPromiseMessage=function(e){var t=this.services,i=t.localizationService;return D.showDialogMessage(t.errorService,i,t.promiseFactory,e)},D.prototype.toggleTileError=function(){this.scope.showDashboardTileErrors=!this.scope.showDashboardTileErrors;var e=this.services.dashboardDataService.activeDashboard.tiles;if(this.scope.showDashboardTileErrors)_.forOwn(this.tileErrorDetails,(function(t){for(var i=t.tileIds,o=function(t){var i=_.find(e,(function(e){return e.id===t}));i&&(i.isSelected=!0)},r=0,a=i;r<a.length;r++){var n=a[r];o(n)}}));else for(var t=0,i=this.services.dashboardDataService.activeDashboard.tiles;t<i.length;t++){var o=i[t];o.isSelected=!1}},D.prototype.showTileErrorDetails=function(){var t=this.services.localizationService,i=this.scope.$new(),o=[],r=0;for(var a in this.tileErrorDetails){var n={errorDetails:this.tileErrorDetails[a].errorDetails,count:this.tileErrorDetails[a].tileIds.length};r+=n.count,o.push(n)}i.tileErrors=o,i.title=t.format("DashboardAppBar_TileError_ErrorDialogSubTitle",[e.formattingService.formatValue(r)]),this.services.modalDialogService.showLegacyWebModalDialog({dialogName:t.get("DashboardAppBar_TileError_ErrorDialogTitle"),template:I,scope:i,isDismissable:!0,dialogActions:[new InJs.ModalDialogAction(t.get("PBI_Button_Label_Close"),function(e,t){i.closeDialog()},null,"")]})},D.prototype.updateTileErrorCount=function(){var e=this;this.scope.dashboardTileErrorCount=0,this.tileErrorDetails&&_.forOwn(this.tileErrorDetails,(function(t){var i=t.tileIds;e.scope.dashboardTileErrorCount+=i.length}))},D.prototype.removeTileAndUpdateTileErrorCount=function(e){var t=this;this.tileErrorDetails&&_.forOwn(this.tileErrorDetails,(function(i,o){var r=i.tileIds,a=r.indexOf(e.id);a>=0&&r.splice(a,1),0===r.length&&delete t.tileErrorDetails[o]})),this.updateTileErrorCount()},D.prototype.notifyIfModelRefreshDisabledBySelectiveRefresh=function(){var t=this.services,i=t.dashboardDataService;t.featureSwitchService.featureSwitches.selectiveModelRefresh&&i.isActiveDashboardModelRefreshDisabled()&&this.notificationIds.push(t.notificationBar.notify({message:t.localizationService.get("Notification_InactiveModelRefreshDisabled"),notificationType:e.common.NotificationBarType.Warning,secondaryLink:{displayText:t.localizationService.get("LearnMore"),urlString:e.constants.configureScheduledRefreshLink}}))},D.prototype.hideAllNotifications=function(){for(var e=this.services.notificationBar;!_.isEmpty(this.notificationIds);)e.hide(this.notificationIds.pop());this.notificationIds=[]},D.prototype.resetDashboardTileErrors=function(){this.tileErrorDetails={},this.scope.showDashboardTileErrors=!1,this.scope.dashboardTileErrorCount=0},D.prototype.belongsToUsageMetricsContentPack=function(e){var t=e.report.contentProviderId;return n.isUsageMetricsContentProvider(t)},D})();D.runningQueryDelayMs=100,t.DashboardContainerController=D})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.ArrowPosition,o=e.common.models.TooltipTheme,r=(function(){function e(e,t,i,o,r,a,n,s,c){this.uiSref=e,this.tooltipTemplate=t,this.entity=i,this.stateOptions=o,this.customClass=r,this.beforeIcon=a,this.beforeIconSize=n,this.afterIcon=s,this.afterIconSize=c}return Object.defineProperty(e.prototype,"label",{get:function(){return this.entity.displayName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipConfig",{get:function(){return{tooltipTitle:this.entity.displayName,tooltipArrowPosition:i.arrowTopMiddle,tooltipTheme:o.Dark}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltipTemplateConfig",{get:function(){return{tooltipTitle:this.createTemplateTooltipTitle(this.entity.displayName),tooltipArrowPosition:i.arrowTopMiddle,tooltipTheme:o.Dark}},enumerable:!0,configurable:!0}),e.prototype.createTemplateTooltipTitle=function(e){return this.tooltipTemplate.replace("{0}",e)},e})();t.BreadcrumbEntity=r})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.contracts.ContentTileType;!(function(e){e[e.Dashboards=0]="Dashboards",e[e.Reports=1]="Reports",e[e.Workbooks=2]="Workbooks",e[e.AppInstance=3]="AppInstance"})(i=t.MRUArtifactType||(t.MRUArtifactType={}));var r=(function(){function e(e,t,i){this.type=e,this.objectId=t,this.workspaceId=i,this.count=0,this.contentTileType=o.MRU}return e.prototype.getPermissions=function(){return this.permissions},e})();t.MRUModel=r})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.constants.navigation.states,o=e.common.constants.navigation.states;t.SimpleBreadcrumbs={firstSegment:[{state:i.adminPortal,labelResourceKey:"AdminPortal_Title"},{state:i.apps,labelResourceKey:"Apps_AppsTitle",terminal:!1},{state:i.favorites,labelResourceKey:"Favorites_FavoritesTitle",icon:"favoritestar"},{state:i.recentlyViewed,labelResourceKey:"RecentlyViewed_NavPaneTitle",icon:"mru"},{state:i.settings,labelResourceKey:"TopNav_Settings"},{state:i.workspaces,labelResourceKey:"NavigationPane_Workspaces",icon:"collections"}],secondSegment:[{state:o.datasets,labelResourceKey:"NavigationPane_DatasetsTitle",strictState:!0},{state:o.streamingDatasets,labelResourceKey:"NavigationPane_DatasetsTitle",strictState:!0},{state:i.getData,labelResourceKey:"NavigationPane_GetData",terminal:!1},{state:i.gateways,labelResourceKey:"EnterpriseGateway_Title"},{state:i.manageStorage,labelResourceKey:"QuotaManagement_ManageStorage"},{state:i.manageEmbed,labelResourceKey:"TopNav_SettingsMenu_ManageEmbedCodes"},{state:i.publishApp,labelResourceKey:"CreateApp_Publish"},{state:i.insights,labelResourceKey:"InsightsPane_InsightsTitle"},{state:i.viewContent,labelResourceKey:"TopNav_SettingsMenu_ViewContentPack"}],thirdSegment:[{state:i.appDashboardQna,labelResourceKey:"SettingsDashboard_QnA_Title"},{state:i.appInFocusMode,labelResourceKey:"InFocus_Title"},{state:i.appInFocusInsights,labelResourceKey:"InsightsPane_InsightsTitle"},{state:i.dashboardQna,labelResourceKey:"SettingsDashboard_QnA_Title"},{state:i.inFocusMode,labelResourceKey:"InFocus_Title"},{state:i.inFocusInsights,labelResourceKey:"InsightsPane_InsightsTitle"},{state:i.sharedDashboardQna,labelResourceKey:"SettingsDashboard_QnA_Title"},{state:i.sharedInFocusMode,labelResourceKey:"InFocus_Title"},{state:i.sharedInFocusInsights,labelResourceKey:"InsightsPane_InsightsTitle"}]}})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(i){function o(e,t,i,o,r,a,n,s,c,l,d,p,u,v,g,f,m){return new h(e,t,i,o,r,a,n,s,c,l,d,p,u,v,g,f,m)}var r=e.dataServices.AppUtils,a=e.common.ArrowPosition,n=t.BreadcrumbEntity,s=e.common.constants.navigation.states,c=e.dataServices.models.Dashboard,l=e.common.models.Report,d=t.SimpleBreadcrumbs,p=e.constants.navigation.states,u=e.common.models.TooltipTheme,v=e.dataServices.models.Workbook;i.createBreadcrumbFactory=o;var h=(function(){function t(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){this.localizationService=e,this.navigationService=t,this.groupService=i,this.dashboardDataService=o,this.homeService=r,this.reportService=a,this.workbookService=n,this.modelService=s,this.permissionService=c,this.userService=l,this.asyncFeatureSwitchService=d,this.promiseFactory=p,this.ownershipService=u,this.appService=v,this.conceptualModelSetting=h,this.dataServiceModelConverter=g,this.packageService=f,this.tooltipTemplate=this.localizationService.get("Breadcrumb_Tooltip")}return t.prototype.createCurrentBreadcrumbs=function(t){var i=this;t=t||{};var o=[];if(this.addSimpleBreadcrumbs(o,d.firstSegment))return o;if(this.navigationService.inHomeDashboardView())return this.homeService.isHomeDashboardSet?this.dashboardDataService.getDashboards().then((function(){var e=i.homeService.homeDashboard,t=e?i.dashboardDataService.findDashboardByGUID(e.dashboardObjectId):null;t&&o.push(i.createDashboardBreadcrumb(p.home,t))})):o.push(this.createEmptyFeaturedDashboardBreadcrumb()),o;if(this.navigationService.inGroupView()&&!this.navigationService.inAppsView()&&!this.navigationService.inContentListView(!0)){var a=this.promiseFactory.all([this.groupService.ensureGroupsInitialization(),this.dashboardDataService.getDashboards(),this.asyncFeatureSwitchService.getFeatureSwitches()]).then((function(){var e,t=i.dashboardDataService.activeDashboard,o=i.groupService.activeGroup;if(i.isDashboardShared(t))e=i.createSharedWithMeBreadcrumb();else if(o){var r=i.isListViewEnabled()?p.contentList:null;e=new n(r,i.tooltipTemplate,o)}return e}));this.insertBreadcrumbAsync(o,a)}if(this.addSimpleBreadcrumbs(o,d.secondSegment))return o;if(this.navigationService.inAppView()){var c=this.navigationService.currentAppGUID,l=this.navigationService.currentAppInstanceId,a=this.appService.ensureAppsInitialization().then((function(){var e=i.appService.getAppByGUID(c);if(e){l||(l=r.getPackageIDByOrgAppGUID(i.appService,i.packageService,c));var t=i.appService.getInstalledAppModel(e,l);return i.createAppBreadcrumb(t)}}));this.insertBreadcrumbAsync(o,a)}if(this.navigationService.inDashboardPath()){var a=this.dashboardDataService.getDashboards().then((function(){var e=i.dashboardDataService.activeDashboard;if(e){var t=p.dashboard;return i.navigationService.inAppInstanceView()?t=p.appInstanceDashboard:i.navigationService.inAppView()?t=p.appDashboard:i.navigationService.inSharedWithMePath()&&(t=p.sharedDashboard),i.createDashboardBreadcrumb(t,e)}}));this.insertBreadcrumbAsync(o,a)}var u=this.navigationService.inReportView();if(u||t.subsituteReportForDataset){var v=this.reportService.getReports().then((function(){var e=t.reportGUID||i.navigationService.currentReportGUID,o=i.reportService.findReport(t.reportId)||i.reportService.findReportByGUID(e)||{id:t.reportId,displayName:t.reportName,objectId:t.reportGUID};if(o){var r=s.report;return u&&(i.navigationService.inAppInstanceView()?r=s.appInstanceReport:i.navigationService.inAppView()?r=s.appReport:i.navigationService.inSharedWithMePath()&&(r=p.sharedDashboardReport)),v=new n(r,i.tooltipTemplate,o)}}));this.insertBreadcrumbAsync(o,v)}if(this.navigationService.inWorkbookView()){var a=this.workbookService.getWorkbooks().then((function(){var e=i.navigationService.currentWorkbookURLIdentifier,t=i.workbookService.findWorkbookByUniqueId(e),o=s.workbook;if(i.navigationService.inAppView()?o=s.appWorkbook:i.navigationService.inSharedWithMePath()&&(o=p.sharedDashboardWorkbook),t)return new n(o,i.tooltipTemplate,t)}));this.insertBreadcrumbAsync(o,a)}if(this.navigationService.inDatasetView()&&!t.subsituteReportForDataset){var a=this.modelService.modelsPromise.then((function(){var e=i.navigationService.currentDatasetDBName,t=i.modelService.findModelByDBName(e);if(t)return new n(s.dataset,i.tooltipTemplate,t)}));this.insertBreadcrumbAsync(o,a)}if(this.navigationService.inPublishContentPackView()){var h=this.navigationService.contentPack,g=_.isNaN(h)?this.localizationService.get("TopNav_SettingsMenu_CreateContentPack"):this.localizationService.get("Publish_UpdateContentPack");return o.push({uiSref:p.publishContent,label:g,tooltipConfig:this.createCommonTooltipConfig(g),tooltipTemplateConfig:this.createCommonTemplateTooltipConfig(g)}),o}if(this.navigationService.inRowLevelSecurityView()){var g=this.localizationService.get("RowLevelSecurity_Title");return o.push({uiSref:p.rowLevelSecurity,label:g,tooltipConfig:this.createCommonTooltipConfig(g),tooltipTemplateConfig:this.createCommonTemplateTooltipConfig(g)}),o}if(this.addSimpleBreadcrumbs(o,d.thirdSegment))return o;if(this.navigationService.inGetDataCategoryView()){var f=e.controllers.contentProviderStore.contentProviderConstants,m=f.CategoryNameToEnumMap,b=f.categoryEnumToDisplayNameMap,y=b[m[this.navigationService.categoryName]],g=this.localizationService.get(y);o.push({uiSref:p.getDataCategory,label:g,tooltipConfig:this.createCommonTooltipConfig(g),tooltipTemplateConfig:this.createCommonTemplateTooltipConfig(g)})}if(this.navigationService.inGetDataCategoryProviderView()){var S=e.common.contracts.contentProviderManifest,C=_.find(S,{providerName:this.navigationService.providerName});if(C){var g=C.displayText;C.displayTextLocalizationKey&&(g=this.localizationService.get(C.displayTextLocalizationKey)),o.push({uiSref:p.getDataCategoryProviderName,label:g,tooltipConfig:this.createCommonTooltipConfig(g),tooltipTemplateConfig:this.createCommonTemplateTooltipConfig(g)})}}return o},t.prototype.createDashboardBreadcrumb=function(e,t){var i=!t.canEdit||this.permissionService.isActiveWorkspaceIsReadOnly?"lock":void 0;return new n(e,this.tooltipTemplate,t,(void 0),"dashboard",(void 0),(void 0),i,"mini")},t.prototype.createEmptyFeaturedDashboardBreadcrumb=function(){return this.createSimpleBreadcrumb(p.home,"NavigationPane_FeaturedDashboardTitle",null,"gauge")},t.prototype.createSharedWithMeBreadcrumb=function(){return this.createSimpleBreadcrumb(p.sharedWithMe,"NavigationPane_SharedWithMeTitle",null,"shared")},t.prototype.createAppBreadcrumb=function(e){var t,i=r.getDefaultAppArtefact(e),o=r.isOrgApp(e.providerContract);if(i)if(i instanceof c){var a=o?p.appDashboard:p.appInstanceDashboard;t=a+"({dashboardGUID:'"+i.objectId+"',dashboardOriginalGUID:'"+i.contract.originalDashboardObjectId+"'})"}else if(i instanceof l){var a=o?s.appReport:s.appInstanceReport;t=t=a+"({reportGUID:'"+i.objectId+"',reportOriginalGUID:'"+i.contract.originalReportObjectId+"'})"}else i instanceof v&&(t=s.appWorkbook+"({workbookURLIdentifier:'"+i.uniqueId+"'})");else t=o?p.app:p.appInstance;return new n(t,this.tooltipTemplate,e,(void 0))},t.prototype.insertBreadcrumbAsync=function(e,t){var i=e.length;e.push({label:null}),t.then((function(t){t&&(e[i]=t)}))},t.prototype.addSimpleBreadcrumbs=function(e,t){for(var i=0,o=t;i<o.length;i++){var r=o[i],a=r.strictState?this.navigationService.stateService.is(r.state):this.navigationService.stateService.includes(r.state);if(a){e.push(this.createSimpleBreadcrumb(r.state,r.labelResourceKey,r.customClass,r.icon));var n=angular.isUndefined(r.terminal)||r.terminal;if(n)return!0}}return!1},t.prototype.createSimpleBreadcrumb=function(e,t,i,o){var r=this.localizationService.get(t);return{uiSref:e,label:r,customClass:i,beforeIcon:o,beforeIconSize:"small",tooltipConfig:this.createCommonTooltipConfig(r),tooltipTemplateConfig:this.createCommonTemplateTooltipConfig(r)}},t.prototype.createCommonTooltipConfig=function(e){return{tooltipTitle:e,tooltipArrowPosition:a.arrowTopMiddle,tooltipTheme:u.Dark}},t.prototype.createCommonTemplateTooltipConfig=function(e){return{tooltipTitle:this.createTemplateTooltipTitle(e),tooltipArrowPosition:a.arrowTopMiddle,tooltipTheme:u.Dark}},t.prototype.createTemplateTooltipTitle=function(e){return this.tooltipTemplate.replace("{0}",e)},t.prototype.isListViewEnabled=function(){return this.conceptualModelSetting.isListViewEnabled()},t.prototype.isDashboardShared=function(e){return this.isListViewEnabled()&&(this.navigationService.inSharedWithMePath()||e&&this.navigationService.inDashboardPath()&&this.ownershipService.isResourceSharedWithMe(e))},t})()})(i=t.factory||(t.factory={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t;!(function(e){function t(e,t){switch(e){case 0:return i(t)}}function i(e){var t={items:[{type:2,text:e.get("FeedbackContextMenu_Title")},{type:0,text:e.get("FeedbackContextMenu_SubmitIdea"),href:"https://go.microsoft.com/fwlink/?linkid=833533"},{type:0,text:e.get("FeedbackContextMenu_SubmitIssue"),href:"https://go.microsoft.com/fwlink/?linkid=833535"}]};return t}e.createMenuItems=t})(t=e.NavigationBarMenuFactory||(e.NavigationBarMenuFactory={}))})(t=e.factory||(e.factory={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.contracts.StorageProviderType,r=e.common.PowerBIErrorHeader;!(function(i){function a(e,t){if(e){var o=e.headers(r);if(o){if(o===i.ImageTypeNotAllowed)return{errorType:0,errorMessage:t.get("PublishContentPack_ImageTypeNotAllowed")};if(o===i.InvalidImageFormat)return{errorType:0,errorMessage:t.get("PublishContentPack_InvalidImageFormat")};if(o.indexOf(i.TemplatePublishErrorPrefix)>=0)return{errorType:1,errorMessage:t.get("PublishContentPack_"+o)}}return v(e.error,t)}}function n(e){return!e||0===e.length}function s(e){return e&&e.length<=this.TitleSizeLimit}function c(e){return!e||0===e.length}function l(e){return e&&!t.ReportUtility.IsReportSavedAsExploration(e.contract)}function d(e,t){var i=t.findPackage(e.contract.packageId);return i&&i.contract.storageProviderType===o.Local}function p(e,t){e.publishedTo=t.publishedTo,e.listOfGroupPrincipals=t.listOfGroupPrincipals,e.isSharedToEntireOrg=t.isSharedToEntireOrg,e.providerId=t.providerId,e.displayText=t.displayText,e.iconUrl=t.iconUrl,e.description=t.description,e.publishTime=t.publishTime,e.author=t.author,e.category=t.category,e.allowCopyContent=t.allowCopyContent,e.dashboardIds=t.dashboardIds.slice(),e.reportIds=t.reportIds.slice(),e.modelIds=t.modelIds.slice(),e.workbookIds=t.workbookIds.slice()}function u(t,i,o,r,a,n,s){if(!_.isEmpty(r))return!1;if(!s||"undefined"==typeof s)return!1;if(!o||1!==o.length)return!1;if(!t||1!==t.length)return!1;if(!i||i.length<1)return!1;var c=t[0],l=c.contract.modelIds;if(!l||l.length<1||l.length>1)return!1;for(var d=!1,p=0,u=l;p<u.length;p++){var v=u[p],h=a.findModel(v),g=n.findPackage(h.contract.packageId);if(!g||!g.contentProviderId||g.contentProviderId!==e.common.constants.pbiDesktopContentProviderId)return!1;for(var f=s.datasetModels,m=0,b=f;m<b.length;m++){var y=b[m];if(y.id===v){d=!0;for(var S=0,C=y.refreshConnections;S<C.length;S++){var w=C[S];if(!w.isDMValidated&&(w.onpremGatewayRequired||_.isEmpty(w.connectionString)||w.connectionString.indexOf("Microsoft.Mashup")<0))return!1}}}}return d}function v(e,t){if(e&&(e.code===i.GroupsErrorCode||e.code===i.ServicePlanErrorCode)&&e["pbi.error"].parameters[0]&&(e["pbi.error"].parameters[0].Key===i.GroupsErrorKey||e["pbi.error"].parameters[0].Key===i.ServicePlanErrorKey)){var o=e["pbi.error"].parameters[0].Value.split("[")[1].split("]")[0],r=void 0;if(o){var a=o.split(","),n=a.join("; ");r=e.code===i.GroupsErrorCode?t.format("PublishContentPack_InvalidGroupAddresses",[n]):t.format("PublishContentPack_ServicePlanInvalid",[n])}else r=t.get("PublishContentPack_GroupsValidationFailed");return{errorMessage:r,errorType:2}}}i.ImageTypeNotAllowed="ImageTypeNotAllowed",i.InvalidImageFormat="InvalidImageFormat",i.GroupsErrorCode="GroupOrPrincipalValidationFailed",i.GroupsErrorKey="FailedGroupOrPrincipals",i.ServicePlanErrorCode="PrincipalDoesNotHaveKnownOrValidServicePlan",i.ServicePlanErrorKey="FailedPrincipals",i.TemplatePublishErrorPrefix="TemplatePublishError_",i.DescriptionSizeLimit=2e3,i.TitleSizeLimit=200,i.ImageSizeLimit=65e3,i.getPublishErrorFromResult=a,i.isTitleEmpty=n,i.isTitleValid=s,i.isDescriptionEmpty=c,i.isLegacyReport=l,i.isLocalWorkbook=d,i.updateContentPack=p,i.isTemplatingAllowed=u})(i=t.ContentPackAuthoringHelper||(t.ContentPackAuthoringHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.constants.myWorkspaceGroupId;e.dataServices.models.Workbook;!(function(e){function i(e){return t.RedirectUrlHelper.WebRedirectUrlHelper.getAppRedirectUrl(o,e)}function r(e,i){return t.RedirectUrlHelper.WebRedirectUrlHelper.getDashboardRedirectUrl(o,e.objectId,i.objectId)}function a(e,i){return t.RedirectUrlHelper.WebRedirectUrlHelper.getReportRedirectUrl(o,e.objectId,i.objectId)}function n(e,i){return t.RedirectUrlHelper.WebRedirectUrlHelper.getWorkbookRedirectUrl(o,e.objectId,i.uniqueId)}e.getAppUrl=i,e.getPublishedAppDashboardUrl=r,e.getPublishedAppReportUrl=a,e.getPublishedAppWorkbookUrl=n})(i=t.UrlHelper||(t.UrlHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants.myWorkspaceGroupId,o=jsCommon.StringExtensions,r=(function(){function t(e){this.redirectPath=e}return t.prototype.getAppRedirectUrl=function(e,t,i){var o={action:"OpenApp",groupObjectId:e,context:i,appId:t};return this.getRedirectUrl(o)},t.prototype.getDashboardRedirectUrl=function(e,t,i,o){var r={action:"OpenDashboard",context:o,groupObjectId:e,appId:t,dashboardObjectId:i};return this.getRedirectUrl(r)},t.prototype.getReportRedirectUrl=function(e,t,i,o,r){var a={action:"OpenReport",context:r,groupObjectId:e,appId:t,reportObjectId:i};return _.isEmpty(o)||(a.reportPage=o),this.getRedirectUrl(a)},t.prototype.getWorkbookRedirectUrl=function(e,t,i,o){var r={action:"OpenWorkbook",context:o,groupObjectId:e,appId:t,workbookUniqueId:i};return this.getRedirectUrl(r)},t.prototype.getTileRedirectUrl=function(e,t,i,o,r){var a={action:"OpenTile",context:r,groupObjectId:e,appId:t,dashboardObjectId:i,tileObjectId:o};return this.getRedirectUrl(a)},t.prototype.getRedirectUrl=function(t){var r=[];return(_.isEmpty(t.groupObjectId)||t.groupObjectId===i)&&r.push("groupObjectId"),_.isEmpty(t.appId)&&r.push("appId"),_.isEmpty(t.context)&&r.push("context"),r.length>0&&(t=_.omit(t,r)),o.format("{0}/{1}?{2}",e.common.httpService.frontendUri,this.redirectPath,$.param(t))},t})();r.WebRedirectUrlHelper=new r("Redirect"),r.MobileRedirectUrlHelper=new r("MobileRedirect.html"),t.RedirectUrlHelper=r})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.contracts.ContentProviderClientCategory;!(function(t){function i(t,i,o){if(t){var r=e.common.KnownContentProviderErrors[i],a=r&&r[t];if(a)return s(a,o)}}function r(e,t,i){return e.isImportOperation!==!1?t&&i.isAppCategory(t.category)?2:0:1}function a(t,i,o,r,a,n,p){var u,v=c(t,i);a.ensureLocalization((function(){if(v){var c=s(v,n),h=v.titleId||"ErrorMessage_DefaultTitle";u={message:a.get(c),title:a.get(h),errorType:c,helpLink:v.helpLink||d(i),helperText:v.helperTextId?a.get(v.helperTextId):null},l(t,u,p)}else{var g,f,m=void 0,b=e.models.contentProviderHelpLink[i]||d(i);switch(r){case 2:g="ErrorMessage_FailedToInstallApp",f=a.format("ErrorTitle_FailedToInstallApp",[o]);break;case 0:g="ErrorMessage_FailedToStorePackage",f=a.format("ErrorTitle_FailedToStorePackage",[o]);break;case 1:g="ErrorMessage_FailedToConnectWorkbook",f=a.format("ErrorTitle_FailedToConnectWorkbook",[o])}if(t.error)m=e.helpers.PowerBIServiceExceptionErrorHelper.GenerateErrorMessage(t.error);else{var y=$.Deferred();y.resolve(null),m=y.promise()}m.then((function(i){u={message:i&&i.message?i.message:a.get(g),title:f,errorType:e.common.contentProviderDefaultErrorType,displayableErrorInfo:i?i.displayableErrorInfo:null,helpLink:b},l(t,u,p)}))}}))}function n(t,i,r,a,n,s){t!==o.Service&&t!==o.Organizational||s.$emit(e.constants.saasMarketplace.initSaasMarketplaceEventName);var c=e.controllers.contentProviderStore.contentProviderConstants.categoryEnumToNameMap[t],l=e.controllers.contentProviderStore.contentProviderConstants.categoryInteractionTelemetryMap[i];a.logEvent(e.telemetry.DashboardGetDataCategorySelect,c,l,this.previousSelectedCategoryName),n.showGetDataSlider(c,"",r)}function s(e,t){var i=e.messageId;return e.messageIdOverride&&t.featureSwitches[e.messageIdOverride.featureSwitch]&&(i=e.messageIdOverride.messageId),i}function c(t,i){if(t){var o=e.common.KnownContentProviderErrors[i];if(o){var r=t.headers(e.common.PowerBIErrorDetailsHeader);if(r){var a=u.tryParseJSON(r),n=a&&a.error&&a.error.code;return n?o[n]:void 0}}}}function l(t,i,o){o.error(i.message,i.errorType,{requestId:t?t.requestId:void 0,statusCode:t?t.status.toString():void 0,title:i.title,displayLearnMoreHelpLink:null!=i.helpLink,helpLink:i.helpLink,customErrorDialogHelperText:i.helperText,displayableErrorInfo:i.displayableErrorInfo,showAdditionalErrorInfo:null!=i.displayableErrorInfo},null,e.telemetry.ErrorSource.PowerBI)}function d(t){return t===p.excelContentProviderId?e.models.excelWorkbookUploadFailedDefaultHelpLink:e.models.contentProviderFallbackLink}var p=e.common.constants,u=jsCommon.JsonExtensions;t.getErrorMessageId=i,t.getStoreOperationType=r,t.handleStoreConfigurationError=a,t.navigateToCategoryAndProviderHelper=n})(i=t.ContentProviderStoreHelper||(t.ContentProviderStoreHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.contracts.ContentTileType,r=e.dataServices.models.Dashboard,a=e.common.models.Model,n=e.models.MRUModel,s=e.common.contracts.PublishOrRefreshStatus,c=e.common.models.Report,l=e.dataServices.models.Workbook;!(function(t){function i(e,t,i,r,a){if(e.contentTileType!==o.AppDataset){var n=d(e,t);i.openContent(e,n,r,a)}}function d(t,i){var r=t.workspaceId;return r||(r=t.contentTileType===o.Favorite?e.constants.myWorkSpaceGroupId:i.activeGroupObjectId),r}function p(e){var t=e.contentTileType;if(t!==o.AppDataset)return e instanceof l?e.uniqueId:e.objectId}function u(e){return e instanceof r?e.contract&&e.contract.originalDashboardObjectId:e instanceof c?e.contract&&e.contract.originalReportObjectId:e instanceof n?e.originalGUID:e.contentTileType===o.Favorite?e.originalObjectId:void 0}function v(e){if(e.contentTileType===o.OrgApp)return e.packageId;if(e instanceof r)return e.contract&&e.contract.originalPackageId;if(e instanceof c)return e.packageId;if(e instanceof l)return e.packageId;if(e instanceof n)return e.packageid;if(e instanceof a)return e.packageId;if(e.contentTileType===o.Favorite){var t=e;if(C(t)===o.OrgApp)return t.favoriteId}
}function h(e,t){return e instanceof a?e.isNew&&e.contract.packagePublishStatus!==s.PublishError&&e.contract.packagePublishStatus!==s.RefreshError&&!b(e,t):e.isNew}function g(e,i){return!!e&&(y(e)===o.Dashboard&&i.isFavoriteDisabled(t.getObjectID(e)))}function f(e,t){var i=y(e);return!!m(i)&&(!t||!t.isListViewEnabled())}function m(e){return e===o.OrgApp||e===o.Dashboard}function b(e,t){if(e instanceof a){var i=t.findModel(e.contract.id,e.contract.packageId);return!!i&&i.isRefreshInProgress}return!1}function y(t){var i=t.contentTileType;if(i===o.MRU&&t instanceof e.models.MRUModel)i=S(t);else if(i===o.Favorite){var r=t;i=C(r)}return i}function S(t){switch(t.type){case e.models.MRUArtifactType.Dashboards:return o.Dashboard;case e.models.MRUArtifactType.Reports:return o.Report;case e.models.MRUArtifactType.Workbooks:return o.Workbook;case e.models.MRUArtifactType.AppInstance:return o.OrgApp}}function C(e){switch(e.favoriteType){case 1:return o.Dashboard;case 3:return o.OrgApp}}function w(i,r,a,n,s){var c,l=t.getActualType(i),d=p(i);switch(l){case o.Dashboard:c=r.findDashboardByGUID(d);break;case o.Report:c=a.findReportByGUID(d);break;case o.Workbook:c=n.findWorkbookByUniqueId(d);break;case o.OrgApp:if(i instanceof e.models.MRUModel){var u=i.packageid;c=s.getAppInstance(u)}}return c||i}function I(t,i,r){if(t instanceof e.dataServices.models.Dashboard)return t.id;if(t.contentTileType===o.OrgApp)return t.packageId;if(t.contentTileType===o.Favorite)return t.favoriteId;if(t instanceof n){var a=S(t);if(a===o.Dashboard){var s=r.findDashboardByGUID(t.objectId);return s&&s.id}if(a===o.OrgApp)return t.packageid}}function D(e){return M(e,e.contentTileType)}function M(e,t){switch(t){case o.Favorite:return e.favoriteType;case o.Dashboard:return 1;case o.OrgApp:return 3;case o.MRU:var i=S(e);return M(e,i)}}t.openContentTile=i,t.getGroupId=d,t.getObjectID=p,t.getOriginalObjectID=u,t.getPackageId=v,t.isNew=h,t.isFavoriteDisabled=g,t.isFavoritableContent=f,t.isFavoritableContentType=m,t.getActualType=y,t.getMRUActualType=S,t.getFavoriteActualType=C,t.getMRUOriginalContentTile=w,t.getFavoriteId=I,t.getContentFavoriteType=D})(i=t.ContentTileHelper||(t.ContentTileHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.dataServices.AppUtils;!(function(e){function t(e,t,i,r,a){if(e&&e.contract){var n,s=e.objectId,c=e.contract.originalDashboardObjectId;c&&(n=o.getDashboardAppGUID(e,i,r)),n?t.navigateToAppDashboardByGUID(s,c,n,a):a?t.insertGroupAndNavigateToDashboardByGUID(s,a):t.navigateToDashboardByGUID(s)}}function i(e,t,i,r){if(e.inDashboardView()&&e.inAppView()&&!e.currentDashboardGUID){var a=e.currentAppInstanceId||o.getPackageIDByOrgAppGUID(t,i,e.currentAppGUID),n=r.retrieveDashboardForApp(a,e.currentDashboardOriginalGUID);e.currentDashboardGUID=n&&n.objectId}}function r(e,t){if((e.inInFocusView()||e.inInFocusInsightsView()||e.inAlertsEditorView())&&e.inAppView()&&!e.currentTileGUID){var i=t.findDashboardByGUID(e.currentDashboardGUID);if(i){var o=i.findTileByObjectIdOrOriginalObjectId(null,e.currentTileOriginalGUID);e.currentTileGUID=o&&o.objectId}}}function a(e,t,i,r){if(e.inReportView()&&e.inAppView()&&!e.currentReportGUID){var a=e.currentAppInstanceId||o.getPackageIDByOrgAppGUID(t,i,e.currentAppGUID),n=r.retrieveReportForApp(a,e.currentReportOriginalGUID);e.currentReportGUID=n&&n.objectId}}e.navigateToDashboard=t,e.ensureDashboardGUID=i,e.ensureTileGUID=r,e.ensureReportGUID=a})(i=t.NavigationHelper||(t.NavigationHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){function i(e,t,i,r,a,s,d,u,v,h){var g=c(a),f=l(g,v,h,s);return{automaticallyImport:!0,sandboxProperties:[p.AllowSameOrigin,p.AllowPopups,p.AllowScripts],providers:{blocker:g,validator:f},visualTypeOptions:n(),registerVisualConsentOptions:o(e,t,i,r,d,u)}}function o(e,t,i,o,r,a){return{consentDialogProvider:d(e,t,i,o),consentPersistencyProvider:s(r,a)}}function r(t,i){return{automaticallyImport:!0,sandboxProperties:[p.AllowSameOrigin,p.AllowPopups,p.AllowScripts],providers:{blocker:{blockedInCluster:_.noopTrue,blockedInTenant:_.noopTrue},validator:{getErrorDetails:function(){return{message:i.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:1,displayableErrorInfo:[],helpLink:e.models.EsriLearnMoreUrl}}}},visualTypeOptions:n(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return t.reject("Esri is not supported in Embedded scenario.")}},consentPersistencyProvider:{loadConsent:function(){return t.reject("Esri is not supported in Embedded scenario.")},saveConsent:function(e){return t.reject("Esri is not supported in Embedded scenario.")}}}}}function a(e,t,i,o,r,a,d){var u=c(t),v=l(u,o,r,i);return{automaticallyImport:!0,sandboxProperties:[p.AllowSameOrigin,p.AllowPopups,p.AllowScripts],providers:{blocker:u,validator:v},visualTypeOptions:n(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return e.reject("Esri consent dialog is not supported in Mobile scenario.")}},consentPersistencyProvider:s(a,d)}}}function n(){return{class:e.visualHost.EsriVisual,titleKey:"EsriVisual_ToolTip",watermarkKey:"map"}}function s(t,i){return{loadConsent:function(){return t.getUserSettings().then((function(e){return!!e&&e.esriVisualEnabled}))},saveConsent:function(o){var r=i.startEvent(e.telemetry.SettingsEsriSaveModel,o);return t.updateEsriSetting(o,r).then((function(){return t.refreshUserSettings(),r.resolve(),o}))}}}function c(e){return{blockedInCluster:function(){return!e.featureSwitches.esriEnabled},blockedInTenant:function(){return!e.featureSwitches.esriVisualEnabled}}}function l(t,i,o,r){return{getErrorDetails:function(){var i;if(t.blockedInTenant()?i="SettingsEsri_OrganizationHasDisabled":o.hasConsent(e.visualHost.EsriVisual)||(i="VisualContainer_EsriNotConsented"),i)return{message:r.get(i),errorType:1,displayableErrorInfo:[],helpLink:e.models.EsriLearnMoreUrl}}}}function d(t,i,o,r){return{showConsentDialog:function(){return e.explore.controllers.EsriConsentDialogController.createAndShowEsriConsentDialog(t,i,o,r)}}}var p=e.visualHost.SandboxProperty;t.createRegisterTrustedVisualOptions=i,t.createRegisterVisualConsentOptions=o,t.createEmbedRegisterTrustedVisualOptions=r,t.createMobileVisualRegisterOptions=a,t.createConsentPersistencyProvider=s,t.createBlocker=c,t.createValidator=l,t.createConsentDialogProvider=d})(i=t.EsriVisualHelper||(t.EsriVisualHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){function i(e,t,i){if(!i.isTrustedVisual(e))return!1;for(var r=0,a=t.tiles;r<a.length;r++){var n=a[r];if(o(e,n,i))return!0}return!1}function o(e,t,i){return!!i.isTrustedVisual(e)&&(t.type===a.composite&&t.config&&t.config.visualContainer&&t.config.visualContainer.$visualContainer.config.singleVisual.visualType===e)}function r(e,t){for(var i=[],o=0,r=e.tiles;o<r.length;o++){var n=r[o],s=n.type===a.composite&&n.config&&n.config.visualContainer&&n.config.visualContainer.$visualContainer.config.singleVisual.visualType;s&&t.isTrustedVisual(s)&&i.push(s)}return t.getConsentAndLoadVisuals(i)}var a=e.dataServices.contracts.TileType;t.dashboardContainsTrustedVisual=i,t.tileContainsTrustedVisual=o,t.acquireTrustedVisuals=r})(i=t.TrustedVisualUtil||(t.TrustedVisualUtil={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){function i(t,i){for(var o=0,r=i;o<r.length;o++){var a=r[o];if(!a.expression&&null==a.type&&!a.restatement)return!1}return t.Version&&t.Version>=e.data.SemanticQueryVersions.Version2}t.canVisualizeQuery=i})(i=t.VisualQueryUtil||(t.VisualQueryUtil={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(){return new o}var i=e.dataServices.TileUtils;e.createAlertRuleService=t;var o=(function(){function t(){this.cardMeasureRoleName="Values",this.gaugeMeasureRoleName="Y",this.kpiMeasureRoleName="Indicator",this.kpiGoalRoleName="Goal",this.kpiTrendRoleName="TrendLine",this.gaugeGoalRoleName="TargetValue"}return t.prototype.createAlertRule=function(t,o,r){var a=this,n=this.getQuery(t);if(n){var s=t.config.visualContainer;if(s){var c=s.elements[0].DataRoles;if(c){var l=i.getVisualType(t.config),d=this.getProjectionIndex(l,c);if(null!=d){if(l===e.visuals.plugins.kpi.name){var p=_.find(c,(function(e){return e.Name===a.kpiTrendRoleName}));p&&this.updateQuerySortOrder(n,p.Projection)}return{condition:{compareToAValue:{operator:o,columnIndex:{columnIndex:d,queryIndex:0},value:r}},queries:[n]}}}}}},t.prototype.getMeasureName=function(e){var t=e.config.visualContainer||e.config.realTimeVisual;if(t&&!_.isEmpty(t.elements)){var o=t.elements[0].DataRoles,r=t.queryMetadata,a=void 0;if(o&&r){var n=this.getProjectionIndex(i.getVisualType(e.config),o);null!=n&&(a=r.Select[n].Restatement)}return a}},t.prototype.getThresholdValue=function(t){var i=0,o=t.composite,r=o&&o.visual&&o.visual.dataViews;if(!_.isEmpty(r)){var a=r[0],n=o.visual.type;if(a)if(a.categorical&&n===e.visuals.plugins.card.name)i=a.categorical.values[0].values[0];else if(n===e.visuals.plugins.gauge.name){var s=e.data.DataRoleHelper.getMeasureIndexOfRole(a.categorical.values.grouped(),this.gaugeGoalRoleName);if(s>=0){var c=a.categorical.values[s].values;i=_.last(c)}else if(a.metadata){var l=a.metadata.objects;l&&l.axis&&l.axis.target&&(i=l.axis.target)}}else if(a.categorical&&n===e.visuals.plugins.kpi.name){var s=e.data.DataRoleHelper.getMeasureIndexOfRole(a.categorical.values.grouped(),this.kpiGoalRoleName);if(s>=0){var c=a.categorical.values[s].values;i=_.last(c)}}}return i},t.prototype.getProjectionIndex=function(t,i){var o;switch(t){case e.visuals.plugins.card.name:o=this.cardMeasureRoleName;break;case e.visuals.plugins.gauge.name:o=this.gaugeMeasureRoleName;break;case e.visuals.plugins.kpi.name:o=this.kpiMeasureRoleName}if(o){var r=_.find(i,(function(e){return e.Name===o}));if(r)return r.Projection}},t.prototype.getQuery=function(e){var t=e.contract.query.modelQuery;if(t&&t.sq){var i=jsCommon.JsonExtensions.tryParseJSON(t.sq);if(i){if(i.defn){var o=i;return{Commands:[{SemanticQueryDataShapeCommand:{Query:o.defn,Binding:o.shape}}]}}var r=void 0;return i.dataQuery?r=i.dataQuery:i.Commands&&(r=i),r}}},t.prototype.updateQuerySortOrder=function(e,t){if(e.Commands&&!_.isEmpty(e.Commands)&&e.Commands[0].SemanticQueryDataShapeCommand){var i=e.Commands[0].SemanticQueryDataShapeCommand,o=i.Query;o.OrderBy=[{Direction:2,Expression:o.Select[t]}];var r=i.Binding;r&&r.DataReduction&&r.DataReduction.Primary&&(r.DataReduction.Primary={Top:{Count:1}})}},t})();e.AlertRuleService=o})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.EnumExtensions,o=e.dataServices.contracts.PackageType,r=e.common.contracts.Permissions,a=e.common.contracts.PublishOrRefreshStatus,n=e.dataServices.constants,s=jsCommon.QueryStringUtil,c=(function(){function t(t,o,r,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I){var D=this;this.rootScope=t,this.dashboardService=o,this.dashboardDataService=r,this.modelService=n,this.telemetryService=s,this.localizationService=c,this.navigation=l,this.notificationToastService=d,this.quota=p,this.errorService=u,this.favoritesService=v,this.mostRecentlyUsedService=h,this.homeService=g,this.groupService=f,this.promiseFactory=m,this.workbookService=b,this.conceptualModelSetting=y,this.storeAppInstall=S,this.packageService=C,this.appService=w,this.lazy=I,this.pendingDatasetReadyNotification=[],this.openModel=function(t){return null!=t.contract.packagePublishStatus&&t.contract.packagePublishStatus!==a.FinishedSuccessfully&&t.contract.packagePublishStatus!==a.RefreshInProgress&&t.contract.packagePublishStatus!==a.RefreshError?void(t.contract.packagePublishStatus===a.PublishError&&D.deleteModelOnPublishFailure(t.id)):(t.isNew=t.contract.isNew=!1,void(D.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.OpenDataset)||i.hasFlag(t.getPermissions(),e.common.models.ReportPermissions.CopyOnWrite)||D.navigation.navigateToDatasetByDBName(t.dbName)))}}return t.prototype.bootstrap=function(){var t=this;this.isListViewEnabled()&&(this.rootScope.$on(e.dataServices.constants.packagePublishedSuccessfullyEventName,(function(e,i){t.showPackagedReadyToast(i)})),this.rootScope.$on(n.onDatasetAddedEventName,(function(e,i){t.handleDatasetAddedEvent(i)}))),this.rootScope.$on(n.workbook.workbookAddedEventName,(function(e,i){t.showWorkbookReadyToast(i)})),this.dashboardService.readyForConceptualModelInitializationPromise.then((function(){t.bootstrapNavigation(!0,!1).then((function(i){t.rootScope.$emit(e.constants.dashboardContainerLoaded,i)}))}))},t.prototype.bootstrapNavigation=function(t,i){var o=this,r=this.navigation,a=r.inHomeDashboardView(),n=t&&(r.inLandingContainerView()||a),c=this.promiseFactory.defer();if(t&&r.inAppView()){var l={dashboardOriginalGUID:r.currentDashboardOriginalGUID,reportOriginalGUID:r.currentReportOriginalGUID,workbookID:r.currentWorkbookURLIdentifier},d=s.getQueryStringValue(e.constants.appAutoInstall.skipConfirmationQueryParam);this.storeAppInstall.addAppAndNavigate(r.currentAppGUID,l,!!d).finally((function(){return c.resolve(null)}))}else t&&r.inWorkspacesView()?(r.navigateToWorkspaces(),c.resolve(e.constants.navigation.states.workspaces)):!this.homeService.isHomeDashboardSet||!n&&t?this.favoritesService.reloadFavorites(i).then((function(e){e.length>0?(r.navigateToFavorites(o.groupService.activeGroupObjectId),c.resolve(null)):o.isListViewEnabled()?o.mostRecentlyUsedService.getMRUModels().then((function(e){e.length>0?(r.navigateToRecentlyViewed(),c.resolve(null)):(r.navigateToContentList(o.groupService.activeGroupObjectId),c.resolve(null))})):(r.navigateToContentList(o.groupService.activeGroupObjectId),c.resolve(null))})):(r.navigateToHomeDashboard(t),c.resolve(e.constants.navigation.states.home));return c.promise},t.prototype.handleDatasetAddedEvent=function(e){var t=this.dashboardService.dashboardContainerModel.contract.models,i=!1;if(t){for(var o=t.length,r=0;r<o;r++)if(t[r].id===e.id&&t[r].packageId===e.packageId){t[r]=e,i=!0;break}i||t.push(e)}},t.prototype.showPackagedReadyToast=function(e){var t=this;this.packageService.ensurePackagesInitialization().then((function(){var i=t.packageService.findPackage(e);i&&i.packageType===o.AppInstance?t.appService.onInstanceAdded(i.contract).catch((function(){t.showDashboardOrModelNotification(e)})):t.showDashboardOrModelNotification(e)}))},t.prototype.showDashboardOrModelNotification=function(e){var t=this;this.dashboardService.getDashboards().then((function(i){var o=_.filter(i,(function(t){return t.contract.packageIds&&t.contract.packageIds.indexOf(e)>=0}));if(1===o.length&&o[0].isNew&&1===o[0].contract.packageIds.length&&!o[0].isNotified)t.notifyNewDashboardIsReady(o[0]);else{var r=t.modelService.findModelByPackageId(e);r?t.notifyNewDatasetIsReady(r,e):(t.pendingDatasetReadyNotification.push(e),t.unregisterModelWatch||(t.unregisterModelWatch=t.rootScope.$watch((function(){return t.modelService.lastUpdatedTimestamp}),(function(){t.pendingDatasetReadyNotification=_.filter(t.pendingDatasetReadyNotification,(function(e){var i=t.modelService.findModelByPackageId(e);return!i||(t.notifyNewDatasetIsReady(i,e),!1)})),_.isEmpty(t.pendingDatasetReadyNotification)&&(t.unregisterModelWatch(),t.unregisterModelWatch=null)}))))}}))},t.prototype.notifyNewDatasetIsReady=function(t,o){var a=this,n=this.dashboardDataService.activeDashboard;if(t&&t.isNew&&!t.isHidden&&i.hasFlag(t.getPermissions(),r.All)&&t.contract.insightsSupported&&n&&!n.isUsedByContentPack){var s,c={displayText:this.localizationService.get("DatasetUploadedToast_ExploreInsights"),action:function(){return __awaiter(a,void 0,e.Promise,(function(){var i;return __generator(this,(function(o){switch(o.label){case 0:return[4,this.lazy("insightsBootstrap")];case 1:return i=o.sent(),i.start(t.dbName,t.vsName,t.packageId,e.insights.constants.insightsSourceToast),[2]}}))}))}},l={displayText:this.localizationService.get("DatasetUploadedToast_ViewDataset"),action:function(){var e=a.modelService.findModel(t.id,o);a.openModel(e)}};s=this.notificationToastService.notify({title:this.localizationService.get("DatasetUploadedToast_ReadyToExploreTitle"),message:this.localizationService.get("DatasetUploadedToast_ReadyToExploreSubtitle"),notificationType:e.common.NotificationToastType.Success,actionButtons:[l],actionLinks:[c],sticky:!0});var d=this.rootScope.$on(e.constants.groupSwitchedEventName,(function(e,t,i){a.notificationToastService.hide(s),d()}))}},t.prototype.deleteModelOnPublishFailure=function(e){var t=this;this.deleteItemOnPublishFailure(this.localizationService.get("NavigationPane_ModelPublishErrorTitle"),this.localizationService.get("NavigationPane_ModelPublishErrorContent"),(function(){t.modelService.deleteModel(e)}))},t.prototype.deleteItemOnPublishFailure=function(e,t,i){var o=this,r=this.errorService.control(),a=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Delete"),function(e,t){r.hideDialog(),i()}),new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){r.hideDialog()})];r.showCustomDialog(e,$("<div/>").text(t),a,(function(e){e.parent().find('input[value="'+o.localizationService.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)},t.prototype.notifyNewDashboardIsReady=function(t){var i=this,o={description:t.displayName,displayText:this.localizationService.get("ToastNotification_GoToDashboard"),action:function(){i.navigation.navigateToDashboardByGUID(t.objectId)}};this.notificationToastService.notify({title:this.localizationService.get("Publish_Success"),message:this.localizationService.get("NotificationMessage_NewDashboardCreatedTitle"),notificationType:e.common.NotificationToastType.Success,actionButtons:[o]}),t.isNotified=!0},t.prototype.showWorkbookReadyToast=function(t){var i=this,o=this.workbookService.findWorkbookByUniqueId(t);if(o&&o.isOwner()){var r=this.groupService.activeGroupObjectId,a={displayText:this.localizationService.get("ToastNotification_GoToWorkbook"),action:function(){i.navigation.insertGroupAndNavigateToWorkbookByUniqueId(o.uniqueId,r)}},n=this.isListViewEnabled()?"WorkbookReadyNotificationMessageV2":"WorkbookReadyNotificationMessage";this.notificationToastService.notify({title:this.localizationService.get("WorkbookReadyNotificationTitle"),message:this.localizationService.format(n,[o.displayName]),notificationType:e.common.NotificationToastType.Success,actionButtons:[a]})}},t.prototype.isListViewEnabled=function(){return this.conceptualModelSetting.isListViewEnabled()},t})();t.BootstrapService=c})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a,n,s,c,l,p){return new d(e,t,i,o,r,a,n,s,c,l,p)}var o=e.common.constants,r=e.common.contracts.ContentProviderCategory,a=e.common.contracts.ContentProviderClientCategory,n=e.helpers.ContentProviderStoreHelper,s=e.common.constants.featureSwitches,c=e.telemetry.InstallSource,l=e.common.helpers.ModelConverterHelper;t.createContentProviderService=i;var d=(function(){function t(e,t,i,o,r,a,n,s,c,l,d){this.featureSwitchService=e,this.userInfo=t,this.localizationService=i,this.contentProviderHttpService=o,this.telemetryService=r,this.errorService=a,this.notificationToast=n,this.licenseHelper=s,this.appService=c,this.promiseFactory=l,this.conceptualModelSetting=d}return t.prototype.getDataAccessInfo=function(e){if(e){var t=l.getContentProviderClientCategory(e);if(t===a.Organizational&&e.featureSwitch!==s.microsoftOrgAppEnabled)return{SID:"",DSID:""};var i=JSON.parse(e.providerConfig);return i.dataAccessInfo}},t.prototype.upgradeRequiredToConnect=function(e){if(!e)return!1;var t=l.getContentProviderClientCategory(e),i=t===a.Organizational;return!this.userInfo.isPremiumUser&&(this.featureSwitchService.featureSwitches.saasMarketplace&&i||e.requiresPremiumLicense===!0)},t.prototype.displayFeatureDisabledDialog=function(t){var i=l.getContentProviderClientCategory(t)===a.Organizational,o=this.appService.isAppCategory(t.category),r="UpgradeAccount_ConnectContentGenericMessage",n="UpgradeAccount_ConnectContentGenericTitle";i&&!o?(r="UpgradeAccount_ConnectContentMessage",n="UpgradeAccount_ConnectContentTitle"):o&&(r="UpgradeAccount_InstallAppMessage",n="UpgradeAccount_InstallAppTitle");var s=this.localizationService,c=this.licenseHelper;s.ensureLocalization((function(){c.displayFeatureDisabledErrorMessage(e.telemetry.LicenseEnforcementOperation.ConnectContentProvider,s.format(r,[c.freeTrialPeriod.toString(10)]),s.get(n))}))},t.prototype.storeDataAccessInfo=function(t,i,s,d,p){var u=this,v=this.localizationService,h=this.notificationToast,g=this.promiseFactory.defer();return v.ensureLocalization((function(){var f,m=n.getStoreOperationType(t,i,u.appService);switch(m){case 2:f="AppModel_InstallApp";break;case 0:f="NotificationMessage_ImportingPackage";break;case 1:f="NotificationMessage_ConnectingPackage"}var b,y=h.notify({title:v.get(f),message:v.get("NotificationMessage_TakeAWhile"),notificationType:e.common.NotificationToastType.Loading}),S=t.ContentProviderIdOverride||i&&i.id||o.orgAppsContentProviderId,C=d,w=null;if(i){C=i.displayText||C;var I=l.getContentProviderClientCategory(i);I===a.Organizational?(w="OrgContent",i.featureSwitch!==o.featureSwitches.microsoftOrgAppEnabled&&(b=i.providerKey)):I===a.Service&&i.category!==r.BuiltIn?b=i.providerKey:i.id===o.groupOneDriveContentProviderId&&(w="OneDrive - Group")}w=w||C;var D=u.telemetryService,M=D.startEvent(e.telemetry.DashboardContentProviderPublish,S,i?i.providerKey:null,w,i?i.category:-1,s!==c.AppSource);t.DSID&&D.logChildEvent(M.event,e.telemetry.DashboardContentProviderPublishDSID,t.DSID),2===m&&D.logChildEvent(M.event,e.telemetry.AppsInstallApp,i&&i.providerKey,i?r[i.category]:"",s),u.contentProviderHttpService.storeConfiguration(p||0,S,t,M.event,b,i&&i.category,u.conceptualModelSetting.isAppsEnabled()).then((function(e){h.hide(y),M.resolve(),g.resolve(null)}),(function(e){h.hide(y),n.handleStoreConfigurationError(e,S,C,m,v,u.featureSwitchService,u.errorService);var t=e.data&&e.data.error&&e.data.error.code||"FailedToStoreConfiguration",i=(e.requestId,e.data&&e.data.error&&e.data.error.message||""),o=jsCommon.StringExtensions.format("Status:{0} RequestId:{1} Details:{2}",e.status.toString(),i);M.reject({errorCode:t,errorMessage:o}),g.reject()}))})),g.promise},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.common.constants,r=e.controllers.DashboardContainerController,a=e.dataServices.models.DashboardTileModel,n=e.constants.navigation.states,s=e.common.constants.TaskPaneCollapsiblePaneMode,c=(function(){function t(e,t,i,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C){var w=this;this.$rootScope=e,this.dashboardDataService=t,this.dashboardService=i,this.dashboardWarningsService=r,this.errorService=a,this.featureSwitchService=n,this.groupService=s,this.inFocusService=c,this.licenseEnforcementService=l,this.licenseHelperService=d,this.localizationService=p,this.modelConverter=u,this.mostRecentlyUsedService=v,this.navigation=h,this.permissionService=g,this.timeout=f,this.telemetryService=m,this.userInfo=b,this.appService=y,this.subscription=S,this.taskPaneSliderService=C,this.$rootScope.$on(o.navigation.stateChangeSuccess,(function(e,t,i,o,r){w.handleStateChange(t,i,o,r)}))}return t.prototype.registerDashboardContainerScope=function(e){this.dashboardContainerScope=e},t.prototype.unregisterDashboardContainerScope=function(){this.dashboardContainerScope=void 0},t.prototype.handleStateChange=function(t,o,a,c){var l=this;return o.dashboardGUID&&!o.hasOwnProperty("q")?this.dashboardWarningsService.showWarningsIfNeeded():this.dashboardWarningsService.hideDashboardWarnings(),a.name!==e.common.constants.navigation.states.reportPage&&a.name!==n.settingsGroup||this.subscription.collapseSubscriptionPane(),this.dashboardContainerScope&&this.dashboardService.updateDashboardMenuItems(this.dashboardContainerScope),t&&t.name===n.dashboardRequestAccess?void this.dashboardService.setAndUpdateActiveDashboard(null):void this.localizationService.ensureLocalization((function(){var d=l.dashboardService.dashboardContainerModel,p=l.dashboardDataService,u=l.navigation,v=c?c.dashboardGUID:null;if(o.groupGUID&&c.groupGUID&&o.groupGUID!==c.groupGUID)return void(p.activeDashboard=null);var h=l.dashboardService.dashboardContainerModel.findDashboardByGUID(u.currentDashboardGUID),g=l.dashboardService.dashboardContainerModel.findDashboardByGUID(v);if(l.dashboardService.checkUserNeedsProLicenseAndShowError(h,l.userInfo,l.licenseHelperService,l.licenseEnforcementService,l.localizationService,u,e.telemetry.LicenseEnforcementOperation.SwitchDashboards,g),l.dashboardContainerScope&&a.name!==n.dashboard&&h&&h.tiles&&p.activeDashboard&&u.currentDashboardGUID===p.activeDashboard.objectId&&l.dashboardContainerScope.$broadcast(e.constants.populateDashboardWithReportTiles),h&&u&&h.objectId!==u.currentDashboardGUID&&l.navigation.navigateToDashboardByGUID(h.objectId,0,!1),t&&t.name===n.dashboards)return void(p.activeDashboard?u.navigateToDashboardByGUID(p.activeDashboard.objectId):l.permissionService.isActiveWorkspaceIsReadOnly||!_.isEmpty(l.dashboardService.dashboardContainerModel.visibleDashboards)||l.groupService.isDataInCurrentGroup()?u.navigateToContentListOrActiveDashboard():u.navigateToGroupWelcome());if(u.currentDashboardGUID&&(!p.activeDashboard||u.currentDashboardGUID!==p.activeDashboard.objectId))if(h){h.increaseHitCount();var f=d.contract;h.isLoaded&&!h.contract.cached||l.dashboardService.loadDashboard(h.id),f.activeViewMode=e.contracts.DashboardContainerViewMode.DashboardViewer,f.activeDashboardId=h.id,h.isNew=!1,h.isFilled()?h.runLayoutIfRequired():(l.modelConverter.fillDashboardChildren(h,d.contract.models,d.contract.reports,d.contract.workbooks),h.calculateLayout(),h.applyLayout()),p.activeDashboard=h,h.id>0&&(l.dashboardWarningsService.showWarningsIfNeeded(),l.dashboardService.updateActiveDashboard(h.id,!1),l.dashboardService.logRTelemetryDashboardEvent(e.telemetry.DashboardLoadDashboardWithScriptVisuals))}else l.dashboardService.shouldNavigateToRequestAccess()?(l.mostRecentlyUsedService.removeMRU(u.currentDashboardGUID),l.navigation.navigateToRequestDashboardAccessByGUID(u.currentDashboardGUID)):(l.mostRecentlyUsedService.removeMRU(u.currentDashboardGUID),r.showDashboardDoesNotExistDialog(l.errorService,l.localizationService,l.telemetryService,l.navigation),u.navigateToActiveDashboard());u.currentDashboardGUID&&p.activeDashboard&&l.dashboardService.notifyDashboardUpdate(),l.dashboardContainerScope&&l.taskPaneSliderService.collapsePane();var m=p.selectedDashboardTile;if(m){var b=m.tileModel;b&&b.isTemporary&&l.dashboardService.removeTemporaryTile(b),l.dashboardService.clearSelectedDashboardTile()}if(l.navigation.inSharingView()&&l.timeout((function(){l.dashboardService.navigateToShareDashboard(l.navigation.currentDashboardGUID)})),l.dashboardContainerScope&&l.navigation.inAlertsEditorView()){if(!p.activeDashboard||!p.activeDashboard.isLoaded)return;var y=l.setAndGetActiveTile();y&&l.taskPaneSliderService.expandPane(s.AlertsEditor,i.Small)}if(l.navigation.inInFocusView()||l.navigation.inInFocusInsightsView()){if(!p.activeDashboard||!p.activeDashboard.isLoaded)return;var y=l.setAndGetActiveTile();y&&l.inFocusService.view(y,void 0,l.navigation.inInFocusInsightsView())}o.dashboardGUID&&!o.hasOwnProperty("q")&&l.dashboardDataService.activeDashboard&&l.dashboardWarningsService.prepareCustomVisualsForLoading(l.dashboardDataService.activeDashboard)}))},t.prototype.setAndGetActiveTile=function(){var e=this.findTileToEdit();return e?(this.dashboardService.selectDashboardTile(new a(e)),e):void r.showTileDoesNotExistDialog(this.errorService,this.localizationService,this.telemetryService)},t.prototype.findTileToEdit=function(){var e=this.navigation.currentTileGUID,t=this.navigation.currentTileOriginalGUID;return this.dashboardDataService.activeDashboard.findTileByObjectIdOrOriginalObjectId(e,t)},t})();t.DashboardStateChangeService=c})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){function t(){return new i}e.createDashboardConfigurationService=t;var i=(function(){function e(){}return e})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.contracts.TileType,o=(function(){function t(e,t,i,o,r,a,n,s,c,l,d){this.$rootScope=e,this.telemetryService=t,this.dashboardDataService=i,this.resourceGateService=o,this.featureSwitchService=r,this.tutorialDataStore=a,this.notificationBar=n,this.resourcePackageListenerService=s,this.embedModeService=c,this.localizationService=l,this.visualPlugin=d,this.dashboardNotificationIds=[],this.embedModeService.getEmbedTypeDescription()}return t.prototype.showWarningsIfNeeded=function(){this.hideDashboardWarnings();var t=this.dashboardDataService.activeDashboard;t&&(this.telemetryService.logEvent(e.telemetry.EXLoadReportWithCustomViz,this.embedTypeDescription),this.resourceGateService.shouldShowWarning(this.getResourceIds(),t.objectId)?(this.resourceGateService.resetResourceFlag(),this.displayCustomVisualWarning()):(this.resourceGateService.setResourceFlag(),this.prepareCustomVisualsForLoading(t)))},t.prototype.hideDashboardWarnings=function(){for(var e=this.dashboardNotificationIds;e.length>0;)this.notificationBar.hide(e.pop())},t.prototype.getResourceIds=function(){var e=this.dashboardDataService.activeDashboard;return e?this.resourcePackageListenerService.getAllRequiredResourcePackageIdStrings(e):[]},t.prototype.displayCustomVisualWarning=function(){var e=this.dashboardDataService.activeDashboard;if(e)for(var t=e.tiles,o=0,r=t;o<r.length;o++){var a=r[o];if(a.type===i.composite||a.type===i.report){var n=a.contract;if(n&&n.resourcePackageIds&&n.resourcePackageIds.length>0){this.createCustomVisualWarning();break}}}},t.prototype.createCustomVisualWarning=function(){var t=this;this.telemetryService.logEvent(e.telemetry.EXLoadReportWithCustomViz,this.embedTypeDescription);var i=this.notificationBar.notify({message:this.localizationService.get("OpenDashboard_EnableCustomVisualWarningMessage"),notificationType:e.common.NotificationBarType.Warning,actions:[{displayText:this.localizationService.get("OpenDashboard_EnableCustomVisualButton"),linkId:1,action:function(){t.resourceGateService.setResourceFlag(),t.resourceGateService.addResourcePackageIdToDashboard(t.dashboardDataService.activeDashboard.objectId,t.getResourceIds()),t.notificationBar.hide(i),t.dashboardNotificationIds.splice(t.dashboardNotificationIds.indexOf(i),1),t.prepareCustomVisualsForLoading(t.dashboardDataService.activeDashboard)}}],secondaryLink:{displayText:this.localizationService.get("LearnMore"),urlString:"https://go.microsoft.com/fwlink/?LinkID=627490 "}});this.dashboardNotificationIds.push(i)},t.prototype.prepareCustomVisualsForLoading=function(t){var i=this,o=this.resourcePackageListenerService.getAllRequiredResourcePackageIdStrings(t);this.resourcePackageListenerService.getAndLoadVisualPluginsForDashboard(t).then((function(r){i.resourceGateService.shouldShowWarning(o,t.objectId)||_.isEmpty(r)||i.$rootScope.$emit(e.constants.reloadEmptyVisuals,{visualTypes:r})}))},t})();t.DashboardWarningsService=o})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.events,o=e.explore.services.events,r=(function(){function t(e,t,i,o,r,a,n,s,c,l,d,p){this.rootScope=e,this.timeout=t,this.modelConverter=i,this.explorationProxy=o,this.localizationService=r,this.telemetryService=a,this.navigation=n,this.modelService=s,this.packageService=c,this.notificationBar=l,this.errorService=d,this.userActivityContextService=p,this.initialize()}return t.prototype.initialize=function(){var t=this;this.rootScope.$on(e.dataServices.constants.packageVersionChange,(function(e,i){
return t.updateReportsWithPackageInfo(t.currentLoadReportContainerArgs,e,i)}))},t.prototype.load=function(e){this.currentLoadReportContainerArgs=e,this.verifyCompatiblityAndLoadExploration(e)},t.prototype.verifyCompatiblityAndLoadExploration=function(t){var i=this,r=t.report,a=t.openExplorationTelemetryEvent;t.instantiationMode!==e.common.contracts.reportServer.ReportInstantiationMode.Exploration&&t.instantiationMode!==e.common.contracts.reportServer.ReportInstantiationMode.NonTemplateForExistingTile?this.explorationProxy.get({id:r.id,model:r.model}).then((function(e){t.exploration=e,i.setCompatibilityModeAndLoadExploration(t)}),(function(r){if(r.error&&e.helpers.ReportUtility.shouldDisplayErrorAsNotificationBar(r.error.code)){var n=t.report,s=i.modelService.findModel(n.modelId,n.packageId);i.rootScope.$emit(o.showErrorNotification.name,s,r.error,(function(){i.verifyCompatiblityAndLoadExploration(t)}))}else i.errorService.error(i.localizationService.get("ExplorationContainer_FailedToLoadReport"),"ExplorationContainer_FailedToLoadReport_DefaultDetails",{requestId:r?r.requestId:void 0},!1,e.telemetry.ErrorSource.PowerBI);i.rootScope.$emit(e.constants.openReportFinished,r&&r.error?r.error.message:"",!0),a&&a.reject({errorCode:r.error&&r.error.code?r.error.code:"FailToGetExploration",errorMessage:r.error&&r.error.message?r.error.message:null})})):this.setCompatibilityModeAndLoadExploration(t)},t.prototype.setCompatibilityModeAndLoadExploration=function(e){var t=this;this.timeout((function(){t.loadReportContainer(e)}),0),this.notifyReportUpdate(e.report.contract.packageId)},t.prototype.loadReportContainer=function(t){var o=null;this.navigation&&(o=this.navigation.additionalODataFilter);var r=t.report,a=this.modelService.findModel(r.modelId,r.packageId);a||(a=this.modelConverter.convertModel(r.model),this.modelService.addModel(a)),this.telemetryService.logEvent(e.telemetry.EXLoadReportContainer,r?r.objectId:null);var n={report:r,model:a,dashboardId:t.dashboardId,instantiationMode:t.instantiationMode,tileId:t.tileId,reportPage:t.reportPage,additionalODataFilter:o,exploration:t.exploration,openExplorationTelemetryEvent:t.openExplorationTelemetryEvent};this.rootScope.$emit(i.loadPowerViewReportEventName,n)},t.prototype.updateReportsWithPackageInfo=function(e,t,i){(this.navigation.inReportView()||this.navigation.inDatasetView())&&e&&e.report&&e.report.contract.packageId===i&&this.notifyReportUpdate(i)},t.prototype.notifyReportUpdate=function(e){if(e){var t=this.packageService.findPackage(e);if(t&&t.hasUpdate()){var i=jsCommon.StringExtensions.format(this.localizationService.get("DashboardContentPackNewVersion"),t.name);this.notificationBar.notify({message:i,hideOnStateChange:!0})}}},t})();t.ExplorationLoader=r})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=i.navigation.states,r=e.constants.navigation.states,a=(function(){function t(e,t,o,r,a,n,s,c,l,d,p){var u=this;this.$location=e,this.$window=t,this.$rootScope=o,this.$state=r,this.stateParams=a,this.featureSwitchService=n,this.activeGroupIdService=s,this.home=c,this.navigationStateValidator=l,this.permissionNavigationService=d,this.conceptualModelSetting=p,this.navigationStateValidator.setDefaultStateCallback((function(){return u.navigateToActiveDashboard()})),o.$on(i.showSettingsViewerEventName,(function(e,t,i){return u.showSettingsSlider(t,i)})),o.$on(i.navigation.stateChangeStart,(function(e,t,i,o,r){u.navigationStateValidator.validateStateChange(e,t.name,i,o.name,r)})),this.activeGroupIdService&&this.activeGroupIdService.initialGroupIdReadyPromise&&this.activeGroupIdService.initialGroupIdReadyPromise.then((function(){u.navigationStateValidator.validateState(u.stateService.current.name)}))}return t.prototype.convertLocationOption=function(e){var t;switch(e){case 1:t=!1;break;case 0:t=!0;break;case 2:t="replace";break;default:t=!0}return t},t.prototype.replaceHistoryWithDashboardAndNavigate=function(e,t,i){var o={location:this.convertLocationOption(2),inherit:!0},a=this.stateService.params;a.dashboardGUID=e,!a.groupGUID&&i.groupGUID&&(a.groupGUID=i.groupGUID),this.$window.history.replaceState({},"",this.stateService.href(r.dashboard,a)),this.$window.history.pushState({},"",this.stateService.href(t,i,o)),this.stateService.go(t,i,o)},t.prototype.replaceHistoryWithDatasetAndNavigate=function(e,t,i){var r={location:this.convertLocationOption(2),inherit:!0},a=this.stateService.params;a.datasetDBName=e,!a.groupGUID&&i.groupGUID&&(a.groupGUID=i.groupGUID),this.$window.history.replaceState({},"",this.stateService.href(o.dataset,a)),this.$window.history.pushState({},"",this.stateService.href(t,i,r)),this.stateService.go(t,i,r)},t.prototype.replaceHistoryWithGroupWelcomeAndNavigate=function(e,t,i){var o={location:this.convertLocationOption(2),inherit:!0},a=this.stateService.params;a.groupGUID=e,this.$window.history.replaceState({},"",this.stateService.href(r.groupWelcome,a)),this.$window.history.pushState({},"",this.stateService.href(t,i,o)),this.stateService.go(t,i,o)},t.prototype.replaceAndLoadCurrentState=function(e,t){var i={location:this.convertLocationOption(2),inherit:!0},o=this.stateService.params;_.extend(o,t),this.$window.history.replaceState({},"",this.stateService.href(e,o,i)),this.stateService.go(e,o,i)},t.prototype.navigateToContentListOrActiveDashboard=function(){if(this.conceptualModelSetting.isListViewEnabled()){var e=this.activeGroupIdService.activeGroupObjectId;this.navigateToContentList(e)}else this.navigateToActiveDashboard()},t.prototype.navigateToActiveDashboard=function(){this.stateService.go(r.dashboards,{groupGUID:this.activeGroupIdService.activeGroupObjectId},{inherit:!0})},t.prototype.navigateToApps=function(){this.stateService.go(r.apps,{groupGUID:e.constants.myWorkSpaceGroupId},{inherit:!0})},t.prototype.navigateToApp=function(e,t){t?this.stateService.go(r.appInstance,{appGUID:e,appInstanceId:t},{inherit:!0}):this.stateService.go(r.app,{appGUID:e},{inherit:!0})},t.prototype.toggleArchivedContent=function(e){void 0===e&&(e=null),window.initialDashboardContainer&&(window.location.href=window.location.protocol+"//"+window.location.host+"?tenantId="+window.initialDashboardContainer.previousTenantId)},t.prototype.insertGroupAndNavigateToDashboardByGUID=function(e,t,i){var o=this.inSharedWithMePath()&&this.currentDashboardGUID===e?r.sharedDashboard:r.dashboard;this.stateService.go(o,{dashboardGUID:e,groupGUID:t},{location:this.convertLocationOption(i),inherit:!0})},t.prototype.navigateToSharedDashboardByGUID=function(t,i){this.stateService.go(r.sharedDashboard,{dashboardGUID:t,groupGUID:e.constants.myWorkSpaceGroupId},{location:this.convertLocationOption(i),inherit:!0})},t.prototype.insertGroupAndNavigateToReportByGUID=function(e,t,i,o){var r={location:this.convertLocationOption(o),inherit:!0};this.gotoReportByGUID(e,t,r,1,void 0,i,void 0)},t.prototype.insertGroupAndNavigateToWorkbookByUniqueId=function(e,t){var i=this.inAppView()?o.appWorkbook:o.workbook,r=this.stateService.href(i,{workbookURLIdentifier:e,groupGUID:t},{inherit:!0});this.locationService.url(r)},t.prototype.navigateToGroupByGUID=function(e,t){this.stateService.go(r.group,{groupGUID:e},{location:this.convertLocationOption(t),inherit:!0})},t.prototype.resetToMyWorkspace=function(){this.navigateToGroupByGUID(e.constants.myWorkSpaceGroupId)},t.prototype.navigateToDashboardByGUID=function(e,t,i){void 0===i&&(i=!0);var o=this.inSharedWithMePath()&&this.currentDashboardGUID===e?r.sharedDashboard:r.dashboard;this.stateService.go(o,{dashboardGUID:e},{location:this.convertLocationOption(t),inherit:!0,notify:i})},t.prototype.navigateToAppDashboardByGUID=function(e,t,i,o,a,n,c){void 0===n&&(n=!0),void 0===c&&(c=null);var l={dashboardGUID:e,dashboardOriginalGUID:t,appGUID:i};s.optionalAdd(l,"groupGUID",o);var d;c?(d=r.appInstanceDashboard,s.optionalAdd(l,"appInstanceId",c)):d=r.appDashboard,this.stateService.go(d,l,{location:this.convertLocationOption(a),inherit:!0,notify:!0})},t.prototype.navigateToAppReportByGUID=function(e,t,i,r,a,n,c,l){void 0===c&&(c=!0),void 0===l&&(l=null);var d={reportGUID:e,reportOriginalGUID:t,appGUID:i};s.optionalAdd(d,"groupGUID",a),s.optionalAdd(d,"reportPage",r);var p;l?(p=o.appInstanceReportPage,s.optionalAdd(d,"appInstanceId",l)):p=o.appReportPage,this.stateService.go(p,d,{location:this.convertLocationOption(n),inherit:!0,notify:!0})},t.prototype.navigateToAppWorkbookByUniqueId=function(e,t,i,r){var a={workbookURLIdentifier:e,appGUID:t};s.optionalAdd(a,"groupGUID",i),this.stateService.go(o.appWorkbook,a,{location:this.convertLocationOption(r),inherit:!0,notify:!0})},t.prototype.navigateToHomeDashboard=function(e){var t=this;this.conceptualModelSetting.isListViewEnabled()?this.insertGroupAndNavigateToDashboardByGUID(this.home.homeDashboard.dashboardObjectId,this.home.homeDashboard.groupId):e?(this.stateService.go(r.home,{inherit:!0,notify:!1,replace:!0}),this.$rootScope.$applyAsync((function(){return t.insertGroupAndNavigateToDashboardByGUID(t.home.homeDashboard.dashboardObjectId,t.home.homeDashboard.groupId,1)}))):this.stateService.go(r.home,{inherit:!0})},t.prototype.navigateToRequestDashboardAccessByGUID=function(e,t){var i=this.inSharedWithMePath()&&this.currentDashboardGUID==e?r.sharedDashboardRequestAccess:r.dashboardRequestAccess;this.stateService.go(i,{dashboardGUID:e},{location:this.convertLocationOption(t),inherit:!0})},t.prototype.navigateToGroupWelcome=function(){this.stateService.go(r.groupWelcome,{},{inherit:!0})},t.prototype.initialLoadReportByGUID=function(e,t,i,o){var r={location:this.convertLocationOption(o),inherit:!0};this.gotoReportByGUID(e,this.currentGroupGUID,r,void 0,1,t,i)},t.prototype.initialLoadDatasetByDBName=function(t,i){void 0===i&&(i=e.common.contracts.reportServer.ReportInstantiationMode.Exploration),this.stateService.go(o.dataset,{datasetDBName:t,instantiationMode:i,initialLoad:1},{inherit:!0})},t.prototype.navigateToFavorites=function(e){e?this.stateService.go(r.favorites,{groupGUID:e},{inherit:!0}):this.stateService.go(r.favorites,{},{inherit:!0})},t.prototype.navigateToContentList=function(e,t,i,o,a,n,c){var l={groupGUID:e};s.optionalAdd(l,"skipWelcome",t),s.optionalAdd(l,"contentListTab",i),s.optionalAdd(l,"instantiationMode",o),s.optionalAdd(l,"onlySharedWithMe",a),s.optionalAdd(l,"q",n),this.stateService.go(r.contentList,l,{location:this.convertLocationOption(c),inherit:!0})},t.prototype.navigateToContentListParams=function(e,t,i){void 0===i&&(i=!0),_.extend(this.stateParams,e),this.stateService.go(r.contentListPivot,e,{location:this.convertLocationOption(t),inherit:!0,notify:i})},t.prototype.changeContentListPivot=function(e){var t=null;switch(e){case 0:t="dashboards";break;case 8:t="datasets";break;case 32:t="apps";break;case 16:t="recent";break;case 2:t="reports";break;case 4:t="workbooks"}var i={pivot:t};this.stateService.go(r.contentListPivot,i,{location:this.convertLocationOption(2),inherit:!0,notify:!1})},t.prototype.navigateToEmptyFeaturedDashboard=function(){this.stateService.go(r.home,{},{inherit:!0})},t.prototype.navigateToRecentlyViewed=function(){this.stateService.go(r.recentlyViewed,{},{inherit:!0})},t.prototype.navigateToSharedWithMe=function(e){var t={};s.optionalAdd(t,"q",e),this.stateService.go(r.sharedWithMe,t,{inherit:!0})},t.prototype.navigateToWorkspaces=function(){this.stateService.go(e.constants.navigation.states.workspaces,{},{inherit:!0})},t.prototype.navigateToReportByGUID=function(e,t,i,o,r,a,n){var s={location:this.convertLocationOption(r),inherit:!0};this.gotoReportByGUID(e,t,s,1,void 0,i,o,null,a,n)},t.prototype.navigateToReportSubscriptionsPane=function(e,t,i){this.gotoReportByGUID(e,t,void 0,1,void 0,void 0,i,!0)},t.prototype.navigateToDashboardSubscriptionsPane=function(e,t){var i=o.dashboardSubscription;this.stateService.go(i,{dashboardGUID:e,groupGUID:t},void 0)},t.prototype.gotoReportByGUID=function(e,t,i,a,n,c,l,d,p,u){var v,h={reportGUID:e,groupGUID:t};return _.isEmpty(u)||s.optionalAdd(h,"filter",u),s.optionalAdd(h,"dashboardGUID",p),s.optionalAdd(h,"reloadCount",a),s.optionalAdd(h,"initialLoad",n),s.optionalAdd(h,"reportPage",l),this.inAppView()?(this.inAppInstanceView()?(v=o.appInstanceReportPage,s.optionalAdd(h,"appInstanceId",this.currentAppInstanceId)):v=o.appReportPage,s.optionalAdd(h,"appGUID",this.currentAppGUID),s.optionalAdd(h,"reportOriginalGUID",c)):v=this.inReportSubscriptionView()||d?o.reportSubscription:this.inSharedWithMePath()&&p==this.currentDashboardGUID?r.sharedDashboardReportPage:p?r.dashboardReportPage:o.reportPage,this.stateService.go(v,h,i)},t.prototype.navigateToDatasetByDBName=function(t,i){void 0===i&&(i=e.common.contracts.reportServer.ReportInstantiationMode.Exploration),this.stateService.go(o.dataset,{datasetDBName:t,instantiationMode:i,reloadCount:1},{inherit:!0})},t.prototype.navigateToDatasets=function(){this.conceptualModelSetting.isListViewEnabled()?this.navigateToContentList(this.currentGroupGUID,!0,8):this.stateService.go(o.datasets)},t.prototype.navigateToStreamingDatasets=function(e){this.conceptualModelSetting.isListViewEnabled()?this.navigateToContentList(this.currentGroupGUID,!0,8,e):this.stateService.go(o.streamingDatasets,{instantiationMode:e},{inherit:!0})},t.prototype.updateReportStateNoReload=function(e,t,i,o,r){if(void 0===i&&(i=void 0),o||this.inReportView()){var a={location:this.convertLocationOption(r),inherit:!0,notify:!1};return this.gotoReportByGUID(e,this.currentGroupGUID,a,void 0,void 0,t,i,void 0,this.currentDashboardGUID)}},t.prototype.navigateToGateways=function(){this.stateService.go(r.gateways)},t.prototype.navigateToGatewayItem=function(e,t,i){if(void 0===i&&(i=!0),e&&t){var o=this.convertLocationOption(2);this.stateService.go(r.dataSource,{gatewayId:e,dataSourceId:t,isNavigatingFromUi:i},{location:o,inherit:!0})}else e&&!t?this.stateService.go(r.gateway,{gatewayId:e},{inherit:!0,notify:!1}):this.navigateToGateways()},t.prototype.navigateToAdminPortal=function(e){var t=5===e?r.adminPortalCapacities:r.adminPortal;this.stateService.go(t,{adminPortalSettingsTab:e},{inherit:!0})},t.prototype.navigateToAdminPortalCapacity=function(e){this.stateService.go(r.adminPortalCapacity,{capacityId:e,adminPortalSettingsTab:5},{inherit:!0})},t.prototype.navigateToAppAutoInstall=function(){this.stateService.go(r.appAutoinstall,{},{inherit:!0})},t.prototype.navigateToManagePermissions=function(e,t){this.permissionNavigationService.navigateToManagePermissions(e,t)},t.prototype.navigateToWorkbookByUrlId=function(e,t,i,a){void 0===i&&(i=!1);var n;n=this.inAppView()?o.appWorkbook:i?r.sharedDashboardWorkbook:a?r.dashboardWorkbook:o.workbook,a=a||this.currentDashboardGUID;var s=this.stateService.href(n,{workbookURLIdentifier:e,activeSelection:t,dashboardGUID:a},{inherit:!0});this.locationService.url(s)},t.prototype.showQnaView=function(e,t,i){var o={q:e};"filter"in jsCommon.QueryStringUtil.parseQueryString()&&(o.filter=null);var a;a=this.inQnaModelView()?r.modelQna:this.inSharedWithMePath()?r.sharedDashboardQna:this.inAppInstanceView()?r.appInstanceDashboardQna:this.inAppView()?r.appDashboardQna:r.dashboardQna,this.stateService.go(a,o,{location:this.convertLocationOption(t),inherit:!0,notify:!i})},t.prototype.showQnaStart=function(e){var t;t=this.inSharedWithMePath()?r.sharedDashboardQnaStart:this.inAppInstanceView()?r.appInstanceDashboardQnaStart:this.inAppView()?r.appDashboardQnaStart:r.dashboardQnaStart,this.stateService.go(t,{},{location:this.convertLocationOption(e),inherit:!0})},t.prototype.showInsightsPanel=function(e,t,i){this.stateService.go(r.insights,{dataGUID:e,insightsSource:t},{location:this.convertLocationOption(i),inherit:!0})},t.prototype.showAlertsEditor=function(e,t,i,o,a){var n={tileGUID:e,alertId:i,dashboardGUID:o};s.optionalAdd(n,"groupGUID",a),s.optionalAdd(n,"tileOriginalGUID",t),this.inAppInstanceView()?this.stateService.go(r.appInstanceAlertsEditor,n,{inherit:!0}):this.inAppView()?this.stateService.go(r.appAlertsEditor,n,{inherit:!0}):this.inSharedWithMePath()&&this.currentDashboardGUID==o?this.stateService.go(r.sharedAlertsEditor,n,{inherit:!0}):this.stateService.go(r.alertsEditor,n,{inherit:!0})},t.prototype.showInFocusMode=function(e,t,i,o,a){var n={tileGUID:e,dashboardGUID:i};s.optionalAdd(n,"groupGUID",a),s.optionalAdd(n,"tileOriginalGUID",t),s.optionalAdd(n,"dashboardOriginalGUID",o),this.inAppInstanceView()?this.stateService.go(r.appInstanceInFocusMode,n,{inherit:!0}):this.inAppView()?this.stateService.go(r.appInFocusMode,n,{inherit:!0}):this.inSharedWithMePath()&&this.currentDashboardGUID==i?this.stateService.go(r.sharedInFocusMode,n,{inherit:!0}):this.stateService.go(r.inFocusMode,n,{inherit:!0})},t.prototype.showInsightsInFocusMode=function(e,t,i,o){var a={tileGUID:e,dashboardGUID:i};s.optionalAdd(a,"groupGUID",o),s.optionalAdd(a,"tileOriginalGUID",t),this.inAppInstanceView()?this.stateService.go(r.appInstanceInFocusInsights,a,{inherit:!0}):this.inAppView()?this.stateService.go(r.appInFocusInsights,a,{inherit:!0}):this.inSharedWithMePath()&&this.currentDashboardGUID==i?this.stateService.go(r.sharedInFocusInsights,a,{inherit:!0}):this.stateService.go(r.inFocusInsights,a,{inherit:!0})},t.prototype.showSettingsSlider=function(e,t,i){var o=this.convertLocationOption(this.stateService.includes(r.settings)?2:0);this.stateService.go(t?r.settingsId:r.settingsGroup,{settingsGroup:e,settingsId:t},{location:o,inherit:!0,reload:i})},t.prototype.showPublishAppSlicer=function(e){this.stateService.go(r.publishApp,{appGUID:e},{inherit:!0})},t.prototype.showPublishedApps=function(){this.stateService.go(r.contentListPivot,{pivot:"apps"})},t.prototype.showPublishContentPackSlider=function(e){this.stateService.go(r.publishContent,{contentPackId:e},{inherit:!0})},t.prototype.showViewContentPackSlider=function(){this.stateService.go(r.viewContent,{},{inherit:!0})},t.prototype.showRowLevelSecuritySlider=function(e){this.stateService.go(r.rowLevelSecurity,{modelId:e},{inherit:!0})},t.prototype.showGetDataSlider=function(e,t,i,o){void 0===o&&(o=!0);var r={};r.categoryName=e,r.providerName=t,this.stateService.go(this.getGetDataStateNameFromParams(e,t),r,{location:this.convertLocationOption(i),inherit:!0,notify:o})},t.prototype.showDevToolsSlider=function(){this.stateService.go(r.devTools,{},{inherit:!0})},t.prototype.getGetDataStateNameFromParams=function(e,t){var i;return e||t||(e=this.categoryName,t=this.providerName),i=r.getData,e&&(i=t?r.getDataCategoryProviderName:r.getDataCategory),i},t.prototype.showManageStorageSlider=function(){this.stateService.go(r.manageStorage)},t.prototype.showManageEmbedSlider=function(){this.stateService.go(r.manageEmbed)},t.prototype.navigateBack=function(e){void 0===e&&(e=-1),this.$window.history.go(e)},t.prototype.navigateForward=function(){this.$window.history.forward()},t.prototype.inAdminPortalView=function(){return this.stateService.includes(r.adminPortal)},t.prototype.inAppsDetailView=function(){return this.stateService.is(r.apps)},t.prototype.inAppsView=function(){return this.stateService.includes(r.apps)},t.prototype.inAppView=function(){return this.stateService.includes(r.app)},t.prototype.inAppInstanceView=function(){return this.stateService.includes(r.appInstance)},t.prototype.inAppDetailView=function(){return this.stateService.is(r.app)||this.stateService.is(r.appInstance)},t.prototype.inGroupView=function(){return this.stateService.includes(r.groups)},t.prototype.inLandingContainerView=function(){return this.stateService.is(r.landing)},t.prototype.inDashboardSubscription=function(){return this.stateService.includes(o.dashboardSubscription)},t.prototype.inDashboardView=function(){var e=this.stateService.includes(r.dashboards)&&!this.stateService.includes(r.dashboardReports)&&!this.stateService.includes(r.dashboardWorkbook),t=this.stateService.includes(r.sharedDashboard)&&!this.stateService.includes(r.sharedDashboardReports)&&!this.stateService.includes(r.sharedDashboardWorkbooks);return this.conceptualModelSetting.isListViewEnabled()?e||t||this.stateService.includes(r.appDashboards)||this.stateService.includes(r.appInstanceDashboards):e||t||this.stateService.is(r.landing)},t.prototype.inDashboardPath=function(){return this.conceptualModelSetting.isListViewEnabled()?this.stateService.includes(r.dashboards)||this.stateService.includes(r.appDashboards)||this.stateService.includes(r.appInstanceDashboards)||this.stateService.includes(r.sharedDashboard):this.stateService.includes(r.dashboards)||this.stateService.is(r.landing)},t.prototype.inHomeDashboardView=function(){return this.stateService.includes(r.home)},t.prototype.inFavoritesView=function(){return this.stateService.includes(r.favorites)},t.prototype.inCapacitySettingsView=function(){return this.stateService.includes(r.adminPortalCapacities)},t.prototype.inContentListView=function(e){return!!this.stateService.includes(r.contentList)&&(!e||"true"===this.stateService.params.onlySharedWithMe)},t.prototype.inSharedWithMePath=function(){return this.stateService.includes(r.sharedWithMe)||this.inContentListView(!0)},t.prototype.inSharedWithMeView=function(){return this.stateService.is(r.sharedWithMe)||this.inContentListView(!0)},t.prototype.inPublishContentPackView=function(){return this.stateService.includes(r.publishContent)},t.prototype.inViewContentPackView=function(){return this.stateService.includes(r.viewContent)},t.prototype.inRowLevelSecurityView=function(){return this.stateService.includes(r.rowLevelSecurity)},t.prototype.inDashboardDetailView=function(){return this.stateService.is(r.dashboard)||this.stateService.is(r.appDashboard)||this.stateService.is(r.appInstanceDashboard)||this.stateService.is(r.sharedDashboard)},t.prototype.inGroupWelcomeView=function(){return this.stateService.is(r.groupWelcome)},t.prototype.inQnaView=function(){return this.stateService.includes(r.dashboardQna)||this.stateService.includes(r.sharedDashboardQna)||this.stateService.includes(r.appInstanceDashboardQna)||this.stateService.includes(r.appDashboardQna)},t.prototype.inQnaModelView=function(){return this.stateService.includes(r.modelQna)},t.prototype.inQnaStartView=function(){return this.stateService.includes(r.dashboardQnaStart)||this.stateService.includes(r.sharedDashboardQnaStart)||this.stateService.includes(r.appInstanceDashboardQnaStart)||this.stateService.includes(r.appDashboardQnaStart)},t.prototype.inExtendTrial=function(){return this.stateService.includes(r.extendTrial)},t.prototype.inInsightsView=function(){return this.stateService.includes(r.insights)},t.prototype.inRecentlyViewedView=function(){return this.stateService.includes(r.recentlyViewed)},t.prototype.inReportView=function(){return this.stateService.includes(o.reports)||this.stateService.includes(o.appReports)||this.stateService.includes(o.appInstanceReports)||this.stateService.includes(r.sharedDashboardReports)||this.stateService.includes(r.dashboardReports)},t.prototype.inReportDetailView=function(){return this.stateService.includes(o.report)||this.stateService.includes(o.appReport)||this.stateService.includes(o.appInstanceReport)||this.stateService.includes(r.sharedDashboardReport)||this.stateService.includes(r.dashboardReport)},t.prototype.inReportSubscriptionView=function(){return this.stateService.includes(o.reportSubscription)},t.prototype.inDatasetView=function(){return this.stateService.includes(o.dataset)},t.prototype.inManageDatasetView=function(){return this.stateService.is(o.datasets)},t.prototype.inManageStreamingDatasetView=function(){return this.stateService.is(o.streamingDatasets)},t.prototype.inGatewaysView=function(){return this.stateService.includes(r.gateways)},t.prototype.inDatasetDetailView=function(){return this.stateService.includes(o.dataset)},t.prototype.inWorkbookView=function(){return this.stateService.includes(o.workbook)||this.stateService.includes(o.appWorkbook)||this.stateService.includes(r.dashboardWorkbook)||this.stateService.includes(r.sharedDashboardWorkbook)},t.prototype.inWorkspacesView=function(){return this.stateService.includes(e.constants.navigation.states.workspaces)},t.prototype.inGetDataView=function(){return this.stateService.includes(r.getData)},t.prototype.inGetDataCategoryView=function(){return this.stateService.includes(r.getDataCategory)},t.prototype.inGetDataCategoryProviderView=function(){return this.stateService.includes(r.getDataCategoryProviderName)},t.prototype.inSharingView=function(){return this.stateService.includes(r.sharedDashboardShare)||this.stateService.includes(r.dashboardShare)},t.prototype.inAlertsEditorView=function(){return this.stateService.includes(r.alertsEditor)||this.stateService.includes(r.appAlertsEditor)||this.stateService.includes(r.appInstanceAlertsEditor)||this.stateService.includes(r.sharedAlertsEditor)},t.prototype.inInFocusView=function(){return this.stateService.includes(r.inFocusMode)||this.stateService.includes(r.appInFocusMode)||this.stateService.includes(r.appInstanceInFocusMode)||this.stateService.includes(r.sharedInFocusMode)},t.prototype.inInFocusInsightsView=function(){return this.stateService.includes(r.inFocusInsights)||this.stateService.includes(r.appInFocusInsights)||this.stateService.includes(r.appInstanceInFocusInsights)||this.stateService.includes(r.sharedInFocusInsights)},t.prototype.inFullPageSliderView=function(){return this.stateService.current.data&&this.stateService.current.data.fullPageSlider},t.prototype.inContentSliderView=function(){return this.stateService.current.data&&this.stateService.current.data.contentSlider},t.prototype.inManageStorageView=function(){return this.stateService.includes(r.manageStorage)},t.prototype.inSettingsView=function(){return this.stateService.includes(r.settings)},t.prototype.inManageEmbedView=function(){return this.stateService.includes(r.manageEmbed)},t.prototype.inRequestDashboardAccessView=function(){return this.stateService.includes(r.dashboardRequestAccess)||this.stateService.includes(r.sharedDashboardRequestAccess)},t.prototype.inReportEmbedView=function(){return!1},t.prototype.inManagePermissionsView=function(){return this.permissionNavigationService.inManagePermissionsView()},Object.defineProperty(t.prototype,"contentListTab",{get:function(){var e=+this.stateService.params.contentListTab;return _.isNaN(e)?void 0:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentDatasetDBName",{get:function(){return this.stateService.params.datasetDBName},set:function(e){this.stateService.params.datasetDBName=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentGroupGUID",{get:function(){return this.stateService.params.groupGUID},set:function(e){this.stateService.params.groupGUID=e,this.stateParams.groupGUID=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentDashboardGUID",{get:function(){return this.stateService.params.dashboardGUID},set:function(e){this.stateService.params.dashboardGUID=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentDashboardOriginalGUID",{get:function(){return this.stateService.params.dashboardOriginalGUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAppGUID",{get:function(){return this.stateService.params.appGUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAppInstanceId",{get:function(){return parseInt(this.stateService.params.appInstanceId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTileGUID",{get:function(){return this.stateService.params.tileGUID},set:function(e){this.stateService.params.tileGUID=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTileOriginalGUID",{get:function(){return this.stateService.params.tileOriginalGUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAlertId",{get:function(){return parseInt(this.stateService.params.alertId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentReportGUID",{get:function(){return this.stateService.params.reportGUID},set:function(e){this.stateService.params.reportGUID=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentReportOriginalGUID",{get:function(){return this.stateService.params.reportOriginalGUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWorkbookURLIdentifier",{get:function(){return this.stateService.params.workbookURLIdentifier},set:function(e){this.stateService.params.workbookURLIdentifier=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWorkbookActiveSelection",{get:function(){return this.stateService.params.activeSelection},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentReportPage",{get:function(){return this.stateService.params.reportPage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSubscriptionGUID",{get:function(){return this.stateService.params.subscriptionGUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentInviteId",{get:function(){return this.stateService.params.inviteid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentInviteObjectId",{get:function(){return this.stateService.params.inviteoid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentAdminPortalSettingsTab",{get:function(){return this.stateService.params.adminPortalSettingsTab},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instantiationMode",{get:function(){return this.stateService.params.instantiationMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryName",{get:function(){return this.stateService.params.categoryName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerName",{get:function(){return this.stateService.params.providerName},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsGroup",{get:function(){return this.stateService.params.settingsGroup},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"settingsId",{get:function(){return this.stateService.params.settingsId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"permissionArtifact",{get:function(){return this.permissionNavigationService.permissionArtifact},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentCapacityId",{get:function(){return this.stateService.params.capacityId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"permissionArtifactGUID",{get:function(){return this.permissionNavigationService.permissionArtifactGUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gatewayId",{get:function(){return parseInt(this.stateService.params.gatewayId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSourceId",{get:function(){return parseInt(this.stateService.params.dataSourceId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"qnaQuery",{get:function(){return this.stateService.params.q},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchText",{get:function(){return this.stateService.params.q},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insightsDataGUID",{get:function(){return this.stateService.params.dataGUID},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insightsSource",{get:function(){return this.stateService.params.insightsSource},enumerable:!0,configurable:!0}),t.prototype.resetInsightsSource=function(){this.stateService.go(r.insights,{insightsSource:null},{location:this.convertLocationOption(2),inherit:!0,notify:!1})},Object.defineProperty(t.prototype,"contentPack",{get:function(){var e=parseInt(this.stateService.params.contentPackId);return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentPackProviderKey",{get:function(){var e=this.stateService.params.contentPackProviderKey;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowLevelSecurityModelId",{
get:function(){var e=parseInt(this.stateService.params.modelId);return isNaN(e)?void 0:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"additionalODataFilter",{get:function(){return this.stateService.params.filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseNavigation",{get:function(){return this.stateService.params.collapseNavigation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stateService",{get:function(){return this.$state},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationService",{get:function(){return this.$location},enumerable:!0,configurable:!0}),t})();t.Navigation=a;var n=(function(){function e(e,t){this.promiseFactory=t,this.locationService=e}return e.prototype.replaceHistoryWithDashboardAndNavigate=function(e,t,i){this.currentDashboardGUID=e},e.prototype.replaceHistoryWithDatasetAndNavigate=function(e,t,i){},e.prototype.replaceHistoryWithGroupWelcomeAndNavigate=function(e,t,i){},e.prototype.replaceAndLoadCurrentState=function(e,t){},e.prototype.navigateToContentListOrActiveDashboard=function(){},e.prototype.navigateToActiveDashboard=function(){},e.prototype.navigateToGroupByGUID=function(e,t){},e.prototype.navigateToDatasets=function(){},e.prototype.navigateToStreamingDatasets=function(e){},e.prototype.navigateToDashboardByGUID=function(e,t,i){this.currentDashboardGUID=e},e.prototype.navigateToAppDashboardByGUID=function(e,t,i,o,r,a,n){void 0===a&&(a=!0),void 0===n&&(n=null),this.currentDashboardGUID=e,this.currentDashboardOriginalGUID=t,this.currentAppGUID=i,_.isEmpty(o)||(this.currentGroupGUID=o)},e.prototype.navigateToAppReportByGUID=function(e,t,i,o,r,a,n,s){void 0===n&&(n=!0),void 0===s&&(s=null),this.currentReportGUID=e,this.currentReportOriginalGUID=t,this.currentAppGUID=i,_.isEmpty(r)||(this.currentGroupGUID=r)},e.prototype.navigateToAppWorkbookByUniqueId=function(e,t,i,o){this.currentWorkbookURLIdentifier=e,this.currentAppGUID=t,_.isEmpty(i)||(this.currentGroupGUID=i)},e.prototype.navigateToHomeDashboard=function(){},e.prototype.insertGroupAndNavigateToDashboardByGUID=function(e,t,i){this.currentDashboardGUID=e},e.prototype.navigateToSharedDashboardByGUID=function(e,t){this.currentDashboardGUID=e},e.prototype.insertGroupAndNavigateToReportByGUID=function(e,t,i,o){},e.prototype.insertGroupAndNavigateToWorkbookByUniqueId=function(e,t,i){},e.prototype.navigateToApps=function(){},e.prototype.navigateToApp=function(e){this.currentAppGUID=e},e.prototype.navigateToFavorites=function(){},e.prototype.navigateToContentList=function(e){},e.prototype.navigateToContentListParams=function(e,t,i){},e.prototype.changeContentListPivot=function(e){},e.prototype.navigateToEmptyFeaturedDashboard=function(){},e.prototype.navigateToRecentlyViewed=function(){},e.prototype.navigateToSharedWithMe=function(e){},e.prototype.navigateToWorkspaces=function(){},e.prototype.navigateToRequestDashboardAccessByGUID=function(e,t){},e.prototype.navigateToReportByGUID=function(e,t,i,o,r,a,n){},e.prototype.navigateToReportSubscriptionsPane=function(e,t,i){},e.prototype.navigateToDashboardSubscriptionsPane=function(e,t){},e.prototype.resetToMyWorkspace=function(){},e.prototype.updateReportStateNoReload=function(e,t,i,o,r){return this.promiseFactory.resolve(null)},e.prototype.initialLoadDatasetByDBName=function(e,t){},e.prototype.initialLoadReportByGUID=function(e,t,i,o){},e.prototype.navigateToDatasetByDBName=function(e,t){},e.prototype.navigateToGroupWelcome=function(){},e.prototype.navigateToReport=function(){},e.prototype.navigateToWorkbookByUrlId=function(e,t,i,o){},e.prototype.toggleArchivedContent=function(e){},e.prototype.navigateToGateways=function(){},e.prototype.navigateToAdminPortal=function(e){},e.prototype.navigateToAdminPortalCapacity=function(e){},e.prototype.navigateToAppAutoInstall=function(){},e.prototype.navigateToManagePermissions=function(e,t){},e.prototype.showQnaView=function(e,t,i){},e.prototype.showQnaStart=function(e){},e.prototype.showInsightsPanel=function(e,t,i){},e.prototype.showShareSlider=function(e){},e.prototype.showAlertsEditor=function(e,t,i,o,r){},e.prototype.showInFocusMode=function(e,t,i,o,r){},e.prototype.showInsightsInFocusMode=function(e,t,i,o){},e.prototype.showSettingsSlider=function(e,t){},e.prototype.showPublishAppSlicer=function(e){},e.prototype.showPublishedApps=function(){},e.prototype.showPublishContentPackSlider=function(e){},e.prototype.showViewContentPackSlider=function(){},e.prototype.showGetDataSlider=function(e,t,i){},e.prototype.showDevToolsSlider=function(){},e.prototype.showAuthorCustomTileSlider=function(){},e.prototype.showRowLevelSecuritySlider=function(e){},e.prototype.getGetDataStateNameFromParams=function(e,t){return""},e.prototype.showManageStorageSlider=function(e){},e.prototype.showManageEmbedSlider=function(){},e.prototype.inContentSliderView=function(){return!1},e.prototype.inFullPageSliderView=function(){return!1},e.prototype.navigateBack=function(e){},e.prototype.navigateForward=function(){},e.prototype.resetInsightsSource=function(){},e.prototype.inAdminPortalView=function(){return!1},e.prototype.inAppView=function(){return!1},e.prototype.inAppInstanceView=function(){return!1},e.prototype.inAppDetailView=function(){return!1},e.prototype.inAppsDetailView=function(){return!1},e.prototype.inAppsView=function(){return!1},e.prototype.inDatasetView=function(){return!1},e.prototype.inManageDatasetView=function(){return!1},e.prototype.inManageStreamingDatasetView=function(){return!1},e.prototype.inDatasetDetailView=function(){return!1},e.prototype.inGroupView=function(){return!1},e.prototype.inLandingContainerView=function(){return!1},e.prototype.inDashboardView=function(){return!1},e.prototype.inDashboardSubscription=function(){return!1},e.prototype.inDashboardPath=function(){return!1},e.prototype.inDashboardDetailView=function(){return!1},e.prototype.inGroupWelcomeView=function(){return!1},e.prototype.inRecentlyViewedView=function(){return!1},e.prototype.inSharedWithMePath=function(){return!1},e.prototype.inSharedWithMeView=function(){return!1},e.prototype.inReportView=function(){return!1},e.prototype.inReportSubscriptionView=function(){return!1},e.prototype.inFavoritesView=function(){return!1},e.prototype.inContentListView=function(){return!1},e.prototype.inHomeDashboardView=function(){return!1},e.prototype.inReportDetailView=function(){return!1},e.prototype.inWorkbookView=function(){return!1},e.prototype.inQnaView=function(){return!1},e.prototype.inQnaModelView=function(){return!1},e.prototype.inQnaStartView=function(){return!1},e.prototype.inExtendTrial=function(){return!1},e.prototype.inInsightsView=function(){return!1},e.prototype.inGetDataView=function(){return!1},e.prototype.inGetDataCategoryView=function(){return!1},e.prototype.inGetDataCategoryProviderView=function(){return!1},e.prototype.inPublishContentPackView=function(){return!1},e.prototype.inViewContentPackView=function(){return!1},e.prototype.inSharingView=function(){return!1},e.prototype.inInFocusView=function(){return!1},e.prototype.inInFocusInsightsView=function(){return!1},e.prototype.inManageStorageView=function(){return!1},e.prototype.inSettingsView=function(){return!1},e.prototype.inGatewaysView=function(){return!1},e.prototype.inManageEmbedView=function(){return!1},e.prototype.inRequestDashboardAccessView=function(){return!1},e.prototype.inReportEmbedView=function(){return!1},e.prototype.inManagePermissionsView=function(){return!1},e.prototype.inRowLevelSecurityView=function(){return!1},e.prototype.inAlertsEditorView=function(){return!1},e.prototype.inWorkspacesView=function(){return!1},e.prototype.inCapacitySettingsView=function(){return!1},e.prototype.navigateToGatewayItem=function(e,t){},e})();t.MockNavigation=n;var s;!(function(e){function t(e,t,i){angular.isDefined(i)&&(e[t]=i)}e.optionalAdd=t})(s=t.NavigationHelper||(t.NavigationHelper={}))})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a,n,c,l,d,p,u,v,h,g,f,m,b){return new s(e,t,i,o,r,a,n,c,l,d,p,u,v,h,g,f,m,b)}var o,r=e.dataServices.constants,a=jsCommon.EnumExtensions,n=e.common.contracts.PublishOrRefreshStatus;!(function(e){e[e.Dashboard=1]="Dashboard",e[e.Report=2]="Report",e[e.Dataset=3]="Dataset"})(o=t.DeleteContentPackMessageType||(t.DeleteContentPackMessageType={})),t.createNavigationActions=i;var s=(function(){function t(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){this.$rootScope=e,this.contentPackService=t,this.dashboardService=i,this.errorService=o,this.featureSwitchService=r,this.groupService=a,this.localizationService=n,this.modalDialogService=s,this.modelService=c,this.navigation=l,this.notificationToast=d,this.packageService=p,this.quota=u,this.reportService=v,this.telemetryService=h,this.workbookService=g,this.ownershipService=f,this.lazy=m,this.pendingDatasetReadyNotification=[]}return t.prototype.initialize=function(){var t=this;this.$rootScope.$on(e.constants.openReportEventName,(function(e,i){e.stopPropagation(),e.preventDefault();var o=t.reportService.findReport(i);t.openReport(o)})),this.$rootScope.$on(e.constants.deleteReportEventName,(function(e,i){e.stopPropagation(),e.preventDefault(),t.deleteReport(i)})),this.$rootScope.$on(e.constants.deleteModelEventName,(function(e,i,o,r){e.stopPropagation(),e.preventDefault();var a=t.modelService.findModel(i,o);a&&a.isUsedByContentPack?t.contentPackService.showDialogOnModelDeleteInContentPack(i):t.deleteModel(i,o,r)})),this.$rootScope.$on(e.constants.renameModelEventName,(function(e,i,o,r){e.stopPropagation(),e.preventDefault(),t.modelService.renameModel(i,o,r)})),this.$rootScope.$on(e.constants.showInsightsEventName,(function(i,o,r){return __awaiter(t,void 0,e.Promise,(function(){var t,a;return __generator(this,(function(n){switch(n.label){case 0:return i.stopPropagation(),i.preventDefault(),t=this.modelService.findModel(o,r),[4,this.lazy("insightsBootstrap")];case 1:return a=n.sent(),a.start(t.dbName,t.vsName,r,e.insights.constants.insightsSourceToast),[2]}}))}))})),this.$rootScope.$on(e.constants.replaceLocalWorkbookEventName,(function(i,o){i.stopPropagation(),i.preventDefault(),t.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.GetData)||t.workbookService.replaceLocalWorkbook(o)})),this.$rootScope.$on(r.workbook.viewWorkbookEventName,(function(e,i,o){e.stopPropagation(),e.preventDefault();var r=t.workbookService.findWorkbook(i,o);t.viewWorkbook(r)})),this.$rootScope.$on(e.dataServices.constants.workbook.removeWorkbookEventName,(function(e,i,o){e.stopPropagation(),e.preventDefault();var r=t.workbookService.findWorkbook(i.id,i.packageId);r&&r.isUsedByContentPack?t.contentPackService.showDialogOnWorkbookRemoveInContentPack(i.id):t.removeWorkbook(r,o)})),this.$rootScope.$on(e.dataServices.constants.packagePublishedSuccessfullyEventName,(function(e,i){var o=t.findDashboardsByPackageId(i);if(1===o.length&&o[0].isNew&&1===o[0].contract.packageIds.length&&!o[0].isNotified)t.notifyNewDashboardIsReady(o[0]);else{var r=t.modelService.findModelByPackageId(i);r?t.notifyNewDatasetIsReady(r,i):(t.pendingDatasetReadyNotification.push(i),t.unregisterModelWatch||(t.unregisterModelWatch=t.$rootScope.$watch((function(){return t.modelService.lastUpdatedTimestamp}),(function(){t.pendingDatasetReadyNotification=_.filter(t.pendingDatasetReadyNotification,(function(e){var i=t.modelService.findModelByPackageId(e);return!i||(t.notifyNewDatasetIsReady(i,e),!1)})),_.isEmpty(t.pendingDatasetReadyNotification)&&(t.unregisterModelWatch(),t.unregisterModelWatch=null)}))))}}))},t.prototype.openReport=function(e){if(e.isNew=!1,null!=e.packagePublishStatus&&e.packagePublishStatus!==n.FinishedSuccessfully&&e.packagePublishStatus!==n.RefreshInProgress&&e.packagePublishStatus!==n.RefreshError)return void(e.packagePublishStatus===n.PublishError&&this.deleteReportOnPublishFailure(e.id));var t=e.contract&&e.contract.originalReportObjectId;this.navigation.navigateToReportByGUID(e.objectId,this.groupService.activeGroupObjectId,t)},t.prototype.openModel=function(t){return null!=t.contract.packagePublishStatus&&t.contract.packagePublishStatus!==n.FinishedSuccessfully&&t.contract.packagePublishStatus!==n.RefreshInProgress&&t.contract.packagePublishStatus!==n.RefreshError?void(t.contract.packagePublishStatus===n.PublishError&&this.deleteModelOnPublishFailure(t.id)):(t.isNew=t.contract.isNew=!1,void(this.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.OpenDataset)||a.hasFlag(t.getPermissions(),e.common.models.ReportPermissions.CopyOnWrite)||this.navigation.navigateToDatasetByDBName(t.dbName)))},t.prototype.viewWorkbook=function(e){if(e.isNew=!1,this.featureSwitchService.featureSwitches.embedFullFidelityWorkbooks){var t=this.workbookService.getWorkbookUniqueId(e),i=this.ownershipService.isResourceSharedWithMe(e);this.navigation.navigateToWorkbookByUrlId(t,null,i)}else this.$rootScope.$emit(r.workbook.openWorkbookContextMenuEventName,e)},t.prototype.deleteItemOnPublishFailure=function(e,t,i){var o=this,r=this.errorService.control(),a=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Delete"),function(e,t){r.hideDialog(),i()}),new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){r.hideDialog()})];r.showCustomDialog(e,$("<div/>").text(t),a,(function(e){e.parent().find('input[value="'+o.localizationService.get("PBI_Button_Label_Cancel")+'"]').focus()}),!0)},t.prototype.deleteModelOnPublishFailure=function(e){var t=this;this.deleteItemOnPublishFailure(this.localizationService.get("NavigationPane_ModelPublishErrorTitle"),this.localizationService.get("NavigationPane_ModelPublishErrorContent"),(function(){t.modelService.deleteModel(e)}))},t.prototype.findDashboardsByPackageId=function(e){return _.filter(this.dashboardService.dashboards,(function(t){return t.contract.packageIds&&t.contract.packageIds.indexOf(e)>=0}))},t.prototype.deleteReport=function(e){var t=this,i=this.$rootScope.$new(),o=this.errorService.control(),r=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Delete"),function(i,r){o.hideDialog();var a=t.reportService.findReport(e);t.reportService.deleteReport(e),a&&a.objectId===t.navigation.currentReportGUID&&t.navigation.navigateToActiveDashboard()}),new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){o.hideDialog()})],a=this.reportService.findReport(e);i.message=this.localizationService.format("Report_DeleteConfirmationMessage",[a.displayName]);var n,s,c=this.dashboardService.hasTileForReportandSection(void 0,e);c&&(n=jsCommon.ModalDialogNotificationType.Warning,s=this.localizationService.get("PinLiveReport_DeleteReportWarning"));var l={dialogName:this.localizationService.get("Report_DeleteConfirmationTitle"),isDismissable:!0,scope:i,template:"<custom-modal-dialog></custom-modal-dialog>",dialogCssClass:"customModalDialog",focusOnFirstButton:!0,dialogActions:r,notificationType:n,notificationText:s};this.modalDialogService.showLegacyWebModalDialog(l)},t.prototype.deleteModel=function(e,t,i){var r,a,n=this,s=this.errorService.control(),c=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Delete"),function(i,o){s.hideDialog();var r=!!n.reportService.findReportByGUID(n.navigation.currentReportGUID),a=n.modelService.findModel(e,t),c=a?a.dbName:null,l=n.navigation;n.modelService.deleteModel(e,t),(n.reportService.currentActiveReport&&n.reportService.currentActiveReport.id===e||r&&!n.reportService.findReport(n.reportService.currentActiveReport.id)||l.inInsightsView()&&l.insightsDataGUID===c||l.inRowLevelSecurityView()&&l.rowLevelSecurityModelId===a.id)&&l.navigateToActiveDashboard()}),new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){s.hideDialog()})],l=this.modelService.findModel(e,t);switch(i){case o.Dashboard:r=this.localizationService.get("Dashboard_DeleteConfirmationTitle"),a=this.localizationService.get("Dashboard_DeleteOrgAppContentPack");break;case o.Report:r=this.localizationService.get("Report_DeleteConfirmationTitle"),a=this.localizationService.get("Report_DeleteOrgAppContentPack");break;case o.Dataset:r=this.localizationService.get("Model_DeleteConfirmationTitle"),a=this.localizationService.get("Model_DeleteOrgAppContentPack");break;default:r=this.localizationService.get("Model_DeleteConfirmationTitle"),a=this.localizationService.format("Model_DeleteConfirmationMessage",[l.displayName])}s.showCustomDialog(r,$("<div/>").text(a),c,(function(e){e.parent().find('input[value="'+n.localizationService.get("PBI_Button_Label_Cancel")+'"]').focus()}),!0)},t.prototype.deleteReportOnPublishFailure=function(e){var t=this;this.deleteItemOnPublishFailure(this.localizationService.get("NavigationPane_ReportPublishErrorTitle"),this.localizationService.get("NavigationPane_ReportPublishErrorContent"),(function(){t.reportService.deleteReport(e)}))},t.prototype.removeWorkbook=function(e,t){var i,r,a=this;switch(t){case o.Dashboard:i="Dashboard_DeleteConfirmationTitle",r="Dashboard_DeleteConfirmationTitle";break;default:i="Workbook_RemoveConfirmationTitle",r=e.isOwner()?this.packageService.isLocalWorkbook(e.packageId)?"Workbook_RemoveOwnedLocalConfirmationMessage":"Workbook_RemoveOwnedRemoteConfirmationMessage":e.isPersonalized()?"Workbook_RemovePersonalizedConfirmationMessage":"Workbook_RemoveInOrgPackConfirmationMessage"}var n=this.localizationService.get(i),s=this.localizationService.get(r),c=this.errorService.control(),l=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Remove"),function(t,i){c.hideDialog(),a.workbookService.removeWorkbook(e.id,e.packageId,a.packageService.getWorkbookStorageProvider(e.packageId),a.packageService.getWorkbookContentProvider(e.packageId));var o=a.workbookService.currentActiveWorkbook;o&&o.id===e.id&&o.packageId===e.packageId&&a.navigation.navigateToActiveDashboard()}),new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){c.hideDialog()})];c.showCustomDialog(n,$("<div/>").text(s),l,(function(e){e.parent().find('input[value="'+a.localizationService.get("PBI_Button_Label_Cancel")+'"]').focus()}),!0)},t.prototype.notifyNewDashboardIsReady=function(t){var i=this,o={description:t.displayName,displayText:this.localizationService.get("ToastNotification_GoToDashboard"),action:function(){i.navigation.navigateToDashboardByGUID(t.objectId)}};this.notificationToast.notify({title:this.localizationService.get("Publish_Success"),message:this.localizationService.get("NotificationMessage_NewDashboardCreatedTitle"),notificationType:e.common.NotificationToastType.Success,actionButtons:[o]}),t.isNotified=!0},t.prototype.notifyNewDatasetIsReady=function(t,i){var o=this,r=this.dashboardService.getActiveDashboard();if(t&&t.isNew&&!t.isHidden&&(t.getPermissions()&Permissions.All)===Permissions.All&&t.contract.insightsSupported&&r&&!r.isUsedByContentPack){var a,n={displayText:this.localizationService.get("DatasetUploadedToast_ExploreInsights"),action:function(){return __awaiter(o,void 0,e.Promise,(function(){var o;return __generator(this,(function(r){switch(r.label){case 0:return[4,this.lazy("insightsBootstrap")];case 1:return o=r.sent(),o.start(t.dbName,t.vsName,i,e.insights.constants.insightsSourceToast),[2]}}))}))}},s={displayText:this.localizationService.get("DatasetUploadedToast_ViewDataset"),action:function(){var e=o.modelService.findModel(t.id,i);o.openModel(e)}};a=this.notificationToast.notify({title:this.localizationService.get("DatasetUploadedToast_ReadyToExploreTitle"),message:this.localizationService.get("DatasetUploadedToast_ReadyToExploreSubtitle"),notificationType:e.common.NotificationToastType.Success,actionButtons:[s],actionLinks:[n],sticky:!0})}},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=(function(){function t(e,t,i,o,r,a){this.$rootScope=e,this.$document=t,this.telemetryService=i,this.localizationService=o,this.modalDialogService=r,this.tutorialDataStore=a}return t.prototype.showModal=function(t){var i=this,o=null,r=null;if(t){r=e.telemetry.ModalFor.IntroductionModal;var a=this.telemetryService.startEvent(e.telemetry.PreviewFeaturesIntroductionModalLogged);this.tutorialDataStore.setKey(e.constants.previewfeaturesModalKey,!0,a),o=[new InJs.ModalDialogAction(this.localizationService.get("PreviewFeaturesModal_TryItNow"),function(){i.setUserPreference(!0),s.closeDialog()}),new InJs.ModalDialogAction(this.localizationService.get("PreviewFeaturesModal_MaybeLater"),function(){i.setUserPreference(!1),s.closeDialog()})]}else r=e.telemetry.ModalFor.HelpModal,o=[new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Close"),function(){s.closeDialog()})];var n=this.telemetryService.startEvent(e.telemetry.PreviewFeaturesModalShown,r),s=this.modalDialogService.showLegacyWebModalDialog({dialogName:"",template:"<preview-features-modal></preview-features-modeal>",dialogActions:o,scope:this.$rootScope.$new(!0),dialogCssClass:"previewFeaturesModal",isDismissable:!1,onCloseDialog:function(){n.resolve()}})},t.prototype.showFeedbackModal=function(){var t=null;t=[new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Close"),function(){o.closeDialog()})];var o=this.modalDialogService.showLegacyWebModalDialog({dialogName:"",template:"<preview-feedback-modal></preview-feedback-modal>",dialogActions:t,scope:this.$rootScope.$new(!0),dialogCssClass:"previewFeedbackModal",isDismissable:!1}),r=this.telemetryService.startEvent(e.telemetry.PreviewConceptualModel,!1,e.telemetry.From.IntroductionModal);this.tutorialDataStore.setKey(i.previewConceptualModelKey,!1,r)},t.prototype.setUserPreference=function(t){var o=this.telemetryService.startEvent(e.telemetry.PreviewConceptualModel,t,e.telemetry.From.IntroductionModal);this.tutorialDataStore.setKey(i.previewConceptualModelNewKey,t,o)},t})();t.PreviewFeaturesModalService=o})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t=e.dataServices.AppUtils,i=e.common.models.CollapsiblePaneExpandedWidth,o=e.common.helpers,r=e.common.constants.navigation.states,a=e.errorDetailsHelper,n=e.dataServices.models.Dashboard,s=e.controllers.DashboardContainerController,c=e.dataServices.models.DashboardTileModel,l=e.dataServices.constants,d=e.dataServices.models.getDashboardGuidFromUrl,p=e.helpers.NavigationHelper,u=e.constants.navigation.states,v=e.dataServices.contracts.PackageType,h=e.common.models.Report,g=e.dataServices.TileUtils,f=e.common.contracts.Permissions,m=e.explore.services,b=e.common.constants.TaskPaneCollapsiblePaneMode,y=e.dataServices.models.Workbook,S=10,C=2e3,w=3,I=(function(){function I(t,i,o,r,a,n,s,c,d,p,u,v,h,g,f,m,b,y,S,C,w,I,D,M,T,E,P,k,A,L,N,_,R,F,x,O,G,U,z,B,$,W,V,H,j,q,Q,K,J){var Y=this;this.$location=t,this.rootScope=i,this.navigation=o,this.timeout=r,this.telemetryService=a,this.errorService=n,this.modelMerger=s,this.modelConverter=c,this.syncService=d,this.dashboardConfigurationService=p,this.dashboardDataService=u,this.dashboardHttpService=v,this.dashboardSyncService=h,this.dashboardWarningsService=g,this.fullScreen=f,this.localizationService=m,this.promiseFactory=b,this.reportService=y,this.modelHttpService=S,this.viralTenantMergeHelperService=C,this.groupService=w,this.featureSwitchService=I,this.modelService=D,this.licenseEnforcementService=M,this.userInfo=T,this.licenseHelperService=E,this.contentProviderHttpService=P,this.storageUsageService=k,this.appMetadataService=A,this.permissionService=L,this.workbookService=N,this.notificationBar=_,this.notificationToastService=R,this.resourcePackagesService=F,this.userSettingsService=x,this.visualPluginService=O,this.invitationService=G,this.resourcePackageGateService=U,this.home=z,this.packageService=B,this.permissionDataService=$,this.inFocusService=W,this.userActivityContextService=V,this.mostRecentlyUsedService=H,this.appService=j,this.editableFeatureSwitchService=q,this.conceptualModelSetting=Q,this.taskPaneSliderService=K,this.fileSaver=J,this.temporayObjectID=function(e){return"TEMP_ID"+e},this.temporaryDashboardId=-100,this.temporaryTileId=-100,this.dashboardCacheLimit=5,this.modelIdsForTileRefresh=[],this.readyForConceptualModelInitializationDeferred=this.promiseFactory.defer(),this.readyForConceptualModelInitializationPromise=this.readyForConceptualModelInitializationDeferred.promise,this.dashboardsOwnersMergedDeferred=this.promiseFactory.defer(),this.dashboardsDeferred=this.promiseFactory.defer(),this.loadAndInitializeDashboardsOnInvitation(),this.mergeDashboardOwnerInfoOnPageLoad(),this.updateActiveDashboardPromise=void 0,this.dashboardSyncService.beforeDashboardDeleting=function(e){Y.beforeDashboardDeletingHandler(e)},this.dashboardSyncService.afterDashboardDeleting=function(e){Y.afterDashboardDeletingHandler(e)};var X=this.rootScope.$on(e.constants.renameDashboardEventName,(function(e,t,i){return Y.renameDashboard(t,i)})),Z=this.rootScope.$on(e.constants.groupSwitchedEventName,(function(e,t,i,o){return Y.onGroupSwitched(t,i,o)})),ee=this.rootScope.$on(e.constants.notifyDashboardUpdate,(function(e){return Y.notifyDashboardUpdate()})),te=this.rootScope.$on(l.onDashboardShallowEditEventName,(function(e,t,i){return Y.onDashboardShallowEdit(t,i)})),ie=this.rootScope.$on(l.addOrUpdateDashboardEventName,(function(e,t,i){return Y.addOrUpdateDashboard(t,i)})),oe=this.rootScope.$on(l.mergeDashboardContainerModelsReportsAndPackagesEventName,(function(t,i){return e.contracts.mergeDashboardContainerModelsReportsAndPackages(i,Y.dashboardContainerModel.contract)})),re=this.rootScope.$on(l.updateDashboardContainerEventName,(function(e,t){return Y.updateDashboardContainer(t)})),ae=this.rootScope.$on(e.dataServices.constants.packageVersionChange,(function(e,t){return Y.updateDashboardWithPackageInfo(e,t)}));this.rootScope.$on("$destroy",(function(){ee(),Z(),X(),ae(),te(),ie(),oe(),re(),ae()}))}return I.prototype.getDashboards=function(){return this.dashboardsDeferred.promise.then((function(e){return e.dashboards}))},I.prototype.dashboardsOwnersMergedPromise=function(){return this.dashboardsOwnersMergedDeferred.promise},I.prototype.updateCachedContainer=function(){var e=null,t=this.dashboardDataService.dashboards;e=_.map(t,(function(e){var t=__assign({},e.contract);return t.tiles=_.map(t.tiles,(function(e){var t=__assign({},e);return t.config&&t.config.indexOf("imageTile")>0&&(e.config=null),e.$config&&!e.$config.workbookTile&&(e.$config=null),e.$action=null,t.tileDataSet=null,t})),t.cached=!0,t.hitCount=e.hitCount,t}));var i=_.sortBy(_.filter(e,(function(e){return e.tiles&&e.tiles.length>0&&e.hitCount>0})),(function(e){return 0-e.hitCount}));return i&&i.length>this.dashboardCacheLimit&&i.splice(this.dashboardCacheLimit),i},I.prototype.mergeDashboardOwnerInfoOnPageLoad=function(){var e=this;this.userInfo.userMetadataPromise.then((function(t){if(t)return e.appMetadataService.getAppMetadata().finally((function(){e.mergeDashboardOwnerInfo(t),e.dashboardsOwnersMergedDeferred.resolve(null)}))}))},I.prototype.mergeDashboardOwnerInfo=function(t){if(t&&t.dashboardOwnerInfo){for(var i=0,o=t.dashboardOwnerInfo;i<o.length;i++){var r=o[i],a=this.findDashboard(r.dashboardId);a&&this.modelMerger.mergeDashboardOwnerInfo(a,r)}this.rootScope.$emit(e.constants.notifyDashboardOwnerInfoLoaded)}},I.prototype.setQnaEnabled=function(e,t){var i=this.dashboardContainerModel,o=i.findDashboard(e);o&&(o.qnaEnabled=t,this.dashboardDataService.updateIsQnaEnabled())},I.prototype.getActiveDashboard=function(){return this.dashboardDataService.activeDashboard},I.prototype.renameDashboard=function(t,i){var o=this;if(this.isDashboardNameValid(t,i)){var r=this.dashboardContainerModel,a=r.findDashboard(i),n=a.contract.displayName;if(n!==t){var s=this.telemetryService,c=s.startEvent(e.telemetry.DashboardRenameDashboard,angular.isUndefined(a.tiles)||!a.tiles?0:a.tiles.length,a.objectId);a.displayName=a.contract.displayName=t,this.dashboardHttpService.renameDashboard(a.contract,t,c.event).then((function(){a&&a.isUsedByContentPack&&o.rootScope.$emit(e.constants.contentPackDirtyShowNotification,i,e.dataServices.models.ContentPackItems.Dashboard),c.resolve()}),(function(t){t.status!==e.HttpStatusCode.Unauthorized&&(o.errorService.error(o.localizationService.get("Dashboard_FailToRenameDashboardMessage"),"Dashboard_FailToRenameDashboard",{requestId:t.requestId,statusCode:t.status.toString()}),a.displayName=n,a.contract.displayName=n),c.reject()}))}}},I.prototype.addDashboard=function(t,i){var o=this,r=void 0!==i;if(!this.storageUsageService.checkQuotaExceeded(this.dashboards,e.telemetry.QuotaCheckOperation.AddDashboard)&&this.isDashboardNameValid(t,null)){var n=this.telemetryService,s=n.startEvent(e.telemetry.DashboardAddDashboard,null,null),c={objectId:this.temporayObjectID(this.temporaryDashboardId),id:this.temporaryDashboardId--,displayName:t,version:"",tiles:[],permissions:f.All,isHidden:!1},l=this.modelConverter.convertDashboard(c);l.displayName=t,l.id=c.id,l.isLoaded=!0,r&&(l.isNew=!0,l.isNotified=!1),this.dashboardDataService.addDashboard(l),r||(this.navigation.navigateToDashboardByGUID(c.objectId,1),this.rootScope.$emit(e.constants.scrollNavPaneToActiveDashboardEventName)),this.dashboardHttpService.addDashboard(c,s.event).then((function(t){var a,n,d,p=t.data;o.dashboardContainerModel.cacheTemporaryDashBoardMapping(c.objectId,p.objectId),c.id=p.id,l.id=p.id,c.objectId=p.objectId,o.groupService.activeGroup.aadGroupId===e.constants.myWorkSpaceGroupId?(a=o.userInfo.name,n=o.userInfo.givenName,d=o.userInfo.surname):(n=o.groupService.activeGroup.displayName,a=o.groupService.activeGroup.contract.mailNickname);var u={dashboardId:c.id,emailAddress:a,givenName:n,familyName:d};o.modelMerger.mergeDashboardOwnerInfo(l,u),o.userInfo.addOrUpdateDashboardOwnerInfoCache(u),o.rootScope.$emit(e.constants.notifyDashboardOwnerInfoLoaded),o.dashboardWarningsService.showWarningsIfNeeded(),o.updateActiveDashboard(p.id,void 0,null,i);var v=s.event.info;v.pendingRequestCount=t.pendingRequestCount,v.dashboardGuid=c.objectId,s.resolve(),r||o.navigation.inContentListView()||(o.mostRecentlyUsedService.updateMRU(e.models.MRUArtifactType.Dashboards,c.objectId,c.displayName,c.permissions),o.navigation.navigateToDashboardByGUID(c.objectId,0))}),(function(e){o.errorService.error(o.localizationService.get("Dashboard_FailToCreateDashboardMessage"),"Dashboard_FailToCreateDashboard",{requestId:e.requestId,statusCode:e.status.toString()}),s.event.info.pendingRequestCount=e.pendingRequestCount,s.reject(a.getTelemetryErrorDetails(e.error))}))}},I.prototype.addOrUpdateDashboard=function(e,t){this.modelConverter.fillDashboardContainerDashboard(this.dashboardContainerModel,e);var i=this.dashboardContainerModel.visibleDashboards;t&&1===i.length&&this.inContentListViews()&&p.navigateToDashboard(i[0],this.navigation,this.appService,this.packageService),this.dashboardContainerModel.calculateLayout(),this.dashboardContainerModel.applyLayout()},I.prototype.preloadLinkedDashboards=function(t){var i=this,o=this.promiseFactory.defer(),r=this.dashboardDataService,n=this.featureSwitchService.featureSwitches.preloadLinkedDashboardEnabled;if(!n)return o.reject(),o.promise;var s=r.findDashboard(t);if(!s||!s.isLoaded||_.isEmpty(s.tiles))return o.reject(),o.promise;for(var c=_.indexBy(r.dashboards,(function(e){return e.objectId.toLowerCase()})),l=[],p=0,u=s.tiles;p<u.length;p++){var v=u[p],h=v&&v.action;if(h&&h.action===e.constants.openUrlActionName){var g=d(h.targetUrl);if(g){var f=c[g.toLowerCase()];if(f&&!f.isLoaded&&(l.push(f.id),l.length>=S))break}}}if(0===l.length)return o.resolve(null),o.promise;l=_.uniq(l);var m=this.telemetryService.startEvent(e.telemetry.DashboardPreloadLinkedDashboard,l.length,s.objectId);return this.dashboardHttpService.batchGetDashboards(this.promiseFactory,l,m.event).then((function(e){i.updateDashboardContainer(e.data),o.resolve(null),m.resolve()}),(function(e){o.reject(),m.reject(a.getTelemetryErrorDetails(e?e.error:null,e?e.status:null));
})),o.promise},I.prototype.addOrUpdateTile=function(e,t,i){this.dashboardSyncService.addOrUpdateTile(e,t,i)},I.prototype.selectDashboardTile=function(e){e.tileModel.isSelected=!0,this.dashboardDataService.selectedDashboardTile=e},I.prototype.clearSelectedDashboardTile=function(){var e=this.dashboardDataService.selectedDashboardTile;null!=e&&(e.isSelected=!1,this.dashboardDataService.selectedDashboardTile=null)},I.prototype.batchUpdateTileSizePosition=function(t,i){var o=this,r=this.telemetryService.startEvent(e.telemetry.DashboardTileLayoutChanged,i.length),a=this.dashboardHttpService.batchUpdateTileSizePosition(this.promiseFactory,t.contract,i,r.event);return a&&a.then((function(){r.resolve(),t&&t.isUsedByContentPack&&o.rootScope.$emit(e.constants.contentPackDirtyShowNotification,t.id,e.dataServices.models.ContentPackItems.Dashboard)}),(function(){r.reject()})),a},I.prototype.promptForDeleteDashboard=function(e,t){var i=this,o=this.errorService.control(),r=[new InJs.ModalDialogAction(t?this.localizationService.get("ModalDialogButtonText_Delete"):this.localizationService.get("ModalDialogButtonText_Remove"),function(r,a){o.hideDialog(),i.deleteDashboardInternal(e,t)}),new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){o.hideDialog()})],a=this.findDashboard(e),n=t?this.localizationService.get("Dashboard_DeleteConfirmationTitle"):this.localizationService.get("Dashboard_RemoveConfirmationTitle"),s=this.localizationService.format(t?"Dashboard_DeleteConfirmationMessage":"Dashboard_RemoveConfirmationMessage",[a.displayName]);o.showCustomDialog(n,$("<div/>").text(s),r,(function(e){e.parent().find('input[value="'+i.localizationService.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)},I.prototype.exportDashboard=function(t,i){var o,r=this,a=this.dashboardContainerModel,n=_.filter(a.dashboards,(function(e){return e.id===t}))[0];if(n){o=n.contract;var s="dashboardpackage.zip",c=this.telemetryService,l=c.startEvent(e.telemetry.DashboardExportDashboard,o.objectId),d=this.dashboardHttpService.exportDashboard(o,i,l.event);if(d){var p=this.notificationToastService.notify({title:this.localizationService.get("NotificationMessage_ExportingPackage"),notificationType:e.common.NotificationToastType.Loading});d.then((function(e){l.resolve(),r.notificationToastService.hide(p),r.fileSaver.saveAs(e.data,s)}),(function(t){t.status!==e.HttpStatusCode.Unauthorized&&r.errorService.error(r.localizationService.get("Dashboard_FailToExportDashboardMessage"),"Dashboard_FailToExportDashboard",{requestId:t.requestId,statusCode:t.status.toString()}),l.reject()}))}}else this.errorService.error(this.localizationService.get("Dashboard_FailToExportDashboardMessage"),"Dashboard_FailToExportDashboard")},I.prototype.hideDashboard=function(t,i){var o=t.getDashboardIndex(i),r=this.getDashboardContractIndex(t.contract,i);if(!(o<0||r<0)){var a=t.dashboards,n=a[o],s=n.getPermissions();n.isSharedFromSecurityGroup&&(s===f.Read||s===f.ReadReshare);n.contract.isHidden=!0,n.isHidden=!0,this.dashboardDataService.dropDashboardfromMemoryIfNotActive(i),this.afterDashboardDeletingHandler(i),this.navigateAfterDashboardDelete(t,i),this.mostRecentlyUsedService.removeMRU(n.contract.objectId),this.navigation.inSharedWithMeView()&&this.rootScope.$emit(e.constants.updateSharedWithMe)}},I.prototype.navigateAfterDashboardDelete=function(e,t){var i=this,o=this.dashboardDataService.activeDashboard;if(o&&t===o.id&&this.inArtefactView()){var r=_.isEmpty(e.visibleDashboards);this.rootScope.$applyAsync((function(){if(i.shouldShowListView()||r)i.dashboardDataService.activeDashboard=null,e.contract.activeDashboardId=null,i.navigation.navigateToContentListOrActiveDashboard();else{var o=i.findNextDashboard(t,i.dashboardContainerModel);o&&p.navigateToDashboard(o,i.navigation,i.appService,i.packageService)}}))}},I.prototype.deleteDashboardInternal=function(t,i){var o=this,r=this.dashboardContainerModel,a=r.findDashboard(t),n=this.telemetryService,s=n.startEvent(e.telemetry.DashboardDeleteDashboard,a.objectId,angular.isUndefined(a.tiles)||!a.tiles?0:a.tiles.length);this.beforeDashboardDeletingHandler(t);var c=this.dashboards.filter((function(e){return e.id===t}));if(0===c.length)return void s.resolve();var l=a.getPermissions(),d=a.isSharedFromSecurityGroup&&(l===f.Read||l===f.ReadReshare),p=c[0].contract;i?this.dashboardDataService.deleteDashboardAtServerSide(t,s).then((function(){a&&(a.isUsedByContentPack&&o.rootScope.$emit(e.constants.contentPackDirtyShowNotification,a.id,e.dataServices.models.ContentPackItems.Dashboard),o.afterDashboardDeletingHandler(t))}),(function(t){t&&t.status!==e.HttpStatusCode.Unauthorized&&o.errorService.error(o.localizationService.get("Dashboard_FailToDeleteDashboardMessage"),"Dashboard_FailToDeleteDashboard",{requestId:t.requestId,statusCode:t.status.toString()})})):this.invitationService.deleteUser(r.userId,t,s.event).then((function(e){s.resolve(),p&&o.modelService.removeModels(p.modelIds),o.tryResetHome(t)}),(function(e){o.errorService.error(o.localizationService.get("Dashboard_FailToRemoveDashboardMessage"),"Dashboard_FailToRemoveDashboard",{requestId:e.requestId,statusCode:e.status.toString()}),s.reject()})),d?this.hideDashboard(r,t):(this.dashboardDataService.deleteDashboard(t),this.syncService.stopMonitoringDashboard(t),this.navigateAfterDashboardDelete(r,t),this.mostRecentlyUsedService.removeMRU(p.objectId))},I.prototype.inArtefactView=function(){var e=this.navigation;return e.inDashboardView()||e.inReportView()||e.inWorkbookView()||e.inDatasetView()},I.prototype.inContentListViews=function(){var e=this.navigation;return e.inContentListView()||e.inFavoritesView()||e.inRecentlyViewedView()||e.inGroupWelcomeView()||e.inLandingContainerView()},I.prototype.tryResetHome=function(t){var i=this.home;i.getHomeDashboard(null).then((function(t){t.data?(i.homeDashboard.dashboardId=t.data.dashboardId,i.homeDashboard.groupId=t.data.groupId||e.constants.myWorkSpaceGroupId,i.homeDashboard.dashboardObjectId=t.data.dashboardObjectId):i.resetHomeAtClientSide()}),(function(e){}))},I.prototype.deleteTile=function(e,t){this.dashboardDataService.deleteTile(e,t)},I.prototype.duplicateDashboard=function(t,i){var o=this,r=this.promiseFactory.defer(),a=this.telemetryService.startEvent(e.telemetry.DashboardDuplicateDashboard);return this.dashboardHttpService.duplicateDashboard(t,i,a.event).then((function(e){var t=e.data;o.dashboardHttpService.addDashboardRequestToBatch(o.promiseFactory,e.data.id).done((function(i){o.dashboardSyncService.addOrUpdateDashboard(i),o.dashboardWarningsService.showWarningsIfNeeded(),o.updateActiveDashboard(t.id,!0),o.navigation.navigateToDashboardByGUID(t.objectId,0),a.resolve(),r.resolve(e.data)}),(function(){a.reject(),r.reject()}))}),(function(){a.reject(),r.reject()})),r.promise},I.prototype.findDashboard=function(e){return this.dashboardDataService.findDashboard(e)},I.prototype.findDashboardByGUID=function(e){return this.dashboardDataService.findDashboardByGUID(e)},I.prototype.findDashboardsByPackageId=function(e){var t=this.dashboardDataService.dashboards;return t?_.filter(t,(function(t){return!(!t.contract||!t.contract.originalPackageId)&&t.contract.originalPackageId===e})):null},Object.defineProperty(I.prototype,"dashboards",{get:function(){return this.dashboardDataService.dashboards},enumerable:!0,configurable:!0}),I.prototype.hasTileForReportandSection=function(e,t){var i,o=this.dashboardContainerModel.dashboards;return void 0!==e?i=_.filter(o,(function(t){return _.find(t.tiles,(function(t){return t.reportTile&&t.contract&&t.contract.sectionId===e}))})):void 0!==t&&(i=_.filter(o,(function(e){return _.find(e.tiles,(function(e){return e.reportTile&&e.contract&&e.contract.reportId===t}))}))),!!(i&&i.length>0)},I.prototype.initializeDashboardContainerModel=function(e,t){var i=this.dashboardContainerModel,o=i.contract;this.modelConverter.updateDashboardContainerContract(o,e),this.modelConverter.fillDashboardContainerDashboards(i,o),this.dashboardDataService.registerDashboards(this.dashboardContainerModel.dashboards),this.dashboardDataService.activeDashboard=i.findDashboard(o.activeDashboardId);var r=this.dashboardDataService.activeDashboard;if(r&&(r.isLoaded=!0),this.navigation.currentDashboardGUID){var a=this.findDashboardByGUID(this.navigation.currentDashboardGUID);a&&(a.isHidden=!1,a.contract.isHidden=!1)}return _.isEmpty(i.visibleDashboards)&&!this.permissionService.isActiveWorkspaceIsReadOnly?void this.setupNavigationWhenNoDashboardExists():void this.dashboardSyncService.clearSeenDashboards()},I.prototype.notifyDashboardUpdate=function(){var e=this.dashboardDataService,t=e.activeDashboard;if(t.hasUpdate){var i=_.find(this.dashboardContainerModel.contract.packages,(function(e){return e.id===t.contract.originalPackageId}));if(!i){var o=this.packageService.findPackage(t.contract.originalPackageId);o&&(i=o.contract)}if(i){var r=i.name,a=jsCommon.StringExtensions.format(this.localizationService.get("DashboardContentPackNewVersion"),r);this.notificationBar.notify({message:a,hideOnStateChange:!0})}}},I.prototype.loadDashboard=function(t){var i=this,o=this.promiseFactory.defer(),r=[],a=0,n=0;for(a=0;a<w;a++)r.push(this.timeout((function(){i.loadDashboardInternal(t).then((function(e){o.resolve(e);for(var t=r.length,a=0;a<t;a++)a!==n&&i.timeout.cancel(r[a])}),(function(){n++>=w-1&&(o.reject(),i.rootScope.$emit(e.constants.loadDashboardFailed))}))}),a*I.loadDashboardTimeout));return o.promise},I.prototype.loadDashboardInternal=function(t){var i=this,o=this.promiseFactory.defer(),r=this.telemetryService.startEvent(e.telemetry.DashboardLoadDashboard,null,null);return this.userActivityContextService.pushParentContext(r.event),this.dashboardHttpService.getDashboards(this.promiseFactory,[t],null).then((function(e){if(e.length>0&&e[0].data){var n=e[0],s=n.data;i.registerAndLoadResourcePackages(s).finally((function(){i.updateDashboardContainer([s]);var e=i.findDashboard(t);o.resolve(e),e&&(r.event.info.dashboardGuid=e.objectId),r.event.info.pendingRequestCount=n.pendingRequestCount,r.resolve(),i.userActivityContextService.popParentContext(r.event)}))}else{if(o.reject(),_.isEmpty(e))r.reject();else{var c=e[0];r.event.info.pendingRequestCount=c.pendingRequestCount,r.reject(a.getTelemetryErrorDetails(c.error))}i.userActivityContextService.popParentContext(r.event)}})).catch((function(){o.reject(),r.reject(),i.userActivityContextService.popParentContext(r.event)})),o.promise},I.prototype.notifyReadOnly=function(e,t){t?this.dashboardHttpService.notifyReadOnly(e,t):this.dashboardHttpService.notifyReadOnly(e)},I.prototype.onDashboardShallowEdit=function(e,t){if(e){var i=t.isHidden&&!e.isHidden,o=!t.isHidden&&e.isHidden;this.dashboardDataService.updateIsQnaEnabled(),i?this.hideDashboard(this.dashboardContainerModel,e.id):o&&1===this.dashboardContainerModel.visibleDashboards.length&&!this.inArtefactView()&&this.navigation.navigateToDashboardByGUID(e.objectId)}},I.prototype.registerAndUpdateTile=function(e,t,i){var o=i.findDashboard(e),r=$.map(t.resourcePackageIds,(function(e){return e.toString()})),a=this.resourcePackageGateService.shouldShowWarning(r,this.dashboardDataService.activeDashboard.objectId);if(this.modelConverter.resolveTilePackage(t,this.packageService.packages),t.resourcePackageIds&&t.resourcePackageIds.length>0)for(var n=t.resourcePackageIds.length,s=0;s<n;++s)this.dashboardSyncService.addOrUpdateCustomVisualTile(t.resourcePackageIds[s],o,t,a);else this.addOrUpdateTile(o,t,i.contract.models)},I.prototype.getSelectedDashboardTile=function(){var e=this.dashboardDataService.selectedDashboardTile;if(e&&e.isSelected)return e},I.prototype.updateDashboardWithPackageInfo=function(t,i){var o,r=this.dashboardContainerModel.dashboards;r&&(o=_.filter(r,(function(e){if(e.contract&&e.contract.originalPackageId)return e.contract.originalPackageId===i}))),_.isEmpty(o)||this.modelConverter.setDashboardsHasUpdate(o),this.navigation.inDashboardView()&&this.rootScope.$emit(e.constants.notifyDashboardUpdate)},I.prototype.setActiveDashboardId=function(t,i,o){var r=this;void 0===i&&(i=!1),void 0===o&&(o=null);var a=this.findDashboard(t),n=this.telemetryService.startEvent(e.telemetry.DashboardUpdateActiveDashboard,a.objectId);this.dashboardHttpService.setActiveDashboardId(t,o,n.event).then((function(e){i?r.dashboardHttpService.refreshTileData(t,r.modelIdsForTileRefresh,n.event).then((function(e){r.checkRefreshTileResponse(e.data),n.resolve()}),(function(e){n.reject()})):n.resolve(),r.preloadLinkedDashboardPromise&&r.timeout.cancel(r.preloadLinkedDashboardPromise),r.preloadLinkedDashboardPromise=r.timeout((function(){r.preloadLinkedDashboards(t)}),C)}),(function(e){n.reject()}))},I.prototype.refreshTileData=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var o,r=this;return __generator(this,(function(n){switch(n.label){case 0:return t>0?(this.refreshTileDataPromise&&(this.timeout.cancel(this.refreshTileDataPromise),this.refreshTileDataPromise=null),!i||_.find(this.modelIdsForTileRefresh,(function(e){return e===i}))?[3,2]:[4,this.allowQueryRefreshForModel(i)]):[3,3];case 1:if(o=n.sent(),o&&this.modelIdsForTileRefresh.push(i),_.isEmpty(this.modelIdsForTileRefresh))return[2];n.label=2;case 2:this.refreshTileDataPromise=this.timeout((function(){var i=r.findDashboard(t),o=r.telemetryService.startEvent(e.telemetry.DashboardRefreshTileData,i.objectId);r.dashboardHttpService.refreshTileData(t,r.modelIdsForTileRefresh,o.event).then((function(e){r.checkRefreshTileResponse(e.data),r.dashboardDataService.onDashboardTileRefreshStarted(t),o.resolve()}),(function(e){o.reject(a.getTelemetryErrorDetails(e.error))})),r.modelIdsForTileRefresh=[]}),I.refreshTileDataDelayMs),n.label=3;case 3:return[2]}}))}))},I.prototype.allowQueryRefreshForModel=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e;return __generator(this,(function(i){switch(i.label){case 0:return e=_.first(this.modelService.findModels(t)),e?e.isRefreshDisabledDueToInactivity()?[2,!1]:[4,this.licenseEnforcementService.checkLicenseForQueryRefresh(t)]:[2,!1];case 1:return[2,i.sent()]}}))}))},I.prototype.updateActiveDashboard=function(e,t,i,o){var r=this;if(void 0===t&&(t=!1),e>0){this.updateActiveDashboardPromise&&this.timeout.cancel(this.updateActiveDashboardPromise),this.groupService.activeGroup.lastViewedDashboard=e;var a=this.groupService.activeGroupObjectId;i&&!_.find(this.modelIdsForTileRefresh,(function(e){return e===i}))&&this.modelIdsForTileRefresh.push(i);var n=this.findDashboard(e);this.syncService.monitorDashboards(n?[n.contract]:[],null),this.updateActiveDashboardPromise=this.timeout((function(){return r.groupService.activeGroupObjectId!==a?void(r.updateActiveDashboardPromise=void 0):(r.setActiveDashboardId(e,t,r.modelIdsForTileRefresh),r.modelIdsForTileRefresh=[],o&&(o.dashboardId=e,r.pinTileWithoutNotification(o)),void(r.updateActiveDashboardPromise=void 0))}),I.updateActiveDashboardDelayMs)}},I.prototype.setAndUpdateActiveDashboard=function(e){if(this.dashboardDataService.activeDashboard=e,e){e.isLoaded&&!e.contract.cached||this.loadDashboard(e.id);var t=e.id;this.setActiveDashboardId(t)}},I.prototype.updateGroupsAppMetadata=function(t){var i=this.dashboardContainerModel,o=i.contract;this.modelConverter.updateDashboardContainerContractFromBasicDashboardContainer(o,t),this.modelConverter.fillDashboardContainerDashboardsFromBasicDashboardContainer(i,o),this.dashboardDataService.registerDashboards(i.dashboards),this.dashboardDataService.activeDashboard=i.findDashboard(t.activeDashboardId);var r=this.dashboardDataService.activeDashboard;r&&(r.isLoaded=!0),i.calculateLayout(),i.applyLayout(),this.syncService.monitorWorkspace(r?[r.contract]:[],t.userDashboardListVersion),this.telemetryService.logEvent(e.telemetry.DashboardInitializeContainer,"",!0,this.viralTenantMergeHelperService.viewingDataFromMergedViralTenant())},I.prototype.updateDashboardMenuItems=function(t){t.moreOptionsMenu=e.models.modelFactory.createDashboardMenuItems(this.localizationService,this.featureSwitchService,this.home,this.permissionService,this.fullScreen,this.dashboardConfigurationService,this.conceptualModelSetting,this.dashboardDataService.activeDashboard,this.navigation)},I.prototype.logRTelemetryDashboardEvent=function(e){var t=this.getVisualCountData(),i=t.scriptVisualsCount,o=t.reportTilesWithR;if(0!==i||0!==o){var r=this.dashboardDataService.activeDashboard.tiles.length;this.telemetryService.logEvent(e,i,r,o)}},I.prototype.getVisualCountData=function(){var e={totalVisualsCount:0,scriptVisualsCount:0,reportTilesWithR:0},t=this.dashboardDataService.activeDashboard,i=this.visualPluginService,o=t&&t.tiles;if(o){for(var r=0,a=o;r<a.length;r++){var n=a[r];g.isScriptVisualTile(n,i)?e.scriptVisualsCount++:g.reportTileContainsScriptVisuals(n,i)&&e.reportTilesWithR++}e.totalVisualsCount=o.length}return e},I.prototype.checkRefreshTileResponse=function(t){if(t&&!_.isEmpty(t.tileErrors))for(var i=0,o=t.tileErrors;i<o.length;i++){var r=o[i];r.errorResponse.error.code===e.common.constants.cloudRLSAccessDeniedErrorCode&&this.rootScope.$emit(e.constants.rowLevelSecurityAccessDeniedEventName,r.modelIds)}},I.prototype.registerAndLoadResourcePackages=function(t){var i=this.promiseFactory.defer(),o=t.dashboards;if(o)for(var r=0,a=o;r<a.length;r++){var n=a[r],s=this.getAllRequiredResourcePackages(n);if(s&&0!==s.length&&this.resourcePackageGateService.shouldShowWarning(s,n.objectId))return i.reject(null),i.promise}var c=t.resourcePackages;if(c&&c.length>0){for(var l=[],d=!1,p=0,u=c;p<u.length;p++){var v=u[p];if(!this.resourcePackagesService.getPackageById(v.id)){var h=0===v.type,g=m.isRegisteredResourcePackage(v);h&&(d=!0),(h||g)&&this.resourcePackagesService.registerPackages([v]),h&&l.push(this.visualPluginService.ensurePlugin(v,!1))}}return this.telemetryService.logEvent(e.telemetry.DashboardRegisterAndLoadResourcePackages,c?c.length:0,d),this.promiseFactory.allSettled(l)}return i.resolve(null),i.promise},I.prototype.getAllRequiredResourcePackages=function(t){var i=[],o="";if(t&&t.tiles){for(var r=0,a=t.tiles;r<a.length;r++){var n=a[r];o=o.concat(n.id.toString(),",");var s=n.resourcePackageIds;if(s&&0!==s.length)for(var c=0,l=s;c<l.length;c++){var d=l[c];i.push(d.toString())}}this.telemetryService.logEvent(e.telemetry.DashboardRecordDashboardTiles,o.length>0?o.substr(0,o.length-1):o,t.objectId)}return i},I.prototype.loadDashboardContainer=function(e,t,i){var o=this,r=this.promiseFactory.defer();return this.appMetadataService.getAppMetadata().then((function(a){var n=o.initializeDashboardContainer(a,e,t,i);o.registerAndLoadResourcePackages(a).finally((function(){return r.resolve(n)}))}),(function(){o.dashboardHttpService.getDashboardContainer(e).then((function(a){a.data.models&&(o.modelService.mergeDatasetCollection(a.data.models),o.dashboardDataService.updateActiveDashboardModels()),a.data.featureSwitches&&o.editableFeatureSwitchService.registerFeatureSwitches(a.data.featureSwitches),o.userSettingsService.getUserSettings().then((function(e){a.data.userSettings=e.contract}));var n=o.initializeDashboardContainer(a.data,e,t,i);o.registerAndLoadResourcePackages(a.data).finally((function(){return r.resolve(n)}))}),(function(e){r.reject()}))})),r.promise},I.prototype.getDashboardContractIndex=function(e,t){for(var i=e.dashboards,o=0,r=i.length;o<r;o++)if(i[o].id===t)return o;return-1},I.prototype.findNextDashboard=function(e,t){for(var i=t.dashboards.length,o=t.getDashboardIndex(e),r=0;r<i;r++){var a=(o+1+r)%i;if(a===o)return null;var n=t.dashboards[a];if(!n.isHidden)return n}},I.prototype.initializeContainer=function(t,i){var o=this,r=this.telemetryService.startEvent(e.telemetry.DashboardInitializeContainer,"",!1,this.viralTenantMergeHelperService.viewingDataFromMergedViralTenant());initializeContainerStartTime&&(r.event.time=initializeContainerStartTime.getTime());var a={dashboards:[],activeViewMode:e.contracts.DashboardContainerViewMode.DashboardViewer,activityPane:e.staticContract.getActivityPaneContract()},n=this.dashboardContainerModel=this.modelConverter.convertDashboardContainer(a);n.calculateLayout(),n.applyLayout(),this.loadDashboardContainer(r.event,t,i).then((function(t){o.dashboardsDeferred.resolve(o),o.dashboardDataService.resolveDashboardDeferred(),t.deferEmitDashboardContainerLoadedEvent||o.rootScope.$emit(e.constants.dashboardContainerLoaded),r.resolve()}),(function(){r.reject(),o.dashboardsDeferred.reject(),o.dashboardDataService.rejectDashboardDeferred()}))},I.prototype.initializeDashboardContainer=function(t,i,r,a){if(window.initialDashboardContainer||(window.initialDashboardContainer=t),t.downloadCenterLinkEnabled?(e.models.PowerBICompanionModel.enabled=!0,e.models.PowerBICompanionModel.downloadLink=o.powerBICompanionHelper.getDownloadCenterLink(t.downloadCenterX64Link,t.downloadCenterX86Link),this.rootScope.$emit(e.constants.enablePowerBICompanionApp)):t.companionAppEnabled&&(e.models.PowerBICompanionModel.enabled=!0,e.models.PowerBICompanionModel.downloadLink=o.powerBICompanionHelper.getDownloadLink(),this.rootScope.$emit(e.constants.enablePowerBICompanionApp)),jsCommon.Utility.is64BitOperatingSystem()&&(e.models.PowerBIConnectorModel.downloadLink=t.downloadCenterX64ConnectorLink,this.rootScope.$emit(e.constants.enablePowerBIASConnectorApp)),e.models.PowerBIOnPremGatewayModel.downloadLink=t.downloadOnpremGatewayLink,this.featureSwitchService.featureSwitches.homeDashboardEnabled&&t.homeDashboardId!==-1){var n=!this.navigation.currentGroupGUID||this.navigation.currentGroupGUID===e.constants.myWorkSpaceGroupId,s=this.navigation.inLandingContainerView()||this.navigation.inHomeDashboardView(),c=r||!_.isEmpty(a);n&&s&&!c&&(t.homeGroupId?this.groupService.activeGroupObjectId=t.homeGroupId:this.groupService.isMyWorkspace()&&(this.groupService.activeGroupObjectId=e.constants.myWorkSpaceGroupId),r||(r=t.homeDashboardId)),this.home.homeDashboard.dashboardId=t.homeDashboardId,this.home.homeDashboard.groupId=t.homeGroupId||e.constants.myWorkSpaceGroupId}this.initializeDashboardContainerModel(t,i);var l=t.dashboards,d=_.find(l,(function(e){return e.id===t.activeDashboardId}));d||!l||_.isEmpty(this.dashboardContainerModel.visibleDashboards)||(d=l[0],t.activeDashboardId=d.id),this.syncService.monitorDashboards(d?[d]:[],t.userDashboardListVersion);var p=this.findDashboard(this.home.homeDashboard.dashboardId);p&&(this.home.homeDashboard.dashboardObjectId=p.objectId);var u=!1;return window.appLoadError&&window.appLoadError.error===e.constants.appLoadErrorGroupNotAccessible&&(u=!0),this.navigateToActiveDashboard(t,i,r,a,u)},I.prototype.isAllowedMobileUserAgent=function(){for(var e=["iphone","ipad","android"],t=["windows phone"],i=navigator.userAgent.toLowerCase(),o=0;o<t.length;o++)if(i.indexOf(t[o])!==-1)return!1;for(var o=0;o<e.length;o++)if(i.indexOf(e[o])!==-1)return!0;return!1},I.prototype.loadAndInitializeDashboardsOnInvitation=function(){var t=this,i=this.$location.search();if(jQuery.isEmptyObject(i))return void this.initializeContainer();var o,r,a,n,s,c,l=i[e.constants.invitation.invitationCodeQueryParam],d=i[e.constants.invitation.invitationCodeQueryParamV2];if(_.isEmpty(l)){if(_.isEmpty(d))return void this.initializeContainer();try{var p=decodeURIComponent(d),u=JSON.parse(atob(p));o=u.tenantId,r=u.code,a=u.redirectedFromSignup,n=u.extShare,s=u.dashboardId,c=jsCommon.QueryStringUtil.addOrUpdateQueryString(e.constants.invitation.invitationCodeQueryParamV2,d)}catch(e){return void this.initializeContainer()}}else{var v=decodeURIComponent(l),h=v.split("|");if(h.length<2)return void this.initializeContainer();o=h[0],r=h[1],a=_.any(h,(function(e){return"redirectedFromSignup"===e})),n=_.any(h,(function(e){return"extshare"===e}));var g=_.without(h,"extshare").join("|");c=jsCommon.QueryStringUtil.addOrUpdateQueryString(e.constants.invitation.invitationCodeQueryParam,g)}if(n&&"/invite"!==this.$location.path()&&(location.href="/invite"+c),_.isEmpty(r))_.isEmpty(s)?this.initializeContainer():this.initializeContainer(void 0,s);else{var f=this.telemetryService,m=f.startEvent(e.telemetry.DashboardClaimInvitation,"",r);this.invitationService.claimInvite(o,r,a,m.event).then((function(i){var o=parseInt(i.data,10),a=window.location;t.isAllowedMobileUserAgent()&&!n&&(f.logEvent(e.telemetry.DashboardClaimInvitationRedirectToMobileLandingPage,navigator.userAgent,r),window.location.href=a.protocol+"//"+a.host+"/mobilelandingpage"+a.search),t.initializeContainer(o);var s=t.dashboardContainerModel.findDashboard(o);m.event.info.dashboardGuid=s?s.objectId:"",m.resolve()}),(function(i){var o=i.headers(e.common.PowerBIErrorHeader);if(o===e.constants.quotaErrorCodes.PowerBIUserQuotaExceeded||o===e.constants.quotaErrorCodes.PowerBIGroupQuotaExceeded){var r=o===e.constants.quotaErrorCodes.PowerBIUserQuotaExceeded,a=t.storageUsageService;a.showQuotaExceedDialog();var n=a.getUsage(t.dashboards);f.logEvent(e.telemetry.QuotaExceeded,t.userInfo.isPremiumUser,r?e.telemetry.QuotaOpenManageStorageContext.Personal:e.telemetry.QuotaOpenManageStorageContext.Group,e.telemetry.QuotaCheckOperation.AcceptInvitation,n.ownedUsage,n.sharedUsage,a.quotaLimitInMB)}else{var s=o||"DashboardInvitationInvalidRequest";t.localizationService.ensureLocalization((function(){var i=t.localizationService.get(s);t.errorService.error(i,"DashboardInvitationInvalidRequest",{title:t.localizationService.get("DashboardInvitationErrorTitle")},!1,e.telemetry.ErrorSource.PowerBI),m.reject({errorCode:s,errorSource:"DashboardInvitationInvalidRequest"!==s?e.telemetry.ErrorSource.User:e.telemetry.ErrorSource.PowerBI})}))}t.initializeContainer()})).finally((function(){t.rootScope.$emit(e.constants.invitation.invitationClaimed)}))}},I.prototype.navigateToActiveDashboard=function(e,t,i,o,r){var a={deferEmitDashboardContainerLoadedEvent:!1},n=this.dashboardContainerModel,s=n.findDashboard(e.activeDashboardId),c=this.conceptualModelSetting.isAppsEnabled(),l=s,d=void 0!==i?n.findDashboard(i):n.findDashboardByGUID(o),p=this.navigation,u=p.currentDashboardGUID,v=p.currentReportGUID,h=p.currentWorkbookURLIdentifier,g=p.currentDatasetDBName,f=c&&p.currentAppGUID,m=c&&p.currentAppInstanceId,b=c&&p.currentDashboardOriginalGUID,y=c&&p.currentReportOriginalGUID,S=!0;if(this.featureSwitchService.featureSwitches.permissionCenterEnabled&&p.inManagePermissionsView())return this.permissionDataService.setActivePermissionArtifact(p.permissionArtifact,p.permissionArtifactGUID).then((function(e){p.navigateToManagePermissions(p.permissionArtifact,p.permissionArtifactGUID)})),a;if(this.shouldTriggerAppAutoInstall(e))return this.readyForConceptualModelInitializationDeferred.resolve(null),a.deferEmitDashboardContainerLoadedEvent=!0,a;if(d)l=d;else{if(!p.inReportView()&&!p.inQnaView()&&(u||f&&b))return this.navigateToDashboardOnInitialLoad(),a;if(v||f&&y)return this.navigateToReportOnInitialLoad(),S=!1,a;if(!h||p.inAppView()&&!c)if(f&&p.inAppDetailView()){if(S=!!p.inAppInstanceView()&&!!m,!S)return this.navigateToDefaultAppArtefact(f),a}else g&&(S=!1,this.handleStateChangeForDataset(g));else S=!1}if(!l)return _.isEmpty(n.visibleDashboards)&&!this.permissionService.isActiveWorkspaceIsReadOnly&&this.setupNavigationWhenNoDashboardExists(),a;if(S=r||S&&(u!==l.objectId||!p.inDashboardDetailView())){if(this.tryToNavigateToNonDashboard(l,i,c,f))return a;if(this.shouldShowListView()){if(!i||!l||l.objectId===this.home.homeDashboard.dashboardObjectId)return this.readyForConceptualModelInitializationDeferred.resolve(null),a.deferEmitDashboardContainerLoadedEvent=!0,a;this.navigationToDashboard(l)}else this.home.homeDashboard.dashboardId===i?p.navigateToHomeDashboard(!0):this.navigationToDashboard(l)}return a},I.prototype.handleStateChangeForDataset=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e,i;return __generator(this,(function(o){switch(o.label){case 0:return e=this.navigation,[4,this.licenseEnforcementService.checkUserLicenseSupportsDataset(t,!0)];case 1:return i=o.sent(),i&&(e.inQnaModelView()?e.replaceHistoryWithDatasetAndNavigate(e.currentDatasetDBName,u.modelQna,{q:e.qnaQuery}):e.initialLoadDatasetByDBName(e.currentDatasetDBName)),[2]}}))}))},I.prototype.shouldTriggerAppAutoInstall=function(t){var i=this.navigation,o=i.currentAppGUID;if(!i.inAppView()||!o||this.groupService.activeGroupObjectId!==e.constants.myWorkSpaceGroupId||!this.conceptualModelSetting.isAppsEnabled())return!1;var r=_.find(t.apps,(function(e){return e.providerKey===o}));if(!r)return!0;var a=r.providerId,n=_.find(t.packages,(function(e){return(e.contentProviderRefId===a||e.serviceContentProviderId===a||e.contentProviderId===a)&&e.packageType===v.AppInstance}));return null==n},I.prototype.navigateToDefaultAppArtefact=function(e,i){var o=this,a=this.appService,s=this.packageService;this.promiseFactory.all([a.ensureAppsInitialization(),s.ensurePackagesInitialization()]).then((function(){var c=a.getAppByGUID(e);if(i=i||t.getPackageIDByOrgAppGUID(a,s,e),c&&i){var l=o.appService.getInstalledAppModel(c,i),d=t.getDefaultAppArtefact(l);if(d){var p=o.navigation,v=o.groupService.activeGroupObjectId,g=!t.isOrgApp(c);d instanceof n?p.replaceAndLoadCurrentState(g?u.appInstanceDashboard:u.appDashboard,{appGUID:e,appInstanceId:i,dashboardGUID:d.objectId,dashboardOriginalGUID:d.contract.originalDashboardObjectId,groupGUID:v}):d instanceof h?p.replaceAndLoadCurrentState(g?r.appInstanceReport:r.appReport,{appGUID:e,appInstanceId:i,reportGUID:d.objectId,reportOriginalGUID:d.contract.originalReportObjectId,groupGUID:v}):d instanceof y&&p.replaceAndLoadCurrentState(r.appWorkbook,{appGUID:e,appInstanceId:i,workbookURLIdentifier:d.uniqueId,groupGUID:v})}}}))},I.prototype.tryToNavigateToNonDashboard=function(t,i,o,r){var a=this,n=this.navigation;if(n.inGetDataView())return!0;if(n.inQnaView()){var s=n.inAppView()?u.appDashboardQna:u.dashboardQna;return n.replaceHistoryWithDashboardAndNavigate(t.objectId,s,{q:n.qnaQuery}),!0}return n.inInsightsView()?(n.replaceHistoryWithDashboardAndNavigate(t.objectId,u.insights,{dataGUID:n.insightsDataGUID}),!0):n.inManageStorageView()?(this.navigateToManageStoragePage(t.objectId),!0):n.inSettingsView()?(n.showSettingsSlider(n.settingsGroup,n.settingsId),!0):!!n.inGatewaysView()||(n.inFavoritesView()?(n.navigateToFavorites(this.groupService.activeGroupObjectId),!0):n.inRecentlyViewedView()?(n.navigateToRecentlyViewed(),!0):n.inSharedWithMePath()?(n.navigateToSharedWithMe(),!0):n.inAppsDetailView()&&o?(n.navigateToApps(),!0):n.inExtendTrial()?(this.licenseHelperService.displayDialogToExtendTrial(e.telemetry.LicenseEnforcementOperation.EmailLink),!0):this.shouldShowListView()&&n.inManageDatasetView()?(n.navigateToDatasets(),!0):this.shouldShowListView()&&n.inManageStreamingDatasetView()?(n.navigateToStreamingDatasets(0),!0):this.shouldShowListView()&&n.inContentListView()?(n.navigateToContentListParams({groupGUID:n.currentGroupGUID}),!0):n.inCapacitySettingsView()?(this.featureSwitchService.featureSwitches.adminCapacityEnabled?this.navigateToCapacitySettings():this.navigationToDashboard(t),!0):n.inAdminPortalView()&&this.userInfo?(this.userInfo.userMetadataPromise.then((function(e){e.isTenantAdmin||a.featureSwitchService.featureSwitches.adminCapacityEnabled?n.replaceHistoryWithGroupWelcomeAndNavigate(a.groupService.activeGroupObjectId,u.adminPortal,{adminPortalSettingsTab:0}):a.navigationToDashboard(t)}),(function(){a.navigationToDashboard(t)})),!0):!!n.inManageEmbedView()&&(this.navigateToManageEmbedPage(t.objectId),!0))},I.prototype.navigateToCapacitySettings=function(){this.navigation.currentCapacityId?this.navigation.navigateToAdminPortalCapacity(this.navigation.currentCapacityId):this.navigation.navigateToAdminPortal(5)},I.prototype.navigateToDashboardOnInitialLoad=function(){return __awaiter(this,void 0,e.Promise,(function(){var t,i,o,r,a;return __generator(this,(function(n){switch(n.label){case 0:return t=this.navigation,i=this.appService,o=this.packageService,t.currentDashboardGUID||t.currentDashboardOriginalGUID&&t.currentAppGUID&&this.conceptualModelSetting.isAppsEnabled()?[4,this.promiseFactory.all([i.ensureAppsInitialization(),o.ensurePackagesInitialization()])]:[2];case 1:return n.sent(),
p.ensureDashboardGUID(t,i,o,this),(r=this.findDashboardByGUID(t.currentDashboardGUID))?((t.inInFocusView()||t.inInFocusInsightsView()||t.inAlertsEditorView())&&(p.ensureTileGUID(t,this),a=r.findTileByObjectIdOrOriginalObjectId(t.currentTileGUID,t.currentTileOriginalGUID),a&&this.selectDashboardTile(new c(a))),[4,this.checkUserNeedsProLicenseAndShowError(r,this.userInfo,this.licenseHelperService,this.licenseEnforcementService,this.localizationService,t,e.telemetry.LicenseEnforcementOperation.InitialDashboardLoad)]):[3,3];case 2:return n.sent(),this.setAndUpdateActiveDashboard(r),this.groupService.activeGroup&&(this.groupService.activeGroup.lastViewedDashboard=r?r.id:-1),[3,4];case 3:this.shouldNavigateToRequestAccess()?(t.navigateToRequestDashboardAccessByGUID(t.currentDashboardGUID,2),this.setAndUpdateActiveDashboard(null)):s.showDashboardDoesNotExistDialog(this.errorService,this.localizationService,this.telemetryService,t),n.label=4;case 4:return[2]}}))}))},I.prototype.navigateToReportOnInitialLoad=function(){return __awaiter(this,void 0,e.Promise,(function(){var e,t,i,o,r,a,n;return __generator(this,(function(s){switch(s.label){case 0:return e=this.navigation,t=this.appService,i=this.packageService,o=this.reportService,[4,this.promiseFactory.all([t.ensureAppsInitialization(),i.ensurePackagesInitialization(),o.ensureReportsInitialization()])];case 1:return s.sent(),p.ensureReportGUID(e,t,i,o),r=e.currentReportGUID,a=e.currentReportOriginalGUID,[4,this.licenseEnforcementService.checkUserLicenseSupportsReport(r)];case 2:return n=s.sent(),n&&e.initialLoadReportByGUID(r,a,e.currentReportPage),[2]}}))}))},I.prototype.retrieveDashboardForApp=function(e,t){return _.find(this.dashboards,(function(i){return i.getUniquePackageId()===e&&i.contract.originalDashboardObjectId===t}))},I.prototype.navigationToDashboard=function(t){this.checkUserNeedsProLicenseAndShowError(t,this.userInfo,this.licenseHelperService,this.licenseEnforcementService,this.localizationService,this.navigation,e.telemetry.LicenseEnforcementOperation.ShareDashboard),this.navigation.insertGroupAndNavigateToDashboardByGUID(t.objectId,this.groupService.activeGroupObjectId,2),this.setAndUpdateActiveDashboard(t),this.groupService.activeGroup&&(this.groupService.activeGroup.lastViewedDashboard=t?t.id:-1)},I.prototype.navigateToActiveDashboardAfterGroupSwitch=function(e,i,o){var r=this.dashboardContainerModel.findDashboard(i);if(r&&r.isHidden&&(r=null),r||(o&&s.showDashboardDoesNotExistDialog(this.errorService,this.localizationService,this.telemetryService,this.navigation),_.isEmpty(this.dashboardContainerModel.visibleDashboards)||(r=this.dashboardContainerModel.visibleDashboards[0])),this.setAndUpdateActiveDashboard(r),r){var a=this.navigation.currentTileGUID,n=this.navigation.currentTileOriginalGUID,c=r.objectId,l=r.contract;if(this.navigation.inAlertsEditorView())this.navigation.showAlertsEditor(a,n,this.navigation.currentAlertId,c,this.groupService.activeGroupObjectId);else if(this.navigation.inInFocusView())this.navigation.showInFocusMode(a,n,c,l.originalDashboardObjectId,this.groupService.activeGroupObjectId);else if(this.navigation.inInFocusInsightsView())this.navigation.showInsightsInFocusMode(a,n,c,this.groupService.activeGroupObjectId);else if(this.home.isHomeDashboardSet&&r.id===this.home.homeDashboard.dashboardId)this.navigation.insertGroupAndNavigateToDashboardByGUID(this.home.homeDashboard.dashboardObjectId,this.home.homeDashboard.groupId,1);else{var d=t.getDashboardAppGUID(r,this.appService,this.packageService);d?this.navigation.navigateToAppDashboardByGUID(c,l.originalDashboardObjectId,d,this.groupService.activeGroupObjectId):this.navigation.replaceAndLoadCurrentState(u.dashboard,{groupGUID:this.groupService.activeGroupObjectId,dashboardGUID:r.objectId})}}else this.dashboardContainerModel.dashboards.length>0||this.groupService.isDataInCurrentGroup()?this.navigation.replaceAndLoadCurrentState(u.dashboards,{groupGUID:this.groupService.activeGroupObjectId}):this.navigation.replaceAndLoadCurrentState(u.groupWelcome,{groupGUID:this.groupService.activeGroupObjectId})},I.prototype.navigateToManageStoragePage=function(t){var i=!0;this.groupService.activeGroup&&(i=this.groupService.activeGroup.isMyWorkspace),this.telemetryService.logEvent(e.telemetry.QuotaOpenManageStoragePage,e.telemetry.QuotaOpenManageStorageInteraction.DirectUrl,i?e.telemetry.QuotaOpenManageStorageContext.Personal:e.telemetry.QuotaOpenManageStorageContext.Group),this.navigation.replaceHistoryWithDashboardAndNavigate(t,u.manageStorage,{groupGUID:this.groupService.activeGroupObjectId})},I.prototype.navigateToManageEmbedPage=function(e){this.navigation.replaceHistoryWithDashboardAndNavigate(e,u.manageEmbed,{groupGUID:this.groupService.activeGroupObjectId})},I.prototype.onGroupSwitched=function(e,t,i){var o=this;this.updateGroupsAppMetadata(e);var r=this.navigation,a=r.currentReportGUID,n=r.currentWorkbookURLIdentifier,c=r.currentDatasetDBName,l=r.currentDashboardGUID;if(l){var d=this.findDashboardByGUID(l);d&&d.id?this.navigation.inSharingView()?this.timeout((function(){o.navigateToShareDashboard(l)})):this.navigateToActiveDashboardAfterGroupSwitch(e,d.id):a||n||c||(this.mostRecentlyUsedService.removeMRU(l),s.showDashboardDoesNotExistDialog(this.errorService,this.localizationService,this.telemetryService,this.navigation),this.navigateToActiveDashboardAfterGroupSwitch(e,this.groupService.activeGroup.lastViewedDashboard))}else a||n||c||(this.shouldShowListView()||this.shouldStayOnCurrentState()?t?this.navigateToActiveDashboardAfterGroupSwitch(e,this.groupService.activeGroup.lastViewedDashboard,t):this.shouldStayOnCurrentState()||i||this.navigation.replaceAndLoadCurrentState(u.contentList,{groupGUID:r.currentGroupGUID}):this.navigateToActiveDashboardAfterGroupSwitch(e,this.groupService.activeGroup.lastViewedDashboard,t));this.userInfo.userMetadataPromise.then((function(e){o.mergeDashboardOwnerInfo(e)}))},I.prototype.shouldStayOnCurrentState=function(){return this.navigation.inFavoritesView()||this.navigation.inRecentlyViewedView()||this.navigation.inAppsView()},I.prototype.setupNavigationWhenNoDashboardExists=function(){if(this.navigation.inCapacitySettingsView())this.featureSwitchService.featureSwitches.adminCapacityEnabled?this.navigateToCapacitySettings():this.navigation.navigateToContentListOrActiveDashboard();else{if(this.navigation.inGetDataView())return;if(this.navigation.inManageStorageView())this.navigateToManageStoragePage(null);else if(this.navigation.inManageEmbedView())this.navigateToManageEmbedPage(null);else if(this.navigation.inSettingsView())this.navigation.showSettingsSlider(this.navigation.settingsGroup,this.navigation.settingsId);else{if(this.navigation.inGatewaysView())return;if(this.navigation.inFavoritesView())this.navigation.navigateToFavorites(this.groupService.activeGroupObjectId);else if(this.navigation.inRecentlyViewedView())this.navigation.navigateToRecentlyViewed();else if(this.navigation.inExtendTrial())this.licenseHelperService.displayDialogToExtendTrial(e.telemetry.LicenseEnforcementOperation.EmailLink);else if(_.isEmpty(this.reportService.copyAndEditReports)&&_.isEmpty(this.modelService.copyAndEditModels)&&_.isEmpty(this.workbookService.copyAndEditWorkbooks)&&!this.viralTenantMergeHelperService.viewingDataFromMergedViralTenant()&&window.initialDashboardContainer&&jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(window.initialDashboardContainer.previousTenantId)){var t=this.featureSwitchService.featureSwitches;t.ignoreGettingStartedPopups?this.navigation.navigateToContentListOrActiveDashboard():this.navigation.replaceHistoryWithGroupWelcomeAndNavigate(this.groupService.activeGroupObjectId,u.getDataCategory,{groupGUID:this.groupService.activeGroupObjectId,categoryName:e.constants.navigation.getDataWelcome})}else if(this.navigation.inReportView())this.navigation.initialLoadReportByGUID(this.navigation.currentReportGUID,this.navigation.currentReportOriginalGUID,this.navigation.currentReportPage);else if(this.navigation.inDatasetView()&&!this.navigation.inQnaModelView())this.navigation.initialLoadDatasetByDBName(this.navigation.currentDatasetDBName);else{if(this.navigation.inWorkbookView()||this.navigation.inAppsView()||this.navigation.inAppView())return;this.navigation.navigateToContentListOrActiveDashboard()}}}},I.prototype.shouldNavigateToRequestAccess=function(){return(this.navigation.inDashboardDetailView()||this.navigation.inRequestDashboardAccessView())&&window.initialDashboardContainer&&window.initialDashboardContainer.accessRequestInfo&&window.initialDashboardContainer.accessRequestInfo.dashboardObjectId&&window.initialDashboardContainer.accessRequestInfo.dashboardObjectId===this.navigation.currentDashboardGUID},I.prototype.shouldShowListView=function(){return this.conceptualModelSetting.isListViewEnabled()},I.prototype.updateDashboard=function(){var e=this.findDashboardByGUID(this.navigation.currentDashboardGUID);e&&!e.isFilled()&&(this.modelConverter.fillDashboardChildren(e,this.dashboardContainerModel.contract.models,this.reportService.getReportContracts(),this.workbookService.workbooks),e.calculateLayout(),e.applyLayout())},I.prototype.updateDashboardContainer=function(t){if(t){for(var i=this.dashboardContainerModel,o=i.contract,r=this.modelConverter,a=function(i,a){var s=t[i],c=s.dashboards[0],l=c.id,d=n.findDashboard(l);d.contract=c,n.modelMerger.mergeDashboard(d,c,s.models,s.reports,s.workbooks),d.contract.cached&&!c.cached&&(d.contract.cached=!1);var p=t[i].packages||[],u=t[i].models||[];if(r.setDashboardIsSample(d,p),r.setDashboardHasOnPremiseModel(d,u),d.contract.tiles){var v=t[i].reports||[];d.contract.tiles.map((function(e){r.resolveTilePackage(e,p)}));for(var g=0;g<d.tiles.length;g++){var f=d.tiles[g];f.invalidateLayout();var m=r.getTileReport(f.contract.reportId,v);m&&(f.report=f.report||new h(m),r.fillReport(f.report,m))}}d.isLoaded=!0,e.contracts.mergeDashboardContainerModelsReportsAndPackages(s,o),n.reportService.mergeReportCollection(s.reports),n.modelService.mergeDatasetCollection(s.models),n.packageService.mergePackageCollection(s.packages),n.workbookService.mergeWorkbookCollection(s.workbooks)},n=this,s=0,c=t.length;s<c;s++)a(s,c);var l=this.modelMerger;l.mergeModelContentProviderId(o.models,o.packages),this.updateDashboard(),this.dashboardDataService.updateActiveDashboardModels()}var d=t.map((function(e){return e.dashboards[0]})),p=_.find(d,(function(e){return t[0].activeDashboardId}));this.syncService.monitorDashboards(p?[p]:[],t[0].userDashboardListVersion)},I.prototype.notifyForAddTile=function(t,i){var o=this,r=void 0===t?this.dashboardDataService.activeDashboard:this.dashboardDataService.findDashboard(t),a=r.contract,n=this.dashboardHttpService;if(r.getPermissions()===f.CopyOnWrite)return void this.rootScope.$emit(e.constants.personalizeEventName,r.contract.originalPackageId);if(e.dataServices.DashboardUtils.isWriteable(a)){if(!this.storageUsageService.checkQuotaExceeded(this.dashboards,e.telemetry.QuotaCheckOperation.AddTile,!0)){var s=function(){o.navigation.navigateToDashboardByGUID(r.objectId)},c={displayText:r.displayName,action:s},l={displayText:this.localizationService.get("ToastNotification_GoToDashboard"),action:s};return this.notificationToastService.notify({title:i?this.localizationService.get("PinLiveReport_NotificationMessage"):this.localizationService.get("PinTile_Success"),message:this.localizationService.get("PinTile_Success_DefaultDetails"),actionButtons:[l],actionLinks:[c]})}}else n.notifyReadOnly(a.id,!0)},I.prototype.pinTileWithoutNotification=function(t){if(!this.storageUsageService.checkQuotaExceeded(this.dashboards,e.telemetry.QuotaCheckOperation.AddTile)){var i=this.dashboardContainerModel,o=t.report;if(o){var r=this.reportService.findReport(o.id);r||(r=this.modelConverter.convertReport(o),this.reportService.addReport(r))}var a,n=this.modelConverter.convertTile(t.tile,i.contract.models,this.reportService.getReportContracts(),this.workbookService.getWorkbookContracts());t.showNotification&&(a=this.notifyForAddTile(t.dashboardId,t.isLiveReport));var s=null!=t.dashboardId?this.findDashboard(t.dashboardId):this.dashboardDataService.activeDashboard;if(s)if(n.contract.resourcePackageIds&&this.resourcePackageGateService.addResourcePackageIdToDashboard(s.objectId,n.contract.resourcePackageIds),this.addTileToDashboard(n,s),t.isTemporaryTile){var l=new c(n);this.selectDashboardTile(l),this.rootScope.$emit(e.constants.temporaryTilePinned)}else this.saveTile(n,s,t.parentEvent,a)}},I.prototype.addTileToDashboard=function(e,t){var i=t.contract;i.tiles||(i.tiles=[]);var o=t.tiles;if(e.contract.id=this.temporaryTileId--,i.tiles.push(e.contract),e.report&&e.report.id&&i.reportIds){var r=i.reportIds.indexOf(e.report.id);r===-1&&i.reportIds.push(e.report.id)}if(e.contract&&e.contract.workbookId&&i.workbookIds){var a=e.contract.workbookId,n=i.workbookIds.indexOf(a);n===-1&&i.workbookIds.push(a)}o.push(e),t.calculateLayout(),t.applyLayout()},I.prototype.saveTemporaryTile=function(e,t){this.saveTile(e,this.dashboardDataService.activeDashboard,t)},I.prototype.saveTile=function(t,i,o,r){var n=this;this.dashboardHttpService.addTile(i.contract,t.contract,this.dashboardContainerModel.contract.models,this.reportService.getReportContracts(),o.event).then((function(r){t.id=t.contract.id=r.data.id,t.contract.objectId=r.data.objectId,t&&t.contractsModel&&r&&r.data&&r.data.model&&(t.contractsModel.vsName=t.contractsModel.vsName||r.data.model.vsName,t.contractsModel.dbName=t.contractsModel.dbName||r.data.model.dbName),t.contract.workbookId&&n.dashboardSyncService.onTilesAddedOrUpdated(i.contract.id,[t.id]),t.invalidateLayout();var a=!!t.contract.modelId&&!_.any(i.tiles,(function(e){return e.contract.modelId===t.contract.modelId&&e!==t}));a&&n.updateDashboardToken(i),i&&i.isUsedByContentPack&&n.rootScope.$emit(e.constants.contentPackDirtyShowNotification,i.id,e.dataServices.models.ContentPackItems.Dashboard),o.resolve()}),(function(s){var c,l;s.status===e.HttpStatusCode.RequestEntityTooLarge?(c=n.localizationService.get("PinTile_Error_TooLarge"),l=n.localizationService.get("PinTile_Error_TooLargeDetails")):(c=n.localizationService.get("PinTile_Error"),l=n.localizationService.get("PinTile_Error_DefaultDetails")),r&&n.notificationToastService.hide(r),n.notificationToastService.notify({title:c,message:l,notificationType:e.common.NotificationToastType.Error}),n.removeTileFromDashboard(t,i),o.reject(a.getTelemetryErrorDetails(s.error))}))},I.prototype.updateDashboardToken=function(e){var t=this,i=this.promiseFactory.defer();return this.dashboardHttpService.getDashboards(this.promiseFactory,[e.id]).then((function(o){var r=o[0].data;r&&(t.modelMerger.mergeDashboardShallow(e,r.dashboards[0]),t.dashboardDataService.updateActiveDashboardModels(),i.resolve(null))}),(function(){return i.reject()})),i.promise},I.prototype.removeTemporaryTile=function(e){this.removeTileFromDashboard(e,this.dashboardDataService.activeDashboard)},I.prototype.navigateToShareDashboard=function(t){return __awaiter(this,void 0,e.Promise,(function(){var o;return __generator(this,(function(r){switch(r.label){case 0:if(this.viralTenantMergeHelperService.viewingDataFromMergedViralTenant())this.viralTenantMergeHelperService.displayFeatureDisabledErrorMessage("ArchivedContent_ErrorMessageSharing");else if(this.storageUsageService.checkQuotaExceeded(this.dashboards,e.telemetry.QuotaCheckOperation.ShareDashboard))return[2];return[4,this.checkUserNeedsProLicenseAndShowError(this.dashboardContainerModel.findDashboardByGUID(t),this.userInfo,this.licenseHelperService,this.licenseEnforcementService,this.localizationService,this.navigation,e.telemetry.LicenseEnforcementOperation.ShareDashboard)];case 1:return o=r.sent(),o||this.taskPaneSliderService.expandPane(b.SharingPane,i.Large),[2]}}))}))},I.prototype.checkUserNeedsProLicenseAndShowError=function(t,i,o,r,a,n,s,c){return void 0===c&&(c=null),__awaiter(this,void 0,e.Promise,(function(){var i,o,a;return __generator(this,(function(n){switch(n.label){case 0:return t?(o=r.checkUserLicenseSupportsDashboard,o?[4,r.checkUserLicenseSupportsDashboard(t.contract,s,!0)]:[3,2]):[2,!1];case 1:o=n.sent(),n.label=2;case 2:return(i=o)?[3,5]:(a=c,a?[4,r.checkUserLicenseSupportsDashboard(c.contract,s,!1)]:[3,4]);case 3:a=n.sent(),n.label=4;case 4:a?p.navigateToDashboard(c,this.navigation,this.appService,this.packageService):this.navigation.navigateToContentList(e.constants.myWorkSpaceGroupId),n.label=5;case 5:return[2,i]}}))}))},I.prototype.removeTileFromDashboard=function(e,t){var i=t.contract.tiles,o=_.findIndex(i,{id:e.id});o!==-1&&i.splice(o,1);var r=t.tiles,a=r.indexOf(e);a!==-1&&r.splice(a,1)},I.prototype.isDashboardNameValid=function(e,t){return!_.isEmpty(e)},I.prototype.beforeDashboardDeletingHandler=function(e){this.navigateAfterDashboardDelete(this.dashboardContainerModel,e)},I.prototype.afterDashboardDeletingHandler=function(t){this.tryResetHome(t),this.navigation.inFavoritesView()&&this.rootScope.$emit(e.constants.updateFavorites)},I.prototype.isAlertingEnabled=function(){return!0},I.prototype.isInFocusModeEnabled=function(){return!0},I})();I.updateActiveDashboardDelayMs=500,I.refreshTileDataDelayMs=500,I.loadDashboardTimeout=3e4,e.DashboardService=I})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,o,r,a,n,s,c,l,d){return new i(e,t,o,r,a,n,s,c,l,d)}e.createPublishedAppService=t;var i=(function(){function t(e,t,i,o,r,a,n,s,c,l){this.promiseFactory=e,this.contentPackService=t,this.errorService=i,this.localizationService=o,this.modelConverter=r,this.notificationToast=a,this.publishAppHttpService=n,this.appService=s,this.syncService=c,this.groupService=l,this.publishedApps=[],this.publishedAppsDeferred=e.defer(),this.syncService.addContentPackRefreshListener(this),this.groupService.addGroupChangedHandler(this),this.loadPublishedApps()}return t.prototype.onContentPackDeleted=function(e){_.remove(this.publishedApps,(function(t){return t.providerId===e}))},t.prototype.onGroupChanged=function(){this.publishedApps=[],this.loadPublishedApps()},t.prototype.addPublishedApp=function(e){this.findPublishedApp(e.objectId)||this.publishedApps.push(e)},t.prototype.findPublishedApp=function(e){return _.find(this.publishedApps,(function(t){return t.objectId===e}))},t.prototype.getPublishedAppsForCurrentGroup=function(){return this.publishedAppsDeferred?this.publishedAppsDeferred.promise:this.promiseFactory.resolve(this.publishedApps)},t.prototype.deletePublishedApp=function(t,i){var o=this,r=_.find(this.publishedApps,(function(e){return e.providerContract.providerKey===i}));if(!r)return this.promiseFactory.reject();var a=this.promiseFactory.defer(),n=this.errorService.control(),s=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Remove"),function(s,c){n.hideDialog(),_.pull(o.publishedApps,r),o.publishAppHttpService.deleteApp(t,i).then((function(){o.contentPackService.removeContentPacks([r.providerId]),o.contentPackService.markItemsUsedByContentPack(),a.resolve(null)}),(function(){o.publishedApps.push(r),o.notificationToast.notify({message:o.localizationService.get("App_Delete_FailedMessage"),notificationType:e.common.NotificationToastType.Error}),a.reject()}))}),new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){n.hideDialog(),a.resolve(null)})],c=this.localizationService.get("ContentList_Apps_Remove_App_Title"),l=this.localizationService.get("ContentList_Apps_Remove_App_Description");return n.showCustomDialog(c,angular.element("<div/>").text(l),s,(function(e){e.parent().find('input[value="'+o.localizationService.get("PBI_Button_Label_Cancel")+'"]').focus()}),!0),a.promise},t.prototype.publishOrUpdateApp=function(e,t,i){return t.objectId?this.publishAppHttpService.updateApp(e,t,i):this.publishAppHttpService.publishApp(e,t,i)},t.prototype.loadPublishedApps=function(){var e=this;this.publishedAppsDeferred&&this.publishedAppsDeferred.reject();var t=this.publishedAppsDeferred=this.promiseFactory.defer();this.groupService.ensureGroupsInitialization().then((function(i){e.contentPackService.getContentPacksForCurrentGroup().then((function(i){if(e.publishedAppsDeferred===t){var o=_.filter(i,(function(t){return e.appService.isAppCategory(t.providerContract.category)}));e.publishedApps=o.map((function(t){return e.modelConverter.convertAppPublishModel(t.providerContract)})),t.resolve(e.publishedApps),e.publishedAppsDeferred=null}}),(function(){t.reject()}))}),(function(){t.reject()}))},t})()})(powerbi||(powerbi={}));var common=powerbi.common,HostEnv=powerbi.common.HostEnv,services=powerbi.services;angular.module("powerbi.components",[]),angular.module("powerbi.controllers",[]),angular.module("powerbi.directives",[]),angular.module("powerbi.filters",[]);var modules=["angularFileUpload","powerbi.common","powerbi.common.directives","powerbi.connectivity","powerbi.components","powerbi.controllers","powerbi.directives","powerbi.filters","powerbi.visualHost","powerbi.dataServices","ui.router","ngSanitize"];powerbi.explore&&(modules.push("powerbi.explore"),modules.push("powerbi.infonavbootstrap")),powerbi.insights&&modules.push("powerbi.insights"),powerbi.settings&&(modules.push("powerbi.settings"),modules.push("powerbi.settings.components")),powerbi.userNotifications&&modules.push("powerbi.userNotifications"),powerbi.permissions&&modules.push("powerbi.permissions"),powerbi.capacityAdmin&&(modules.push("powerbi.capacityAdmin"),modules.push("powerbi.capacityAdmin.components")),angular.module("powerbi",modules).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(new RegExp(e.aHrefSanitizationWhitelist().source+"|^s*(data):"))}]).factory("syncService",["$timeout","promiseFactory","delayedQueryResultHandler","telemetryService","asyncFeatureSwitchService","pageVisibilityService",function(e,t,i,o,r,a){var n=common.createSyncService(e,t),s=powerbi.createDelayedQueryResultResolver(n,e,o);return i.setQueryResolver(s),r.getFeatureSwitches().then((function(e){e.autoPausedSyncService&&a.register(n)})),n}]).factory("userSettingsHttpService",[function(){return powerbi.createUserSettingsHttpService()}]).factory("favoritesHttp",["syncService","notificationToast",function(e,t){return powerbi.createFavoritesHttpService(e,t)}]).factory("settingsMetadataHttpService",[function(){return powerbi.createSettingsMetadataHttpService()}]).factory("o365ApplicationLauncherService",(function(){return powerbi.createO365ApplicationLauncherService()})).factory("refreshService",["modelHttpService","datasetsService","$rootScope","notificationToast","gatewaysMetadataService","featureSwitchService","promiseFactory","selectGatewayService","localizationService","modalDialogService",function(e,t,i,o,r,a,n,s,c,l){return powerbi.createRefreshService(e,t,i,o,r,a,n,s,c,l)}]).factory("geolocationService",powerbi.visuals.services.createGeolocation).factory("tileDisplay",["errorService",function(e){return powerbi.createTileDisplayService(e)}]).factory("modelConverter",["telemetryService","errorService","visualPlugin","promiseFactory","geolocationService","dataServiceModelConverter","localizationService",function(e,t,i,o,r,a,n){return powerbi.models.createModelConverter(e,t,i,o,r,a,n)}]).factory("contentProviderHttpService",["featureSwitchService","activeGroupId",function(e,t){return powerbi.common.createContentProviderHttpService(e,t)}]).factory("contentProviderService",["featureSwitchService","userInfo","localizationService","contentProviderHttpService","telemetryService","errorService","notificationToast","licenseHelperService","appService","promiseFactory","conceptualModelSetting",function(e,t,i,o,r,a,n,s,c,l,d){return powerbi.services.createContentProviderService(e,t,i,o,r,a,n,s,c,l,d)}]).factory("alertHttpService",["promiseFactory","telemetryService","errorService","localizationService",function(e,t,i,o){return powerbi.createAlertHttpService(e,t,i,o)}]).factory("subscriptionsHttp",["promiseFactory","telemetryService",function(e,t){return powerbi.createSubscriptionsHttpService(e,t)}]).factory("alertRuleService",powerbi.createAlertRuleService).factory("realTimeDataHttp",[function(){return powerbi.createRealTimeDataHttpService()}]).factory("powerBIDesktopLauncher",[function(){return common.powerBIDesktopLauncher}]).factory("realTimeLongPollData",["$timeout","tabularDataCache","realTimeDataHttp","telemetryService","promiseFactory",function(e,t,i,o,r){return services.createRealTimeLongPollDataService(e,t,i,o,r,{enableDataRefresh:!0})}]).factory("realTimePubNubData",["promiseFactory","realTimeDataHttp","tabularDataCache","telemetryService","moduleLoader","$timeout",function(e,t,i,o,r,a){return services.createRealTimePubNubDataService(e,t,i,o,r,a)}]).factory("realTimeData",["$rootScope","modelService","realTimeLongPollData","realTimePubNubData","tabularDataCache","pageVisibilityService",function(e,t,i,o,r,a){var n=services.createRealTimeDataService(e,t,i,o,r);return a.register(n),n}]).factory("realTimeModel",["conceptualSchemaProxy","errorService","localizationService","modelService","promiseFactory","realTimeDataHttp","telemetryService","$timeout",function(e,t,i,o,r,a,n,s){return services.createRealTimeModelService(e,t,i,o,r,a,n,s)}]).factory("modelMerger",["modelConverter","dataServiceModelMerger","permissionService",function(e,t,i){var o=powerbi.models.createModelMerger(e,t,i);return e.setModelMerger(o),o}]).factory("navigationStateValidator",["$timeout","impersonationService","permissionService","reportService",function(e,t,i,o){return services.createNavigationStateValidator(e,t,i,o)}]).factory("conceptualModelSetting",["featureSwitchService","tutorialDataStore",function(e,t){return powerbi.createConceptualModelSetting(e,t)}]).service("navigation",["$location","$window","$rootScope","$state","$stateParams","featureSwitchService","activeGroupId","home","navigationStateValidator","permissionNavigationService","conceptualModelSetting",services.Navigation]).config(["lazyProvider",function(e){var t=e.factories;t.insightsBootstrap={source:{javascript:"powerBI/services/insightsBootstrap"},ng:["insightsService","modelService","navigation","$rootScope","telemetryService"],fn:function(e,t,i,o,r,a){return e.create(t,i,o,r,a)}}}]).service("navigationActions",["$rootScope","contentPackService","dashboardService","errorService","featureSwitchService","groupService","localizationService","modalDialogService","modelService","navigation","notificationToast","packageService","quota","reportService","telemetryService","workbookService","ownership","lazy",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){return services.createNavigationActions(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m)}]).factory("fullScreen",["$rootScope","navigation","$document",function(e,t,i){return services.createFullScreenService(e,t,i)}]).factory("historyDialogService",["$rootScope","$compile",function(e,t){return powerbi.createHistoryDialogService(e,t)}]).factory("groupService",["$location","$rootScope","$timeout","telemetryService","errorService","localizationService","groupHttp","activeGroupId","featureSwitchService","userInfo","reportService","modelService","promiseFactory","navigation","workbookService","packageService","licenseHelperService","appMetadataService","home","appService",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y){var S={location:e,rootScope:t,timeout:i,telemetryService:o,errorService:r,localizationService:a,groupHttpService:n,activeGroupIdService:s,featureSwitchService:c,userInfo:l,appService:y,reportService:d,modelService:p,promiseFactory:u,navigation:v,workbookService:h,packageService:g,licenseHelperService:f,appMetadataService:m,home:b};return powerbi.createGroupService(S)}]).factory("groupContextMenuService",["$window","$rootScope","errorService","groupHttp","groupService","localizationService","modalDialogService","navigation","promiseFactory","taskPaneSliderService","telemetryService",function(e,t,i,o,r,a,n,s,c,l,d){var p={rootScope:t,$window:e,errorService:i,groupHttp:o,groupService:r,localizationService:a,modalDialogService:n,navigation:s,promiseFactory:c,taskPaneSliderService:l,telemetryService:d};return powerbi.createGroupContextMenuService(p)}]).factory("scriptVisuals",["featureSwitchService","localizationService","userInfo","visualPlugin","embedModeService",function(e,t,i,o,r){return powerbi.explore.services.createScriptVisualsService(o,e,t,i,r)}]).factory("embed",["$location","promiseFactory","featureSwitchService","dataReaderProvider","explorationSerializer","conceptualSchemaProxy","dataProxy","displayNameService","visualPlugin","aggrOps","telemetryService","scriptVisuals","activeGroupId",function(e,t,i,o,r,a,n,s,c,l,d,p,u){var v=powerbi.explore.services.createVisualPluginOps(c),h=powerbi.explore.services.createVisualRelationshipService(c,v),g=powerbi.explore.services.createSortService(s,i,c),f=powerbi.explore.services.createFilterGenerator(common.createEventBridge(),c,l,h,{getSelectedHostFilters:function(){return null}},d,p),m=powerbi.data.transforms.createTransformPluginService(),b=powerbi.explore.services.createVisualQueryGenerator({dataReaders:o,displayNameService:s,featureSwitchService:i,plugin:c,pluginOps:v,sortService:g,aggrOps:l,filterGenerator:f,transformPluginService:m,telemetryService:d});return powerbi.explore.services.createEmbedService(e,t,r,a,b,n,c,s,f,u)}]).factory("dynamicMessagingDataHttp",[function(){return powerbi.createDynamicMessagingDataHttpService()}]).service("dynamicMessagingData",["dynamicMessagingDataHttp","userNotificationInfo","userInfo","telemetryService","localizationService","asyncFeatureSwitchService",function(e,t,i,o,r,a){return powerbi.createDynamicMessagingDataService(e,t,i,o,r,a)}]).service("dashboardStateChangeService",["$rootScope","dashboardDataService","dashboardService","dashboardWarningsService","errorService","featureSwitchService","groupService","inFocusService","licenseEnforcementService","licenseHelperService","localizationService","modelConverter","mostRecentlyUsedService","navigation","permissionService","$timeout","telemetryService","userInfo","appService","subscription","taskPaneSliderService",services.DashboardStateChangeService]).service("dashboardConfigurationService",(function(){return services.createDashboardConfigurationService()})).service("dashboardWarningsService",["$rootScope","telemetryService","dashboardDataService","resourceGateService","featureSwitchService","tutorialDataStore","notificationBar","resourcePackageListenerService","embedModeService","localizationService","visualPlugin",services.DashboardWarningsService]).service("dashboardService",["$location","$rootScope","navigation","$timeout","telemetryService","errorService","modelMerger","modelConverter","syncService","dashboardConfigurationService","dashboardDataService","dashboardHttpService","dashboardSyncService","dashboardWarningsService","fullScreen","localizationService","promiseFactory","reportService","modelHttpService","viralTenantMergeHelperService","groupService","featureSwitchService","modelService","licenseEnforcementService","userInfo","licenseHelperService","contentProviderHttpService","storageUsageService","appMetadataService","permissionService","workbookService","notificationBar","notificationToast","resourcePackagesService","userSettingsService","visualPlugin","invitationService","resourceGateService","home","packageService","permissionDataService","inFocusService","userActivityContextService","mostRecentlyUsedService","appService","editableFeatureSwitchService","conceptualModelSetting","taskPaneSliderService","fileSaver",powerbi.DashboardService]).service("explorationLoader",["$rootScope","$timeout","modelConverter","explorationProxy","localizationService","telemetryService","navigation","modelService","packageService","notificationBar","errorService","userActivityContextService",services.ExplorationLoader]).factory("contentPackService",["$rootScope","appService","errorService","telemetryService","modelConverter","syncService","contentProviderHttpService","localizationService","navigation","dashboardService","featureSwitchService","userInfo","licenseHelperService","notificationToast","reportService","modelService","permissionService","workbookService","promiseFactory","quota","modalDialogService","groupService",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C){
return powerbi.createContentPackService(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C)}]).factory("tenantContentPackService",["telemetryService","featureSwitchService","contentProviderHttpService","promiseFactory","modelConverter",function(e,t,i,o,r){return powerbi.createTenantContentPackSerivce(e,t,i,o,r)}]).factory("storageUsageService",["$rootScope","telemetryService","errorService","dashboardHttpService","localizationService","featureSwitchService","reportService","modelService","promiseFactory","navigation","userInfo","groupService","workbookService","licenseHelperService","permissionService",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h){return powerbi.createStorageUsageService(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h)}]).factory("quota",["storageUsageService","dashboardService",function(e,t){return services.createQuota(e,t)}]).factory("usageMetricsHttp",["$http","promiseFactory","telemetryService","activeGroupId","httpRequestWorker",function(e,t,i,o,r){var a=new common.HttpService(e,t,i,o,r);return powerbi.createUsageMetricsHttpService(i,t,a)}]).factory("groupHttp",["telemetryService","activeGroupId",function(e,t){return powerbi.createGroupHttpService(e,t)}]).factory("tutorialPopup",["telemetryService","userInfo","tutorialDataStore","applicationOptions","featureSwitchService","localizationService","navigation","conceptualModelSetting","rtl","appMetadataService","groupHttp",function(e,t,i,o,r,a,n,s,c,l,d){return powerbi.createTutorialPopupService(e,t,i,o,r,a,n,s,c,l,d)}]).factory("userSettingsService",["telemetryService","modelConverter","promiseFactory","userSettingsHttpService","errorService","localizationService","appMetadataService","networkAvailability","$rootScope",function(e,t,i,o,r,a,n,s,c){return powerbi.createUserSettingsService(e,t,i,o,r,a,n,s,c)}]).factory("settingsMetadataService",["promiseFactory","settingsMetadataHttpService","telemetryService",function(e,t,i){return powerbi.createSettingsMetadataService(e,t,i)}]).factory("licenseEnforcementService",["$rootScope","localizationService","userInfo","licenseHelperService","modelService","reportService","checkUnsavedService","promiseFactory","userNotificationInfo","featureSwitchService",function(e,t,i,o,r,a,n,s,c,l){return new powerbi.LicenseEnforcementService(e,t,i,o,r,a,n,s,c,l)}]).factory("pinTileService",["$rootScope","errorService","telemetryService","localizationService","modalDialogService","modelConverter","visualPlugin","themeService","visualStylePresetService","userSettingsService","reportService","modelService","workbookService","dashboardService","packageService","explorationSerializer","promiseFactory","moduleLoader","featureSwitchService",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){return powerbi.createPinTileService(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b)}]).service("previewFeaturesModalService",["$rootScope","$document","telemetryService","localizationService","modalDialogService","tutorialDataStore",services.PreviewFeaturesModalService]).factory("inFocusService",["$rootScope","telemetryService","modelConverter","modelService","reportService","localizationService","visualPlugin",function(e,t,i,o,r,a,n){return services.createInFocusService(e,t,i,o,r,a,n)}]).factory("home",["$rootScope","errorService","localizationService","notificationToast","telemetryService","promiseFactory",function(e,t,i,o,r,a){return services.createHome(e,t,i,o,r,a)}]).service("bootstrapService",["$rootScope","dashboardService","dashboardDataService","modelService","telemetryService","localizationService","navigation","notificationToast","storageUsageService","errorService","favorites","mostRecentlyUsedService","home","groupService","promiseFactory","workbookService","conceptualModelSetting","storeAppInstall","packageService","appService","lazy",services.BootstrapService]).factory("checkSigninService",[function(){return new common.DefaultCheckSigninService}]).factory("qrCodeService",["$rootScope","$compile","promiseFactory","localizationService","dashboardHttpService","reportHttpService","errorService","modalDialogService","telemetryService","moduleLoader",function(e,t,i,o,r,a,n,s,c,l){return powerbi.createQRCodeService(e,t,i,o,r,a,n,s,c,l)}]).factory("ownership",["packageService",function(e){return powerbi.createOwnershipService(e)}]).factory("filterPersistenceService",["promiseFactory","userSettingsService","telemetryService",function(e,t,i){return services.createFilterPersistenceService(e,t,i)}]).factory("mostRecentlyUsedService",["promiseFactory",function(e){return services.createMostRecentlyUsedServicePlaceholder(e)}]).factory("printService",["$rootScope",function(e){return powerbi.createPrintService(e)}]).factory("pageVisibilityService",["telemetryService","$document",function(e,t){return powerbi.createPageVisibilityService({logPageInactiveToTelemetry:!0},e,t)}]).factory("invitationService",["promiseFactory","telemetryService",function(e,t){return powerbi.createInvitationService(e,t)}]).factory("pageTitle",["localizationService","navigation","dashboardService","reportService","workbookService","$window","$rootScope",function(e,t,i,o,r,a,n){return services.createPageTitleService(e,t,i,o,r,a,n)}]).factory("shareSliderService",["navigation","$rootScope","taskPaneSliderService",function(e,t,i){return services.createShareSliderService(e,t,i)}]).factory("favorites",["telemetryService","favoritesHttp","activeGroupId","promiseFactory","dashboardService","$rootScope","featureSwitchService","notificationToast","localizationService","errorService","permissionService","appMetadataService","navigation","tutorialDataStore","dataClassificationService","appService","mostRecentlyUsedService",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){return powerbi.createFavoritesService(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f)}]).factory("usageMetricsReport",["usageMetricsHttp","navigation","localizationService","notificationToast","errorService","reportService","promiseFactory","packageService","modelService",function(e,t,i,o,r,a,n,s,c){return services.createUsageMetricsReportService(e,t,i,o,r,a,n,s,c)}]).factory("contentList",["telemetryService","dashboardService","reportService","navigation","modelService","analyzeInExcel","workbookService","contentPackService","localizationService","packageService","errorService","$rootScope","modalDialogService","exportToPowerPoint","refreshService","permissionService","settingsMetadataService","$location","$window","favorites","shareSliderService","groupService","appService","promiseFactory","publishedAppService","mostRecentlyUsedService","dataServiceModelConverter","conceptualModelSetting","dashboardDataService","taskPaneSliderService","ownership","usageMetricsReport","lazy",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,D,M,T,E,P,k,A,L,N){return powerbi.createContentListService(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,D,M,T,E,P,k,A,L,N)}]).factory("visualPlugin",["asyncFeatureSwitchService","promiseFactory","resourceLoader","telemetryService",function(e,t,i,o){return powerbi.createDashboardVisualPluginService(e,t,i,o,{tooltipsEnabled:!0})}]).factory("visualStylePresetService",(function(){return powerbi.visualHost.services.createVisualStylePresetService()})).factory("exportStaticReportProxy",["promiseFactory","errorService","localizationService",function(e,t,i){return powerbi.proxies.createExportStaticReportProxy(e,t,i)}]).factory("exportStaticExplorationService",["exportStaticReportProxy","notificationToast","localizationService",function(e,t,i){return services.createExportStaticExplorationService(e,t,i)}]).factory("breadcrumbFactory",["localizationService","navigation","groupService","dashboardDataService","home","reportService","workbookService","modelService","permissionService","userInfo","asyncFeatureSwitchService","promiseFactory","ownership","appService","conceptualModelSetting","dataServiceModelConverter","packageService",powerbi.models.factory.createBreadcrumbFactory]).factory("publishedAppService",["promiseFactory","contentPackService","errorService","localizationService","modelConverter","notificationToast","publishAppHttpService","appService","syncService","groupService",function(e,t,i,o,r,a,n,s,c,l){return powerbi.createPublishedAppService(e,t,i,o,r,a,n,s,c,l)}]).factory("publishAppHttpService",[function(){return powerbi.createPublishAppHttpService()}]).factory("storeAppInstall",["appService","navigation","promiseFactory","contentProviderService","contentProviderHttpService","errorService","localizationService","telemetryService","quota","modalDialogService","$rootScope",function(e,t,i,o,r,a,n,s,c,l,d){return services.createStoreAppInstallService(e,t,i,o,r,a,n,s,c,l,d)}]).factory("httpRequestWorker",["promiseFactory","telemetryService","localizationService","errorService","$timeout","$window","embedModeService","checkSigninService","clusterUriRetriever","httpUriRedirector","urlInterceptor","userActivityContextService","logger",function(e,t,i,o,r,a,n,s,c,l,d,p,u){return powerbi.common.createHttpRequestWorker(e,t,i,o,r,a,n,null,s,c,l,d,p,u)}]).factory("trustedVisual",["promiseFactory","featureSwitchService","localizationService","resourceLoader","visualSandbox","visualConsent","approvedResourceService","$rootScope","errorService","modalDialogService","userSettingsService","telemetryService",function(e,t,i,o,r,a,n,s,c,l,d,p){var u=powerbi.visualHost.createTrustedVisualService(e,p,a,n,r,o);return u.registerTrustedVisual([powerbi.visualHost.EsriVisual],powerbi.helpers.EsriVisualHelper.createRegisterTrustedVisualOptions(e,s,c,l,t,i,d,p,u,a)),u.registerTrustedVisual([powerbi.visualHost.VisioVisual,powerbi.visualHost.VisioDFVisual],powerbi.explore.utils.VisioVisualHelper.createVisioVisualRegisterOptions()),u}]).run(["$http","$rootScope","promiseFactory","telemetryService","errorService","activeGroupId","featureSwitchService","checkSigninService","clusterUriRetriever","httpUriRedirector","urlInterceptor","expiredTokenSink","$window","$timeout","logger","embedModeService","httpRequestWorker",function(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f){powerbi.common.localize=common.createLocalizationService(o,i),powerbi.common.httpService=new common.HttpService(e,i,o,a,f),powerbi.common.featureSwitchService=n,powerbi.notifyDashboardContainerReady=function(e){t.$emit(powerbi.dataServices.constants.initialDashboardContainerReadyEventName,e)},powerbi.logBootstrapInfo=function(e){o.logEvent(powerbi.telemetry.AppAngularBootstrap,e.start,e.end)},powerbi.visuals&&powerbi.explore.services.VisualHostServices.initialize(powerbi.common.localize)}]).run(["groupService",function(e){}]).run(["licenseEnforcementService",function(e){}]).run(["printService",function(e){}]).run(["pageVisibilityService",function(e){}]).run(["dynamicMessagingData",function(e){}]).run(["scopedProvider",function(e){e.register("exportData",{services:["promiseFactory","notificationToast","localizationService","conceptualSchemaProxy","featureSwitchService","visualPlugin","displayNameService","aggrOps"],scopedServices:["exportVisualData","filterRestatement","drillToDetails","visualPluginOps"],fn:function(e,t,i,o,r,a,n,s,c,l,d,p){return powerbi.createExportDataService(e,t,i,o,a,p,c,r,n,s,l,d)}})}]);var powerbi;!(function(e){function t(t,i){void 0===i&&(i=[]);var o="powerbi.controllers."+t;i.push(e.controllers[t]),angular.module("powerbi.controllers").controller(o,i)}function i(e,t){var i=_.camelCase(t);return e.get(i)}function o(t){var i=[{name:"AlertsEditor",blockType:2,consumerHostFlags:HostEnv.Web},{name:"AppArtifactsList",blockType:2,consumerHostFlags:HostEnv.Web},{name:"AppChannelHeader",blockType:2,consumerHostFlags:HostEnv.Web},{name:"AppContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"AppLogo",blockType:2,consumerHostFlags:HostEnv.Web},{name:"AppPlaceholder",blockType:2,consumerHostFlags:HostEnv.Web},{name:"AppsContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"BackgroundImage",dependencies:["localizationService"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"Breadcrumbs",blockType:2,consumerHostFlags:HostEnv.Web},{name:"CollapsiblePane",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"CompositeTile",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"ContentListContainerV2",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentListGallery",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentProvider",dependencies:["$timeout"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderChildTile",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderConfiguration",dependencies:["$timeout","$window","$rootScope","localizationService","navigation","contentProviderService"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderEventTile",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderLinkTile",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderLocalFile",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderLocalFileTile",dependencies:["localFileService","quota","promiseFactory"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderNormalTile",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderSplash",dependencies:["telemetryService","navigation"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderStore",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderTileBody",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentProviderTileBrowser",dependencies:["$timeout","$window","navigation","telemetryService","localizationService","viralTenantMergeHelperService","userInfo","licenseHelperService","quota","contentProviderService","rtl","windowMetrics"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"ContentDatasetActions",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentTile",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentRow",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentHeader",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentRowContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentTileContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContentTileOptionsMenu",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ContextMenu",dependencies:["rtl","windowMetrics"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"CreateAppChannel",blockType:2,consumerHostFlags:HostEnv.Web},{name:"CreateAppChannelAccess",blockType:2,consumerHostFlags:HostEnv.Web},{name:"CreateAppChannelContent",blockType:2,consumerHostFlags:HostEnv.Web},{name:"CreateAppChannelDetails",blockType:2,consumerHostFlags:HostEnv.Web},{name:"CreateGroupBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"EditGroupBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ViewGroupBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"CustomValidator",dependencies:["$timeout"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"CustomValidatorSynchronizer",blockType:1,consumerHostFlags:HostEnv.Web},{name:"Dashboard",dependencies:["telemetryService","gridLayout","userActivityContextService","appService","packageService","$timeout","groupService"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"DashboardContainer",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"DashboardEditMobileDisplay",blockType:2,consumerHostFlags:HostEnv.Web},{name:"DashboardNavigationPaneListItem",blockType:1,consumerHostFlags:HostEnv.Web},{name:"DashboardPane",blockType:2,consumerHostFlags:HostEnv.Web},{name:"DashboardPrinter",dependencies:["$rootScope","$compile","featureSwitchService","localizationService"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"DashboardTile",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"DashboardTileList",blockType:2,consumerHostFlags:HostEnv.Web},{name:"DashboardTileOpenOptions",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"DashboardTileOptionsMenu",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"ClassificationLabel",blockType:2,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"DatasetIconContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"DatasetNavigationPaneListItem",blockType:1,consumerHostFlags:HostEnv.Web},{name:"DevToolsView",blockType:1,consumerHostFlags:HostEnv.Web},{name:"EditIframeWidget",dependencies:["featureSwitchService","explorationSerializer"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"EditImageWidget",dependencies:["featureSwitchService","explorationSerializer"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"EditTextWidget",blockType:1,consumerHostFlags:HostEnv.Web},{name:"EditVideoWidget",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ErrorPlaceholder",blockType:2,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"ExcelUploadFormat",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ExplorationContainer",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.ExploreHost|HostEnv.StandaloneReportHost},{name:"ExploreCanvasPrinter",dependencies:["$rootScope","$compile","featureSwitchService","localizationService"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"ExploreCompatibilityContainer",dependencies:["$window"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.ExploreHost|HostEnv.StandaloneReportHost},{name:"ExportDataDialog",blockType:2,consumerHostFlags:HostEnv.Web|HostEnv.ExploreHost|HostEnv.StandaloneReportHost|HostEnv.InvitationHost},{name:"FavoritesContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"FeaturedDashboardContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"FullScreenControls",dependencies:["fullScreen","navigation"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"FlyoutToggle",dependencies:["$window"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"GroupActions",blockType:2,consumerHostFlags:HostEnv.Web},{name:"GroupIcon",blockType:2,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"GroupList",blockType:2,consumerHostFlags:HostEnv.Web},{name:"GroupNavigationPaneListItem",blockType:1,consumerHostFlags:HostEnv.Web},{name:"GroupSwitcher",blockType:2,consumerHostFlags:HostEnv.Web},{name:"GroupSwitcherV2",blockType:2,consumerHostFlags:HostEnv.Web},{name:"HistoryDialog",blockType:1,consumerHostFlags:HostEnv.Web},{name:"IframeTile",dependencies:["$window","networkAvailability","localizationService"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"ImageTile",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"InFocus",dependencies:["promiseFactory"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"Insights",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"InstallStoreAppDialog",blockType:2,consumerHostFlags:HostEnv.Web},{name:"IntroduceAppBar",blockType:2,consumerHostFlags:HostEnv.Web},{name:"IntroduceAppDialog",blockType:2,consumerHostFlags:HostEnv.Web},{name:"LandingContainer",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"LoadNotificationDialog",blockType:1,consumerHostFlags:HostEnv.Web},{name:"LocalFileBrowser",dependencies:["localizationService","errorService","featureSwitchService","$timeout"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"MakeACopyDialog",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ManageDatasets",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ManageEmbedView",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ManageStorageView",blockType:1,consumerHostFlags:HostEnv.Web},{name:"MarketplaceHost",blockType:2,consumerHostFlags:HostEnv.Web},{name:"MetadataContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ModelTile",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"NavigationBar",blockType:1,consumerHostFlags:HostEnv.Web},{name:"NavigationPane",blockType:1,consumerHostFlags:HostEnv.Web},{name:"NavigationPaneV2",blockType:2,consumerHostFlags:HostEnv.Web},{name:"NavPaneFlyoutButton",blockType:2,consumerHostFlags:HostEnv.Web},{name:"NpsHost",blockType:1,consumerHostFlags:HostEnv.Web},{name:"O365ApplicationLauncher",blockType:1,consumerHostFlags:HostEnv.Web},{name:"OnLoad",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"PbiDataLoaderSpinner",dependencies:["localizationService","$timeout"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"PinTileDialog",dependencies:["$timeout"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"PopupNotificationDialog",blockType:2,consumerHostFlags:HostEnv.Web},{name:"PreviewFeaturesModal",blockType:2,consumerHostFlags:HostEnv.Web},{name:"PreviewFeedbackModal",blockType:2,consumerHostFlags:HostEnv.Web},{name:"PrintableImage",blockType:2,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"ProgressDialog",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ProviderTile",blockType:1,consumerHostFlags:HostEnv.Web},{name:"PublishContentPackView",blockType:1,consumerHostFlags:HostEnv.Web},{name:"PublishTenantContentPackView",blockType:1,consumerHostFlags:HostEnv.Web},{name:"PubNubEditor",blockType:2,consumerHostFlags:HostEnv.Web},{name:"QnaContainer",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"QrCodeDialog",blockType:1,consumerHostFlags:HostEnv.Web},{name:"QrCodeProgressDialog",blockType:1,consumerHostFlags:HostEnv.Web},{name:"QuickAccessPane",dependencies:[],blockType:2,consumerHostFlags:HostEnv.Web},{name:"RealTimeBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"RealTimeTile",blockType:2,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"RealTimeTileVisualizationDesign",blockType:2,consumerHostFlags:HostEnv.Web},{name:"RecentlyViewedContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"RefreshStatus",blockType:1,consumerHostFlags:HostEnv.Web},{name:"RefreshWelcome",blockType:1,consumerHostFlags:HostEnv.Web},{name:"RelatedContentBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"RelatedContentDatasetRow",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ReportNavigationPaneListItem",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ReportTile",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"RequestDashboardAccess",blockType:1,consumerHostFlags:HostEnv.Web},{name:"RequestDashboardAccessModal",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SelectButton",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SelectTileFilter",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SelectArtifactFilter",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SelectDatasetDialog",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SelectTileSort",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsCommunications",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsCloseAccount",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsAlerts",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsDashboard",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsDashboardBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsDashboards",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsDataset",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsDatasetFeaturedQuestions",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsDatasets",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsEsri",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsGeneral",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsLanguage",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsPlugins",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsPreviewFeatures",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsPrivacy",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsPublishedContent",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsSubscriptions",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsViewer",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SettingsWorkbookBlade",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SettingsWorkbooks",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SharedWithMeContainer",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SharePointUrlInput",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SharePointUrlModal",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ShareView",blockType:1,consumerHostFlags:HostEnv.Web},{name:"SharedByColumn",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SsrsTile",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"StreamingDataSample",blockType:2,consumerHostFlags:HostEnv.Web},{name:"StreamingDatasetEditor",blockType:2,consumerHostFlags:HostEnv.Web},{name:"StreamingDatasetGallery",blockType:2,consumerHostFlags:HostEnv.Web},{name:"StreamingDatasetPushInfo",blockType:2,consumerHostFlags:HostEnv.Web},{name:"SubscriptionPane",blockType:2,consumerHostFlags:HostEnv.Web},{name:"TaskPaneSlider",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"Then",blockType:4,consumerHostFlags:HostEnv.Web},{name:"Tile",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"TileEditor",dependencies:["$compile"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"TileGallery",blockType:1,consumerHostFlags:HostEnv.Web},{name:"UsageBar",blockType:1,consumerHostFlags:HostEnv.Web},{name:"UsageBarMenuItem",dependencies:["quota","modelService","workbookService","groupService","featureSwitchService"],blockType:1,consumerHostFlags:HostEnv.Web},{name:"UserGroupHeader",blockType:1,consumerHostFlags:HostEnv.Web},{name:"UserInfoContainer",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"UserNotifications",blockType:2,consumerHostFlags:HostEnv.Web},{name:"ViewContentPack",blockType:1,consumerHostFlags:HostEnv.Web},{name:"ViewTenantContentPackView",blockType:1,consumerHostFlags:HostEnv.Web},{name:"WarningBar",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"WaterMarkMessage",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"WorkbookAppBar",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"WorkbookContainer",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"WorkbookContainer",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"WorkbookDiscoverabilityToast",blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost},{name:"WorkbookNavigationPaneListItem",blockType:1,consumerHostFlags:HostEnv.Web},{name:"WorkbookNavigationPaneListItem",blockType:1,consumerHostFlags:HostEnv.Web},{name:"WorkbookTile",dependencies:["networkAvailability","localizationService"],blockType:1,consumerHostFlags:HostEnv.Web|HostEnv.InvitationHost|HostEnv.DashboardHost|HostEnv.StandaloneDashboardHost},{name:"WorkspacesContainer",dependencies:[],blockType:2,consumerHostFlags:HostEnv.Web}];e.common.registerBuildingBlocksForHost(t,i,{componentsTarget:"powerbi.components",componentsMap:e.components,directivesTarget:"powerbi.directives",directivesMap:e.directives,filtersTarget:"powerbi.filters",filtersMap:e.filters})}e.registerController=t,e.getService=i,e.registerBuildingBlocksForHost=o})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i;!(function(e){e[e.APIPush=1]="APIPush",e[e.PubNub=2]="PubNub",e[e.Link=3]="Link"})(i=t.StreamingDatasetOptionType||(t.StreamingDatasetOptionType={}));var o;!(function(t){function o(e){return[{text:e.get("DatasetContextMenu_Rename"),action:4},{text:e.get("DatasetContextMenu_Personalize"),action:9},{text:e.get("DatasetContextMenu_Delete"),action:7},{text:e.get("DatasetContextMenu_ManageRefresh"),action:6},{text:e.get("DatasetContextMenu_RefreshNow"),action:5},{text:e.get("DashboardContextMenu_RefreshInfo"),action:13},{text:e.get("DatasetContextMenu_AnalyzeInExcel"),action:8},{text:e.get("DashboardContextMenu_CreateReport"),action:1,iconClass:"pbi-glyph-create-report"},{text:e.get("DatasetContextMenu_GetInsights"),action:2},{text:e.get("DatasetContextMenu_GettingInsights"),action:11},{text:e.get("DatasetContextMenu_ViewInsights"),action:12},{text:e.get("DatasetContextMenu_GranularSecurity"),action:3},{text:e.get("DatasetContextMenu_DatasetSettings"),action:10},{text:e.get("StreamingDatasetModel_APIInfo"),action:14,iconClass:"pbi-glyph-info"},{text:e.get("StreamingDatasetModel_Edit"),action:15,iconClass:"pbi-glyph-edit"},{text:e.get("StreamingDatasetModel_Delete"),action:16,iconClass:"pbi-glyph-delete"},{text:e.get("DatasetContextMenu_DownloadDataset"),action:17}]}function r(e,i){var o=_.filter(t.rowMenuActions(i),(function(t){return _.any(e,(function(e){return e===t.action}))}));return o}function a(t,o){var r=[{displayName:o.get("StreamingDataset_API"),type:i.APIPush,cssClass:"real-time-push-api"},{displayName:e.constants.streamingDatasetModelPubNub,type:i.PubNub,cssClass:"real-time-pubnub"}];return t.featureSwitches.realTimeASAEnabled&&r.push({displayName:o.get("StreamingDataset_ASA"),type:i.Link,cssClass:"real-time-asa",link:"https://go.microsoft.com/fwlink/?LinkID=808648"}),r}t.rowMenuActions=o,t.customizeRowMenuActions=r,t.getStreamingDatasetOptions=a})(o=t.DatasetsMenuFactory||(t.DatasetsMenuFactory={}))})(i=t.factory||(t.factory={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(t){var i;!(function(t){function i(t,i,o,r){return r=r||0,{enabled:!0,isExpanded:!0,emailNotificationEnabled:!0,frequency:0,isNew:!0,measureName:i,operator:0,tileName:t,title:o,thresholdValue:r.toString(),alertFailureState:e.AlertFailureState.None}}t.createEmptyAlert=i})(i=t.AlertsModelFactory||(t.AlertsModelFactory={}))})(t=e.factory||(e.factory={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.DashboardFormat=0]="DashboardFormat",e[e.ReportFormat=1]="ReportFormat"})(t=e.TileDialogPreviewFormats||(e.TileDialogPreviewFormats={}));var i;!(function(e){e[e.User=0]="User",e[e.Group=1]="Group"})(i=e.DashboardAccessInfoKind||(e.DashboardAccessInfoKind={}));var o;!(function(e){e[e.Report=0]="Report"})(o=e.ExternalConnectionContainerType||(e.ExternalConnectionContainerType={}));var r;!(function(e){e[e.Model=0]="Model"})(r=e.ExternalConnectionType||(e.ExternalConnectionType={}));var a;!(function(e){e[e.Dashboard=1]="Dashboard",e[e.Report=2]="Report",e[e.Workbook=3]="Workbook"})(a=e.LandingView||(e.LandingView={}));var n;!(function(e){e[e.DashboardViewer=0]="DashboardViewer",e[e.QnaVisualization=1]="QnaVisualization"})(n=e.DashboardContainerViewMode||(e.DashboardContainerViewMode={}));var s;!(function(e){e[e.Unknown=0]="Unknown",e[e.OneTimeOnly=1]="OneTimeOnly",e[e.Daily=2]="Daily",e[e.Weekly=4]="Weekly",e[e.Monthly=8]="Monthly",e[e.MonthlyDays=16]="MonthlyDays",e[e.AfterDataRefresh=32]="AfterDataRefresh"})(s=e.FrequencyType||(e.FrequencyType={}));var c;!(function(e){e[e.Unused=0]="Unused",
e[e.First=1]="First",e[e.Second=2]="Second",e[e.Third=4]="Third",e[e.Fourth=8]="Fourth",e[e.Last=16]="Last"})(c=e.FrequencyRelativeInterval||(e.FrequencyRelativeInterval={}));var l;!(function(e){e[e.Unknown=0]="Unknown",e[e.AtSpecifiedTime=1]="AtSpecifiedTime",e[e.Seconds=2]="Seconds",e[e.Minutes=4]="Minutes",e[e.Hours=8]="Hours"})(l=e.FrequencySubdayType||(e.FrequencySubdayType={}));var d;!(function(e){e[e.Popup=0]="Popup",e[e.NotificationPane=1]="NotificationPane",e[e.NotificationBar=2]="NotificationBar"})(d=e.DynamicMessageNotificationType||(e.DynamicMessageNotificationType={}));var p;!(function(e){e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High"})(p=e.DynamicMessageNotificationLevel||(e.DynamicMessageNotificationLevel={}));var u;!(function(e){e[e.OpenLink=0]="OpenLink",e[e.EnablePreviewFeatures=1]="EnablePreviewFeatures"})(u=e.DynamicMessageActionType||(e.DynamicMessageActionType={}))})(t=e.contracts||(e.contracts={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t;!(function(e){function t(){return[{id:0,iconClass:"pbi-glyph-barchart"},{id:1,iconClass:"pbi-glyph-paintbrush"}]}function i(e){return[{type:0,text:e.get("Realtime_VisualizationDesign")},{type:1,text:e.get("TileEditorPane_TileDetailsTabHeader")}]}function o(e){var t=e.localizationService;return[{iconClass:"pbi-glyph-securityalert",show:e.showWebContent,itemClass:"webContentIcon",tooltip:function(){return t.get("WebContentWarning_Widget")},action:2,hasBadge:!1},{iconClass:"pbi-glyph-warning",show:e.showWarning,itemClass:"warningIcon",tooltip:e.warningToolTipSetter,action:1,hasBadge:!1},{iconClass:"pbi-glyph-bell",show:e.showNotifications,itemClass:"notifications",tooltip:function(){return t.get("Alerts_NotificationTooltip")},action:0,badgeValueSetter:e.badgeTextSetter,hasBadge:!0},{iconClass:"pbi-glyph-realtime",show:e.showRealTime,itemClass:"",tooltip:function(){return t.get("Realtime_IconHoverText")},hasBadge:!1}]}e.realTimeConfigTabs=t,e.getRealTimeTileEditHeaderTabs=i,e.getDashboardTileIcons=o})(t=e.TileOptionsFactory||(e.TileOptionsFactory={}))})(t=e.factory||(e.factory={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.AllContent=0]="AllContent",e[e.MyContent=1]="MyContent",e[e.SharedWithMe=2]="SharedWithMe"})(t=e.OwnershipFilterMenuFilter||(e.OwnershipFilterMenuFilter={}));var i=(function(){function e(){}return e})();e.NavigationPaneModel=i})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){e.Then=function(){return function(e,t){if("function"==typeof t){var i=_.drop(arguments,2);return i.unshift(e),t.apply(null,i)}return e}}})(t=e.filters||(e.filters={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/tiles/providerTile.html",this.replace=!0,this.scope={viewModel:"="},this.controller=e.common.createController(e.controllers.ProviderTileController)}return t})();t.ProviderTile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i){return new r(e,t,i)}var o;!(function(e){e[e.None=0]="None",e[e.FitToContent=1]="FitToContent",e[e.FitToWidth=2]="FitToWidth"})(o=t.FullScreenFitStyle||(t.FullScreenFitStyle={})),t.createFullScreenService=i;var r=(function(){function t(t,i,r){var a=this;this._rootScope=t,this._navigation=i,this._document=r.get(0),this._document.addEventListener("fullscreenchange",(function(e){a.updateFullScreenFromBrowser()})),this._document.addEventListener("webkitfullscreenchange",(function(e){a.updateFullScreenFromBrowser()})),this._document.addEventListener("MSFullscreenChange",(function(e){a.updateFullScreenFromBrowser()})),this._document.addEventListener("mozfullscreenchange",(function(e){a.updateFullScreenFromBrowser()})),this._fullScreenModeEnabled=!1,this._fullScreenModeSupported=this.fullScreenSupportedViews()||this._navigation.inReportEmbedView(),this.fitStyle=o.None,this._rootScope.$on(e.common.constants.navigation.stateChangeStart,(function(t,i,o,r,n){a._fullScreenModeEnabled&&i&&!a.forceFullScreen()&&i.name!==e.constants.navigation.states.dashboard&&i.name!==e.constants.navigation.states.dashboardReportPage&&i.name!==e.constants.navigation.states.sharedDashboardReportPage&&i.name!==e.common.constants.navigation.states.reportPage&&i.name!==e.common.constants.navigation.states.report&&i.name!==e.common.constants.navigation.states.dataset&&i.name!==e.constants.navigation.states.inFocusMode&&i.name!==e.constants.navigation.states.inFocusInsights&&t.preventDefault()})),this._rootScope.$on(e.common.constants.navigation.stateChangeSuccess,(function(){a._fullScreenModeSupported=a.fullScreenSupportedViews()})),this.forceFullScreen()&&(this.fullScreenMode=!0)}return t.prototype.fullScreenPreviousPage=function(){this._rootScope.$emit(e.explore.constants.explorationPreviousPageEvent)},t.prototype.fullScreenNextPage=function(){this._rootScope.$emit(e.explore.constants.explorationNextPageEvent)},t.prototype.fullScreenSupportedViews=function(){return this._navigation.inDashboardDetailView()||this._navigation.inReportDetailView()||this._navigation.inDatasetDetailView()||this._navigation.inInFocusView()||this._navigation.inInFocusInsightsView()},t.prototype.forceFullScreen=function(){return null!=this._navigation.locationService&&null!=this._navigation.locationService.search().chromeless},t.prototype.updateFullScreenFromBrowser=function(){var e=this,t=this._document,i=null!=(t.fullScreenElement||t.msFullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement);i!==this.fullScreenMode&&this._rootScope.$applyAsync((function(){e.fullScreenMode=i}))},Object.defineProperty(t.prototype,"fullScreenModeSupported",{get:function(){return this._fullScreenModeSupported},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullScreenMode",{get:function(){return this._fullScreenModeEnabled},set:function(e){if(this._fullScreenModeSupported||this.forceFullScreen()){var i=$("html"),r=$("body");if(i.length<=0||r.length<=0)return;if(e){r.addClass(t.fullScreenCSSClass);var a=i.get(0);if(a){var n=a.requestFullscreen||a.msRequestFullscreen||a.webkitRequestFullscreen||a.mozRequestFullScreen;n&&n.call(a)}}else{r.removeClass(t.fullScreenCSSClass);var s=$(".enterFullScreenBtn");s.length>0&&s.blur(),this.fitStyle=o.None;var c=this._document,l=c.exitFullscreen||c.msExitFullscreen||c.webkitExitFullscreen||c.mozCancelFullScreen;l&&l.call(c)}this._fullScreenModeEnabled=e}},enumerable:!0,configurable:!0}),t})();r.fullScreenCSSClass="fullScreen"})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=e.dataServices.contracts.TileType,r=2e4,a=(function(){function t(t,o,r,a){var n=this;this.telemetryService=t,this.userActivityContextService=o,this.timeoutService=r,this.scope=a,this.hasResolved=!1,this.tileIdsToWait=[],this.tileIdsAlreadyLoaded=[],this.timeOutMap={},this.unsubcribeTileRepeatFinishedEvent=a.$on(e.constants.dashboardTileRepeatFinishedEvent,(function(){return n.onDashboardTileRepeatFinishedEvent()})),this.unsubscribeTileVisualLoadedEvent=a.$on(i.tileVisualLoadedEventName,(function(e,t){return n.onDashbardTileVisualLoadedEvent(e,t)}))}return t.prototype.recordOpenDashboardEvent=function(t,i,o){!t||this.openDashboardTelemetryEvent||this.hasResolved||(this.dashboardModel=t,this.openDashboardTelemetryEvent=this.telemetryService.startActivity(this.scope,e.telemetry.DashboardOpenDashboard,t.isSample,!1,t.hasOnPremiseModel,0,0,0,0,0,0,0,0,0,0,this.getDashboardOpenSource(),o,t.contract&&t.contract.originalDashboardObjectId,i,t.objectId),t.isLoaded&&_.isEmpty(t.tiles)&&this.resolveOpenDashboardTelemetry(t,!1))},t.prototype.forceResolve=function(){this.resolveOpenDashboardTelemetry(this.dashboardModel,!0)},t.prototype.getDashboardOpenSource=function(){var t=jsCommon.QueryStringUtil.getQueryStringValue("openDashboardSource");return"email"===t?e.telemetry.OpenDashboardSource.EmailSubscription:e.telemetry.OpenDashboardSource.Normal},t.prototype.onDashboardTileRepeatFinishedEvent=function(){var t=this,i=this.dashboardModel;if(this.openDashboardTelemetryEvent){for(var o=0,a=function(i){if(i.shouldBeIncludedInTelemetryMeasurement){o++;var a=i.id;if(!_.contains(n.tileIdsAlreadyLoaded,a)){n.tileIdsToWait.push(a),n.cancelVisualLoadTimeout(a);var s=i.composite&&i.composite.visual&&i.composite.visual.type;n.timeOutMap[a]=n.timeoutService((function(){t.telemetryService.logEvent(e.telemetry.DashboardLoadTileVisualTimedOut,s),t.removeTileIdFromWaitlist(a)}),r)}}},n=this,s=0,c=i.tiles;s<c.length;s++){var l=c[s];a(l)}this.loadDashboardTileTelemetryEvent=this.telemetryService.startChildEvent(this.openDashboardTelemetryEvent.event,e.telemetry.DashboardLoadDashboardTileVisual,o),this.tileRepeatFinishedEventRaised=!0,_.isEmpty(this.tileIdsToWait)&&this.resolveOpenDashboardTelemetry(this.dashboardModel,!1)}},t.prototype.onDashbardTileVisualLoadedEvent=function(e,t){e.stopPropagation(),this.removeTileIdFromWaitlist(t),this.cancelVisualLoadTimeout(t)},t.prototype.cancelVisualLoadTimeout=function(e){var t=this.timeOutMap[e];t&&(this.timeoutService.cancel(t),delete this.timeOutMap[e])},t.prototype.removeTileIdFromWaitlist=function(e){this.tileRepeatFinishedEventRaised?_.pull(this.tileIdsToWait,e):this.tileIdsAlreadyLoaded.push(e),this.tileRepeatFinishedEventRaised&&_.isEmpty(this.tileIdsToWait)&&this.resolveOpenDashboardTelemetry(this.dashboardModel,!1)},t.prototype.resolveOpenDashboardTelemetry=function(e,i){if(this.openDashboardTelemetryEvent){var o=t.countTileTypes(e);if(this.openDashboardTelemetryEvent.event){var r=this.openDashboardTelemetryEvent.event.info;r&&(r.hasResourcePackages=o.hasResourcePackages,r.compositeTilesCount=o.composite,r.iframeTilesCount=o.iframe,r.imageTilesCount=o.image,r.modelTilesCount=o.model,r.ssrsTilesCount=o.ssrs,r.workbookTilesCount=o.workbook,r.reportTilesCount=o.report,r.workbookTileNoImage=o.workbookNoImage,r.otherTileTypes=o.unknown,r.realTimeTilesCount=o.realTime,i&&(r.isCancelled=!0))}this.loadDashboardTileTelemetryEvent&&this.loadDashboardTileTelemetryEvent.resolve(),this.openDashboardTelemetryEvent.resolve(),this.openDashboardTelemetryEvent=null,this.loadDashboardTileTelemetryEvent=null,this.hasResolved=!0,this.unsubcribeTileRepeatFinishedEvent(),this.unsubscribeTileVisualLoadedEvent()}},t.countTileTypes=function(e){var i={composite:0,iframe:0,image:0,model:0,realTime:0,ssrs:0,workbook:0,workbookNoImage:0,report:0,unknown:0,hasResourcePackages:!1};if(_.isEmpty(e.tiles))return i;for(var o=0,r=e.tiles;o<r.length;o++){var a=r[o];t.incTileTypeCount(a,i),!i.hasResourcePackages&&a&&a.contract&&!_.isEmpty(a.contract.resourcePackageIds)&&(i.hasResourcePackages=!0)}return i},t.incTileTypeCount=function(e,t){switch(e.type){case o.composite:t.composite++;break;case o.iframe:t.iframe++;break;case o.image:t.image++;break;case o.realTime:t.realTime++;break;case o.model:t.model++;break;case o.ssrs:t.ssrs++;break;case o.workbook:e.workbook?e.workbook.hasImages()&&t.workbook++:t.workbookNoImage++;break;case o.report:t.report++;break;default:t.unknown++}},t})();t.DashboardTelemetryHelper=a})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t=jsCommon.FreezeUtility,i=(function(){function e(e,t,i){void 0===t&&(t=!1),this.columnName=e,this.reverse=t,this.toAngularFilter=i,this.toAngularFilter=i||this.toAngularFilterDefault}return e.prototype.toAngularFilterDefault=function(){var e=_.camelCase(this.columnName);return this.reverse?"-"+e:"+"+e},e})();e.SortPredicate=i;var o;!(function(e){e.TitleAlphabeticalPredicate=new i("displayName"),e.TitleReverseAlphabeticalPredicate=new i("displayName",(!0)),e.OwnerAlphabeticalPredicate=new i("ownerFullname"),e.OwnerReverseAlphabeticalPredicate=new i("ownerFullname",(!0)),e.LastAccessDatePredicate=new i("lastAccess"),e.LastAccessReverseDatePredicate=new i("lastAccess",(!0)),e.SharedTimePredicate=new i("sharedTime"),e.SharedReverseTimePredicate=new i("sharedTime",(!0)),e.OwnerInfoAlphabeticalPredicate=new i("ownerInfo"),e.OwnerInfoReverseAlphabeticalPredicate=new i("ownerInfo",(!0)),(function(){t.deepFreeze(e.TitleAlphabeticalPredicate),t.deepFreeze(e.TitleReverseAlphabeticalPredicate),t.deepFreeze(e.OwnerAlphabeticalPredicate),t.deepFreeze(e.OwnerReverseAlphabeticalPredicate),t.deepFreeze(e.LastAccessDatePredicate),t.deepFreeze(e.LastAccessReverseDatePredicate),t.deepFreeze(e.SharedTimePredicate),t.deepFreeze(e.SharedReverseTimePredicate),t.deepFreeze(e.OwnerInfoAlphabeticalPredicate),t.deepFreeze(e.OwnerInfoReverseAlphabeticalPredicate)})()})(o=e.ArtifactSortPredicates||(e.ArtifactSortPredicates={}));var r;!(function(e){function i(e,t){switch(t){case 8:return a(e);case 16:return n(e);case 64:return s(e);case 128:return c(e);default:return r(e)}}function r(e){return g(e),d}function a(e){return f(e),p}function n(e){return m(e),u}function s(e){return b(e),v}function c(e){return y(e),h}function l(e,t){var i;switch(e){case o.TitleAlphabeticalPredicate:i=t.get("Sort_Title_Alpabetical_Asc");break;case o.TitleReverseAlphabeticalPredicate:i=t.get("Sort_Title_Alpabetical_Desc");break;case o.OwnerAlphabeticalPredicate:case o.OwnerInfoAlphabeticalPredicate:i=t.get("Sort_Owner_Alpabetical_Asc");break;case o.OwnerReverseAlphabeticalPredicate:case o.OwnerInfoReverseAlphabeticalPredicate:i=t.get("Sort_Owner_Alpabetical_Desc");break;case o.LastAccessDatePredicate:i=t.get("Sort_Last_Access_Date_Asc");break;case o.LastAccessReverseDatePredicate:i=t.get("Sort_Last_Access_Date_Desc");break;case o.SharedTimePredicate:i=t.get("Sort_Shared_Time_Asc");break;case o.SharedReverseTimePredicate:i=t.get("Sort_Shared_Time_Desc")}return{predicate:e,title:i}}var d,p,u,v,h,g=_.once((function(e){d=[l(o.TitleAlphabeticalPredicate,e),l(o.TitleReverseAlphabeticalPredicate,e),l(o.OwnerAlphabeticalPredicate,e),l(o.OwnerReverseAlphabeticalPredicate,e)],t.deepFreeze(d)})),f=_.once((function(e){p=[l(o.TitleAlphabeticalPredicate,e),l(o.TitleReverseAlphabeticalPredicate,e)],t.deepFreeze(p)})),m=_.once((function(e){u=[l(o.LastAccessReverseDatePredicate,e),l(o.TitleAlphabeticalPredicate,e),l(o.TitleReverseAlphabeticalPredicate,e)],t.deepFreeze(u)})),b=_.once((function(e){v=[l(o.SharedReverseTimePredicate,e),l(o.SharedTimePredicate,e),l(o.TitleAlphabeticalPredicate,e),l(o.TitleReverseAlphabeticalPredicate,e),l(o.OwnerAlphabeticalPredicate,e),l(o.OwnerReverseAlphabeticalPredicate,e)],t.deepFreeze(v)})),y=_.once((function(e){h=[l(o.TitleAlphabeticalPredicate,e),l(o.TitleReverseAlphabeticalPredicate,e),l(o.OwnerInfoAlphabeticalPredicate,e),l(o.OwnerInfoReverseAlphabeticalPredicate,e)],t.deepFreeze(h)}));e.createPredicates=i,e.createDefaultPredicates=r})(r=e.SelectTileSortItemsFactory||(e.SelectTileSortItemsFactory={}))})(t=e.factory||(e.factory={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.helpers.NavigationHelper,o=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.tileModel=this.services.dashboardDataService.selectedDashboardTile.tileModel,this.openAlertsEditorEvent=this.services.telemetryService.logEvent(e.telemetry.DataAlertsOpenAlertsEditor),this.isUpdating=!1,this.isLoading=!0;var r=this.tileModel;this.services.alertHttpService.getAllAlerts(this.openAlertsEditorEvent,r.contract.id).then((function(t){var i=o.services.alertRuleService.getMeasureName(r),a=_.sortBy(t,(function(e){return e.createdDateTimeUtc})).reverse(),n=_.map(a,(function(e){return o.services.modelConverter.convertAlertsEditorPane(e,r,i)}));o.viewModel=new e.models.AlertsEditorModel(n,r,i,o.services.localizationService),o.expandAlertIfRequired(),o.isLoading=!1}))}return t.createOptions=function(){return{additionalServices:["dashboardService","alertRuleService","dashboardDataService","localizationService","alertHttpService","modelConverter","promiseFactory","navigation","errorService","telemetryService","appService","packageService","taskPaneSliderService"]}},t.prototype.cancel=function(){if(!this.isLoading&&this.hasChangesToSave()){var e=this.services.errorService.control();e.showPrompt(this.services.localizationService.get("Alerts_CancelDialogTitle"),this.services.localizationService.get("Alerts_CancelDialogMessage"),this.getCancelModalActionsArray(e))}else this.closePane()},t.prototype.hasChangesToSave=function(){var e=this.viewModel.alerts;if(e)for(var t=0;t<e.length;t++){var i=e[t];if(i&&(i.isNew||i.enabled!==i.contract.enabled||this.isAlertDirty(t)))return!0}return!1},t.prototype.getCancelModalActionsArray=function(e){var t=this;return[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialog_Save"),function(i,o){e.hideDialog(),t.saveChangesAndExit(),t.scope.$root.$digest()}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialog_DontSave"),function(){e.hideDialog(),t.closePane(),t.scope.$root.$digest()}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialog_Cancel"),function(t,i){e.hideDialog()})]},t.prototype.closePane=function(){var e=this.services;e.dashboardService.clearSelectedDashboardTile(),this.services.taskPaneSliderService.collapsePane(),i.navigateToDashboard(this.services.dashboardService.getActiveDashboard(),e.navigation,e.appService,e.packageService)},t.prototype.saveChangesAndExit=function(){var t=this,i=this.services.telemetryService.startChildEvent(this.openAlertsEditorEvent,e.telemetry.DataAlertsSaveAlerts,0,0,0,0,0,0);this.isUpdating=!0;for(var o=this.viewModel.alerts,r=[],a=[],n=[],s=0;s<o.length;s++){var c=o[s];if(this.resetAlertFailureStates(c),c.isNew||this.isAlertDirty(s)){var l=parseFloat(c.thresholdValue),d=this.services.alertRuleService.createAlertRule(this.tileModel,c.operator,l);if(!d)return;var p=this.services.modelConverter.convertAlertModelToContract(c,this.tileModel,d);c.contract=p,c.isNew?r.unshift(c):a.push(c)}else c.enabled!==c.contract.enabled&&n.push(c)}i.event.info.createCount=r.length,i.event.info.editCount=a.length,i.event.info.toggleCount=n.length,this.services.promiseFactory.all([this.createAlerts(r,i.event),this.editAlerts(a,i.event),this.toggleAlerts(n,i.event)]).then((function(e){t.isUpdating=!1,i.resolve(),_.every(e,(function(e){return e}))&&t.closePane()}))},t.prototype.addNewAlert=function(){for(var e=0,t=this.viewModel.alerts;e<t.length;e++){var i=t[e];i.isExpanded=!1}this.viewModel.addNewEmptyAlert(this.services.alertRuleService.getThresholdValue(this.tileModel))},t.prototype.removeAlert=function(e,t){e&&e.stopPropagation&&e.stopPropagation();var i=this.viewModel.alerts[t];if(i){this.resetAlertFailureStates(i);var o=this.services.errorService.control();o.showPrompt(this.services.localizationService.get("Alerts_DeleteDialogTitle"),this.services.localizationService.get("Alerts_DeleteDialogMessage"),this.getDeleteModalActionsArray(o,i,t))}},t.prototype.getDeleteModalActionsArray=function(t,i,o){var r=this;return[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(a,n){t.hideDialog(),i.contract&&!i.isNew?(r.services.telemetryService.logChildEvent(r.openAlertsEditorEvent,e.telemetry.DataAlertsDeleteAlertAccept),r.services.alertHttpService.deleteAlert(i.contract.id,r.openAlertsEditorEvent).then((function(t){return t?void r.viewModel.alerts.splice(o,1):void(i.alertFailureState=e.models.AlertFailureState.Delete)}))):(r.viewModel.alerts.splice(o,1),r.scope.$digest())}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(i,o){r.services.telemetryService.logChildEvent(r.openAlertsEditorEvent,e.telemetry.DataAlertsDeleteAlertCancel),t.hideDialog()})]},t.prototype.moreOptionsMenuSelected=function(e){var t=e.action;if(null!=t)switch(t){case 0:this.collapseAllAlerts()}},t.prototype.isAlertDirty=function(e){var t=this.alertForm;if(t)return t["alertForm"+e].$dirty},t.prototype.isValidTitle=function(t){var i=t.title?t.title.length:0;return i>0&&i<=e.constants.alertTitleMaxLength},t.prototype.isValidThreshold=function(e){return jQuery.isNumeric(e.thresholdValue)},t.prototype.createAlerts=function(t,i){for(var o=this,r=this.services.promiseFactory.defer(),a=[],n=0,s=t;n<s.length;n++){var c=s[n];a.push(this.services.alertHttpService.createAlert(c.contract,this.openAlertsEditorEvent))}return this.updateAlerts(t,a,r,(function(t,r){for(var a=0,n=0;n<r.length;n++)r[n]!==-1?(o.resetAlertFailureStates(t[n]),t[n].contract.id=r[n],t[n].isNew=!1,i.info.createFailCount=a):(t[n].alertFailureState=e.models.AlertFailureState.Create,a++);return 0===a})),r.promise},t.prototype.editAlerts=function(e,t){for(var i=this,o=this.services.promiseFactory.defer(),r=[],a=0,n=e;a<n.length;a++){var s=n[a];r.push(this.services.alertHttpService.updateAlert(s.contract,this.openAlertsEditorEvent))}return this.updateAlerts(e,r,o,(function(e,o){var r=i.getFailureCount(e,o);return t.info.editFailCount=r,0===r})),o.promise},t.prototype.toggleAlerts=function(e,t){for(var i=this,o=this.services.promiseFactory.defer(),r=[],a=0,n=e;a<n.length;a++){var s=n[a];r.push(this.services.alertHttpService.toggleAlert(s.contract.id,s.enabled,this.openAlertsEditorEvent))}return this.updateAlerts(e,r,o,(function(e,o){var r=i.getFailureCount(e,o);return t.info.toggleFailCount=r,0===r})),o.promise},t.prototype.updateAlerts=function(e,t,i,o){i&&(_.isEmpty(t)?i.resolve(!0):this.services.promiseFactory.all(t).then((function(t){if(o){var r=o(e,t);i.resolve(r)}})))},t.prototype.getFailureCount=function(t,i){for(var o=0,r=0;r<i.length;r++)i[r]?this.resetAlertFailureStates(t[r]):(t[r].alertFailureState=e.models.AlertFailureState.Update,o++);return o},t.prototype.collapseAllAlerts=function(){for(var e=0,t=this.viewModel.alerts;e<t.length;e++){var i=t[e];i.isExpanded=!1}},t.prototype.expandAlertIfRequired=function(){var e=this.services.navigation.currentAlertId;if(e){var t=_.find(this.viewModel.alerts,(function(t){return t.contract&&t.contract.id===e}));t&&(t.isExpanded=!0)}},t.prototype.resetAlertFailureStates=function(t){t.alertFailureState=e.models.AlertFailureState.None},t})();t.AlertsEditorController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.AlertsEditor={controller:e.common.createController(e.controllers.AlertsEditorController),templateUrl:"components/alertsEditor/alertsEditor.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.helpers.ContentTileHelper,o=(function(){function t(e,t){this.services=t}return t.createOptions=function(){return{additionalServices:["contentList","modelService","groupService"]}},t.prototype.canOpenTile=function(t){return t.contentTileType!==e.common.contracts.ContentTileType.AppDataset},t.prototype.openContentTile=function(e){this.canOpenTile(e)&&i.openContentTile(e,this.services.groupService,this.services.contentList,this.viewModel.appGUID,this.viewModel.packageId)},t.prototype.toggle=function(){this.viewModel.expanded=!this.viewModel.expanded},t.prototype.isNew=function(e){return i.isNew(e,this.services.modelService)},t.prototype.canShowOptionsMenu=function(e){return this.services.contentList.canShowTileOptions(e)},t})();t.AppArtifactsListController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.AppArtifactsList={templateUrl:"components/appArtifactsList/appArtifactsList.html",bindings:{viewModel:"<"},controller:e.common.createController(e.controllers.AppArtifactsListController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.AppUtils,o=(function(){function t(e,t){this.services=t,this.appIndexLabel=t.localizationService.get("AppHeader_Index_Title")}return t.createOptions=function(){return{additionalServices:["localizationService","navigation"]}},t.prototype.$onInit=function(){var t=this.viewModel;this.reports=t.reportIds||[],this.dashboards=t.dashboardIds||[],this.workbooks=t.workbookIds||[],this.datasets=t.modelIds||[],this.enableNavigation=t.contentTileType===e.common.contracts.ContentTileType.OrgApp},t.prototype.navigateToApp=function(){if(this.enableNavigation){var e=this.viewModel,t=i.isOrgApp(e.providerContract)?void 0:e.packageId;this.services.navigation.navigateToApp(e.providerContract.providerKey,t)}},t.prototype.getAppTitle=function(){var e=this.viewModel;if(e&&e.displayName)return e.displayName},t.prototype.getHeaderFontColor=function(){var e=this.viewModel;return i.getAppHeaderFontColor(e.iconBackgroundColor)},t.prototype.hasAppLogoImage=function(){return i.hasAppLogoImage(this.viewModel)},t})();t.AppChannelHeaderController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.AppChannelHeader={templateUrl:"components/appChannelHeader/appChannelHeader.html",bindings:{viewModel:"<"},controller:e.common.createController(e.controllers.AppChannelHeaderController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.AppUtils,o="pbi-glyph-gauge",r="pbi-glyph-barchart",a="pbi-glyph-excel",n="pbi-glyph-database",s=(function(){function t(e,t){this.services=t,this.searchText=""}return t.createOptions=function(){return{additionalServices:["appService","dataClassificationService","modelConverter","navigation","packageService","promiseFactory","mostRecentlyUsedService"]}},t.prototype.$onInit=function(){var e=this,t=this.services.appService,i=this.services.packageService;this.services.promiseFactory.all([i.ensurePackagesInitialization(),t.ensureAppsInitialization()]).then((function(o){_.isEqual(o,[i,t])&&e.initHelper()}))},t.prototype.initHelper=function(){var t=this,o=this.services.appService,r=this.services.navigation.currentAppGUID,a=this.services.navigation.currentAppInstanceId,n=o.getAppByGUID(r);a||(a=i.getPackageIDByOrgAppGUID(o,this.services.packageService,r)),this.installedApp=this.services.appService.getInstalledAppModel(n,a),this.services.dataClassificationService.isEnabledAsync().then((function(e){return t.loadArtifactsLists(e)})),this.services.mostRecentlyUsedService.updateMRU(e.models.MRUArtifactType.AppInstance,this.installedApp.objectId,this.installedApp.displayName,this.installedApp.getPermissions(),void 0,void 0,this.installedApp.packageId)},t.prototype.loadArtifactsLists=function(e){var t=this.installedApp,i=[];i.push(this.createDashboardsArtifactList(t,e)),i.push(this.createReportsArtifactList(t)),i.push(this.createWorkbooksArtifactList(t)),i.push(this.createDatasetArtifactList(t)),this.artifactLists=i},t.prototype.inAppArtifactsListView=function(){return this.services.navigation.inAppDetailView()},t.prototype.isEmptyList=function(e){return 0===e.artifacts.length},t.prototype.updateExpandedState=function(){this.artifactLists&&(this.artifactLists[0].expanded=this.artifactLists[1].expanded=this.artifactLists[2].expanded=!0,this.artifactLists[3].expanded=!1)},t.prototype.createDashboardsArtifactList=function(e,t){return{title:"App_DashboardList_Title",className:o,expanded:!0,isDataClassificationEnabled:t,artifacts:e.dashboards,appGUID:e.providerContract.providerKey,packageId:e.packageId}},t.prototype.createReportsArtifactList=function(e){return{title:"App_ReportList_Title",className:r,expanded:!0,isDataClassificationEnabled:!1,artifacts:e.reports,appGUID:e.providerContract.providerKey,packageId:e.packageId}},t.prototype.createWorkbooksArtifactList=function(e){return{title:"App_WorkbookList_Title",className:a,expanded:!0,isDataClassificationEnabled:!1,artifacts:e.workbooks,appGUID:e.providerContract.providerKey,packageId:e.packageId}},t.prototype.createDatasetArtifactList=function(e){var t=this,i=_.map(e.models,(function(e){return t.services.modelConverter.convertAppDataset(e.contract)}));return{title:"App_DatasetList_Title",className:n,expanded:!1,isDataClassificationEnabled:!1,artifacts:i,appGUID:e.providerContract.providerKey,packageId:e.packageId}},t})();t.AppContainerController=s})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.AppContainer={templateUrl:"components/appContainer/appContainer.html",controller:e.common.createController(e.controllers.AppContainerController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.AppUtils,o=(function(){function e(e,t){this.services=t}return e.createOptions=function(){return{additionalServices:["clusterUriRetriever"]}},e.prototype.hasAppLogoImage=function(){return i.hasAppLogoImage(this.viewModel)},e.prototype.getAppLogoImageUrlStyle=function(){return i.getAppLogoImageUrlStyle(this.viewModel,this.services.clusterUriRetriever)},e})();t.AppLogoController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.AppLogo={templateUrl:"components/appLogo/appLogo.html",bindings:{viewModel:"<",size:"@"},controller:e.common.createController(e.controllers.AppLogoController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){e.AppPlaceholder={templateUrl:"components/appPlaceholder/appPlaceholder.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.ContentTileType,o=e.common.contracts.Permissions,r=(function(){function t(e,t){this.services=t}return t.createOptions=function(){return{additionalServices:["appService","promiseFactory","groupService","localizationService"]}},t.prototype.$onInit=function(){var t=this;this.getAppTile=this.getPlaceHolderTile(),this.providers=[],this.emptyAppsConfig={canEdit:!0,mode:!1,imgClass:"empty-apps-img",titleNonShared:this.services.localizationService.get("AppModel_NoAppsWarningTitle")},this.appsLink=e.constants.pbiAppsLink,this.services.promiseFactory.all([this.services.appService.ensureAppsInitialization(),this.services.groupService.groupSwitchPromise()]).then((function(){return t.loadApplicationInstances()}))},t.prototype.hasApps=function(){return!_.isEmpty(this.providers)},t.prototype.loadApplicationInstances=function(){this.providers=this.services.appService.appInstances,this.isLoaded=!0},t.prototype.getPlaceHolderTile=function(){return{contentTileType:i.AppPlaceHolder,displayName:this.services.localizationService.get("Get_App_Label"),description:this.services.localizationService.get("Get_App_Description"),getPermissions:function(){return o.None}}},t})();t.AppsContainerController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.AppsContainer={templateUrl:"components/appsContainer/appsContainer.html",controller:e.common.createController(e.controllers.AppsContainerController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.$scope=e,this.services=t,this.breadcrumbs=[],this.breadcrumbFilter=function(e){return!_.isEmpty(_.trim(e.label))&&null!=e.tooltipConfig&&null!=e.tooltipTemplateConfig},this.setBreadcrumbs=function(){i.breadcrumbs=i.services.breadcrumbFactory.createCurrentBreadcrumbs()||[]},this.setReportBreadreadcrumb=function(e,t){i.services.navigation.inReportView()&&t.guid===i.services.navigation.currentReportGUID&&(i.breadcrumbs=i.services.breadcrumbFactory.createCurrentBreadcrumbs({reportId:t.id,reportGUID:t.guid,reportName:t.displayName,subsituteReportForDataset:!0})||[])}}return t.createOptions=function(){return{additionalServices:["breadcrumbFactory","telemetryService","navigation"]}},t.prototype.$onInit=function(){this.setBreadcrumbs(),this.unregisterStateChange=this.$scope.$on(e.common.constants.navigation.stateChangeSuccess,this.setBreadcrumbs),this.unregisterGroupSwitch=this.services.rootScope.$on(e.constants.groupSwitchedEventName,this.setBreadcrumbs),this.unreigsterReportChange=this.services.rootScope.$on(e.common.constants.currentActiveReportInfoChangedEventName,this.setReportBreadreadcrumb);
},t.prototype.$onDestroy=function(){this.unregisterGroupSwitch(),this.unregisterStateChange(),this.unreigsterReportChange()},t.prototype.getTemplate=function(e,t){return t||_.isEmpty(_.trim(e.uiSref))?"components/breadcrumbs/breadcrumbLabel.html":"components/breadcrumbs/breadcrumbLink.html"},t.prototype.logTelemetry=function(t){var i=this.services.navigation.stateService.current.name;this.services.telemetryService.logEvent(e.telemetry.NavigationClickBreadcrumb,i,t)},t})();t.BreadcrumbsController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.Breadcrumbs={templateUrl:"components/breadcrumbs/breadcrumbs.html",controller:e.common.createController(e.controllers.BreadcrumbsController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.ArtifactType,o=e.common.models.CollapsiblePaneExpandedWidth,r=e.models.factory.DatasetsMenuFactory,a=e.common.dialogs.FeatureNotSupportedDialogBuilder,n=e.common.contracts.Permissions,s=e.common.contracts.PublishOrRefreshStatus,c=e.common.contracts.RealTimeMode,l=e.common.constants.TaskPaneCollapsiblePaneMode,d=(function(){function d(e,t){this.deleteEnabled=!0,this.viewRelatedEnabled=!0,this.scope=e,this.services=t,this.menuSelected=!1,this.initialize()}return d.createOptions=function(){return{additionalServices:["analyzeInExcel","contentPackService","dashboardService","errorService","featureSwitchService","groupService","historyDialogService","insightsService","localizationService","modalDialogService","modelService","navigation","ownership","packageService","realTimeModel","refreshService","quota","telemetryService","settingsMetadataService","overlayService","taskPaneSliderService","downloadReport","lazy"]}},d.prototype.initialize=function(){this.services.telemetryService.logEvent(e.telemetry.DashboardManageDatasetsLanding),this.modelDashboards={},this.streamingDatasetActions={},this.datasetMenuActions=this.createFileMenuActions(),this.isOrgApp=!1,this.rowId=_.uniqueId("datasetMenu")},d.prototype.onDestroy=function(){this.modalDialogPromise&&this.modalDialogPromise.pending&&this.modalDialogPromise.reject("ContentDatasetActionsController destroyed")},d.prototype.isPackagePublishInProgress=function(e){return e===s.PublishInProgress},d.prototype.canCreateReport=function(e){return!((e.getPermissions()&n.CopyOnWrite)===n.CopyOnWrite)},d.prototype.canDownloadPbix=function(t){return t.contentProviderId===e.common.constants.pbiDesktopContentProviderId&&_.isEmpty(t.contract.onPremModelConnectionString)&&(t.getPermissions()&n.All)===n.All&&this.services.featureSwitchService.featureSwitches.datasetDownloadPbix},d.prototype.canRefreshNow=function(e){return(!e.contract||null==e.contract.originalModelId)&&(e.getPermissions()&n.Write)===n.Write},d.prototype.canScheduleRefresh=function(e){return(!e.contract||null==e.contract.originalModelId)&&((e.getPermissions()&n.Write)===n.Write&&null!==e.contract.onPremModelConnectionString)},d.prototype.datasetMenuActionSelected=function(e){switch(e.action){case 8:this.analyzeInExcel(this.activeModel);break;case 7:case 16:this.delete(this.activeModelContract);break;case 2:case 11:case 12:this.getInsights(this.activeModelContract);break;case 3:this.granularSecurity(this.activeModelContract);break;case 4:this.rename(this.activeModelContract);break;case 10:this.navigateToSettingsPage(this.activeModelContract);break;case 9:this.personalizeDataset(this.activeModel);break;case 15:this.showStreamingDatasetEditorPane(this.activeModel.id);break;case 14:this.showStreamingDatasetPushInfoPane(this.activeModel.id);break;case 1:this.createReport(this.activeModel);break;case 17:this.downloadPbix(this.activeModel)}this.services.overlayService.hideAllDropdowns()},d.prototype.streamingDatasetActionSelected=function(e,t){this.setActiveModel(e),this.datasetMenuActionSelected(t)},d.prototype.getDashboardsForModel=function(e){return this.modelDashboards[e.id]||(this.modelDashboards[e.id]=_(this.services.dashboardService.dashboards).filter((function(t){return t.contract.modelIds&&t.contract.modelIds.indexOf(e.id)>=0})).map((function(e){return e.displayName})).value().join(this.services.localizationService.get("ListJoin_Separator"))),this.modelDashboards[e.id]},d.prototype.getStreamingDatasetActions=function(e){if((e.getPermissions()&n.All)===n.All){if(this.streamingDatasetActions[e.realTimeMode])return this.streamingDatasetActions[e.realTimeMode];var t=[];return t.push(15),this.addDeleteToMenuActions(t,!0),e.realTimeMode===c.PersistAndCache&&t.push(1),e.realTimeMode!==c.PubNubCacheOnly&&t.push(14),this.streamingDatasetActions[e.realTimeMode]=r.customizeRowMenuActions(t,this.services.localizationService)}return[]},d.prototype.getModelType=function(t){return t.realTimeMode===c.PubNubCacheOnly?e.constants.streamingDatasetModelPubNub:this.services.localizationService.get("StreamingDataset_API")},d.prototype.showStreamingDatasetGalleryPane=function(){this.services.realTimeModel.setSelected(null),this.services.featureSwitchService.featureSwitches.realTimePubNubEnabled?this.services.taskPaneSliderService.expandPane(l.StreamingDatasetGallery):this.services.taskPaneSliderService.expandPane(l.StreamingDatasetEditor)},d.prototype.showOptions=function(e){this.menuSelected=!0,this.setActiveModel(e),this.customizeMenuActions(e,this.activeModelPackage)},d.prototype.createReport=function(t){return null!=t.contract.packagePublishStatus&&t.contract.packagePublishStatus!==s.FinishedSuccessfully&&t.contract.packagePublishStatus!==s.RefreshInProgress&&t.contract.packagePublishStatus!==s.RefreshError?void(t.contract.packagePublishStatus===s.PublishError&&this.deleteModelOnPublishFailure(t.id)):(t.isNew=t.contract.isNew=!1,void(this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.OpenDataset)||((t.getPermissions()&e.common.models.ReportPermissions.CopyOnWrite)===e.common.models.ReportPermissions.CopyOnWrite?this.scope.$emit(e.constants.personalizeEventName,t.packageId):this.services.navigation.navigateToDatasetByDBName(t.dbName))))},d.prototype.downloadPbix=function(e){this.services.downloadReport.downloadModel({id:e.id.toString(),filename:e.displayName})},d.prototype.refreshNow=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickRefreshNow,t.contentProviderId),this.services.refreshService.tryRefreshNow(this.services.telemetryService,this.services.errorService,t,"datasets")},d.prototype.refreshSchedule=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickScheduleRefresh,t.contentProviderId),this.services.navigation.showSettingsSlider("datasets",t.dbName)},d.prototype.viewRelatedContent=function(){var e={id:this.viewModel.id.toString(),artifactType:i.Model,displayName:this.viewModel.displayName};this.services.taskPaneSliderService.expandPane(l.RelatedContent,o.Default,e)},d.prototype.setActiveModel=function(e){this.activeModel=e,this.activeModelContract=e.contract,this.activeModelPackage=this.services.packageService.findPackage(this.activeModelContract.packageId)},d.prototype.deleteModelOnPublishFailure=function(e){var t=this;this.deleteItemOnPublishFailure(this.services.localizationService.get("NavigationPane_ModelPublishErrorTitle"),this.services.localizationService.get("NavigationPane_ModelPublishErrorContent"),(function(){t.services.modelService.deleteModel(e)}))},d.prototype.deleteItemOnPublishFailure=function(e,t,i){var o=this,r=this.services.errorService.control(),a=[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(e,t){r.hideDialog(),i()}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){r.hideDialog()})];r.showCustomDialog(e,$("<div/>").text(t),a,(function(e){e.parent().find('input[value="'+o.services.localizationService.get("ModalDialogButtonText_No")+'"]').focus()}),!0)},d.prototype.getInsights=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i;return __generator(this,(function(o){switch(o.label){case 0:return this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickInsights,t.contentProviderId),this.services.taskPaneSliderService.isPaneExpanded&&this.services.taskPaneSliderService.collapsePane(),[4,this.services.lazy("insightsBootstrap")];case 1:return i=o.sent(),i.start(t.dbName,t.vsName,t.packageId,e.insights.constants.insightsSourceNavigationPane),[2]}}))}))},d.prototype.showStreamingDatasetEditorPane=function(e){this.services.realTimeModel.setSelected(e),this.services.taskPaneSliderService.expandPane(l.StreamingDatasetEditor)},d.prototype.granularSecurity=function(e){6===e.contentProviderId?this.cloudRlsNotSupportedDialog():this.services.navigation.showRowLevelSecuritySlider(e.id)},d.prototype.cloudRlsNotSupportedDialog=function(){this.modalDialogPromise=new a(this.services.modalDialogService).show("ModalDialog_CloudRlsUnSupportedTypeTitle","ModalDialog_CloudRlsUnSupportedTypeMessage","https://go.microsoft.com/fwlink/?LinkID=733530")},d.prototype.rename=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickRename,t.contentProviderId),this.services.settingsMetadataService.setSettings(4,t.dbName),this.services.taskPaneSliderService.expandPane(l.SettingsBlade,o.Medium)},d.prototype.navigateToSettingsPage=function(e){this.services.navigation.showSettingsSlider("datasets",e.dbName)},d.prototype.delete=function(i){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickDelete,i.contentProviderId);var o=i.id,r=i.packageId,a=this.services.modelService.findModel(o,r);a&&a.isUsedByContentPack?this.services.contentPackService.showDialogOnModelDeleteInContentPack(o):this.deleteModel(o,r,this.isOrgApp?t.DeleteContentPackMessageType.Dataset:null)},d.prototype.deleteModel=function(e,i,o){var r,a,n=this,s=this.services.modelService.findModel(e,i),c=this.services.errorService.control(),l=[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(t,o){c.hideDialog(),s&&s.realTimeMode?n.services.realTimeModel.deleteModel(e):n.services.modelService.deleteModel(e,i)}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){c.hideDialog()})];switch(o){case t.DeleteContentPackMessageType.Dataset:r=this.services.localizationService.get("Model_DeleteConfirmationTitle"),a=this.services.localizationService.get("Model_DeleteOrgAppContentPack");break;default:s&&s.realTimeMode?(r=this.services.localizationService.get("StreamingDatasetModel_DeleteConfirmationTitle"),a=this.services.localizationService.format("StreamingDatasetModel_DeleteConfirmationMessage",[s.displayName])):(r=this.services.localizationService.get("Model_DeleteConfirmationTitle"),a=this.services.localizationService.format("Model_DeleteConfirmationMessage",s?[s.displayName]:[]))}c.showCustomDialog(r,$("<div/>").text(a),l,(function(e){e.parent().find('input[value="'+n.services.localizationService.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)},d.prototype.customizeMenuActions=function(e,t){var i=this.services.featureSwitchService,o=this.services.localizationService,a=[],s=e.contract;if((e.getPermissions()&n.CopyOnWrite)===n.CopyOnWrite&&(a.push(9),this.addDeleteToMenuActions(a),this.isOrgApp=!0),this.services.ownership.permissionsArePersonalized(e.getPermissions(),t)&&(this.addDeleteToMenuActions(a),this.isOrgApp=!1),(e.getPermissions()&n.All)===n.All&&(this.isOrgApp=!1,a.push(10),a.push(4),this.addDeleteToMenuActions(a),s.onPremModelConnectionString||s.directQueryMode&&a.push(10)),i){if(this.services.analyzeInExcel.isAnalyzeInExcelSupported(i,e.getPermissions())&&a.push(8),s.insightsSupported&&((e.getPermissions()&n.Read)===n.Read||this.services.ownership.permissionsArePersonalized(e.getPermissions(),t))){var c=this.findInsightAction(s);a.push(c)}if((e.getPermissions()&n.All)===n.All&&(6===s.contentProviderId||7===s.contentProviderId)&&!s.onPremModelConnectionString){var l=this.services.groupService.activeGroup;(l.isMyWorkspace||l.contract.isOwner||!l.contract.isReadOnly)&&a.push(3)}}this.canDownloadPbix(e)&&a.push(17),this.datasetMenuActions=r.customizeRowMenuActions(a,o)},d.prototype.findInsightAction=function(e){var t=this.services.insightsService.getInsightsStatus(e);switch(t){case 2:return 12;case 1:return 11;default:return 2}},d.prototype.analyzeInExcel=function(t){var i=this.services.modelService.findModel(t.id,t.packageId);i&&(this.services.telemetryService.logEvent(e.telemetry.DashboardAndReportsAnalyzeInExcel,"Dataset Navigation Pane List",i.contentProviderId,i.contract.modelFeatures,i.dbName),this.services.analyzeInExcel.startAnalyzeInExcel(i))},d.prototype.personalizeDataset=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardClickPersonalize,t.contentProviderId),this.scope.$emit(e.constants.personalizeEventName,t.packageId)},d.prototype.createFileMenuActions=function(){var e=this.services.localizationService;return r.rowMenuActions(e)},d.prototype.showStreamingDatasetPushInfoPane=function(t){this.services.telemetryService.logEvent(e.telemetry.RealTimeStreamingDatasetPushInfoPaneOpened),this.services.realTimeModel.setSelected(t),this.services.taskPaneSliderService.expandPane(l.StreamingDatasetPushInfo)},d.prototype.addDeleteToMenuActions=function(e,t){void 0===t&&(t=!1),this.deleteEnabled&&(t?e.push(16):e.push(7))},d})();t.ContentDatasetActionsController=d})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentDatasetActions={templateUrl:"components/contentDatasetActions/contentDatasetActions.html",controller:e.common.createController(e.controllers.ContentDatasetActionsController),bindings:{deleteEnabled:"<?",viewModel:"=",viewRelatedEnabled:"<?",streamingDataset:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.helpers.ContentTileHelper,o=e.common.contracts.ContentTileType,r=e.common.utils.DateFormatter,a=e.common.contracts.GroupType,n=e.common.models.Model,s=e.common.helpers.ModelConverterHelper,c=e.common.contracts.PublishOrRefreshStatus,l=e.common.contracts.RealTimeMode,d=new Date(1),p=(function(){function t(e,t){var r=this;this.inViewport=!1,this.isFavoriting=!1,this.isTileActionsVisible=!1,this.setOwnerPhoto=function(){},this.openContentTile=function(){r.viewModel.contentTileType===o.Workspace&&r.openWorkspace(),i.openContentTile(r.viewModel,r.services.groupService,r.services.contentList)},this.unfavoriteContentTile=function(){var e=r.viewModel;r.services.contentList.removeFavorite(e)},this.favoriteContentTile=function(){r.isFavoriting=!0;var e=i.getGroupId(r.viewModel,r.services.groupService);r.services.contentList.addFavorite(r.viewModel,e).finally((function(){r.isFavoriting=!1}))},this.scope=e,this.services=t,this.hasGroupIconSet=!1,this.hasUserIconSet=!1,this.hasOwnerPhotoSet=!1,this.hasOwnerPhoto=!1,this.streamingDataset=!1,this.apiAccessType=this.services.localizationService.get("ContentList_Datasets_Dashes"),this.dashboardTitle=this.services.localizationService.get("Favorites_Dashboard")}return t.createOptions=function(){return{additionalServices:["contentList","groupService","localizationService","modelService","navigation","ownership","storageUsageService","userInfo","dashboardService","reportService","workbookService","appService"]}},t.prototype.$onInit=function(){8===this.tabType&&this.initializeDatasetMetadata(this.viewModel)},t.prototype.getTileTypeName=function(){if(this.viewModel&&this.viewModel.contentTileType)return o[this.viewModel.contentTileType].toLowerCase()},t.prototype.getOwnerNameOrMailForDashboard=function(){if(this.viewModel){if(this.viewModel.ownerFullname)return this.viewModel.ownerFullname;if(this.viewModel instanceof e.dataServices.models.Dashboard)return this.viewModel.ownerMail}},t.prototype.onceInViewport=function(){this.inViewport=!0},t.prototype.setUserPhoto=function(){var e=this;this.isMyWorkspace=!0,this.services.userInfo.getUserPhoto().then((function(t){e.hasUserIconSet=!0,e.userIcon=t})),this.groupName=this.getGroupName()},t.prototype.setGroupIcon=function(e){var t=this;this.isMyWorkspace=!1,this.services.userInfo.findGroupIcon(e).then((function(e){t.groupIcon=e,t.hasGroupIconSet=!0})),this.groupName=this.getGroupName(e)},t.prototype.getGroupName=function(e){var t=this.services.ownership;if(t.isResourceShareableWithMe(this.viewModel)&&t.isResourceSharedWithMe(this.viewModel))return this.services.localizationService.get("NavigationPane_SharedWithMe");if(this.isMyWorkspace)return this.services.localizationService.get("NavigationPane_Groups_MyWorkspace");var i=_.find(this.services.groupService.groups,(function(t){return t.aadGroupId===e}));return i?i.displayName:""},t.prototype.openWorkspace=function(){var t=this.viewModel;t.aadGroupId!==this.services.groupService.activeGroup.aadGroupId?t.isMyWorkspace||this.services.userInfo.isPremiumUser?this.services.navigation.navigateToGroupByGUID(t.aadGroupId):this.services.groupService.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.SwitchGroups):this.services.navigation.navigateToContentList(t.aadGroupId,!1,null,null,!1)},t.prototype.canShowOptionsMenu=function(){return this.services.contentList.canShowTileOptions(this.viewModel)},t.prototype.publishInProgress=function(){return this.services.contentList.publishInProgress(this.viewModel)},t.prototype.canUnFavorite=function(){if(i.isFavoritableContent(this.viewModel))return this.services.contentList.isFavorite(this.viewModel)},t.prototype.canFavorite=function(){if(i.isFavoritableContent(this.viewModel))return!this.services.contentList.isFavorite(this.viewModel)},t.prototype.isFavoriteDisabled=function(){return!!this.isFavoriting||i.isFavoriteDisabled(this.viewModel,this.services.contentList)},t.prototype.convertRefreshTimeToJsDateTime=function(e){var t=s.convertRefreshTimeToJsDateTime(e);return!t||t.getFullYear()>3e3?this.services.localizationService.get("ManageDatasets_NextRefresh_NA"):t.toLocaleString()},t.prototype.getPrettyDate=function(e){return r.getPrettyRelativeDate(e,this.services.localizationService)},t.prototype.getPrettySharedDate=function(e){var t=s.convertRefreshTimeToJsDateTime(e);return t<d?this.services.localizationService.get("SharedWithMe_SharedTime_Older"):this.getPrettyDate(t)},t.prototype.getLocalizedDate=function(e){return jsCommon.DateExtensions.GetFullDateWithTime(this.services.localizationService.currentLanguageLocale,e)},t.prototype.initializeDatasetMetadata=function(e){null!=e&&(e.realTimeMode&&e.realTimeMode===l.CacheOnly?(this.streamingDataset=!0,this.apiAccessType=this.services.localizationService.get("ContentList_Datasets_Streaming")):e.realTimeMode&&e.realTimeMode===l.PersistAndCache?(this.streamingDataset=!0,this.apiAccessType=this.services.localizationService.get("ContentList_Datasets_Hybrid")):e.realTimeMode&&e.realTimeMode===l.PubNubCacheOnly?(this.streamingDataset=!0,this.apiAccessType=this.services.localizationService.get("ContentList_Datasets_Streaming")):e.contract.pushDataVersion&&(this.apiAccessType=this.services.localizationService.get("ContentList_Datasets_Push")))},t.prototype.isNew=function(){return this.viewModel instanceof n?this.viewModel.isNew&&this.viewModel.contract.packagePublishStatus!==c.PublishError&&this.viewModel.contract.packagePublishStatus!==c.RefreshError&&!this.isRefreshInProgress():this.viewModel.isNew},t.prototype.isRefreshInProgress=function(){if(this.viewModel instanceof n){var e=this.services.modelService.findModel(this.viewModel.contract.id,this.viewModel.contract.packageId);return!!e&&e.isRefreshInProgress}return!1},t.prototype.toggleTileActionsVisibility=function(e){e.stopPropagation(),this.isTileActionsVisible=!this.isTileActionsVisible},t.prototype.getChannelContentDescription=function(){var e=this.viewModel;if(e&&32===this.tabType)return this.services.localizationService.format("ContentList_Apps_Description",[_.size(e.dashboardIds),_.size(e.reportIds),_.size(e.modelIds)])},t.prototype.initializeMruRow=function(){this.viewModel.workspaceId===e.constants.myWorkSpaceGroupId?this.setUserPhoto():this.setGroupIcon(this.viewModel.workspaceId),this.isItemAvailable=!!this.getOriginalContentTileOrViewModel()},t.prototype.initializeFavoriteRow=function(){this.viewModel.workspaceId?this.setGroupIcon(this.viewModel.workspaceId):this.setUserPhoto()},t.prototype.getOriginalContentTileOrViewModel=function(){var e=this.services;return i.getMRUOriginalContentTile(this.viewModel,e.dashboardService,e.reportService,e.workbookService,e.appService)},t.prototype.getActualContentType=function(){return i.getActualType(this.viewModel)},t.prototype.navigateToGroup=function(){var t=this.services.ownership.isResourceShareableWithMe(this.viewModel)&&this.services.ownership.isResourceSharedWithMe(this.viewModel);this.services.navigation.navigateToContentList(e.constants.myWorkSpaceGroupId,!0,null,null,t)},t.prototype.getOwnershipTextForWorkspace=function(){if(this.viewModel.contentTileType===o.Workspace){var e=this.viewModel;return e.contract.isOwner||e.isMyWorkspace?this.services.localizationService.get("GroupEditor_RoleOptions_Admin"):this.services.localizationService.get("GroupEditor_RoleOptions_Member")}},t.prototype.getGroupTypeTextForWorkspace=function(){if(this.viewModel.contentTileType===o.Workspace){var e=this.viewModel;switch(e.contract.groupType){case a.Unknown:return"";case a.SecurityGroup:return this.services.localizationService.get("ContentList_Workspaces_GroupType_SecurityGroup");case a.DistributionList:return this.services.localizationService.get("ContentList_Workspaces_GroupType_DistributionList");case a.EmailEnabledSecurityGroup:return this.services.localizationService.get("ContentList_Workspaces_GroupType_EmailEnabledSecurityGroup");case a.O365Group:return this.services.localizationService.get("ContentList_Workspaces_GroupType_O365Group")}}},t.prototype.hasCapacity=function(){var e=this.viewModel.workspaceId;this.viewModel.contentTileType!==o.Dashboard||e||(e=this.viewModel.ownerGroupObjectId);var t=this.services.groupService.getGroup(e);return t&&!!t.capacity},t})();t.ContentTileController=p})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentTile={restrict:"E",templateUrl:"components/contentTile/contentTile.html",bindings:{viewModel:"<",inViewport:"<?disableLazyLoading"},controller:e.common.createController(e.controllers.ContentTileController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentRow={templateUrl:"components/contentRow/contentRow.html",bindings:{viewModel:"<",tabType:"<",inViewport:"<?disableLazyLoading",isDataClassificationEnabled:"<"},controller:e.common.createController(e.controllers.ContentTileController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){e.ContentHeader={templateUrl:"components/contentHeader/contentHeader.html",bindings:{tabType:"<",isDataClassificationEnabled:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.models.factory.ArtifactSortPredicates,o=e.common.models.CollapsiblePaneExpandedWidth,r=e.common.constants,a=e.common.dialog.MessageDialogBuilder,n=e.models.OwnershipFilterMenuFilter,s=e.common.contracts.PermissionArtifactType,c=e.dataServices.PermissionsUtils,l=e.telemetry.SelectSort,d=e.common.constants.TaskPaneCollapsiblePaneMode,p=e.common.contracts.ContentTileType,u=(function(){function u(t,o){var r=this;this.services=o,this.groupLinkTypeToDisplayNameMap={},this.groupLinkTypeToLabelClassMap={},this.sortPredicateMap={},this.allTypes=p.Dashboard|p.Report|p.Workbook,this.dashboards=[],this.reports=[],this.workbooks=[],this.datasets=[],this.publishedApps=[],this.dashboardCount=0,this.reportCount=0,this.workbookCount=0,this.datasetCount=0,this.publishedAppsCount=0,this.searchText="",this.sortPredicate=i.TitleAlphabeticalPredicate,this.typeFilter=this.allTypes,this.ownership=n.AllContent,this.galleryViewModel={},this.filteredDashboards=[],this.filteredReports=[],this.filteredWorkbooks=[],this.filteredDatasets=[],this.filteredPublishedApps=[],this.initializeArtifacts=function(){var e=r.services.contentList,t=e.getDashboards().then((function(e){return r.dashboards=e,e})),i=e.getReports().then((function(e){return r.reports=e,e})),o=e.getWorkbooks().then((function(e){return r.workbooks=e,e})),a=e.getDatasets().then((function(e){return r.datasets=e,e}));e.getPublishedApps().then((function(e){return r.publishedApps=e,e}));var n=r.services.promiseFactory.all([t,i,o,a]);r.dashboardsLoadedDefer=r.services.promiseFactory.defer(),r.reportsLoadedDefer=r.services.promiseFactory.defer(),r.workbooksLoadedDefer=r.services.promiseFactory.defer(),r.datasetLoadedDefer=r.services.promiseFactory.defer(),r.contentListDataReadyPromise=n.then(r.navigateToGetDataPageIfEmptyContent),n.then((function(){return r.updateArtifacts()})),r.groupService.ensureGroupsInitialization().then((function(){var e=r.services.groupService.activeGroup;r.bindGroupNavigationPaneMenu(e),r.groupName=e.displayName})),r.setCanManageDatasets(),r.initOnAppMetadata()},this.mapResourceOwnerFullnames=function(){r.services.resourceOwnershipService.mapReportOwnerFullnames(r.reports,r.dashboards,r.groupService.activeGroupObjectId,r.groupName),r.services.resourceOwnershipService.mapWorkbookOwnerFullnames(r.workbooks,r.dashboards,r.groupService.activeGroupObjectId,r.groupName)},this.startTelemetry=function(){r.scope.$on(e.constants.contentListDashboardsLoadedEvent,(function(){r.dashboardsLoadedDefer.resolve(null)})),r.scope.$on(e.constants.contentListReportsLoadedEvent,(function(){r.reportsLoadedDefer.resolve(null)})),r.scope.$on(e.constants.contentListWorkbooksLoadedEvent,(function(){r.workbooksLoadedDefer.resolve(null)})),r.scope.$on(e.constants.contentListDatasetsLoadedEvent,(function(){r.datasetLoadedDefer.resolve(null)}));var t=r.telemetryService.startActivity(r.scope,e.telemetry.ContentListLoaded);if(r.telemetryService.logEvent(e.telemetry.ContentListArtifactsCount,r.dashboards?r.dashboards.length:-1,r.reports?r.reports.length:-1,r.workbooks?r.workbooks.length:-1),r.listViewEnabled){var i=void 0;switch(r.activeTab){case 0:i=r.dashboardsLoadedDefer.promise;break;case 2:i=r.reportsLoadedDefer.promise;break;case 4:i=r.workbooksLoadedDefer.promise;break;case 8:i=r.datasetLoadedDefer.promise}i&&i.then((function(){t.resolve(),r.groupService.resolveGroupSwitchTelemetry()}))}else r.services.promiseFactory.all([r.dashboardsLoadedDefer.promise,r.reportsLoadedDefer.promise,r.workbooksLoadedDefer.promise]).then((function(){t.resolve(),r.groupService.resolveGroupSwitchTelemetry()}))},this.navigateToGetDataPageIfEmptyContent=function(t){if(_.every(t,_.isEmpty)&&!r.navigation.stateService.params[u.skipWelcome]){var i={groupGUID:r.services.groupService.activeGroupObjectId};r.services.navigation.replaceAndLoadCurrentState(e.constants.navigation.states.groupWelcome,i)}},this.resolveTelemetry=function(e,t,i){return 0===r[t]&&r[i].resolve(null),e},this.searchProperties=function(e){var t=r.searchText.toLocaleLowerCase();return r.containsSubstring(e.displayName,t)||r.containsSubstring(e.ownerFullname,t)},this.setCanManageDatasets=function(){r.services.groupService.ensureGroupsInitialization().then((function(){r.canManageDatasets=!r.services.groupService.activeGroup.contract.isReadOnly||r.services.groupService.activeGroup.contract.isOwner}))},this.selectSort=function(t){r.sortPredicate=t,r.filterArtifacts(r.activeTab);var i=r.sortPredicateMap[t.toAngularFilter()];r.services.telemetryService.logEvent(e.telemetry.ContentListSelectSort,i),r.persistFilter()},this.ownershipPredicate=function(e){return r.ownership===n.AllContent||r.ownership===n.SharedWithMe&&r.ownershipService.isResourceSharedWithMe(e)||r.ownership===n.MyContent&&!r.ownershipService.isResourceSharedWithMe(e)},this.onSearchTextChange=function(){r.filterArtifacts(r.activeTab),r.ensureSearchTelemetry()},this.ensureSearchTelemetry=function(){r.searchTelemetry||_.isEmpty(r.searchText)||(r.searchTelemetry=r.telemetryService.startEvent(e.telemetry.ContentListSearch))},this.resolveSearchTelemetry=function(){r.searchTelemetry&&(r.searchTelemetry.resolve(),r.searchTelemetry=null)},this.isVisible=function(e){return r.services.contentList.isVisible(e)},this.emptySharedDashboards={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptySharedWithMeTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptySharedWithMeMessage"),imgClass:"empty-shared-with-me-img"},this.emptyDashboards={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptyDashboardsTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptyDashboardsMessage"),imgClass:"empty-dashboards-img"},this.emptyReports={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptyReportsTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptyReportsMessage"),imgClass:"empty-reports-img"},this.emptyWorkbooks={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptyWorkbooksTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptyWorkbooksMessage"),imgClass:"empty-workbooks-img"},this.emptyDatasets={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptyDatasetsTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptyDatasetsMessage"),imgClass:"empty-datasets-img"},this.emptyPublishedApps={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptyPublishedApps"),contentNonShared:this.services.localizationService.get("ContentList_EmptyPublishedAppsMessage"),imgClass:"empty-apps-img",btnLabelKey:"Create_App_Button_Text",btnClick:function(){return r.addChannel()}},this.emptySearch={canEdit:!0,mode:!1,linkDescription:this.services.localizationService.get("ContentList_EmptySearchResults_SearchRedirectDescription"),linkText:this.services.localizationService.format("SearchIn",[this.services.localizationService.get("NavigationPane_SharedWithMe")]),linkAction:function(){return r.switchWorkspaceFromEmptySearch()},imgClass:"empty-search-img"},this.scope=t,this.navigation=o.navigation,this.localizationService=o.localizationService,this.errorService=o.errorService,this.groupService=o.groupService,this.telemetryService=o.telemetryService,this.groupHttp=o.groupHttp,this.ownershipService=o.ownership,this.rootScope=o.rootScope,this.modalDialogService=o.modalDialogService,this.userActivityContextService=o.userActivityContextService,this.modelService=o.modelService,this.listViewEnabled=o.featureSwitchService.featureSwitches.listViewEnabled,this.userMetadataLoaded=!1,this.setActiveTab(this.getCurrentTab()),this.initializeArtifacts();var a=this.services.contentList.subscribeDashboards((function(){return r.updateArtifacts()})),s=this.services.contentList.subscribeReports((function(){return r.updateArtifacts()})),c=this.services.contentList.subscribeWorkbooks((function(){return r.updateArtifacts()})),l=this.services.contentList.subscribeModels((function(){return r.updateArtifacts()}));this.createReportDialogBuilder=new e.dialogs.CreateReportDialogBuilder(o.telemetryService,o.navigation,o.modalDialogService,o.modelService);var d=this.rootScope.$on(e.constants.groupSwitchedEventName,this.initializeArtifacts);this.services.dataClassificationService.isEnabledAsync().then((function(e){r.dataClassificationEnabled=e}));var v=this.services.rootScope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,t,i,o,a){return r.handleStateChange(t,i,o,a)}));this.unregisterListeners=function(){r.services.contentList.unsubscribeDashboards(a),r.services.contentList.unsubscribeReports(s),r.services.contentList.unsubscribeWorkbooks(c),
r.services.contentList.unsubscribeModels(l),v(),d()}}return u.createOptions=function(){return{additionalServices:["$rootScope","appMetadataService","appService","conceptualModelSetting","contentList","groupService","navigation","permissionService","promiseFactory","ownership","localizationService","telemetryService","errorService","groupHttp","modalDialogService","resourceOwnershipService","filterPersistenceService","featureSwitchService","userActivityContextService","modelService","realTimeModel","overlayService","dataClassificationService","userInfo","quota","taskPaneSliderService","packageService"]}},u.prototype.$onInit=function(){var e=this;this.sortPredicateMap[i.TitleAlphabeticalPredicate.toAngularFilter()]=l.TitleAlpabetical,this.sortPredicateMap[i.TitleReverseAlphabeticalPredicate.toAngularFilter()]=l.TitleReverseAlphabetical,this.sortPredicateMap[i.OwnerAlphabeticalPredicate.toAngularFilter()]=l.OwnerAlphabetical,this.sortPredicateMap[i.OwnerReverseAlphabeticalPredicate.toAngularFilter()]=l.OwnerReverseAlphabetical,1===this.services.navigation.instantiationMode&&this.showStreamingDatasetGalleryPane(),this.processSharedWithMeParameter(),this.services.userInfo.userMetadataPromise.finally((function(){e.userMetadataLoaded=!0})),this.initialized=!0},u.prototype.$onDestroy=function(){this.unregisterListeners()},Object.defineProperty(u.prototype,"showSpinner",{get:function(){return this.isOnlySharedWithMe()?this.dashboardsArePresent&&(!this.userMetadataLoaded||!this.initialized):!this.initialized},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"isActiveWorkspaceReadOnly",{get:function(){return this.services.permissionService.isActiveWorkspaceIsReadOnly},enumerable:!0,configurable:!0}),u.prototype.isOnlySharedWithMe=function(){return this.services.navigation.inContentListView(!0)},u.prototype.processSharedWithMeParameter=function(){this.navigation.searchText&&(this.searchText=this.navigation.searchText),this.isOnlySharedWithMe()?(this.setActiveTab(0),this.ownership=n.SharedWithMe,this.sortPredicate=i.OwnerAlphabeticalPredicate):(this.setActiveTab(this.getCurrentTab()),this.ownership=n.MyContent,this.sortPredicate=i.TitleAlphabeticalPredicate)},u.prototype.handleStateChange=function(e,t,i,o){this.processSharedWithMeParameter()},u.prototype.containsSubstring=function(e,t){return!!e&&_.contains(e.toLocaleLowerCase(),t)},u.prototype.$postLink=function(){this.contentListDataReadyPromise.then(this.startTelemetry)},u.prototype.initOnAppMetadata=function(){var e=this;this.services.appMetadataService.getAppMetadata().then((function(){e.initialized=!0}))},u.prototype.getNumberOfShownItems=function(){var e=0;return this.shouldHideType(p.Dashboard)||(e+=this.dashboardCount),this.shouldHideType(p.Report)||(e+=this.reportCount),this.shouldHideType(p.Workbook)||(e+=this.workbookCount),e},u.prototype.shouldHideType=function(e){return 0===(this.typeFilter&e)},u.prototype.groupNavigationPaneMenuItemSelected=function(e,i){switch(e.action){case t.GroupNavigationPaneMenuAction.EditGroup:this.services.taskPaneSliderService.expandPane(d.GroupEditorEdit,o.Large);break;case t.GroupNavigationPaneMenuAction.ViewGroup:this.services.taskPaneSliderService.expandPane(d.GroupEditorView,o.Large);break;case t.GroupNavigationPaneMenuAction.LeaveGroup:this.leaveGroup()}},u.prototype.bindGroupNavigationPaneMenu=function(i){var o=this;this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Calendar]=this.localizationService.get("GroupNavigationPaneContextMenuItem_Calendar"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Conversations]=this.localizationService.get("GroupNavigationPaneContextMenuItem_Conversations"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.EditGroup]=this.localizationService.get("GroupNavigationPaneContextMenuItem_EditGroup"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Files]=this.localizationService.get("GroupNavigationPaneContextMenuItem_Files"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.LeaveGroup]=this.localizationService.get("GroupNavigationPaneContextMenuItem_LeaveGroup"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Members]=this.localizationService.get("GroupNavigationPaneContextMenuItem_Members"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Notebook]=this.localizationService.get("GroupNavigationPaneContextMenuItem_Notebook"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.ViewGroup]=this.localizationService.get("GroupNavigationPaneContextMenuItem_ViewGroup"),this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Calendar]="calendar",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Conversations]="conversations",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.EditGroup]="editGroup",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Files]="files",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.LeaveGroup]="leaveGroup",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Members]="members",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Notebook]="notebook",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.ViewGroup]="viewGroup";var r=i.metadata,a=[],n=0,s=!0;r?r.contextMenuItemList.forEach((function(i){if(0===n&&r.contextMenuSeparatorPosition===-1)s=!1;else if(n++===r.contextMenuSeparatorPosition){var c={type:DropDownMenuItemType.Separator};a.push(c),s=!1}var l;if(!s)switch(i.linkType){case e.common.contracts.GroupLinkType.EditGroup:l=t.GroupNavigationPaneMenuAction.EditGroup;break;case e.common.contracts.GroupLinkType.ViewGroup:l=t.GroupNavigationPaneMenuAction.ViewGroup;break;case e.common.contracts.GroupLinkType.LeaveGroup:l=t.GroupNavigationPaneMenuAction.LeaveGroup}var d={text:o.groupLinkTypeToDisplayNameMap[i.linkType],labelClass:o.groupLinkTypeToLabelClassMap[i.linkType],action:l,href:s?i.url:void 0,type:DropDownMenuItemType.Item};a.push(d)})):(a.push({text:this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.EditGroup],labelClass:this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.EditGroup],action:t.GroupNavigationPaneMenuAction.EditGroup,type:DropDownMenuItemType.Item}),a.push({text:this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.LeaveGroup],labelClass:this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.LeaveGroup],action:t.GroupNavigationPaneMenuAction.LeaveGroup,type:DropDownMenuItemType.Item})),this.groupContextMenu=a;var c=i.lastOwnershipFilter;this.selectedOwnershipFilter=_.find(this.ownershipFilterContextMenuItems,(function(e){return e.filter===c}))},u.prototype.leaveGroup=function(){var e=this,t=this.errorService,i=t.control(),o=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Leave"),function(t,o){i.hideDialog(),e.tryLeaveGroup()}),new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){i.hideDialog()})],r=this.localizationService.get("GroupEditor_LeaveGroupConfirmation_Title"),a=this.localizationService.get("GroupEditor_LeaveGroupConfirmation_Message");i.showCustomDialog(r,$("<div/>").text(a),o,(function(t){t.parent().find('input[value="'+e.localizationService.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)},u.prototype.tryLeaveGroup=function(){var t=this,i=this.errorService.control(),o=this.services.rootScope.$new(),r={dialogName:null,scope:o,template:'<spinner></spinner><span localize="GroupEditor_WaitLeaveGroup"></span>',containerCssClass:"leaveGroup",isDismissable:!1};this.services.modalDialogService.showLegacyWebModalDialog(r);var a=this.groupService.activeGroup,n=e.session.UserInfoUtils.getEmailAddressForReceivingMail();if(a.contract.isOwner){var s=this.telemetryService,c=s.startEvent(e.telemetry.GroupEditorGetGroupMembers);this.groupHttp.getGroupMembers(a.aadGroupId,c.event).then((function(e){if(t.isUserTheOnlyAdmin(n,e.data)){i.hideDialog();var o=[new InJs.ModalDialogAction(t.localizationService.get("ModalDialogButtonText_Ok"),function(e,t){i.hideDialog()})],r=t.localizationService.get("Groups_LeaveGroup_TheOnlyAdmin_Message");i.showCustomDialog("",$("<div/>").text(r),o,null,!0)}else t.leaveGroupInternal(n);c.resolve()}),(function(e){i.hideDialog(),t.errorService.error(t.localizationService.get("GroupEditor_FailedGetGroupMembers_Message"),"FailedToGetGroupMembers",{requestId:e.requestId,statusCode:e.status.toString()}),c.reject()}))}else this.leaveGroupInternal(n)},u.prototype.isUserTheOnlyAdmin=function(t,i){var o=0===_.filter(i,(function(i){return(i.membershipStatus===e.common.contracts.GroupMembershipStatus.Owner||i.membershipStatus===e.common.contracts.GroupMembershipStatus.MemberAndOwner)&&i.userPrincipalName.toLowerCase()!==t.toLowerCase()})).length;return o},u.prototype.persistFilter=function(){this.services.filterPersistenceService.setFilter(this.navigation.currentGroupGUID,{contentTileType:this.typeFilter,ownershipFilter:this.ownership,sortPredicate:this.sortPredicate.toAngularFilter()})},u.prototype.leaveGroupInternal=function(t){var i=this,o=[],r=[{userPrincipalName:t,membershipStatus:e.common.contracts.GroupMembershipStatus.Member}],a={displayName:""},n=this.telemetryService,s=n.startEvent(e.telemetry.GroupEditorUserLeaveGroup,!1,this.groupService.activeGroup.contract.objectId,this.groupService.activeGroup.contract.isReadOnly,0,0),c=this.errorService.control();this.groupHttp.updateGroup(this.groupService.activeGroup.aadGroupId,a,o,r,null,null,s.event).then((function(t){c.hideDialog(),i.groupService.removeGroup(i.groupService.activeGroupObjectId),i.navigation.navigateToGroupByGUID(e.constants.myWorkSpaceGroupId),s.event.info.groupUpdated=!0;var o=_.filter(t.data,(function(t){return t.membershipStatus!==e.common.contracts.GroupMembershipStatus.Owner})).length;s.event.info.adminCount=o,s.event.info.memberCount=t.data.length-o,s.resolve()}),(function(e){c.hideDialog(),i.errorService.error(i.localizationService.get("GroupEditor_FailedUpdateGroup_Message"),"FailedToUpdateGroup",{requestId:e.requestId,statusCode:e.status.toString()}),s.event.info.groupUpdated=!1,s.reject()}))},u.prototype.switchWorkspaceFromEmptySearch=function(){this.services.navigation.navigateToSharedWithMe(this.searchText)},u.prototype.setActiveTab=function(e){this.activeTab=e,e!==this.getCurrentTab()&&this.services.navigation.changeContentListPivot(e),this.updateSortPredicates(),this.updateArtifacts()},u.prototype.getCurrentTab=function(){var e=this.services.navigation.stateService.params[u.pivot];switch(e){case"dashboards":return 0;case"datasets":return 8;case"recent":return 16;case"reports":return 2;case"workbooks":return 4}return this.services.navigation.contentListTab||0},u.prototype.updateSortPredicates=function(){this.sortPredicates=e.models.factory.SelectTileSortItemsFactory.createPredicates(this.localizationService,this.activeTab)},u.prototype.updateArtifacts=function(){this.services.promiseFactory.all([this.contentListDataReadyPromise,this.groupService.ensureGroupsInitialization(),this.services.contentList.dashboardsOwnersMergedPromise(),this.services.appService.ensureAppsInitialization()]).then(this.mapResourceOwnerFullnames),this.filterArtifacts(this.activeTab)},u.prototype.filterArtifacts=function(e){switch(e){case 0:this.filterDashboards();break;case 2:this.filterReports();break;case 4:this.filterWorkbooks();break;case 8:this.filterDatasets()}this.updateGalleryViewModel()},u.prototype.filterDashboards=function(){var e=this,t=_(this.dashboards).filter((function(t){return e.isVisible(t)&&e.ownershipPredicate(t)}));this.dashboardsArePresent=t.any(),this.filteredDashboards=this.filterSearchTextAndSort(t).value(),this.dashboardCount=this.filteredDashboards.length},u.prototype.filterReports=function(){var e=this,t=_(this.reports).filter((function(t){return e.isVisible(t)&&e.ownershipPredicate(t)&&!e.isUsageMetricsReport(t)}));this.reportsArePresent=t.any(),this.filteredReports=this.filterSearchTextAndSort(t).value(),this.reportCount=this.filteredReports.length},u.prototype.filterWorkbooks=function(){var e=this,t=_(this.workbooks).filter((function(t){return e.isVisible(t)&&e.ownershipPredicate(t)}));this.workbooksArePresent=t.any(),this.filteredWorkbooks=this.filterSearchTextAndSort(t).value(),this.workbookCount=this.filteredWorkbooks.length},u.prototype.filterDatasets=function(){var e=_(this.datasets).filter(this.isVisible);this.datasetsArePresent=e.any(),this.filteredDatasets=this.filterSearchTextAndSort(e).value(),this.datasetCount=this.filteredDatasets.length},u.prototype.filterSearchTextAndSort=function(e){var t=this,i=e.filter(this.searchProperties).sortBy((function(e){return e.hasOwnProperty(t.sortPredicate.columnName)?e[t.sortPredicate.columnName].toLocaleLowerCase():""}));return this.sortPredicate.reverse&&(i=i.reverse()),i},u.prototype.isUsageMetricsReport=function(e){if(_.isNumber(e.packageId)){var t=this.services.packageService.findPackage(e.packageId);if(t&&_.isNumber(t.contentProviderId))return r.isUsageMetricsContentProvider(t.contentProviderId)}return!1},u.prototype.updateGalleryViewModel=function(){var t=this;switch(this.galleryViewModel.tabType=this.activeTab,this.galleryViewModel.collapsiblePaneMode=this.collapsiblePaneMode,this.activeTab){case 0:this.galleryViewModel.getTiles=function(){return t.filteredDashboards},this.galleryViewModel.finishLoadEvent=e.constants.contentListDashboardsLoadedEvent;break;case 2:this.galleryViewModel.getTiles=function(){return t.filteredReports},this.galleryViewModel.finishLoadEvent=e.constants.contentListReportsLoadedEvent;break;case 4:this.galleryViewModel.getTiles=function(){return t.filteredWorkbooks},this.galleryViewModel.finishLoadEvent=e.constants.contentListWorkbooksLoadedEvent;break;case 8:this.galleryViewModel.getTiles=function(){return t.filteredDatasets},this.galleryViewModel.finishLoadEvent=e.constants.contentListDatasetsLoadedEvent}},u.prototype.getNumberOfShownTabItems=function(){var e=0;switch(this.activeTab){case 0:return e+=this.dashboardCount;case 2:return e+=this.reportCount;case 4:return e+=this.workbookCount;case 8:return e+=this.datasetCount;default:return e}},u.prototype.addDashboard=function(){var t=this;this.services.overlayService.hideAllDropdowns();var i=this.services.localizationService;e.explore.controllers.showSaveAsDialog(this.services.errorService,i,i.get("ContentList_CreateDashboard_DialogTitle"),i.get("ContentList_CreateDashboard_DialogDetails"),i.get("ContentList_CreateDashboard_DialogButton")).then((function(e){t.services.contentList.addDashboard(e)}),(function(){}))},u.prototype.addReport=function(){this.services.overlayService.hideAllDropdowns(),this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.OpenDataset)||this.createReportDialogBuilder.show()},u.prototype.showStreamingDatasetGalleryPane=function(){this.services.overlayService.hideAllDropdowns(),this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.CreateStreamingDataset)||(this.services.realTimeModel.setSelected(null),this.services.featureSwitchService.featureSwitches.realTimePubNubEnabled?this.services.taskPaneSliderService.expandPane(d.StreamingDatasetGallery):this.services.taskPaneSliderService.expandPane(d.StreamingDatasetEditor))},u.prototype.addChannel=function(){var e=this,t=_.filter(this.dashboards,(function(e){return!e.contract.isHidden&&c.canReshare(e.getPermissions(),s.Dashboard)})),i=_.filter(this.reports,(function(t){return c.canReshare(e.services.permissionService.getReportEffectivePermissions(t.contract),s.Report)})),o=_.filter(this.workbooks,(function(t){return c.canReshare(e.services.permissionService.getWorkbookEffectivePermissions(t.contract),s.Workbook)})),r=_.filter(this.datasets,(function(t){return!t.contract.isHidden&&c.canReshare(e.services.permissionService.getModelEffectivePermissions(t.contract),s.Dataset)}));if(_.isEmpty(t)&&_.isEmpty(i)&&_.isEmpty(o)&&_.isEmpty(r)){var n=new a(this.services.modalDialogService);n.show("PublishAppConfirmDialog",{titleText:this.services.localizationService.get("AppModel_CannotCreateTitle"),messageText:this.services.localizationService.get("AppModel_CannotCreatContent"),okButtonText:this.services.localizationService.get("PBI_Button_Label_Close"),hideCancelButton:!0})}else this.services.navigation.showPublishAppSlicer()},u.prototype.isAppsEnabled=function(){return this.services.conceptualModelSetting.isAppsEnabled()},u.prototype.getWatermarkConfig=function(){switch(this.activeTab){case 0:return this.internalGetWatermarkMessage("Dashboard");case 2:return this.internalGetWatermarkMessage("Report");case 4:return this.internalGetWatermarkMessage("Workbook");case 8:return this.internalGetWatermarkMessage("Dataset")}},u.prototype.internalGetWatermarkMessage=function(e){var t=_.camelCase(e);return 0!==this[t+"Count"]||_.isEmpty(this.searchText)?this[t+"sArePresent"]?void 0:"dashboard"===t&&this.isOnlySharedWithMe()?this.emptySharedDashboards:this["empty"+e+"s"]:this.emptySearch},u})();u.skipWelcome="skipWelcome",u.pivot="pivot",t.ContentListContainerV2Controller=u})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentListContainerV2={templateUrl:"components/contentListContainerV2/contentListContainerV2.html",controller:e.common.createController(e.controllers.ContentListContainerV2Controller),bindings:{collapsiblePaneMode:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.disableLazyLoading=!1,this.shouldShowAddDashboardBtn=function(){i.services.groupService.ensureGroupsInitialization().then((function(){i.showAddDashboardBtn=!i.services.groupService.activeGroup.contract.isReadOnly||i.services.groupService.activeGroup.contract.isOwner}))},this.scope=e,this.services=t,this.shouldShowAddDashboardBtn()}return t.createOptions=function(){return{additionalServices:["contentList","localizationService","errorService","groupService"]}},t.prototype.activeAddDashboard=function(){var t=this,i=this.services.localizationService;e.explore.controllers.showSaveAsDialog(this.services.errorService,i,i.get("ContentList_CreateDashboard_DialogTitle"),i.get("ContentList_CreateDashboard_DialogDetails"),i.get("ContentList_CreateDashboard_DialogButton")).then((function(e){t.services.contentList.addDashboard(e)}),(function(){}))},t})();t.ContentTileContainerController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.ContentListGalleryViewModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t="dashboardsGallery",i="reportsGallery",o="workbooksGallery",r="datasetsGallery",a="recentlyUsedGallery",n="channelsGallery",s="sharedWithMeGallery",c="favoritesGallery",l=(function(){function e(e,t){this.services=t}return Object.defineProperty(e.prototype,"galleryContainerStyle",{get:function(){switch(this.viewModel.tabType){case 0:return t;case 2:return i;case 4:return o;case 8:return r;case 16:return a;case 32:return n;case 64:return s;case 128:return c}},enumerable:!0,configurable:!0}),e})();e.ContentListGalleryController=l})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentListGallery={templateUrl:"components/contentListGallery/contentListGallery.html",bindings:{viewModel:"<",isDataClassificationEnabled:"<"},controller:e.common.createController(e.controllers.ContentListGalleryController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentTileContainer={templateUrl:"components/contentTileContainer/contentTileContainer.html",controller:e.common.createController(e.controllers.ContentTileContainerController),transclude:{title:"?sectionTitle"},bindings:{getTiles:"&tiles",collapsiblePaneMode:"<",finishLoadEvent:"@",disableLazyLoading:"<?",placeHolderTile:"<?"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentRowContainer={templateUrl:"components/contentRowContainer/contentRowContainer.html",controller:e.common.createController(e.controllers.ContentTileContainerController),bindings:{getTiles:"&tiles",tabType:"<",collapsiblePaneMode:"<",finishLoadEvent:"@",disableLazyLoading:"<?",isDataClassificationEnabled:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(i){function o(t){var i=e.dataServices.models.AppModelIconBackgroundColors[0].color,o={emailsList:new g,displayText:t,displayName:t,description:void 0,iconUrl:void 0,contentTileType:u.PublishedOrgApp,dashboardIds:[],reportIds:[],workbookIds:[],modelIds:[],listOfGroupPrincipals:[],icon:b,iconColor:e.dataServices.models.AppModelIconColors[0],iconBackgroundColor:i,headerBackgroundColor:p.getAppHeaderBackgroundColor(i),defaultContentOption:1,defaultContent:void 0,isSharedToEntireOrg:!1,allowCopyContent:!0,getPermissions:function(){return e.common.contracts.Permissions.Read|e.common.contracts.Permissions.CopyOnWrite}};return o}function r(e){return e instanceof h?{dashboardObjectId:e.objectId}:e instanceof f?{reportObjectId:e.objectId}:e instanceof m?{workbookObjectId:e.uniqueId}:void 0}function a(e,t){var i,o,r=c(e,t);e.isSharedToEntireOrg||(i=_.map(e.emailsList.validEmailsList.concat(e.emailsList.validObjectIds),(function(e){return e.toLowerCase()})),o=e.emailsList&&e.emailsList.inputUserList);var a={name:e.displayName,description:e.description,icon:r,parameterIcon:null,accessPermissions:{adUserMetadataList:o,listOfGroupsOrPrincipals:i,isSharedToEntireOrganization:e.isSharedToEntireOrg},dashboardIds:e.dashboardIds,reportIds:e.reportIds,modelIds:e.modelIds,workbookIds:e.workbookIds,contentProviderCategory:e.publishAsTemplate?v.OrganizationalTemplateApp:v.OrganizationalApp,skipUpdateIcon:!r,appSettings:{defaultAppArtifact:0===e.defaultContentOption?null:e.defaultContent,iconName:e.icon,iconColor:e.iconColor,iconBackgroundColor:e.iconBackgroundColor,headerBackgroundColor:e.headerBackgroundColor,allowCopyContent:e.allowCopyContent}};return a}function n(e){return _.isEmpty(e.objectId)||e.isFromContentPack===!0}function s(e,t){var i=!!e.icon,o=!!t&&!!t.icon,r=n(e)&&i,a=i&&!o,s=i&&o&&(e.icon!==t.icon||e.iconColor!==t.iconColor||e.iconBackgroundColor!==t.iconBackgroundColor);return r||a||s}function c(e,t){return s(e,t)?e.iconImageData:t&&e.localAppLogoImageData===t.localAppLogoImageData?void 0:e.localAppLogoImageData}function l(e,t,i){var o=e.defer(),r=$(t),a=r.find("i");if(_.isEmpty(a))o.reject();else{var n=r.width(),s=n/2,c=$("<canvas>")[0],l=c.getContext("2d"),d=getComputedStyle(a[0],":before").getPropertyValue("content");d=_.trim(d,'"');var p=getComputedStyle(a[0]).getPropertyValue("font-size");l.canvas.width=n,l.canvas.height=n,l.fillStyle=i.iconBackgroundColor,l.beginPath(),l.arc(s,s,s,0,2*Math.PI,!1),l.closePath(),l.fill(),l.fillStyle=i.iconColor,l.font=p+" PowrMDL2",l.textAlign="center",l.textBaseline="middle",l.fillText(d,s,s),o.resolve(c.toDataURL())}return o.promise}function d(e,i){e.displayName=i.displayName,e.icon=i.icon,e.iconColor=i.iconColor,e.iconBackgroundColor=i.iconBackgroundColor,e.headerBackgroundColor=i.headerBackgroundColor,e.iconImageData=i.iconImageData,e.localAppLogoImageData=i.localAppLogoImageData,e.defaultContentOption=i.defaultContentOption,e.defaultContent=i.defaultContent,e.publishAsTemplate=i.publishAsTemplate,e.emailsList=i.emailsList,t.ContentPackAuthoringHelper.updateContentPack(e,i)}var p=e.dataServices.AppUtils,u=e.common.contracts.ContentTileType,v=e.common.contracts.ContentProviderCategory,h=e.dataServices.models.Dashboard,g=e.common.models.EmailsListModel,f=e.common.models.Report,m=e.dataServices.models.Workbook,b="my-apps";i.createNewAppPublishModel=o,i.createAppArtifact=r,i.createPublishOrUpdateAppModelRequest=a,i.isNewApp=n,i.hasNewIconData=s,i.getIconLogoImageData=l,i.resetAppPublishModel=d})(i=t.PublishAppHelper||(t.PublishAppHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.AppUtils,o=e.helpers.ContentPackAuthoringHelper,r=e.common.contracts.ContentProviderCategory,a=e.telemetry.DefaultAppArtifactType,n=e.common.controllers.EmailsList,s=e.common.dialog.MessageDialogBuilder,c=e.helpers.PublishAppHelper,l="app-channel-header app-logo pbi-icon",d=(function(){function t(e,t){this.services=t}return t.createOptions=function(){return{additionalServices:["contentPackService","dashboardDataService","errorService","licenseHelperService","localizationService","modalDialogService","modelConverter","modelService","moduleLoader","navigation","notificationToast","promiseFactory","publishedAppService","quota","reportService","telemetryService","userInfo","$window","workbookService","groupService"]}},t.prototype.$onInit=function(){return __awaiter(this,void 0,e.Promise,(function(){var e,t=this;return __generator(this,(function(i){switch(i.label){case 0:return this.publishButtonLabelKey="UpdateApp_Publish",this.findPublishedAppModel().then((function(e){var i=t.services.groupService.activeGroup,o=i.displayName;e?(t.originalViewModel=_.cloneDeep(e),t.viewModel=e,t.viewModel.allowCopyContent=!0,t.viewModel.displayName=o):(t.publishButtonLabelKey="PBI_Button_Label_Finish",t.viewModel=c.createNewAppPublishModel(o)),t.updateAppContent(t.viewModel),t.services.userInfo.findGroupIcon(i.contract.objectId).then((function(e){t.viewModel.localAppLogoImageData=e,t.viewModel.icon=void 0}))}),(function(){t.services.navigation.navigateBack()})),this.activeTab=0,this.messageDialogBuilder=new s(this.services.modalDialogService),[4,this.services.moduleLoader.require({javascript:"AppAuthoring/components/publishAppSuccessDialog/publishAppSuccessDialogBuilder"})];case 1:return e=i.sent(),this.publishAppSuccessDialogBuilder=e.createPublishAppSuccessDialogBuilder(this.services.modalDialogService),[2]}}))}))},t.prototype.$onDestroy=function(){this.revertUnsavedChange()},t.prototype.revertUnsavedChange=function(){c.isNewApp(this.viewModel)||c.resetAppPublishModel(this.viewModel,this.originalViewModel)},t.prototype.publishApp=function(){var e=this;if(this.isAppDetailsFormValid()&&this.isAppContentFormValid()&&this.isAppAccessFormValid()){var t=c.isNewApp(this.viewModel),i=void 0,o=void 0,r=void 0;return t?(i="AppModel_ReadyTitle",o="AppModel_ReadyContent",r="Publish_ContentPackPublishButton"):(i="AppModel_UpdateReadyTitle",o="AppModel_UpdateReadyContent",r="PBI_Button_Label_Update"),this.messageDialogBuilder.show("PublishAppConfirmDialog",{titleText:this.services.localizationService.get(i),messageText:this.services.localizationService.get(o),okButtonText:this.services.localizationService.get(r),cancelButtonText:this.services.localizationService.get("PBI_Button_Label_Cancel")}).then((function(t){0===t&&e.publishAppInternal()}))}return this.messageDialogBuilder.show("AppModelNotReadyDialog",{titleText:this.services.localizationService.get("AppModel_NotReadyTitle"),messageText:this.services.localizationService.get("AppModel_NotReadyContent"),hideCancelButton:!0,okButtonText:this.services.localizationService.get("PBI_Button_Label_OK")}).then((function(t){0===t&&(e.isAppDetailsFormValid()?e.isAppContentFormValid()?e.isAppAccessFormValid()||(e.activeTab=2):e.activeTab=1:e.activeTab=0)}))},t.prototype.isAppDetailsFormValid=function(){return!_.isEmpty(this.viewModel.displayName)&&!_.isEmpty(this.viewModel.description)},t.prototype.isAppContentFormValid=function(){var e=this.viewModel,t=!(_.isEmpty(e.dashboardIds)&&_.isEmpty(e.reportIds)&&_.isEmpty(e.workbookIds)&&_.isEmpty(e.modelIds)),i=0===e.defaultContentOption||1===e.defaultContentOption&&null!=e.defaultContent;return t&&i},t.prototype.isAppAccessFormValid=function(){var e=this.viewModel;return e.isSharedToEntireOrg||!_.isEmpty(e.emailsList.inputUserList)&&!e.emailsList.hasValidationError},t.prototype.publishAppInternal=function(){var t=this,i=this.services,o=this.viewModel,r=e.session.userInfo;return i.userInfo.isPremiumUser?void(i.quota.checkQuotaExceeded()||(o.isSharedToEntireOrg||(_.find(o.emailsList.inputUserList,(function(e){return e.userPrincipalName===r.name}))||o.emailsList.inputUserList.push(n.emailsToUsers([r.name])[0]),o.emailsList.validationTrigger()))&&(this.error=null,c.hasNewIconData(o,this.originalViewModel)?c.getIconLogoImageData(i.promiseFactory,l,o).then((function(e){o.iconImageData=e,t.publishOrUpdateApp()})):this.publishOrUpdateApp())):void i.licenseHelperService.displayFeatureDisabledErrorMessage(e.telemetry.LicenseEnforcementOperation.ConnectApps,i.localizationService.format("UpgradeAccount_CreateAppMessage",[i.licenseHelperService.freeTrialPeriod.toString()]),i.localizationService.get("UpgradeAccount_CreateAppTitle"))},t.prototype.startPublishTelemetryEvent=function(){var t,i=this.viewModel;t=i.objectId?i.isFromContentPack?e.telemetry.AppsUpgradeContentPack:e.telemetry.AppsUpdateApp:e.telemetry.AppsPublishApp;var o;1===i.defaultContentOption&&(i.defaultContent.dashboardObjectId?o=a.Dashboard:i.defaultContent.reportObjectId?o=a.Report:i.defaultContent.workbookObjectId&&(o=a.Workbook));var r=!i.isSharedToEntireOrg&&_.any(i.emailsList.inputUserList,(function(e){return e.isSecurityGroup}));return this.services.telemetryService.startEvent(t,i.objectId,i.dashboardIds.length,i.reportIds.length,i.modelIds.length,i.workbookIds.length,i.isSharedToEntireOrg,r,i.allowCopyContent,1===i.defaultContentOption,o,!1)},t.prototype.publishOrUpdateApp=function(){var t=this,a=this.services.errorService,n=this.services.notificationToast,s=this.services.localizationService,l=n.notify({message:s.get("AppModel_PublishingAppToastMessage"),notificationType:e.common.NotificationToastType.Loading}),d=this.viewModel,p=this.startPublishTelemetryEvent();this.isPublishInProgress=!0,this.services.publishedAppService.publishOrUpdateApp(p.event,d,this.originalViewModel).then((function(o){if(o&&null!=o.data){var a=o.data;p.event.info.appGUID=a.providerKey;var s=c.isNewApp(t.viewModel);s?d.providerContract=a:d.providerContract.isDirty=!1,d.objectId=d.objectId||a.providerKey,d.providerId=d.providerId||a.providerId,d.url=e.helpers.UrlHelper.getAppUrl(d.objectId),d.publishTime=i.getAppPublishDate(a)||new Date,d.isFromContentPack?t.services.contentPackService.findContentPackByGUID(t.viewModel.objectId).then((function(e){if(e){var i=e,o=i.category;switch(i.category){case r.Organizational:o=r.OrganizationalApp;break;case r.OrganizationalTemplate:o=r.OrganizationalTemplateApp}i.providerContract.category=i.category=o,d.isFromContentPack=!1,t.updateCopies(s)}})):t.updateCopies(s),t.services.contentPackService.addContentPack(d),t.services.contentPackService.markItemsUsedByContentPack(),n.hide(l),t.publishAppSuccessDialogBuilder.show("publishAppSuccessDialog",{appName:d.displayName,installAppUrl:d.url}).then((function(e){0===e&&t.services.$window.open(d.url,"_self")})),p.resolve()}}),(function(i){n.hide(l),t.error=o.getPublishErrorFromResult(i,t.services.localizationService),t.error?(p.event.info.isUserError=!0,p.resolve()):(p.reject(e.errorDetailsHelper.getTelemetryErrorDetails(i.error,i.status)),a.error(s.get("AppModel_PublishingAppFailMessage"),"FailToPublishOrUpdateApp"))})).finally((function(){t.isPublishInProgress=!1}))},t.prototype.updateCopies=function(e){this.originalViewModel=_.cloneDeep(this.viewModel),e&&this.services.publishedAppService.addPublishedApp(this.viewModel)},t.prototype.findPublishedAppModel=function(){var e=this.services.promiseFactory.defer();return this.services.publishedAppService.getPublishedAppsForCurrentGroup().then((function(t){_.isEmpty(t)?e.resolve(void 0):e.resolve(t[0])}),(function(){return e.reject()})),e.promise},t.prototype.updateAppContent=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e,i,o=this;return __generator(this,(function(r){switch(r.label){
case 0:return e=this.services,[4,e.promiseFactory.all([e.dashboardDataService.getDashboards(),e.reportService.getReports(),e.workbookService.getWorkbooks(),e.modelService.modelsPromise]).then((function(e){var i=o.services.reportService.editableReports,r=o.services.workbookService.originalWorkbooks;o.reportResources=_.sortBy(_.union(i,r),(function(e){return e.displayName.toUpperCase()})),o.datasetResources=_.sortBy(o.services.modelService.editableModels,(function(e){return e.displayName.toUpperCase()})),o.dashboardResources=_.sortBy(o.getValidDashboards(o.datasetResources,i,r),(function(e){return e.displayName.toUpperCase()})),t.dashboardIds=_.map(o.dashboardResources,(function(e){return e.id})),t.reportIds=_.map(i,(function(e){return e.id})),t.workbookIds=_.map(r,(function(e){return e.id})),t.modelIds=_.map(o.datasetResources,(function(e){return e.id}));var a=_.union(o.dashboardResources,o.reportResources),n=t.defaultContent&&(t.defaultContent.dashboardObjectId||t.defaultContent.reportObjectId||t.defaultContent.workbookObjectId);o.removeAppLandingContent(t,t.defaultContent&&n,a)}))];case 1:return i=r.sent(),[2,i]}}))}))},t.prototype.getValidDashboards=function(t,i,o){var r=_.map(t,(function(e){return e.id})),a=_.map(i,(function(e){return e.id})),n=_.map(o,(function(e){return e.id})),s=this.services.dashboardDataService.editableAndReshareableDashboards;return _.filter(s,(function(t){return e.helpers.AppModelContentHelper.isDashboardValid(t,i,r,a,n)}))},t.prototype.removeAppLandingContent=function(e,t,o){if(0!==e.defaultContentOption&&t){var r=_.find(o,(function(e){return i.getAppContentModelObjectId(e)===t}));r||(e.defaultContent=null)}},t})();t.CreateAppChannelController=d})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.CreateAppChannel={templateUrl:"components/createAppChannel/createAppChannel.html",controller:e.common.createController(e.controllers.CreateAppChannelController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.ArrowPosition,o=e.dataServices.models.Dashboard,r=e.common.models.Report,a=e.helpers.UrlHelper,n=e.dataServices.models.Workbook,s=5,c=(function(){function t(e,t){this.services=t,this.isDashboardUrlListExpanded=!1,this.isReportUrlListExpanded=!1,this.dashboardUrlListItemLimit=s,this.reportUrlListItemLimit=s,this.allowCopyContentTooltipConfig={tooltipLocalizeDescription:"AppModel_CreateAppModel_Access_AllowContentToBeCopiedTooltip",tooltipArrowPosition:i.arrowTopMiddle},this.dashboardUrlsTooltipConfig={tooltipLocalizeDescription:"AppModel_CreateAppModel_Access_DashboardUrlsTooltip",tooltipArrowPosition:i.arrowTopMiddle},this.reportUrlsTooltipConfig={tooltipLocalizeDescription:"AppModel_CreateAppModel_Access_ReportUrlsTooltip",tooltipArrowPosition:i.arrowTopMiddle},this.urlModelDictionary={}}return t.createOptions=function(){return{additionalServices:["dashboardDataService","localizationService","reportService","workbookService"]}},t.prototype.$onInit=function(){var e=this;this.isNewApp()?this.appAccessUrlMessage=this.services.localizationService.get("AppModel_CreateAppModel_Access_UrlMessage_NewApp"):(this.dashboardResources=_.map(this.viewModel.dashboardIds,(function(t){return e.services.dashboardDataService.findDashboard(t)})),this.reportResources=_.union(_.map(this.viewModel.reportIds,(function(t){return e.services.reportService.findReport(t)})),_.map(this.viewModel.workbookIds,(function(t){return e.services.workbookService.findWorkbook(t)}))),this.appAccessUrlMessage=this.services.localizationService.get("AppModel_CreateAppModel_Access_UrlMessage_ExistingApp"))},t.prototype.isNewApp=function(){return e.helpers.PublishAppHelper.isNewApp(this.viewModel)},t.prototype.toggleDashboardUrlList=function(){this.dashboardUrlListItemLimit=this.isDashboardUrlListExpanded?s:this.dashboardResources.length,this.isDashboardUrlListExpanded=!this.isDashboardUrlListExpanded},t.prototype.toggleReportUrlList=function(){this.reportUrlListItemLimit=this.isReportUrlListExpanded?s:this.reportResources.length,this.isReportUrlListExpanded=!this.isReportUrlListExpanded},t.prototype.shouldShowDashboardUrlToggle=function(){return this.dashboardResources.length>this.dashboardUrlListItemLimit},t.prototype.shouldShowReportUrlToggle=function(){return this.reportResources.length>this.reportUrlListItemLimit},t.prototype.hasDashboardResources=function(){return!_.isEmpty(this.dashboardResources)},t.prototype.hasReportResources=function(){return!_.isEmpty(this.reportResources)},t.prototype.getUrlLabelModel=function(e){var t=e;return _.isEmpty(t.url)?e instanceof o?this.getUrlLabelModelFromDictionary({displayName:this.getDashboardAppUrl(e)},this.urlModelDictionary):e instanceof r||e instanceof n?this.getUrlLabelModelFromDictionary({displayName:this.getReportAppUrl(e)},this.urlModelDictionary):void 0:this.getUrlLabelModelFromDictionary({displayName:t.url},this.urlModelDictionary)},t.prototype.hasGroupsValidationError=function(){return this.error&&2===this.error.errorType},t.prototype.getUrlLabelModelFromDictionary=function(e,t){var i=e.displayName,o=t[i];return o||(o=e,t[i]=o),o},t.prototype.getDashboardAppUrl=function(e){return a.getPublishedAppDashboardUrl(this.viewModel,e)},t.prototype.getReportAppUrl=function(e){return e instanceof r?a.getPublishedAppReportUrl(this.viewModel,e):e instanceof n?a.getPublishedAppWorkbookUrl(this.viewModel,e):void 0},t})();t.CreateAppChannelAccessController=c})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.CreateAppChannelAccess={templateUrl:"components/createAppChannelAccess/createAppChannelAccess.html",bindings:{viewModel:"<",error:"<"},controller:e.common.createController(e.controllers.CreateAppChannelAccessController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.models.Dashboard,o=e.helpers.PublishAppHelper,r=e.common.models.Report,a=e.dataServices.models.Workbook,n=(function(){function t(t,i){this.services=i,this.defaultContentTooltipConfig={tooltipLocalizeDescription:"CreateApp_DefaultContentTooltip",tooltipArrowPosition:e.common.ArrowPosition.arrowTopMiddle},this.appTemplateDisabled=!0}return t.createOptions=function(){return{additionalServices:["localizationService","dashboardDataService","reportService","modelService","workbookService","packageService","settingsMetadataService"]}},t.prototype.$onInit=function(){var e=this.viewModel;1===e.defaultContentOption&&e.defaultContent&&(this.appSpecificContent=this.findAppSpecificContent(e.defaultContent)),this.appSpecificContentCandidates=_.union(this.dashboardResources,this.reportResources),this.getSettingsMetadata()},t.prototype.getAppSpecificContentCandidateDisplayName=function(e){return e instanceof i?this.services.localizationService.format("CreateApp_DefaultContent_Dashboard",[e.displayName]):e instanceof r?this.services.localizationService.format("CreateApp_DefaultContent_Report",[e.displayName]):e instanceof a?this.services.localizationService.format("CreateApp_DefaultContent_Workbook",[e.displayName]):void 0},t.prototype.updateAppArtifact=function(){this.viewModel.defaultContent=this.appSpecificContent?o.createAppArtifact(this.appSpecificContent):null},t.prototype.updateTemplatingState=function(){this.appTemplateDisabled=!this.isTemplatingAllowed(),this.viewModel.publishAsTemplate&&this.appTemplateDisabled&&!this.isUpdate()&&(this.viewModel.publishAsTemplate=!1),this.isUpdate()&&(this.templateUpdateHasError=this.appTemplateDisabled)},t.prototype.toggleTemplating=function(){this.viewModel.publishAsTemplate=!this.viewModel.publishAsTemplate},t.prototype.isWorkbook=function(e){return e&&e instanceof a},t.prototype.hasAppTemplateError=function(){return this.error&&1===this.error.errorType},t.prototype.isUpdate=function(){return this.viewModel&&this.viewModel.providerContract&&!_.isEmpty(this.viewModel.providerContract.providerKey)},t.prototype.isTemplatingAllowed=function(){var t=this.viewModel,i=this.services;return e.helpers.AppModelContentHelper.isTemplatingAllowed(t.dashboardIds,t.reportIds,t.workbookIds,t.modelIds,i.dashboardDataService,i.reportService,i.modelService,i.packageService,this.settingsMetadata)},t.prototype.findAppSpecificContent=function(e){return this.services.dashboardDataService.findDashboardByGUID(e.dashboardObjectId)||this.services.reportService.findReportByGUID(e.reportObjectId)||this.services.workbookService.findWorkbookByUniqueId(e.workbookObjectId)},t.prototype.getSettingsMetadata=function(){return __awaiter(this,void 0,e.Promise,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.services.settingsMetadataService.getSettings()];case 1:return e=t.sent(),this.settingsMetadata=e?e:null,this.updateTemplatingState(),[2]}}))}))},t})();t.CreateAppChannelContentController=n})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(i){function o(e,i,o,r,n){if(a(o,e.contract.modelIds))return!1;if(a(r,e.contract.reportIds))return!1;if(a(n,e.contract.workbookIds))return!1;var s=e.contract.reportIds;if(!_.isEmpty(s))for(var c=function(e){var o=_.find(i,(function(t){return t.id===e}));if(o&&!t.ReportUtility.IsReportSavedAsExploration(o.contract))return{value:!1}},l=0,d=s;l<d.length;l++){var p=d[l],u=c(p);if("object"==typeof u)return u.value}return!0}function r(t,i,o,r,a,n,s,c,l){if(!l)return!1;if(!_.isEmpty(o))return!1;if(1!==_.size(r))return!1;var d=r[0];if(1!==_.size(t))return!1;if(_.isEmpty(i))return!1;var p=a.findDashboard(t[0]),u=p.contract.modelIds;if(!_.isEmpty(u)&&1!==u.length&&u[0]!==d)return!1;var v=_.filter(n.reports,(function(e){return _.contains(i,e.id)}));if(_.isEmpty(v))return!1;for(var h=0,g=v;h<g.length;h++){var f=g[h];if(f.modelId&&f.modelId!==d)return!1}var m=s.findModel(d),b=c.findPackage(m.contract.packageId);if(!b||!b.contentProviderId||b.contentProviderId!==e.common.constants.pbiDesktopContentProviderId)return!1;var y=_.find(l.datasetModels,(function(e){return e.id===d}));if(!y||_.isEmpty(y.refreshConnections))return!1;for(var S=0,C=y.refreshConnections;S<C.length;S++){var w=C[S];if(w.onpremGatewayRequired||!_.contains(w.connectionString,"Microsoft.Mashup"))return!1}return!0}function a(e,t){if(_.isEmpty(t))return!1;var i=_.difference(t,e);return!_.isEmpty(i)}i.isDashboardValid=o,i.isTemplatingAllowed=r})(i=t.AppModelContentHelper||(t.AppModelContentHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.CreateAppChannelContent={templateUrl:"components/createAppChannelContent/createAppChannelContent.html",bindings:{viewModel:"<",dashboardResources:"<",reportResources:"<",datasetResources:"<",error:"<"},controller:e.common.createController(e.controllers.CreateAppChannelContentController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.models.AppModelIconBackgroundColors,o=e.dataServices.AppUtils,r=e.common.viewModels.IconSize,a=(function(){function e(e,t){this.services=t,this.initIconConfigs(),this.localizationService=this.services.localizationService,this.appDescriptionPlaceholder=this.localizationService.get("AppModel_CreateAppModel_Details_DescriptionPlaceholder")}return e.createOptions=function(){return{additionalServices:["localizationService"]}},e.prototype.hasAppLogoImage=function(){return o.hasAppLogoImage(this.viewModel)},e.prototype.initIconConfigs=function(){var e=this;this.iconBackgroundColors=i.map((function(e){return{backgroundColor:e.color,size:r.Small}})),this.iconBackgroundColorsConfig={onIconSelected:function(t){return e.onIconBackgroundColorSelected(t)},isIconSelected:function(t){return e.viewModel.iconBackgroundColor===t.backgroundColor}}},e.prototype.onIconBackgroundColorSelected=function(e){this.viewModel.iconBackgroundColor=e.backgroundColor,this.viewModel.headerBackgroundColor=o.getAppHeaderBackgroundColor(e.backgroundColor)},e})();t.CreateAppChannelDetailsController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.CreateAppChannelDetails={templateUrl:"components/createAppChannelDetails/createAppChannelDetails.html",bindings:{viewModel:"<",error:"<"},controller:e.common.createController(e.controllers.CreateAppChannelDetailsController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.isDataClassificationFeatureEnabled=t.featureSwitchService.featureSwitches.dataClassificationEnabled,this.dataClassificationService=t.dataClassificationService}return e.createOptions=function(){return{additionalServices:["featureSwitchService","dataClassificationService"]}},e.prototype.$onInit=function(){this.updateDataClassificationById(this.classificationId)},e.prototype.$onChanges=function(e){e.classificationId&&this.updateDataClassificationById(e.classificationId.currentValue)},e.prototype.updateDataClassificationById=function(e){var t=this;this.dataClassificationService.getDataClassificationsAsync().then((function(i){t.dataClassification=_.find(i,(function(t){return void 0!==e&&t.id===e}))||_.find(i,(function(e){return e.default}))}))},e})();e.DataClassificationLabelController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ClassificationLabel={templateUrl:"components/dataClassificationLabel/dataClassificationLabel.html",controller:e.common.createController(e.controllers.DataClassificationLabelController),bindings:{classificationId:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.models.factory.ArtifactSortPredicates,o=e.models.ContentListGalleryViewModel,r=e.telemetry.SelectSort,a=(function(){function t(t,r){var a=this;this.services=r,this.sortPredicateMap={},this.selectSort=function(t){a.sortPredicate=t;var i=a.sortPredicateMap[t.toAngularFilter()];a.services.telemetryService.logEvent(e.telemetry.ContentListSelectSort,i),a.filterArtifacts()},this.onSearchTextChange=function(){a.filterArtifacts(),a.ensureSearchTelemetry()},this.listener={onFavoriteAdded:function(){return a.updateArtifacts()},onFavoriteDeleted:function(){return a.updateArtifacts()},onFavoritesReset:function(){return a.updateArtifacts()}},this.services.favorites.subscribe(this.listener),this.searchText="",this.sortPredicate=i.TitleAlphabeticalPredicate,this.sortPredicates=e.models.factory.SelectTileSortItemsFactory.createPredicates(this.services.localizationService,128),this.galleryViewModel=new o,this.galleryViewModel.getTiles=function(){return a.filteredFavorites},this.galleryViewModel.tabType=128,this.galleryViewModel.finishLoadEvent=e.constants.contentListFavoritesLoadedEvent,this.services.dataClassificationService.isEnabledAsync().then((function(e){a.isDataClassificationEnabled=e})),this.services.favorites.reloadFavorites(!0).then((function(e){return a.updateArtifacts()})),this.allFavoritesCache=this.services.favorites.favoritesCache,this.filteredFavorites=this.allFavoritesCache||[]}return t.createOptions=function(){return{additionalServices:["dataClassificationService","favorites","localizationService","telemetryService"]}},t.prototype.$onInit=function(){this.sortPredicateMap[i.TitleAlphabeticalPredicate.toAngularFilter()]=r.TitleAlpabetical,this.sortPredicateMap[i.TitleReverseAlphabeticalPredicate.toAngularFilter()]=r.TitleReverseAlphabetical,this.sortPredicateMap[i.OwnerInfoAlphabeticalPredicate.toAngularFilter()]=r.OwnerAlphabetical,this.sortPredicateMap[i.OwnerInfoReverseAlphabeticalPredicate.toAngularFilter()]=r.OwnerReverseAlphabetical,this.emptySearchWatermarkConfig={canEdit:!0,mode:!1,contentNonShared:this.services.localizationService.get("ContentList_EmptySearchResults"),imgClass:"empty-search-img"}},t.prototype.$onDestroy=function(){this.services.favorites.unsubscribe(this.listener)},t.prototype.ensureSearchTelemetry=function(){this.searchTelemetry||_.isEmpty(this.searchText)||(this.searchTelemetry=this.services.telemetryService.startEvent(e.telemetry.ContentListSearch))},t.prototype.resolveSearchTelemetry=function(){this.searchTelemetry&&(this.searchTelemetry.resolve(),this.searchTelemetry=null)},Object.defineProperty(t.prototype,"initialized",{get:function(){return!!this.allFavoritesCache},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEmptyFavoritesWatermark",{get:function(){return this.initialized&&_.isEmpty(this.allFavoritesCache)},enumerable:!0,configurable:!0}),t.prototype.updateArtifacts=function(e){this.allFavoritesCache=this.services.favorites.favoritesCache,this.filterArtifacts()},t.prototype.filterArtifacts=function(){var e=this,t=_(this.allFavoritesCache).filter((function(t){return e.containsSearchText(t)})).sortBy((function(t){return t.hasOwnProperty(e.sortPredicate.columnName)?t[e.sortPredicate.columnName].toLocaleLowerCase():""}));this.sortPredicate.reverse&&(t=t.reverse()),this.filteredFavorites=t.value(),this.showEmptySearchWatermarkConfig=!_.isEmpty(this.allFavoritesCache)&&!!this.searchText&&_.isEmpty(this.filteredFavorites)},t.prototype.containsSearchText=function(e){var t=this.searchText.toLocaleLowerCase();return this.containsSubstring(e.displayName,t)||this.containsSubstring(e.ownerInfo,t)},t.prototype.containsSubstring=function(e,t){return!!e&&_.contains(e.toLocaleLowerCase(),t)},t})();t.FavoritesContainerController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.FavoritesContainer={templateUrl:"components/favoritesContainer/favoritesContainer.html",bindings:{collapsiblePaneMode:"<"},controller:e.common.createController(e.controllers.FavoritesContainerController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.services=t}return t.createOptions=function(){return{additionalServices:["dashboardService","home","localizationService","mostRecentlyUsedService","navigation","telemetryService"]}},t.prototype.$onInit=function(){var i=this;this.services.mostRecentlyUsedService.getMRUModels().then((function(o){for(var r=[],a=0,n=o;a<n.length;a++){var s=n[a];if(s.type===e.models.MRUArtifactType.Dashboards){var c=i.services.dashboardService.findDashboardByGUID(s.objectId);c&&(s.packageid=c.id,r.push(s))}}i.dashboards=_.sortBy(r,(function(e){return e.count})).reverse().slice(0,t.NumberOfDashboards),i.watermarkConfig.contentNonShared=i.hasDashboards()?i.services.localizationService.get("FeaturedDashboard_Message"):i.services.localizationService.get("FeaturedDashboard_EmptyMessage")})),this.watermarkConfig={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("FeaturedDashboard_Title"),imgClass:"empty-dashboards-img"}},t.prototype.hasDashboards=function(){return!_.isEmpty(this.dashboards)},t.prototype.selectDashboard=function(e){this.selectedDashboard=e},t.prototype.setHomeDashboard=function(){if(this.selectedDashboard){var t=this.selectedDashboard;this.services.telemetryService.logEvent(e.telemetry.DashboardSetHomeDashboard,"MFU"),this.services.home.setHomeDashboard(t.packageid,t.objectId,t.displayName,t.workspaceId),this.services.navigation.insertGroupAndNavigateToDashboardByGUID(t.objectId,t.workspaceId,1)}},t})();i.NumberOfDashboards=5,t.FeaturedDashboardContainerController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.FeaturedDashboardContainer={templateUrl:"components/featuredDashboardContainer/featuredDashboardContainer.html",controller:e.common.createController(e.controllers.FeaturedDashboardContainerController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.GroupLinkType,o=(function(){function e(e,t){this.services=t}return e.createOptions=function(){return{additionalServices:["$rootScope","errorService","groupHttp","groupService","localizationService","modalDialogService","navigation","promiseFactory","telemetryService","userInfo","viralTenantMergeHelperService","groupContextMenuService"]}},e.prototype.$onInit=function(){this.items=this.buildContextMenu(this.group)},e.prototype.$onChanges=function(e){e.group&&(this.items=this.buildContextMenu(this.group))},e.prototype.onGroupNavigationPaneMenuItemSelected=function(e,o){switch(e.action){case t.GroupNavigationPaneMenuAction.EditGroup:this.services.groupContextMenuService.performActionWithNonUrlGroupLinkType(i.EditGroup,o);break;case t.GroupNavigationPaneMenuAction.ViewGroup:this.services.groupContextMenuService.performActionWithNonUrlGroupLinkType(i.ViewGroup,o);break;case t.GroupNavigationPaneMenuAction.LeaveGroup:this.services.groupContextMenuService.performActionWithNonUrlGroupLinkType(i.LeaveGroup,o)}},e.prototype.buildContextMenu=function(e){var o=this,r=e.metadata,a=[],n=0,s=!0;return r?r.contextMenuItemList.forEach((function(e){if(0===n&&r.contextMenuSeparatorPosition===-1)s=!1;else if(n++===r.contextMenuSeparatorPosition){var c={type:DropDownMenuItemType.Separator};a.push(c),s=!1}var l;if(!s)switch(e.linkType){case i.EditGroup:l=t.GroupNavigationPaneMenuAction.EditGroup;break;case i.ViewGroup:l=t.GroupNavigationPaneMenuAction.ViewGroup;break;case i.LeaveGroup:l=t.GroupNavigationPaneMenuAction.LeaveGroup}var d={text:o.getMenuItemText(e.linkType),labelClass:"groupMenuItem",action:l,href:s?e.url:void 0,type:DropDownMenuItemType.Item};a.push(d)})):(a.push({text:this.getMenuItemText(i.EditGroup),labelClass:"groupMenuItem",action:t.GroupNavigationPaneMenuAction.EditGroup,type:DropDownMenuItemType.Item}),a.push({text:this.getMenuItemText(i.LeaveGroup),labelClass:"groupMenuItem",action:t.GroupNavigationPaneMenuAction.LeaveGroup,type:DropDownMenuItemType.Item})),a},e.prototype.getMenuItemText=function(e){return this.services.groupContextMenuService.getTextForGroupLinkType(e)},e})();t.GroupActionsController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.GroupActions={templateUrl:"components/groupActions/groupActions.html",controller:e.common.createController(e.controllers.GroupActionsController),bindings:{group:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.scope=e,this.services=t}return t.createOptions=function(){return{additionalServices:["userInfo"]}},t.prototype.$onInit=function(){this.updatePhoto(),this.updatePlaceholder()},t.prototype.$onChanges=function(e){e.group&&(this.updatePhoto(),this.updatePlaceholder())},t.prototype.updatePlaceholder=function(){this.placeholder=this.isMyWorkspace()?"user":"group"},t.prototype.updatePhoto=function(){var e=this;this.isMyWorkspace()?this.services.userInfo.getUserPhoto().then((function(t){e.src=t.substring(4,t.length-1)})):this.group?this.src=this.group.icon:this.src=null},t.prototype.isMyWorkspace=function(){return this.group&&this.group.aadGroupId===e.common.constants.myWorkspaceGroupId},t})();t.GroupIconController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.GroupIcon={templateUrl:"components/groupIcon/groupIcon.html",bindings:{group:"<",placeholderSize:"@"},controller:e.common.createController(e.controllers.GroupIconController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.common.constants.TaskPaneCollapsiblePaneMode,r=(function(){function t(t,i){var o=this;this.services=i,this.groupService=i.groupService;var r=this.services.$rootScope.$on(e.constants.groupDeletedEventName,(function(e){e.stopPropagation(),o.updateGroupList()}));this.services.$rootScope.$on(e.common.constants.scopeDestroyEventName,(function(){r()}))}return t.createOptions=function(){return{additionalServices:["$rootScope","groupService","userInfo","navigation","viralTenantMergeHelperService","taskPaneSliderService"]}},t.prototype.$onChanges=function(e){(e.activeGroup||e.isExpanded&&this.isExpanded)&&this.updateGroupList()},t.prototype.isGroupSelected=function(e){return!!this.activeGroup&&this.activeGroup.aadGroupId===e.aadGroupId},t.prototype.switchGroup=function(t){this.toggleGroupListPane(!1),t.aadGroupId!==this.activeGroup.aadGroupId?t.isMyWorkspace||this.isGroupFeatureEnabled()?this.services.navigation.navigateToGroupByGUID(t.aadGroupId):this.groupService.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.SwitchGroups):this.services.navigation.navigateToContentList(t.aadGroupId,!1,null,null,!1)},t.prototype.toggleGroupListPane=function(e){this.onToggled&&this.onToggled({isExpanded:e})},t.prototype.addGroup=function(){this.services.viralTenantMergeHelperService.viewingDataFromMergedViralTenant()?this.services.viralTenantMergeHelperService.displayFeatureDisabledErrorMessage("ArchivedContent_ErrorMessageGroup"):this.isGroupFeatureEnabled()?this.services.taskPaneSliderService.expandPane(o.GroupEditorCreate,i.Large):this.groupService.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.CreateGroups)},t.prototype.isActiveGroup=function(e){return e===this.activeGroup},t.prototype.updateGroupList=function(){this.myWorkspace=this.groupService.groups[0],this.groups=_(this.groupService.groups).filter((function(e){return!e.isMyWorkspace})).sortBy((function(e){return e.displayName})).value()},t.prototype.isGroupFeatureEnabled=function(){return this.services.userInfo.isPremiumUser},t})();t.GroupListController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.GroupList={templateUrl:"components/groupList/groupList.html",controller:e.common.createController(e.controllers.GroupListController),bindings:{activeGroup:"<",isExpanded:"<",onToggled:"&"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.controllers.EmailsList,o=e.errorDetailsHelper,r=e.common.contracts.GroupMembershipStatus,a=(function(){function t(e,t){this.scope=e,this.services=t,this.readOnlyGroupEnabled=this.services.featureSwitchService.featureSwitches.readOnlyGroupEnabled,this.capacityEnabled=this.services.featureSwitchService.featureSwitches.groupCapacity,this.availableCapacities=[]}return t.prototype.isEmailListChanged=function(){var e=this.model.originalDisplayMemberList,t=this.model.displayMemberList;if(e.length!==t.length)return!0;var i=this.contractGroupMembersToArray(e),o=this.contractGroupMembersToArray(t),r=_.difference(i,o);return!_.isEmpty(r)},t.prototype.add=function(){this.model.invalidEmailAddressesErrorMessage="",this.model.notExitingEmailAddressesErrorMessage="",this.model.emailsList.validationTrigger()&&(this.isAddingMembers=!0,this.validateEmailAddresses())},t.prototype.removeMember=function(e){if(this.isMemberTheOnlyAdmin(e)){var t=this.services.errorService.control(),i=this.services.localizationService;t.showPrompt("",i.get("GroupEditor_TheOnlyAdmin_Message"),[new InJs.ModalDialogAction(i.get("ModalDialogButtonText_Ok"),function(e,i){t.hideDialog()})])}else this.model.emailsList.isDirty=!1,this.model.displayMemberList=_.filter(this.model.displayMemberList,(function(t){return t.userPrincipalName!==e.userPrincipalName}))},t.prototype.getGroupMembers=function(){var t=this;this.isLoadingGroupMembers=!0;var i=this.services.telemetryService.startEvent(e.telemetry.GroupEditorGetGroupMembers),r=this.group.aadGroupId;this.services.groupHttp.getGroupMembers(r,i.event).then((function(e){var o=_.sortBy(t.mapFromMemberContractListToMemberModelList(e.data),(function(e){return e.userPrincipalName}));t.model.originalDisplayMemberList=o,t.model.displayMemberList=_.cloneDeep(o),i.resolve()}),(function(e){i.reject(o.getTelemetryErrorDetails(e.error,e.status)),t.services.errorService.error(t.services.localizationService.get("GroupEditor_FailedGetGroupMembers_Message"),"FailedToGetGroupMembers",{requestId:e.requestId,statusCode:e.status.toString()})})).finally((function(){t.isLoadingGroupMembers=!1}))},t.prototype.validateEmailAddresses=function(){var t=this;if(this.model.emailsList.validEmailsList=_.unique(_.map(this.model.emailsList.validEmailsList,(function(e){return e.toLowerCase()}))),this.model.emailsList.validEmailsList=_.difference(this.model.emailsList.validEmailsList,_.map(this.model.displayMemberList,(function(e){return e.userPrincipalName.toLowerCase()}))),this.model.emailsList.validEmailsList.length>0){var i=_.map(this.model.emailsList.validEmailsList,(function(e){return{userPrincipalName:e,membershipStatus:r.Member}})),a=this.services.telemetryService.startEvent(e.telemetry.GroupEditorValidateGroupMembers);this.services.domainHelperService.getVerifiedDomains().then((function(e){t.services.groupHttp.validateGroupMembers(i,a.event).then((function(i){for(var o=[],r={},n=0,s=i.data;n<s.length;n++){var c=s[n],l=c.userPrincipalName.split("@");l[1].toUpperCase()in e.verifiedDomains?r[c.userPrincipalName]=1:o.push(c)}t.displayValidationErrors(o);var d=t.contractGroupMembersToArray(o),p=_.difference(t.model.emailsList.validEmailsList,d);t.model.displayMemberList=_.union(t.model.displayMemberList,_.map(p,(function(e){return{userPrincipalName:e,role:e in r?2:0,invitationSent:!1}}))),t.model.emailsList.isDirty=!1,a.resolve()}),(function(e){a.reject(o.getTelemetryErrorDetails(e.error,e.status)),t.services.errorService.error(t.services.localizationService.get("GroupEditor_FailedValidateMembers_Message"),"FailedToValidateMembers",{requestId:e.requestId,statusCode:e.status.toString()})}))}),(function(e){a.reject(o.getTelemetryErrorDetails(e.error,e.status))})).finally((function(){t.isAddingMembers=!1}))}else this.displayValidationErrors([]),this.setEmailsListContent(""),this.model.emailsList.isDirty=!1,this.isAddingMembers=!1},t.prototype.setEmailsListContent=function(t){this.model.emailsList.inputUserList=i.emailsToUsers(t.split(e.constants.emailsListSeparator))},t.prototype.resetEmailsListControl=function(e){this.model.invalidEmailAddressesErrorMessage="",this.displayValidationErrors(e)},t.prototype.mapFromMemberModelListToMemberContractList=function(e){return _.map(e,(function(e){var t=1===e.role?r.MemberAndOwner:r.Member;return 2===e.role&&(t=r.Pending),{userPrincipalName:e.userPrincipalName,membershipStatus:t}}))},t.prototype.mapFromMemberContractListToMemberModelList=function(e){var t=this;return _.map(e,(function(e){return{userPrincipalName:e.userPrincipalName,role:t.convertMemberRole(e),invitationSent:e.membershipStatus===r.Pending}}))},t.prototype.getAccessControlOption=function(){var e=this.model.accessControlOption;if(null!=e){var t=_.find(this.model.accessControlOptions,{key:e});return t.value}},t.prototype.getPrivacyOption=function(){var e=this.model.privacyOption;if(null!=e){var t=_.find(this.model.privacyOptions,{key:e});return t.value}},t.prototype.cancel=function(){this.services.taskPaneSliderService.collapsePane()},t.prototype.isMemberTheOnlyAdmin=function(e){if(1===e.role){var t=_.filter(this.model.displayMemberList,(function(e){return 1===e.role}));return 1===t.length&&t[0].userPrincipalName.toLowerCase()===e.userPrincipalName.toLowerCase()}return!1},t.prototype.toggleCapacity=function(){this.model.capacity?this.model.capacity=null:this.model.capacity=_.first(this.availableCapacities)},t.prototype.canEditCapacity=function(){return!_.isEmpty(_.filter(this.availableCapacities,(function(e){return!e.disabled})))},t.prototype.getInCapacityMessage=function(){if(this.capacityEnabled&&this.model.capacity)return this.services.localizationService.format("GroupEditor_IsOnCapacityMessage",[this.model.capacity.name])},t.prototype.toggleAdvancedMode=function(){this.isAdvancedModeExpanded=!this.isAdvancedModeExpanded},t.prototype.getToggleTooltipConfig=function(){var t="GroupEditor_CapacityToggleEnabledTooltip";return this.canEditCapacity()||(t="GroupEditor_CapacityToggleDisabledTooltip"),
{tooltipDelay:100,tooltipAnchorElementSelector:".capToggle input",tooltipLocalizeDescription:t,tooltipArrowPosition:e.common.ArrowPosition.arrowTopMiddle}},t.prototype.loadCapacities=function(){return __awaiter(this,void 0,e.Promise,(function(){var t,i,o,r=this;return __generator(this,(function(a){switch(a.label){case 0:if(!this.capacityEnabled)return[2];this.isLoadingCapacities=!0,a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.services.groupHttp.getAvailableGroupCapacities()];case 2:return t=a.sent(),t&&t.status===e.HttpStatusCode.OK&&(this.availableCapacities=_.map(t.data,(function(e){return r.convertCapacity(e)}))),this.model.capacity&&!_.find(this.availableCapacities,(function(e){return r.model.capacity.id.toLowerCase()===e.id.toLowerCase()}))&&(i=this.model.capacity,i.disabled=!0,this.availableCapacities.push(i)),[3,5];case 3:return o=a.sent(),[3,5];case 4:return this.isLoadingCapacities=!1,[7];case 5:return[2]}}))}))},t.prototype.convertCapacity=function(e){if(e)return{id:e.capacityObjectId,name:e.displayName}},t.prototype.displayValidationErrors=function(e){this.model.invalidEmailAddressesErrorMessage=this.model.emailsList.hasValidationError?this.model.emailsList.errorMessage:"";var t=this.arrayStringsToSeparatorTerminatedString(this.contractGroupMembersToArray(e));this.model.notExitingEmailAddressesErrorMessage=_.isEmpty(t)?"":this.services.localizationService.format("GroupEditor_Email_Address_DoNotExist",[t]),this.setEmailsListContent(t)},t.prototype.arrayStringsToSeparatorTerminatedString=function(t){var i=t.join(e.constants.emailsListSeparator).toLowerCase();return _.isEmpty(i)||_.endsWith(i,e.constants.emailsListSeparator)||(i+=e.constants.emailsListSeparator),i},t.prototype.convertMemberRole=function(e){switch(e.membershipStatus){case r.Pending:return 2;case r.Member:return 0;case r.MemberAndOwner:case r.Owner:return 1;default:return 0}},t.prototype.contractGroupMembersToArray=function(e){var t=_.map(e,(function(e){return e.userPrincipalName.toLowerCase()}));return t},t})();t.GroupEditorBaseController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.errorDetailsHelper,o=/[^a-zA-Z0-9_-]/g,r=(function(t){function r(i,o){var r=t.call(this,i,o)||this,a=new e.models.Group(null);return r.model=new e.models.GroupEditorModel(a),r.scope.$watch("this.model.emailsList.emailAddresses",(function(e,t){t!==e&&(e||(r.model.invalidEmailAddressesErrorMessage="",r.model.notExitingEmailAddressesErrorMessage=""))}),!0),r.capacityTutorialPromise=r.processCapacities(),r}return __extends(r,t),r.createOptions=function(){return{additionalServices:["domainHelperService","errorService","featureSwitchService","groupHttp","groupService","localizationService","navigation","telemetryService","modalDialogService","taskPaneSliderService","tutorialPopup"]}},r.prototype.$onDestory=function(){this.capacityTutorialPromise=null},Object.defineProperty(r.prototype,"canSave",{get:function(){return this.model.groupName&&this.model.groupId&&0===this.groupValidationStatus&&!this.isValidatingGroupId&&!this.isAddingMembers&&!this.isLoadingGroupMembers},enumerable:!0,configurable:!0}),r.prototype.save=function(){var t=this;this.isSaving=!0;var o=this.mapFromMemberModelListToMemberContractList(this.model.displayMemberList),r={displayName:this.model.groupName,mailNickname:this.model.groupId,isPublic:0===this.model.privacyOption,isReadOnly:1===this.model.accessControlOption,members:o,capacityObjectId:this.model.capacity&&this.model.isCapacityEnabled&&this.model.capacity.id},a=_.filter(r.members,(function(t){return t.membershipStatus!==e.common.contracts.GroupMembershipStatus.Member})).length,n=this.services.telemetryService,s=n.startEvent(e.telemetry.GroupEditorCreateGroup,!1,"",r.isReadOnly,a,r.members.length-a,_.filter(this.model.displayMemberList,(function(e){return 2===e.role})).length,!!r.capacityObjectId);this.services.groupHttp.addGroup(r,s.event).then((function(i){if(_.isEmpty(i.data.group.objectId))t.resetEmailsListControl(i.data.invalidMembers),s.event.info.groupCreated=!1,s.resolve();else{t.services.groupService.addGroup(i.data.group);var o=t.services.groupService.getGroup(i.data.group.objectId);t.services.groupService.switchGroup(o,!1,s),t.services.navigation.navigateToGroupWelcome(),s.event.info.groupId=i.data.group.objectId,s.event.info.groupCreated=!0,s.resolve(),t.services.rootScope.$emit(e.constants.groupAddedUpdateContextMenuEventName,i.data.group.objectId),t.services.taskPaneSliderService.collapsePane()}}),(function(e){s.reject(i.getTelemetryErrorDetails(e.error,e.status)),t.services.errorService.error(t.services.localizationService.get("GroupEditor_FailedCreateGroup_Message"),"FailedToCreateGroup",{requestId:e.requestId,statusCode:e.status.toString()})})).finally((function(){t.isSaving=!1}))},r.prototype.groupNameKeyUp=function(e){_.isEmpty(this.model.groupName)?(this.isEditingGroupId=!1,this.model.groupId="",this.groupValidationStatus=0):this.isEditingGroupId||(this.model.groupId=this.model.groupName.replace(o,"").toLowerCase(),this.checkGroupIdAvailability())},r.prototype.editGroupId=function(){this.isEditingGroupId=!0},r.prototype.hasGroupIdInvalidCharacters=function(){var e=this.model.groupId.match(o);null!==e&&(this.groupValidationStatus=3)},r.prototype.groupIdKeyUp=function(){this.groupValidationStatus=0,this.hasGroupIdInvalidCharacters(),3!==this.groupValidationStatus&&this.checkGroupIdAvailability()},r.prototype.checkGroupIdAvailability=function(){var e=this;if(!this.validateGroupIdPromise&&!_.isEmpty(this.model.groupId)&&this.model.groupId!==this.validatedGroupId){var t=this.model.groupId,i=function(){e.validateGroupIdPromise=null,e.validatedGroupId=t,e.checkGroupIdAvailability()};this.validateGroupIdPromise=this.validateGroupId(t),this.validateGroupIdPromise.then(i,i)}},r.prototype.validateGroupId=function(t){var o=this,r=this.services.telemetryService.startEvent(e.telemetry.GroupEditorValidateGroupId);this.isValidatingGroupId=!0;var a=this.services.groupHttp.validateGroupId(t,r.event);return a.then((function(e){o.groupValidationStatus=e.data?0:1,r.resolve()}),(function(e){o.groupValidationStatus=2,r.reject(i.getTelemetryErrorDetails(e.error))})).finally((function(){o.isValidatingGroupId=!1})),a},r.prototype.processCapacities=function(){return __awaiter(this,void 0,e.Promise,(function(){var t;return __generator(this,(function(i){switch(i.label){case 0:return[4,this.loadCapacities()];case 1:return i.sent(),_.isEmpty(this.availableCapacities)||(this.model.capacity=_.first(this.availableCapacities),this.model.isCapacityEnabled=!0,t=e.createGroupCapacitySettingsTutorialModel(this.services.localizationService),this.services.tutorialPopup.startTutorial(t)),[2]}}))}))},r})(t.GroupEditorBaseController);t.CreateGroupBladeController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.CreateGroupBlade={controller:e.common.createController(e.controllers.CreateGroupBladeController),templateUrl:"components/groupEditor/create/createGroupBlade.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.errorDetailsHelper,o=(function(t){function o(e,i){return t.call(this,e,i)||this}return __extends(o,t),o.createOptions=function(){return{additionalServices:["domainHelperService","errorService","featureSwitchService","groupHttp","groupService","localizationService","navigation","telemetryService","modalDialogService","taskPaneSliderService","tutorialPopup"]}},o.prototype.$onInit=function(){var t=this;this.group=this.parameters.group||this.services.groupService.activeGroup,this.model=new e.models.GroupEditorModel(this.group),this.originalCapacity=this.model.capacity,this.scope.$watch("this.model.emailsList.emailAddresses",(function(e,i){i!==e&&(e||(t.model.invalidEmailAddressesErrorMessage="",t.model.notExitingEmailAddressesErrorMessage=""))}),!0),0!==this.model.privacyOption||this.model.isAdmin||(this.editNonAdmin=!0),this.oldGroupName=this.model.groupName,this.getGroupMembers(),this.loadCapacities()},Object.defineProperty(o.prototype,"canSave",{get:function(){return!this.isAddingMembers&&!this.isLoadingGroupMembers&&!this.isLoadingCapacities},enumerable:!0,configurable:!0}),o.prototype.compareGroupMemberByUserPrincipalName=function(e,t){return e.userPrincipalName>t.userPrincipalName?1:e.userPrincipalName===t.userPrincipalName?0:-1},o.prototype.prepareMemberOperations=function(e,t,i,o){for(var r=this.model.displayMemberList.sort(this.compareGroupMemberByUserPrincipalName),a=this.model.originalDisplayMemberList.sort(this.compareGroupMemberByUserPrincipalName),n=0,s=r.length,c=0,l=a.length;n<s||c<l;){var d=r[n],p=a[c],u=void 0;switch(u=void 0===d?1:void 0===p?-1:this.compareGroupMemberByUserPrincipalName(d,p)){case-1:e.push(d),n++;break;case 0:n++,c++,1===d.role&&0===p.role?i.push(d):0===d.role&&1===p.role&&o.push(d);break;case 1:t.push(p),c++}}},o.prototype.save=function(){var e=this;if(this.originalCapacity&&!this.model.isCapacityEnabled){var t=this.services.localizationService,i=this.services.errorService.control(),o=[new InJs.ModalDialogAction(t.get("GroupEditor_ConfirmRemoveCapacityButton"),function(t,o){e.saveInternal(),i.hideDialog()}),new InJs.ModalDialogAction(t.get("ModalDialogButtonText_Cancel"),function(t,o){e.model.capacity=e.originalCapacity,e.model.isCapacityEnabled=!0,i.hideDialog()})],r=t.get("GroupEditor_ConfirmRemoveCapacityTitle"),a=t.get("GroupEditor_ConfirmRemoveCapacityText"),n="<div>"+a+' <a href="https://go.microsoft.com/fwlink/?linkid=845343">'+t.get("UsersNotifications_LearnMore")+"</a></div>",s=$(n);i.showCustomDialog(r,s,o,(function(e){e.parent().find('input[value="'+t.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)}else this.saveInternal()},o.prototype.saveInternal=function(){var t=this;if(this.isSaving=!0,0===_.filter(this.model.displayMemberList,(function(e){return 1===e.role})).length){var o=this.services.errorService,r=o.control();return r.showPrompt("",this.services.localizationService.get("GroupEditor_TheOnlyAdmin_Message"),[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Ok"),function(e,t){r.hideDialog()})]),void(this.isSaving=!1)}var a=[],n=[],s=[],c=[];this.prepareMemberOperations(a,n,s,c);var l={displayName:this.oldGroupName!==this.model.groupName?this.model.groupName:"",isReadOnly:this.model.accessControlOption===this.originalAccessControlOption?null:1===this.model.accessControlOption,capacityObjectId:this.model.capacity&&this.model.isCapacityEnabled?this.model.capacity.id:null},d=_.filter(this.model.displayMemberList,(function(e){return 1===e.role})).length,p=this.services.telemetryService,u=p.startEvent(e.telemetry.GroupEditorUpdateGroup,!1,this.group.contract.objectId,l.isReadOnly,d,this.model.displayMemberList.length-d,_.filter(this.model.displayMemberList,(function(e){return 2===e.role})).length,this.originalCapacity===this.model.capacity);this.services.groupHttp.updateGroup(this.group.aadGroupId,l,this.mapFromMemberModelListToMemberContractList(a),this.mapFromMemberModelListToMemberContractList(n),this.mapFromMemberModelListToMemberContractList(s),this.mapFromMemberModelListToMemberContractList(c),u.event).then((function(i){var o=_.filter(i.data,(function(t){return t.membershipStatus!==e.common.contracts.GroupMembershipStatus.Pending}));if(o&&0===o.length){t.group.displayName=t.model.groupName,t.group.contract.isReadOnly=1===t.model.accessControlOption,t.group.capacity=t.model.capacity;var r=e.session.UserInfoUtils.getEmailAddressForReceivingMail();_.filter(n,(function(e){return e.userPrincipalName&&r&&e.userPrincipalName.toLowerCase()===r.toLowerCase()})).length>0&&(t.services.groupService.removeGroup(t.group.aadGroupId),t.services.groupService.activeGroupObjectId===t.group.aadGroupId&&t.services.navigation.navigateToGroupByGUID(e.constants.myWorkSpaceGroupId)),u.event.info.groupUpdated=!0,u.resolve(),t.services.taskPaneSliderService.collapsePane()}else u.event.info.groupUpdated=!1,u.resolve(),t.resetEmailsListControl(o)}),(function(e){u.reject(i.getTelemetryErrorDetails(e.error,e.status)),t.services.errorService.error(t.services.localizationService.get("GroupEditor_FailedUpdateGroup_Message"),"FailedToUpdateGroup",{requestId:e.requestId,statusCode:e.status.toString()})})).finally((function(){t.isSaving=!1}))},o.prototype.deleteGroup=function(){var e=this,t=this.services.localizationService,i=this.services.errorService.control(),o=[new InJs.ModalDialogAction(t.get("ModalDialogButtonText_Delete"),function(t,o){e.deleteGroupInternal(),i.hideDialog()}),new InJs.ModalDialogAction(t.get("ModalDialogButtonText_Cancel"),function(e,t){i.hideDialog()})],r=this.services.localizationService.get("GroupEditor_AreYouSureYouWantToDeleteGroup_Title"),a=this.services.localizationService.get("GroupEditor_AreYouSureYouWantToDeleteGroup_Message");i.showCustomDialog(r,$("<div/>").text(a),o,(function(t){t.parent().find('input[value="'+e.services.localizationService.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)},o.prototype.deleteGroupInternal=function(){var t=this;this.isDeletingGroup=!0;var o=this.services.telemetryService,r=o.startEvent(e.telemetry.GroupEditorDeleteGroup),a=this.services.errorService.control(),n=this.services.rootScope.$new(),s={dialogName:null,scope:n,template:'<spinner></spinner><span localize="GroupEditor_WaitDeleteGroup"></span>',containerCssClass:"deleteGroup",isDismissable:!1};this.services.modalDialogService.showLegacyWebModalDialog(s),this.services.groupHttp.deleteGroup(this.group.aadGroupId,r.event).then((function(i){a.hideDialog(),r.resolve(),t.services.taskPaneSliderService.collapsePane(),t.services.groupService.removeGroup(t.group.aadGroupId),t.services.groupService.activeGroupObjectId===t.group.aadGroupId&&t.services.navigation.navigateToGroupByGUID(e.constants.myWorkSpaceGroupId)}),(function(e){r.reject(i.getTelemetryErrorDetails(e.error,e.status)),a.hideDialog(),t.services.errorService.error(t.services.localizationService.get("GroupEditor_FailedDeleteGroup_Message"),"FailedToDeleteGroup",{requestId:e.requestId,statusCode:e.status.toString()})})).finally((function(){t.isDeletingGroup=!1}))},o})(t.GroupEditorBaseController);t.EditGroupBladeController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.EditGroupBlade={controller:e.common.createController(e.controllers.EditGroupBladeController),bindings:{parameters:"<"},templateUrl:"components/groupEditor/edit/editGroupBlade.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(t){function i(e,i){return t.call(this,e,i)||this}return __extends(i,t),i.createOptions=function(){return{additionalServices:["errorService","featureSwitchService","groupHttp","groupService","localizationService","telemetryService","taskPaneSliderService"]}},i.prototype.$onInit=function(){this.group=this.parameters.group||this.services.groupService.activeGroup,this.model=new e.models.GroupEditorModel(this.group),this.getGroupMembers()},i})(t.GroupEditorBaseController);t.ViewGroupBladeController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ViewGroupBlade={controller:e.common.createController(e.controllers.ViewGroupBladeController),bindings:{parameters:"<"},templateUrl:"components/groupEditor/view/viewGroupBlade.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.services=t,this.groupService=t.groupService}return e.createOptions=function(){return{additionalServices:["groupService","navigation"]}},e.prototype.navigateToWorkspaces=function(){this.onToggled({isExpanded:!1}),this.services.navigation.navigateToWorkspaces()},e})();e.GroupSwitcherController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.GroupSwitcher={templateUrl:"components/groupSwitcher/groupSwitcher.html",controller:e.common.createController(e.controllers.GroupSwitcherController),bindings:{onToggled:"&"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.common.constants.TaskPaneCollapsiblePaneMode,r=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.userInfo=t.userInfo,this.groupService=t.groupService,this.isExpanded=!1,this.userInfo.getUserPhoto().then((function(e){i.userPhoto=e}))}return t.createOptions=function(){return{additionalServices:["groupService","userInfo","navigation","viralTenantMergeHelperService","taskPaneSliderService"]}},t.prototype.$onChanges=function(e){e.canExpand&&e.canExpand.currentValue&&this.toggleGroupSwitcherPane(!0)},t.prototype.getGroups=function(){for(var e,t=[],i=this.groupService.groups,o=0,r=i.length;o<r;o++)i[o].isMyWorkspace?e=i[o]:t.push(i[o]);var a=[];a.push(e),t=_.sortBy(t,(function(e){return e.displayName}));for(var o=0,r=t.length;o<r;o++)a.push(t[o]);return a},t.prototype.isGroupSelected=function(e){return this.groupService.activeGroup&&this.groupService.activeGroup.aadGroupId===e.aadGroupId},t.prototype.switchGroup=function(t){t.aadGroupId!==this.services.groupService.activeGroupObjectId?t.isMyWorkspace||this.isGroupFeatureEnabled()?(this.services.navigation.navigateToGroupByGUID(t.aadGroupId),this.onGroupSelected&&this.onGroupSelected()):this.services.groupService.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.SwitchGroups):this.services.navigation.navigateToContentList(t.aadGroupId,!1,null,null,!1)},t.prototype.toggleGroupSwitcherPane=function(e){this.isExpanded=void 0===e?!(this.isExpanded&&this.canExpand):e,this.onToggled&&this.onToggled({isExpanded:this.isExpanded})},t.prototype.addGroup=function(){this.services.viralTenantMergeHelperService.viewingDataFromMergedViralTenant()?this.services.viralTenantMergeHelperService.displayFeatureDisabledErrorMessage("ArchivedContent_ErrorMessageGroup"):this.isGroupFeatureEnabled()?this.services.taskPaneSliderService.expandPane(o.GroupEditorCreate,i.Large):this.services.groupService.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.CreateGroups)},t.prototype.isGroupFeatureEnabled=function(){return this.services.userInfo.isPremiumUser},t})();t.GroupSwitcherV2Controller=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.GroupSwitcherV2={templateUrl:"components/groupSwitcherV2/groupSwitcherV2.html",controller:e.common.createController(e.controllers.GroupSwitcherV2Controller),bindings:{onGroupSelected:"&",onToggled:"&",canExpand:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.services=t}return t.createOptions=function(){return{additionalServices:["localizationService","modalDialogService"]}},t.prototype.$onInit=function(){this.titleText=this.services.localizationService.format("App_AutoInstall_AddDialogTitle",[this.app.displayText]),this.appsLink=e.constants.pbiAppsLink},t.prototype.ok=function(){this.services.modalDialogService.close(0)},t.prototype.cancel=function(){this.services.modalDialogService.close(1)},t})();t.InstallStoreAppDialogController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.InstallStoreAppDialog={templateUrl:"components/installStoreAppDialog/installStoreAppDialog.html",bindings:{app:"<"},controller:e.common.createController(e.controllers.InstallStoreAppDialogController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.telemetryService=e,this.modalDialogService=t}return t.prototype.show=function(t){var i=this,o={app:t},r={dialogName:"storeAppInstall",definitionTemplateCachePath:"components/installStoreAppDialog/installStoreAppDialogDefinition.html",bindings:o},a=this.modalDialogService.showWebModalDialog(r);return a.then((function(t){var o=0===t?e.telemetry.StoreAppInstallAction.Add:e.telemetry.StoreAppInstallAction.Cancel;i.telemetryService.logEvent(e.telemetry.AppsInstallStoreAppDialog,o)})),a},t})();t.InstallStoreAppDialogBuilder=i})(t=e.dialogs||(e.dialogs={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){this.services=i,this.showIntroduceAppBar=this.services.conceptualModelSetting.isAppsEnabled(),this.appsLink=e.constants.pbiAppsLink}return t.createOptions=function(){return{additionalServices:["conceptualModelSetting"]}},t.prototype.hideBar=function(){this.showIntroduceAppBar=!1},t})();t.IntroduceAppBarController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.IntroduceAppBar={templateUrl:"components/introduceAppBar/introduceAppBar.html",controller:e.common.createController(e.controllers.IntroduceAppBarController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.ArrowPosition,o=e.common.models.TooltipTheme,r="AppModel_ConvertApp",a="LearnMore",n=(function(){function t(e,t){this.services=t,this.learnMoreTooltipConfig={tooltipLocalizeDescription:"LearnMore",tooltipArrowPosition:i.arrowTopMiddle,tooltipTheme:o.Dark}}return t.createOptions=function(){return{additionalServices:["$window","modalDialogService"]}},t.prototype.$onInit=function(){this.okButtonTextLocId=0===this.config.mode?a:r},t.prototype.ok=function(){this.services.modalDialogService.close(0)},t.prototype.learnMoreAboutApps=function(){this.services.$window.open(e.constants.pbiAppsLink,"_blank")},t})();t.IntroduceAppDialogController=n})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.IntroduceAppDialog={templateUrl:"components/introduceAppDialog/introduceAppDialog.html",bindings:{config:"<"},controller:e.common.createController(e.controllers.IntroduceAppDialogController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.modalDialogService=e}return e.prototype.show=function(e,t){var i={config:t},o={dialogName:e,definitionTemplateCachePath:"components/introduceAppDialog/introduceAppDialogDefinition.html",bindings:i};return this.modalDialogService.showHostModalDialog(o)},e})();e.IntroduceAppDialogBuilder=t})(t=e.dialog||(e.dialog={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.services=t}return e.createOptions=function(){return{additionalServices:["localizationService","modalDialogService"]}},e.prototype.$onInit=function(){var e=this.services.localizationService,t=_.map(this.dashboards,(function(t){return e.format("PersonalizeOrgApp_Dashboard",[t.displayName])})),i=_.map(this.models,(function(t){return e.format("PersonalizeOrgApp_Dataset",[t.displayName])})),o=_.map(this.reports,(function(t){return e.format("PersonalizeOrgApp_Report",[t.displayName])}));this.itemNames=t.concat(o).concat(i)},e.prototype.save=function(){this.services.modalDialogService.close(0)},e.prototype.cancel=function(){this.services.modalDialogService.close(1)},e})();e.MakeACopyDialogController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.MakeACopyDialog={templateUrl:"components/makeACopyDialog/makeACopyDialog.html",bindings:{titleKey:"<",messageKey:"<",itemsIntroKey:"<",dashboards:"<",reports:"<",models:"<"},controller:e.common.createController(e.controllers.MakeACopyDialogController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.modalDialogService=e}return e.prototype.show=function(e,t,i,o,r,a,n){var s={titleKey:t,messageKey:i,itemsIntroKey:o,dashboards:r,reports:a,models:n},c={dialogName:e,definitionTemplateCachePath:"components/makeACopyDialog/makeACopyDialogDefinition.html",bindings:s};return this.modalDialogService.showWebModalDialog(c)},e})();e.MakeACopyDialogBuilder=t})(t=e.dialogs||(e.dialogs={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.ContentProviderClientCategory,o="marketplaceActive",r=1e4,a="iframe#marketplaceFrame",n="{{saasMarketplaceUrl}}",s='<iframe name="marketplaceFrame" id="marketplaceFrame" sandbox="allow-scripts allow-popups allow-forms allow-same-origin" src="'+n+'"></iframe>',c=(function(){function c(e,t){this.services=t,this.iFrameLoadedOrTimeout=!1}return c.createOptions=function(){return{additionalServices:["$element","$rootScope","$timeout","$window","activeGroupId","applicationOptions","asyncFeatureSwitchService","localizationService","navigation","telemetryService"]}},c.prototype.$onInit=function(){var t=this;this.services.asyncFeatureSwitchService.getFeatureSwitches().then((function(i){i.saasMarketplace&&(t.listener=function(e){return t.receiveMessage(e)},t.marketplaceConnectListener=t.services.rootScope.$on(e.constants.saasMarketplace.initSaasMarketplaceEventName,(function(e){t.marketplaceIframe||t.init()})))}))},c.prototype.$onDestroy=function(){this.destroyIframeListener(),this.marketplaceConnectListener&&this.marketplaceConnectListener()},c.prototype.init=function(){var e=supportedSaasMarketplaceRedirects.split(";").map((function(e){return e.toLowerCase()})),o=this.services.navigation.stateService.params.saasMarketplace;if(o&&_.indexOf(e,o.toLowerCase())>=0?this.redirectRoot=o:this.redirectRoot=saasMarketplaceUrlOrigin,this.redirectRoot){this.marketplaceIframe=null;var r=this.services.navigation.providerName,a=t.contentProviderStore.contentProviderConstants.CategoryNameToEnumMap[this.services.navigation.categoryName],n=t.contentProviderStore.contentProviderConstants.saasMarketplacePublicCategory;a===i.Organizational&&(n=t.contentProviderStore.contentProviderConstants.saasMarketplacePrivateCategory);var s=this.services.localizationService.currentLanguageLocale,c="/embed/"+s;if(r)c+="/product/power-bi/"+r+"?product=power-bi";else if(a){var l=t.contentProviderStore.contentProviderConstants.saasMarketplacePrivateCategory;c+="/marketplace?product=power-bi&showPrivateApps="+(n===l?"true":"false")}else c+="/marketplace?product=power-bi&showPrivateApps=false";this.saasMarketplaceUrl=this.redirectRoot+c,this.hostData={},this.hostData.accessToken=window.powerBIAccessToken,this.hostData.correlationId=this.services.telemetryService.root.id,this.hostData.context={groupId:this.services.activeGroupId.headerActiveGroupObjectId};var d=this.services.applicationOptions.cpcode;d&&(this.hostData.context.cpcode=d),this.hostData.backendUrlOverride=clusterUri,this.connectToMarketplace()}},c.prototype.initListener=function(){this.services.$window.addEventListener("message",this.listener)},c.prototype.connectToMarketplace=function(){var e=this;this.initListener(),this.removeMarketplaceIframe();var t=$(s.replace(n,this.saasMarketplaceUrl)),i=this.services.$element;i.addClass(o).append(t);var r=i.find(a);r.load((function(){e.marketplaceIframe=r[0].contentWindow,e.postInitialMarketplaceContext()}))},c.prototype.removeMarketplaceIframe=function(){this.services.$element.find(a).remove()},c.prototype.disconnectMarketplace=function(){this.services.$element.removeClass(o),this.removeMarketplaceIframe()},c.prototype.postInitialMarketplaceContext=function(){var t=this;this.marketplaceIframe&&(this.iFrameLoadedOrTimeout=!1,this.marketplaceOpenEvent=this.services.telemetryService.startEvent(e.telemetry.MarketplaceEmbeddedOpened),this.services.$timeout((function(){!t.iFrameLoadedOrTimeout&&t.marketplaceOpenEvent&&(t.iFrameLoadedOrTimeout=!0,t.marketplaceOpenEvent.reject({errorCode:"Timeout",errorMessage:"Timeout after "+r.toString()+" ms"}))}),r),this.marketplaceIframe.postMessage({msgType:"loadMarketplace",hostData:this.hostData},"*"))},c.prototype.destroyIframeListener=function(){this.services.$window.removeEventListener("message",this.listener),this.disconnectMarketplace(),this.marketplaceIframe=null},c.prototype.receiveMessage=function(t){if(t&&t.origin&&!(this.services.$window.location.href.indexOf(t.origin)>=0)){!this.marketplaceIframe&&t.source&&(this.marketplaceIframe=t.source);var i=t.data;if(i&&i.msgType){var o=e.constants.saasMarketplace.actionTypes;switch(i.msgType){case o.acquireApp:i.data&&i.data.applicationId&&i.data.category&&(this.destroyIframeListener(),this.services.telemetryService.logEvent(e.telemetry.MarketplaceEmbeddedClosedWithAppAcquired),this.services.rootScope.$emit(e.constants.saasMarketplace.updateHostUrl,i.data.applicationId,i.data.category),this.services.rootScope.$emit(e.constants.saasMarketplace.acquireAppEventName,i.data.applicationId,i.data.category));break;case o.externalRedirect:break;case o.updateUrl:i.data&&i.data.applicationId&&i.data.category&&this.services.rootScope.$emit(e.constants.saasMarketplace.updateHostUrl,i.data.applicationId,i.data.category);break;case o.closeSaasMarketplace:this.destroyIframeListener(),this.services.telemetryService.logEvent(e.telemetry.MarketplaceEmbeddedClosedWithoutAppAcquired),this.services.navigation.showGetDataSlider();break;case o.finishedLoadingContentProviderList:!this.iFrameLoadedOrTimeout&&this.marketplaceOpenEvent&&(this.iFrameLoadedOrTimeout=!0,this.marketplaceOpenEvent.resolve())}}}},c})();t.MarketplaceHostController=c})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.MarketplaceHost={controller:e.common.createController(e.controllers.MarketplaceHostController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.NavigationPaneExpandSettingKey="NavExpanded";var i=6,o=(function(){function o(e,t){var i=this;this.shouldShowGetDataBtn=function(){i.groupService.ensureGroupsInitialization().then((function(){i.showGetDataBtn=!i.groupService.activeGroup.contract.isReadOnly||i.services.groupService.activeGroup.contract.isOwner}))},this.getExpandButtonTitle=function(){return i.isExpanded?i.services.localizationService.get("NavigationPane_Minimize"):i.services.localizationService.get("NavigationPane_Expand")},this.services=t,this.navigation=t.navigation,this.home=t.home,this.groupService=t.groupService,this.rootScope=t.rootScope,this.shouldShowGetDataBtn()}return o.createOptions=function(){return{additionalServices:["conceptualModelSetting","navigation","home","groupService","telemetryService","localizationService","$rootScope","userSettingsService","featureSwitchService"]}},o.prototype.$onInit=function(){var t=this;this.rootScope.$on(e.constants.groupSwitchedEventName,(function(){return t.shouldShowGetDataBtn()})),this.initializeIsExpanded()},o.prototype.navigateToApps=function(){this.onGroupSwitcherToggled(!1),this.services.navigation.navigateToApps()},o.prototype.navigateToFavorites=function(){this.onGroupSwitcherToggled(!1),this.services.navigation.navigateToFavorites()},o.prototype.navigateToRecentlyViewed=function(){this.onGroupSwitcherToggled(!1),this.services.navigation.navigateToRecentlyViewed()},o.prototype.navigateToOnlySharedWithMe=function(){this.onGroupSwitcherToggled(!1),this.services.navigation.navigateToSharedWithMe()},o.prototype.navigateToGetData=function(){this.onGroupSwitcherToggled(!1),this.services.telemetryService.logEvent(e.telemetry.DashboardOpenGetDataPage,e.telemetry.OpenGetDataPageInteraction.NavigatorPaneAddDatasetButton),this.services.navigation.showGetDataSlider()},o.prototype.navigateToWorkspaces=function(){this.onGroupSwitcherToggled(!1),this.services.navigation.navigateToWorkspaces()},o.prototype.isOnApps=function(){return this.services.navigation.inAppsView()},o.prototype.isOnFavorites=function(){return this.services.navigation.inFavoritesView()},o.prototype.isOnRecentlyViewed=function(){return this.services.navigation.inRecentlyViewedView()},o.prototype.isOnSharedWithMe=function(){
return this.services.navigation.inSharedWithMePath()},o.prototype.isOnWorkspace=function(){return!(this.isOnSharedWithMe()||this.isOnRecentlyViewed()||this.isOnFavorites()||this.isOnApps()||this.isOnWorkspaces())},o.prototype.isOnWorkspaces=function(){return this.services.navigation.inWorkspacesView()},o.prototype.isAppsEnabled=function(){return this.services.conceptualModelSetting.isAppsEnabled()},o.prototype.onToggleClicked=function(){this.toggleNavigationPane(),this.onGroupSwitcherToggled(!1);var i=this.services.telemetryService.startEvent(e.telemetry.NavigationToggle,this.isExpanded);this.services.userSettingsService.updateExtendedSettings(t.NavigationPaneExpandSettingKey,this.isExpanded,i)},o.prototype.onGroupSwitcherToggled=function(e){void 0===e&&(e=!this.isGroupSwitcherExpanded),this.isGroupSwitcherExpanded=e,e&&!this.isExpanded&&this.toggleNavigationPane(!0)},Object.defineProperty(o.prototype,"shouldShowLargeGroupList",{get:function(){return this.groupService.groups.length>i},enumerable:!0,configurable:!0}),o.prototype.toggleNavigationPane=function(e){this.isExpanded=void 0===e?!this.isExpanded:e;var t={isExpanded:this.isExpanded};this.onToggled&&this.onToggled(t)},o.prototype.initializeIsExpanded=function(){var e=this,i=this.services.navigation.collapseNavigation;void 0!==i?(this.isExpanded="true"!==i.toLowerCase(),this.toggleNavigationPane(this.isExpanded)):this.services.userSettingsService.getExtendedSettingByKey(t.NavigationPaneExpandSettingKey).then((function(t){null!=t&&_.isBoolean(t)&&(e.isExpanded=t),e.toggleNavigationPane(e.isExpanded)}))},o})();t.NavigationPaneV2Controller=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.NavigationPaneV2={templateUrl:"components/navigationPaneV2/navigationPaneV2.html",controller:e.common.createController(e.controllers.NavigationPaneV2Controller),bindings:{onToggled:"&",isExpanded:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.models.factory.ArtifactSortPredicates,o=e.helpers.ContentTileHelper,r=5,a=(function(){function e(e,t){this.services=t,this.oldExpandedState=!1,this.isExpanded=!1,this.items=[],this.showRecent=!0,this.sortPredicate=i.TitleAlphabeticalPredicate}return e.createOptions=function(){return{additionalServices:["contentList","favorites","groupService","mostRecentlyUsedService"]}},e.prototype.$onInit=function(){var e=this;this.showRecent||(this.favoritesListener={onFavoriteAdded:void 0,onFavoriteDeleted:void 0,onFavoritesReset:function(){return e.loadFavorites()}},this.services.favorites.subscribe(this.favoritesListener))},e.prototype.$onDestroy=function(){this.favoritesListener&&this.services.favorites.unsubscribe(this.favoritesListener)},e.prototype.openContent=function(e){o.openContentTile(e,this.services.groupService,this.services.contentList),this.isExpanded=!1},e.prototype.mouseDownToggle=function(){this.oldExpandedState=this.isExpanded},e.prototype.navigateToArea=function(){this.isExpanded=!1,this.navigateTo()},e.prototype.toggleFlyout=function(){this.oldExpandedState||(this.showRecent?this.loadRecents():this.loadFavorites(),this.isExpanded=!0)},e.prototype.getActualType=function(e){return o.getActualType(e)},e.prototype.loadFavorites=function(){var e=this,t=this.services.favorites.favoritesCache;t&&(this.items=_(t).sortBy((function(t){return t.hasOwnProperty(e.sortPredicate.columnName)?t[e.sortPredicate.columnName].toLocaleLowerCase():""})).take(r).value())},e.prototype.loadRecents=function(){var e=this;this.services.mostRecentlyUsedService.getMRUModels().then((function(t){e.items=_(t).take(r).value()}))},e})();t.NavPaneFlyoutButtonController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.NavPaneFlyoutButton={templateUrl:"components/navPaneFlyoutButton/navPaneFlyoutButton.html",controller:e.common.createController(e.controllers.NavPaneFlyoutButtonController),bindings:{icon:"@",label:"@",navigateTo:"&",onToggled:"&",showRecent:"<?"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.services=t}return e.createOptions=function(){return{additionalServices:["modalDialogService"]}},e.prototype.ok=function(){this.services.modalDialogService.close(0)},e.prototype.close=function(){this.services.modalDialogService.close(1)},e})();e.PopupNotificationDialogController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.PopupNotificationDialog={templateUrl:"components/popupNotificationDialog/popupNotificationDialog.html",bindings:{config:"<"},controller:e.common.createController(e.controllers.PopupNotificationDialogController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.modalDialogService=e}return e.prototype.show=function(e,t){var i={config:t},o={dialogName:e,definitionTemplateCachePath:"components/popupNotificationDialog/popupNotificationDialogDefinition.html",bindings:i};return this.modalDialogService.showHostModalDialog(o)},e})();e.PopupNotificationDialogBuilder=t})(t=e.dialog||(e.dialog={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.imageLoaded=!1,this.scope.$watch((function(){return i.source}),(function(e){e&&!i.disableAnimation&&(i.imageLoaded=!1)}))}return t.createOptions=function(){return{additionalServices:["localizationService"]}},t.prototype.onLoad=function(){this.imageLoaded=!0},t.prototype.onError=function(){this.scope.$emit(e.common.constants.tileErrorEventName,this.services.localizationService.get("Tile_ErrorText"))},t})();t.PrintableImageController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.PrintableImage={controller:e.common.createController(e.controllers.PrintableImageController),bindings:{source:"@",disableAnimation:"<?"},templateUrl:"components/printableImage/printableImage.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.localizationService=t.localizationService}return e.createOptions=function(){return{additionalServices:["localizationService"]}},e.prototype.$onInit=function(){this.tabs=[{icon:"favoritestar",title:this.localizationService.get("Favorites_NavPaneTitle"),text:this.localizationService.get("PreviewFeaturesModal_Favorites_Description"),learnMoreUrl:"https://go.microsoft.com/fwlink/?LinkId=798640"},{icon:"collections",title:this.localizationService.get("PreviewFeaturesModal_ContentView"),text:this.localizationService.get("PreviewFeaturesModal_ContentView_Description"),learnMoreUrl:"https://go.microsoft.com/fwlink/?LinkId=798641"},{icon:"database",title:this.localizationService.get("NavigationPane_ManageDatasets"),text:this.localizationService.get("PreviewFeaturesModal_ManageDatasets_Description"),learnMoreUrl:"https://go.microsoft.com/fwlink/?LinkId=798642"}],this.activeTab=_.first(this.tabs)},e.prototype.selectTab=function(e){this.activeTab=e},e.prototype.isTabSelected=function(e){return this.activeTab.icon===e.icon},e})();e.PreviewFeaturesModalController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.PreviewFeaturesModal={templateUrl:"components/previewFeaturesModal/previewFeaturesModal.html",controller:e.common.createController(e.controllers.PreviewFeaturesModalController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){e.PreviewFeedbackModal={templateUrl:"components/previewFeedbackModal/previewFeedbackModal.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){e.ProgressDialog={templateUrl:"components/progressDialog/progressDialog.html",bindings:{titleKey:"<",messageKey:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.modalDialogService=e,this.promiseFactory=t}return e.prototype.show=function(e,t,i){var o={titleKey:t,messageKey:i},r=this.promiseFactory.defer(),a={dialogName:e,definitionTemplateCachePath:"components/progressDialog/progressDialogDefinition.html",bindings:o,onDialogDisplayed:r,isDismissable:!1};return this.modalDialogService.showWebModalDialog(a),r.promise},e.prototype.hide=function(){this.modalDialogService.close(void 0)},e})();e.ProgressDialogBuilder=t})(t=e.dialogs||(e.dialogs={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.$scope=e,this.services=t,this.paneExpanded=!1,this.dashboardsExpanded=!0,this.reportsExpanded=!0,this.workbooksExpanded=!0,this.datasetsExpanded=!0,this.isInitialized=!1,this.groupService=t.groupService,this.navigation=t.navigation}return t.createOptions=function(){return{additionalServices:["contentList","groupService","localizationService","navigation","navigationActions","ownership","promiseFactory","quota","permissionService"]}},Object.defineProperty(t.prototype,"isActiveWorkspaceReadOnly",{get:function(){return this.services.permissionService.isActiveWorkspaceIsReadOnly},enumerable:!0,configurable:!0}),t.prototype.openItem=function(e){this.closeMenus(),this.services.contentList.openContent(e,this.services.navigation.currentGroupGUID)},t.prototype.openModel=function(e){this.closeMenus(),this.services.navigationActions.openModel(e)},t.prototype.togglePane=function(){this.paneExpanded=!this.paneExpanded,this.paneExpanded&&!this.isInitialized&&this.initialize()},t.prototype.toggleDashboards=function(){this.dashboardsExpanded=!this.dashboardsExpanded},t.prototype.toggleReports=function(){this.reportsExpanded=!this.reportsExpanded},t.prototype.toggleWorkbooks=function(){this.workbooksExpanded=!this.workbooksExpanded},t.prototype.toggleDatasets=function(){this.datasetsExpanded=!this.datasetsExpanded},t.prototype.navigateToContentList=function(){this.closeMenus(),this.services.navigation.navigateToContentList(this.groupService.activeGroupObjectId,!1,null,null,!1)},t.prototype.initialize=function(){var t=this;this.updateCurrentObject(),this.updateObjects(),this.services.navigationActions.initialize(),this.reportListener=this.services.contentList.subscribeReports((function(){t.updateReports(),t.updateCurrentObject()})),this.dashboardListener=this.services.contentList.subscribeDashboards((function(){t.updateDashboards(),t.updateCurrentObject()})),this.modelListener=this.services.contentList.subscribeModels((function(){t.updateDatasets(),t.updateCurrentObject()})),this.workbookListener=this.services.contentList.subscribeWorkbooks((function(){t.updateWorkbooks(),t.updateCurrentObject()})),this.$scope.$root.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,i,o,r,a){return t.updateCurrentObject()})),this.$scope.$root.$on(e.constants.groupSwitchedEventName,(function(){t.updateCurrentObject(),t.updateObjects()})),this.isInitialized=!0},t.prototype.$onDestroy=function(){this.unregisterListeners()},t.prototype.unregisterListeners=function(){this.isInitialized&&(this.services.contentList.unsubscribeReports(this.reportListener),this.services.contentList.unsubscribeDashboards(this.dashboardListener),this.services.contentList.unsubscribeModels(this.modelListener),this.services.contentList.unsubscribeWorkbooks(this.workbookListener))},t.prototype.updateCurrentObject=function(){this.services.navigation.inDashboardView()?this.currentObjectId=this.services.navigation.currentDashboardGUID:this.services.navigation.inWorkbookView()?this.currentObjectId=this.services.navigation.currentWorkbookURLIdentifier:this.services.navigation.inReportView()?this.currentObjectId=this.services.navigation.currentReportGUID:this.services.navigation.inDatasetView()?this.currentObjectId=this.services.navigation.currentDatasetDBName:this.currentObjectId=null},t.prototype.updateObjects=function(){this.updateDashboards(),this.updateDatasets(),this.updateReports(),this.updateWorkbooks()},t.prototype.updateReports=function(){var e=this;this.services.contentList.getReports().then((function(t){return e.reports=e.filterItems(t)}))},t.prototype.updateDashboards=function(){var e=this;this.services.contentList.getDashboards().then((function(t){return e.dashboards=e.filterItems(t)}))},t.prototype.updateDatasets=function(){var e=this;this.services.contentList.getDatasets().then((function(t){return e.datasets=e.filterItems(t)}))},t.prototype.updateWorkbooks=function(){var e=this;this.services.contentList.getWorkbooks().then((function(t){return e.workbooks=e.filterItems(t)}))},t.prototype.filterItems=function(e){var t=this;return _(e).filter((function(e){return!t.services.ownership.isResourceSharedWithMe(e)&&t.services.contentList.isVisible(e)})).sortBy((function(e){return e.displayName.toLocaleLowerCase()})).value()},t})();t.QuickAccessPaneController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.QuickAccessPane={templateUrl:"components/quickAccessPane/quickAccessPane.html",controller:e.common.createController(e.controllers.QuickAccessPaneController),bindings:{selected:"<",closeMenus:"&"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.models.CollapsiblePaneExpandedWidth,r=e.common.constants.TaskPaneCollapsiblePaneMode;!(function(e){e[e.SelectDataset=0]="SelectDataset",e[e.VisualizationDesign=1]="VisualizationDesign"})(i=t.ConfigLevel||(t.ConfigLevel={}));var a=(function(){function e(e,t){var o=this;this.scope=e,this.services=t;var r=this.services.modelService,a=this.services.dashboardService.getSelectedDashboardTile();if(a){this.selectedTile=a.tileModel,r.modelsPromise.then((function(){o.models=r.streamingModels}));var n=this.selectedTile.realTime.config.$visualContainer.config.singleVisual;this.stage=n?i.VisualizationDesign:i.SelectDataset}}return e.createOptions=function(){return{additionalServices:["dashboardService","localizationService","modelConverter","modelService","navigation","taskPaneSliderService"]}},e.prototype.navigateToManageDatasets=function(e){var t=e?1:0;this.services.navigation.navigateToStreamingDatasets(t)},e.prototype.next=function(){this.stage===i.VisualizationDesign?this.services.taskPaneSliderService.expandPane(r.TileEditor,o.Large):this.stage++},e.prototype.prev=function(){this.stage===i.SelectDataset?this.services.taskPaneSliderService.expandPane(r.TileGallery,o.Large):(this.clearSelectedTileModel(),this.stage--)},e.prototype.nextValid=function(){return this.stage===i.SelectDataset?null!=this.selectedModel:this.stage===i.VisualizationDesign?!this.hasVisualConfigError&&null!=this.selectedTile.realTime.singleVisualConfig:void 0},e.prototype.cancel=function(){this.services.dashboardService.removeTemporaryTile(this.selectedTile),this.services.taskPaneSliderService.collapsePane()},e.prototype.selectModel=function(e){this.selectedModel&&this.selectedTile&&this.selectedTile.realTime.unsubscribe(),this.selectedModel=e,this.selectedTile.realTime.setModelId(e.id)},e.prototype.getBreadCrumb=function(){var e=this.services.localizationService,t=jsCommon.StringExtensions.format,o=e.get("Realtime_AddStreamingDataSubTitle"),r=e.get("BreadCrumb_Separator");if(this.stage===i.VisualizationDesign){var a=e.get("Realtime_VisualizationDesign");o=t("{0} {1} {2}",o,r,a)}return o},e.prototype.clearSelectedTileModel=function(){var e=this.selectedTile,t=e&&e.realTime;t&&(e.realTime=this.services.modelConverter.convertRealTimeTile(e.contract),e.realTime.copyRealTimeModelDependencies(t),e.realTime.hideVisual=!0)},e})();t.RealTimeBladeController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.RealTimeBlade={controller:e.common.createController(e.controllers.RealTimeBladeController),templateUrl:"components/realTimeBlade/realTimeBlade.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.contracts.TileType,o=(function(){function t(e,t){this.services=t,this.scope=e}return t.createOptions=function(){return{additionalServices:["dataProxy","realTimeData","conceptualSchemaProxy","telemetryService","modelService"],scopedDependencies:["visualQueryGenerator"]}},t.prototype.$onInit=function(){var e=this,t=this.services;this.viewModel.setRealTimeModelDependencies(t.dataProxy,t.visualQueryGenerator,t.conceptualSchemaProxy,t.realTimeData,t.modelService),this.viewModel.onErrorDelegate=function(){return e.onErrorChanged()},this.viewModel.initialize()},t.prototype.$onDestroy=function(){var e=this.services,t=e.realTimeData,i=this.viewModel;i&&i.realTimeModelId&&t.unsubscribe(i.realTimeModelId,i)},t.prototype.onErrorChanged=function(){var t=this.viewModel;t&&(t.isError?(this.services.telemetryService.logEvent(e.telemetry.DashboardTileError,i[i.realTime],t.errorText),this.scope.$emit(e.common.constants.tileErrorEventName,t.errorText,t.errorDetails)):this.scope.$emit(e.common.constants.clearTileErrorEventName))},t})();t.RealTimeTileController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.RealTimeTile={bindings:{viewModel:"="},controller:e.common.createController(e.controllers.RealTimeTileController),templateUrl:"components/realTimeTile/realTimeTile.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.data.DataViewObjectDefinitions,o=e.dataServices.constants.SingleValueRealTimeWindow,r=e.dataServices.constants.MultipleValueRealTimeWindow,a=e.dataServices.constants.RealTimeIntervals,n=e.explore.viewModels.FieldWellViewModelFactory,s=e.visuals.plugins,c=e.explore.viewModels.PropertyPaneViewModelFactory,l=e.visuals.StandardObjectProperties,d=e.data.SQExprBuilder,p=e.models.factory.TileOptionsFactory,u=e.dataServices.TileUtils,v=e.explore.viewModels.ViewModelFactory,h=e.explore.util.VisualContainerUtils,g="labelDisplayUnits",f="labelPrecision",m="labels",b=10,y=[s.card,s.realTimeLineChart,s.clusteredBarChart,s.clusteredColumnChart,s.gauge],S=[s.realTimeLineChart,s.clusteredBarChart,s.clusteredColumnChart],C=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.supportedVisualTypes=v.getAvailableVisualTypes(y),this.times=a,this.timeLabels=this.getTimeLabels(),this.maxPrecisionValue=b,this.onRoleBucketEntryChanged=function(e){i.updateRoleBucketEntries(e)}}return t.createOptions=function(){return{additionalServices:["aggrOps","featureSwitchService","geoTaggingAnalyzerService","localizationService","modelMerger","promiseFactory","visualPlugin","telemetryService"],scopedDependencies:["pinVisual","visualQueryGenerator"],scopedServiceRoot:!0}},t.prototype.$onInit=function(){var t=this,i=this.tile.realTime.singleVisualConfig,o=i&&i.visualType;this.activeVisual=this.getActiveVisualType(o);var r=this.services;this.visualAuthoringService=e.explore.services.createVisualAuthoringCore(r.visualPlugin,r.geoTaggingAnalyzerService,r.aggrOps,r.featureSwitchService);var a=this.scope.$watch("$ctrl.tile.realTime.schema",(function(e,i,o){e&&(t.setUpVisualOptions(),a())}))},t.prototype.onVisualChanged=function(){this.clearRealTimeTile();var e=!1;!this.originalSourceContext&&this.tile.realTime.singleVisualConfig&&this.saveVisualConfig(),this.originalSourceContext&&(this.activeVisual.plugin.name===this.originalSourceContext.visualType?(this.restoreVisualConfig(),this.tile.realTime.hideVisual=!1):(this.releaseAllBoundProperties(),this.shouldCreateNewVisual=!0,e=!0)),this.setUpVisualOptions(e)},t.prototype.activateTab=function(e){this.activeTab=e},t.prototype.setUpVisualOptions=function(e){void 0===e&&(e=!1),this.showCardFormattingOptions?this.setUpCardFormattingOptions():this.setUpChartOptions(e),this.setUpRoleBuckets(e)},t.prototype.properties=function(){if(this.conceptualProperties)return this.conceptualProperties;var t=this.tile&&this.tile.realTime.schema;if(t){var i=t.schema(e.dataServices.constants.RealTimeDataSourceName).entities,o=i[0].properties;return this.conceptualProperties=_.map(o,(function(e){return _.extend(e,{value:e.name,isHidden:!1})})),this.conceptualProperties}},t.prototype.updateRoleBucketEntries=function(e){if(e){var t=this.selectedRoleEntry.selectedProperty,i=this.tryAuthorVisualConfig(e,t);if(!i)return this.selectedRoleEntry.hasError=!0,void(this.hasErrors=!0);var o=this.tile.realTime.singleVisualConfig;this.originalSourceContext&&(o.conversionSourceContext=this.originalSourceContext),this.tile.realTime.hideVisual=!1,this.updateRealTimeTile();var r=this.selectedRoleBucket;this.releaseBoundProperty(t,r),this.bindAvailableProperty(e,r),this.disableDeleteRolePropertyButton=this.disableDeletePropertyButton(),this.selectedRoleEntry.hasError=!1,this.hasErrors=this.hasRoleEntryErrors()}},t.prototype.addNewRoleProperty=function(e){var t=this.getAvailableRoleProperties(e);_.isEmpty(t)||e.roleEntries.push({selectedProperty:null})},t.prototype.deleteRoleProperty=function(e,t){_.pull(t.roleEntries,e);var i=e.selectedProperty;if(!i)return e.hasError=!0,!1;this.releaseBoundProperty(i,t);var o=this.tile.realTime.singleVisualConfig,r=this.removeProjection(o,i,t.role);return r?(e.hasError=!1,this.updateRealTimeTile(),this.originalSourceContext&&(o.conversionSourceContext=this.originalSourceContext)):e.hasError=!0,this.disableDeleteRolePropertyButton=this.disableDeletePropertyButton(),this.hasErrors=this.hasRoleEntryErrors(),r},t.prototype.clickedEntry=function(e,t){this.selectedRoleEntry=e,this.selectedRoleBucket=t},t.prototype.enableAddMoreButton=function(e){var t=this;if(_.isEmpty(this.getAvailableRoleProperties(e)))return!1;var i=e.roleEntries.length,o=e.roleProperties.length;if(i===o)return!1;if(_.any(e.roleEntries,(function(e){return!e.selectedProperty})))return!1;var r=this.getValidMappingConditions();if(_.isEmpty(r))return!1;var a=e.role,n=_.find(this.getRoleEntryCounts(),{roleName:a}).roleCount,s=n+1;return _.some(r,(function(e){return t.satisfiesCondition(s,e[a])}))},t.prototype.updateRealTimeTile=function(){var e=this.tile.realTime.singleVisualConfig;if(e){var t=this.services;u.UpdateRealTimeTile(this.tile,e,this.getTimeWindow(),this.model,this.tile.realTime.schema,t.pinVisual,t.visualPlugin,t.visualQueryGenerator,t.telemetryService)}},t.prototype.updateCardFormatting=function(e){void 0===e&&(e=!0);var t=this.tile.realTime.singleVisualConfig;if(t){t.objects||(t.objects={});var o=i.ensure(t.objects,m,null),r=this.config.displayUnit;o.properties[g]=i.encodePropertyValue(r.value,r.type);var a=this.config.precision||0;o.properties[f]=i.encodePropertyValue(a,l.labelPrecision.type),e&&this.updateRealTimeTile()}},Object.defineProperty(t.prototype,"showCardFormattingOptions",{get:function(){return this.activeVisual&&this.activeVisual.plugin===s.card},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTimeWindow",{get:function(){return this.activeVisual&&_.contains(S,this.activeVisual.plugin)},enumerable:!0,configurable:!0}),t.prototype.disableDeletePropertyButton=function(){for(var e=[],t=0,i=this.roleBuckets;t<i.length;t++){var o=i[t];e.push.apply(e,this.getBoundRoleProperties(o))}return 1===e.length},t.prototype.getBoundRoleProperties=function(e){return _.filter(e.roleProperties,{isHidden:!0})},t.prototype.getAvailableRoleProperties=function(e){return _.filter(e.roleProperties,{isHidden:!1})},t.prototype.setUpRoleBuckets=function(e){var t=this;void 0===e&&(e=!1);var i=this.activeVisual,o=h.getDataRolesForVisualPlugin(i.plugin),r=n.createEmptyBuckets(o);this.roleBuckets=[];for(var a=this.tile.realTime.singleVisualConfig,s=a&&a.query&&a.query.projections,c=function(i,a){var n=o[i],c=_.filter(l.properties(),(function(e){return t.isPropertyCompatible(e,n)})),d=_.assign({},r[i],{roleProperties:_.cloneDeep(c),roleEntries:[]});if(null!=s&&!e){var p=s[n.name]&&s[n.name].all();if(null!=p)for(var u=0,v=p;u<v.length;u++){var h=v[u],g=l.getProjectionName(h);l.bindAvailableProperty(g,d),d.roleEntries.push({selectedProperty:g})}}l.roleBuckets.push(d)},l=this,d=0,p=o.length;d<p;d++)c(d,p);this.disableDeleteRolePropertyButton=this.disableDeletePropertyButton()},t.prototype.isPropertyCompatible=function(t,i){var o=t.kind;if(i.kind===e.VisualDataRoleKind.Grouping&&1===o)return!1;if(i.kind===e.VisualDataRoleKind.Measure&&0===o)return!1;var r=i.requiredTypes;return!(!_.isEmpty(r)&&!e.ValueType.isCompatibleTo(t.type,r))},t.prototype.tryAuthorVisualConfig=function(t,i){var o=this.activeVisual;if(o){var r=this.tile.realTime.schema,a=_.first(r.schema(e.dataServices.constants.RealTimeDataSourceName).entities),n=this.selectedRoleBucket,s=n.role,c=this.buildExpr(t,a.name,n),l=this.tile.realTime.singleVisualConfig;return this.shouldCreateNewVisual||!l?this.createNewVisualConfig({addExpr:c,schema:r,targetRole:s,visualType:this.activeVisual.plugin.name}):this.updateVisualConfig({addExpr:c,removePropName:i,schema:r,targetRole:s,singleVisual:l})}},t.prototype.hasRoleEntryErrors=function(){for(var e=0,t=this.roleBuckets;e<t.length;e++){var i=t[e];if(_.any(i.roleEntries,{hasError:!0}))return!0}return!1},t.prototype.createNewVisualConfig=function(e){var t=this.visualAuthoringService.create({visualType:e.visualType,schema:e.schema,expr:e.addExpr,targetRole:e.targetRole});return!(!t||!t.singleVisual)&&(this.tile.realTime.singleVisualConfig=t.singleVisual,this.shouldCreateNewVisual=!1,this.showCardFormattingOptions&&this.updateCardFormatting(!1),!0)},t.prototype.updateVisualConfig=function(e){if(e.removePropName){var t=this.removeProjection(e.singleVisual,e.removePropName,e.targetRole);if(!t)return!1}return this.visualAuthoringService.add({schema:e.schema,expr:e.addExpr,targetRole:e.targetRole},{singleVisual:e.singleVisual})},t.prototype.buildExpr=function(t,i,o){var r=null,a=this.getProperty(t,o.roleProperties);if(!a)return r;var n=a.kind,s=0===n?d.columnRef:d.measureRef,c=d.entity(e.dataServices.constants.RealTimeDataSourceName,i);return r=s(c,t)},t.prototype.getProperty=function(e,t){return _.find(t,{value:e})},t.prototype.releaseAllBoundProperties=function(){for(var e=0,t=this.conceptualProperties;e<t.length;e++){var i=t[e];i.isHidden=!1}},t.prototype.releaseBoundProperty=function(e,t){var i=this.getProperty(e,t.roleProperties);null!=i&&(i.isHidden=!1)},t.prototype.bindAvailableProperty=function(e,t){var i=this.getProperty(e,t.roleProperties);i&&(i.isHidden=!0)},t.prototype.satisfiesCondition=function(e,t){var i=1/0,o=t&&t.max;return _.isNumber(o)&&(i=o),e<=i},t.prototype.getValidMappingConditions=function(){for(var e=this.activeVisual.plugin.name,t=this.getDataViewMappingConditions(e),i=this.getRoleEntryCounts(),o=[],r=0,a=t;r<a.length;r++){for(var n=a[r],s=!0,c=0,l=i;c<l.length;c++){var d=l[c],p=n[d.roleName];if(!this.satisfiesCondition(d.roleCount,p)){s=!1;break}}s&&o.push(n)}return o},t.prototype.getDataViewMappingConditions=function(e){var t=this.services.visualPlugin.capabilities(e),i=t.dataViewMappings[0];return i.conditions},t.prototype.getRoleEntryCounts=function(){for(var e=[],t=0,i=this.roleBuckets;t<i.length;t++){var o=i[t];e.push({roleName:o.role,roleCount:o.roleEntries.length})}return e},t.prototype.getTimeWindow=function(){var e=this.config,t=e&&e.timeWindow,i=e&&e.timeWindowGranularityOption&&e.timeWindowGranularityOption.timeWindow,r=this.getActiveVisualDataWindow();if(!t||!i)return r;switch(i){case 2:r=60*t*1e3;break;case 1:r=1e3*t;break;default:r=o}return r},t.prototype.getActiveVisualDataWindow=function(){var e=_.contains(S,this.activeVisual.plugin)?r:o;return e},t.prototype.getActiveVisualType=function(e){var t=_.find(this.supportedVisualTypes,(function(t){return t.plugin.name===e}));return t||(t=this.supportedVisualTypes[0]),t},t.prototype.setUpChartOptions=function(e){var t=this.tile.realTime.config,i=t&&t.dataWindow;!e&&i||(i=this.getActiveVisualDataWindow());var o,r=i/1e3,a=!1;r<60?o={timeWindow:r,timeWindowGranularityOption:_.find(this.timeLabels,(function(e){return 1===e.timeWindow}))}:r<=3600?o={timeWindow:r/60,timeWindowGranularityOption:_.find(this.timeLabels,(function(e){return 2===e.timeWindow}))}:(o={timeWindow:60,timeWindowGranularityOption:_.find(this.timeLabels,(function(e){return 2===e.timeWindow}))},a=!0),this.config=o,a&&this.updateRealTimeTile()},t.prototype.setUpCardFormattingOptions=function(){if(_.isEmpty(this.tabs)&&(this.tabs=p.realTimeConfigTabs(),this.activeTab=this.tabs[0]),!this.config||!this.config.displayUnit){var e=c.getDisplayUnits(),t=c.getDisplayNames(e);this.displayUnits=_.map(t,(function(e){return _.extend(e,{type:l.labelDisplayUnits.type})}));var i=this.displayUnits[0],o=0;this.config={displayUnit:i,precision:o}}var r=this.tile.realTime.singleVisualConfig,a=r&&r.objects,n=a&&a[m]&&a[m][0].properties;if(n){var s=n[g],d=s&&s.value,i=_.find(this.displayUnits,{value:""+d});i&&(this.config.displayUnit=i),s=n[f],this.config.precision=s&&s.value}},t.prototype.getTimeLabels=function(){var e=this.services.localizationService;return[{timeWindow:1,value:e.get("Realtime_SecondsInterval")},{timeWindow:2,value:e.get("Realtime_MinutesInterval")}]},t.prototype.saveVisualConfig=function(){var e=this.tile.realTime.singleVisualConfig;e&&(this.originalSourceContext={objects:e.objects,query:e.query,visualType:e.visualType})},t.prototype.restoreVisualConfig=function(){var e=this.tile.realTime.singleVisualConfig,t=this.originalSourceContext;e&&t&&(e.visualType=t.visualType,e.query=t.query,e.objects=t.objects,this.updateRealTimeTile())},t.prototype.removeProjection=function(e,t,i){var o=this,r=e&&e.query&&e.query.projections&&e.query.projections[i].all();if(_.isEmpty(r))return!1;var a=_.findIndex(r,(function(e){return o.getProjectionName(e)===t}));return a!==-1&&this.visualAuthoringService.remove({index:a,role:i},{singleVisual:e})},t.prototype.getProjectionName=function(t){var i=t&&t.queryRef;if(i)return e.data.tabular.normalizedName(i)},t.prototype.clearRealTimeTile=function(){this.tile.realTime.hideVisual=!0;var e=this.tile.config.realTimeVisual;e.heading1=null,e.heading2=null,e.heading3=null},t})();t.RealTimeTileVisualizationDesignController=C})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.RealTimeTileVisualizationDesign={bindings:{tile:"<",model:"<",hasErrors:"="},controller:e.common.createController(e.controllers.RealTimeTileVisualizationDesignController),templateUrl:"components/realTimeTileVisualizationDesign/realTimeTileVisualizationDesign.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.models.factory.ArtifactSortPredicates,o=e.models.ContentListGalleryViewModel,r=e.telemetry.SelectSort,a=20,n=(function(){function t(t,r){var n=this;this.services=r,this.recentlyUsedArtifacts=[],this.sortPredicateMap={},this.filteredRecentlyUsedArtifacts=[],this.searchText="",this.sortPredicate=i.LastAccessReverseDatePredicate,this.showWatermarkConfig=!1,this.selectSort=function(t){n.sortPredicate=t;var i=n.sortPredicateMap[t.toAngularFilter()];n.services.telemetryService.logEvent(e.telemetry.ContentListSelectSort,i),n.updateRecentlyUsedArtifacts()},this.services.mostRecentlyUsedService.getMRUModels().then((function(t){for(var i=Math.min(t.length,a),o=function(i){var o=t[i];o.displayDoNotExistDialogAndRemove=function(){var t=n.getArtifactLocStringValue(o.type);e.helpers.ArtifactNotFoundHelper.showArtifactDoesNotExistDialog(t,n.services.errorService,n.services.localizationService,n.services.telemetryService),n.services.mostRecentlyUsedService.removeMRU(o.objectId,o.workspaceId),_.remove(n.recentlyUsedArtifacts,(function(e){return e.objectId===o.objectId&&e.workspaceId===o.workspaceId})),n.updateRecentlyUsedArtifacts()},n.recentlyUsedArtifacts.push(o)},r=0;r<i;r++)o(r);n.filteredRecentlyUsedArtifacts=n.recentlyUsedArtifacts,n.updateRecentlyUsedArtifacts();
})),this.galleryViewModel=new o,this.galleryViewModel.getTiles=function(){return n.filteredRecentlyUsedArtifacts},this.galleryViewModel.tabType=16,this.galleryViewModel.finishLoadEvent=e.constants.contentListRecentlyUsedLoadedEvent,this.dataClassificationEnabled=!1,this.sortPredicates=e.models.factory.SelectTileSortItemsFactory.createPredicates(this.services.localizationService,16)}return t.createOptions=function(){return{additionalServices:["dataClassificationService","errorService","localizationService","mostRecentlyUsedService","telemetryService"]}},t.prototype.$onInit=function(){this.sortPredicateMap=(e={},e[i.TitleAlphabeticalPredicate.toAngularFilter()]=r.TitleAlpabetical,e[i.TitleReverseAlphabeticalPredicate.toAngularFilter()]=r.TitleReverseAlphabetical,e[i.LastAccessReverseDatePredicate.toAngularFilter()]=r.LastAccessReverseDate,e),this.emptySearchWatermarkConfig={canEdit:!0,mode:!1,contentNonShared:this.services.localizationService.get("ContentList_EmptySearchResults"),imgClass:"empty-search-img"},this.emptyRecentWatermarkConfig={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptyRecentTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptyRecentMessage"),imgClass:"empty-recent-img"};var e},t.prototype.ensureSearchTelemetry=function(){this.searchTelemetry||_.isEmpty(this.searchText)||(this.searchTelemetry=this.services.telemetryService.startEvent(e.telemetry.ContentListSearch)),this.updateRecentlyUsedArtifacts()},t.prototype.resolveSearchTelemetry=function(){this.searchTelemetry&&(this.searchTelemetry.resolve(),this.searchTelemetry=null)},t.prototype.searchProperties=function(e,t){return this.containsSubstring(e.displayName,t.toLocaleLowerCase())},t.prototype.compareDates=function(e,t){return e>t?-1:e<t?1:0},t.prototype.containsSubstring=function(e,t){return!!e&&_.contains(e.toLocaleLowerCase(),t)},t.prototype.updateRecentlyUsedArtifacts=function(){var e=this,t=_.filter(this.recentlyUsedArtifacts,(function(t){return e.searchProperties(t,e.searchText)}));switch(this.sortPredicate){case i.TitleAlphabeticalPredicate:t.sort((function(e,t){return e.displayName.localeCompare(t.displayName)}));break;case i.TitleReverseAlphabeticalPredicate:t.sort((function(e,t){return t.displayName.localeCompare(e.displayName)}));break;case i.LastAccessReverseDatePredicate:default:t.sort((function(t,i){return e.compareDates(t.lastAccess,i.lastAccess)}))}this.filteredRecentlyUsedArtifacts=t,this.updateWatermark()},t.prototype.updateWatermark=function(){this.showWatermarkConfig=_.isEmpty(this.filteredRecentlyUsedArtifacts),this.showWatermarkConfig&&(this.watermarkConfig=_.isEmpty(this.searchText)?this.emptyRecentWatermarkConfig:this.emptySearchWatermarkConfig)},t.prototype.getArtifactLocStringValue=function(t){switch(t){case e.models.MRUArtifactType.Dashboards:return"ArtifactKind_Dashboard";case e.models.MRUArtifactType.Reports:return"ArtifactKind_Report";case e.models.MRUArtifactType.Workbooks:return"ArtifactKind_Workbook";case e.models.MRUArtifactType.AppInstance:return"Artifact_InstalledApp";default:return""}},t})();t.RecentlyViewedContainerController=n})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.RecentlyViewedContainer={templateUrl:"components/recentlyViewedContainer/recentlyViewedContainer.html",controller:e.common.createController(e.controllers.RecentlyViewedContainerController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.ArtifactType,o=e.common.contracts.ContentTileType,r=jsCommon.EnumExtensions,a=e.common.contracts.Permissions,n=(function(){function e(e,t){this.services=t,this.dashboards=[],this.reports=[],this.models=[]}return e.createOptions=function(){return{additionalServices:["analyzeInExcel","contentList","dashboardService","featureSwitchService","groupService","localizationService","modelService","navigation","permissionService","reportService","taskPaneSliderService"]}},e.prototype.$onInit=function(){switch(this.viewModel.artifactType){case i.Dashboard:this.retrieveRelatedItemsToDashboard();break;case i.Model:this.retrieveRelatedItemsToModel();break;case i.Report:this.retrieveRelatedItemsToReport()}},e.prototype.analyzeInExcel=function(e){this.services.contentList.analyzeContentInExcel(e)},e.prototype.canAnalyzeInExcel=function(e){return this.services.analyzeInExcel.isAnalyzeInExcelSupported(this.services.featureSwitchService,e.getPermissions())},e.prototype.canRunInsights=function(e){if(this.viewModel.readOnly)return!1;var t=this.services.contentList.getModels(e),i=_.first(t);return i&&i.contract.insightsSupported&&r.hasFlag(i.getPermissions(),a.Read)},e.prototype.canShare=function(e){var t=r.hasFlag(e.getPermissions(),a.ReShare),i=this.services.groupService.getGroup(e.workspaceId);return i?!this.services.permissionService.isGroupWorkspaceReadOnly(i.contract.isReadOnly,i.contract.isOwner)&&t:t},e.prototype.canWriteTo=function(e){if(this.viewModel.readOnly)return!1;var t=e.getPermissions();return r.hasFlag(t,a.All)||r.hasFlag(t,a.ReadWrite)},e.prototype.close=function(){this.services.taskPaneSliderService.collapsePane()},e.prototype.hasItems=function(e){return!_.isEmpty(e)},e.prototype.openContent=function(e){this.services.contentList.openContent(e,e.workspaceId)},e.prototype.openSettings=function(e){this.services.contentList.showRename(e)},e.prototype.runInsights=function(e){this.services.contentList.runInsights(e),this.close()},e.prototype.shareContentTile=function(e){this.services.contentList.shareContent(e,e.workspaceId)},e.prototype.tooltipForSettings=function(e){return e===o.Dashboard?this.services.localizationService.get("ContentTileOptions_Settings"):this.services.localizationService.get("ContentTileOptions_Rename")},e.prototype.retrieveRelatedItemsToDashboard=function(){var e=this.services.dashboardService.findDashboardByGUID(this.viewModel.id);if(e){for(var t=0,i=e.contract.reportIds;t<i.length;t++){var o=i[t],r=this.services.reportService.findReport(o);r&&this.reports.push(r)}if(!this.viewModel.readOnly)for(var a=0,n=e.contract.modelIds;a<n.length;a++){var s=n[a],c=this.services.modelService.findModel(s);c&&this.models.push(c)}}},e.prototype.retrieveRelatedItemsToModel=function(){var e=this,t=+this.viewModel.id;this.services.contentList.getDashboards().then((function(i){for(var o=0,r=i;o<r.length;o++){var a=r[o];_.find(a.contract.modelIds,(function(e){return e===t}))&&e.dashboards.push(a)}})),this.services.contentList.getReports().then((function(i){for(var o=0,r=i;o<r.length;o++){var a=r[o];a.modelId===t&&e.reports.push(a)}}))},e.prototype.retrieveRelatedItemsToReport=function(){var e=this,t=this.services.reportService.findReportByGUID(this.viewModel.id);if(t&&(this.services.contentList.getDashboards().then((function(i){for(var o=0,r=i;o<r.length;o++){var a=r[o];_.find(a.contract.reportIds,(function(e){return e===t.id}))&&e.dashboards.push(a)}})),!this.viewModel.readOnly)){var i=this.services.modelService.findModel(t.modelId);i&&this.models.push(i)}},e})();t.RelatedContentBladeController=n})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.RelatedContentBlade={controller:e.common.createController(e.controllers.RelatedContentBladeController),bindings:{viewModel:"<"},templateUrl:"components/relatedContentBlade/relatedContentBlade.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.helpers.ModelConverterHelper,o=(function(){function e(e,t){this.services=t}return e.createOptions=function(){return{additionalServices:["localizationService"]}},e.prototype.convertRefreshTimeToJsDateTime=function(e){var t=i.convertRefreshTimeToJsDateTime(e);return this.services.localizationService.format("RelatedContentBlade_LastRefresh",[t.toLocaleString()])},e})();t.RelatedContentDatasetRowController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.RelatedContentDatasetRow={controller:e.common.createController(e.controllers.RelatedContentDatasetRowController),bindings:{viewModel:"<"},templateUrl:"components/relatedContentDatasetRow/relatedContentDatasetRow.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.$scope=e,this.services=t,this.dropdownOpen=!1}return t.createOptions=function(){return{additionalServices:["$document","overlayService"]}},t.prototype.toggleDropdown=function(t){var i=this,o=this.services.$document.find(t.delegateTarget),r=o.find(".js-anchor"),a=this.services.overlayService.getOverlayElement(this.overlayName);this.services.overlayService.toggleDropdown(t,{anchorElement:r,element:a,preferLeft:!0,horizontal:!1}),this.dropdownOpen=!this.dropdownOpen,this.dropdownOpen&&a.on(e.common.constants.OverlayCloseEventName,(function(){i.$scope.$applyAsync((function(){a.off(e.common.constants.OverlayCloseEventName),i.dropdownOpen=!1}))}))},t})();t.SelectButtonController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SelectButton={transclude:!0,bindings:{overlayName:"@"},templateUrl:"components/selectButton/selectButton.html",controller:e.common.createController(e.controllers.SelectButtonController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.PermissionArtifactType,o=(function(){function e(e,t){this.Dashboard=i.Dashboard,this.Report=i.Report,this.Workbook=i.Workbook,this.Dataset=i.Dataset,this.overlayService=t.overlayService}return e.createOptions=function(){return{additionalServices:["overlayService"]}},e.prototype.isSelectedType=function(e){return(this.selectedType&e)===e},Object.defineProperty(e.prototype,"showContentFilter",{get:function(){return this._showContentFilter},enumerable:!0,configurable:!0}),e})();t.SelectArtifactFilterController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SelectArtifactFilter={bindings:{selectedType:"<",selectType:"&onSelectType"},templateUrl:"components/selectArtifactFilter/selectArtifactFilter.html",controller:e.common.createController(e.controllers.SelectArtifactFilterController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.utils.DateFormatter,o=(jsCommon.DOMConstants,(function(){function e(e,t){this.services=t,this.hasModels=!1}return e.createOptions=function(){return{additionalServices:["localizationService","modalDialogService","modelService","navigation"]}},e.prototype.$onInit=function(){this.searchString="",this.tableConfig={data:null,hideHeader:!1},this.tableConfig.data=this.tableConfig.filteredData=this.models,this.hasModels=this.models.length>0},e.prototype.getLastRefreshDate=function(e){return i.getPrettyRelativeDate(new Date(e.lastRefreshEpochTime),this.services.localizationService)},e.prototype.selectModel=function(e){this.selectedDataset=this.selectedDataset!==e?e:null},e.prototype.itemKeydown=function(e,t){13!==e.keyCode&&32!==e.keyCode||(this.selectModel(t),e.preventDefault())},e.prototype.onSearchStringChanged=function(){var e=this.searchString.toLocaleLowerCase();this.tableConfig.filteredData=_.filter(this.tableConfig.data,(function(t){return _.contains(t.displayName.toLocaleLowerCase(),e)})),_.contains(this.tableConfig.filteredData,this.selectedDataset)||(this.selectedDataset=null)},e.prototype.confirm=function(){this.selectedDataset&&this.services.modalDialogService.close({selectedDataset:this.selectedDataset,openGetData:!1})},e.prototype.cancel=function(){this.services.modalDialogService.close({openGetData:!1})},e.prototype.importDataset=function(){this.services.modalDialogService.close({openGetData:!0})},e})());t.SelectDatasetDialogController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SelectDatasetDialog={templateUrl:"components/selectDatasetDialog/selectDatasetDialog.html",bindings:{titleLabel:"<",descriptionLabel:"<",confirmLabel:"<",cancelLabel:"<",models:"<"},controller:e.common.createController(e.controllers.SelectDatasetDialogController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.modalDialogService=e,this.modelService=t}return e.prototype.show=function(e,t,i,o,r,a){var n={titleLabel:t,descriptionLabel:i,confirmLabel:o,cancelLabel:r,models:_.filter(this.modelService.copyAndEditModels,a)},s={dialogName:e,definitionTemplateCachePath:"components/selectDatasetDialog/selectDatasetDialogDefinition.html",bindings:n};return this.modalDialogService.showWebModalDialog(s)},e})();e.SelectDatasetDialogBuilder=t})(t=e.dialogs||(e.dialogs={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.ContentTileType,o=e.models.OwnershipFilterMenuFilter,r=(function(){function e(e,t){this.OwnerAll=o.AllContent,this.OwnerMine=o.MyContent,this.OwnerShared=o.SharedWithMe,this.Dashboard=i.Dashboard,this.Report=i.Report,this.Workbook=i.Workbook,this.overlayService=t.overlayService}return e.createOptions=function(){return{additionalServices:["overlayService"]}},e.prototype.isSelectedType=function(e){return(this.selectedType&e)===e},e.prototype.isSelectedOwner=function(e){return this.selectedOwnership===e},e})();t.SelectTileFilterController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SelectTileFilter={bindings:{selectedType:"<",selectedOwnership:"<",selectType:"&onSelectType",selectOwner:"&onSelectOwnership"},templateUrl:"components/selectTileFilter/selectTileFilter.html",controller:e.common.createController(e.controllers.SelectTileFilterController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.$scope=e,this.overlayService=t.overlayService,this.loc=t.localizationService}return t.createOptions=function(){return{additionalServices:["overlayService","localizationService"]}},t.prototype.$onInit=function(){this.updateDropdownItems(),this.updateTitle()},t.prototype.$onChanges=function(e){e.predicates&&this.updateDropdownItems(),e.selectedPredicate&&this.updateTitle()},t.prototype.updateDropdownItems=function(){this.dropdownItems=_.isEmpty(this.predicates)?e.models.factory.SelectTileSortItemsFactory.createDefaultPredicates(this.loc):this.predicates,_.find(this.dropdownItems,{predicate:this.selectedPredicate})||this.onSelect()(this.dropdownItems[0].predicate)},t.prototype.updateTitle=function(){var e=_.find(this.dropdownItems,{predicate:this.selectedPredicate});e&&(this.title=e.title)},t.prototype.select=function(e){this.onSelect()(e),this.overlayService.hideAllDropdowns()},t.prototype.isSelected=function(e){return this.selectedPredicate===e},t})();t.SelectTileSortController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SelectTileSort={bindings:{selectedPredicate:"<",onSelect:"&",predicates:"<?"},templateUrl:"components/selectTileSort/selectTileSort.html",controller:e.common.createController(e.controllers.SelectTileSortController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e.AllSharedOwnerObjectId="";var t=(function(){function t(i,o,r){i?(this.userObjectId=i.ownerUserObjectId,this.groupObjectId=i.ownerGroupObjectId,this.fullname=i.ownerFullname,this.mail=i.ownerMail,this.objectId=t.getDashboardOwnerId(i),this.name=this.fullname||this.mail,this.userInfoService=o):(this.objectId=e.AllSharedOwnerObjectId,this.name=r?r.get("SharedBy_AllShared"):"All Shared")}return t.getDashboardOwnerId=function(e){return e.ownerUserObjectId||e.ownerGroupObjectId},Object.defineProperty(t.prototype,"icon",{get:function(){return this.iconString||!this.userInfoService||this.photoRequestSent||this.getIcon(this.userInfoService),this.iconString},enumerable:!0,configurable:!0}),t.prototype.isUser=function(){return null!=this.userObjectId},t.prototype.getIcon=function(e){var t=this,i=this.isUser()?e.findOrGetUserPhoto(this.userObjectId):e.getGroupIcon(this.groupObjectId);i.then((function(e){t.iconString=e})),this.photoRequestSent=!0},t})();e.OwnerInfo=t})(t=e.sharedByColumn||(e.sharedByColumn={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.models.sharedByColumn.OwnerInfo,o=(function(){function e(e,t){var o=this;this.dashboardToOwnerInfo={},this.services=t,this.defaultOwnerInfos=[new i((void 0),(void 0),this.services.localizationService)],this.ownerInfos=this.defaultOwnerInfos,this.services.dashboardService.dashboardsOwnersMergedPromise().finally((function(){o.updateOwnerInfos(),o.ownerInfoMerged=!0}))}return e.createOptions=function(){return{additionalServices:["dashboardService","localizationService","userInfo"]}},Object.defineProperty(e.prototype,"showSpinner",{get:function(){return!this.ownerInfoMerged},enumerable:!0,configurable:!0}),e.prototype.$onChanges=function(e){e.sharedDashboards&&this.updateOwnerInfos()},e.prototype.getOrCreateOwnerInfo=function(e){var t=i.getDashboardOwnerId(e);if(t)return this.dashboardToOwnerInfo[t]||(this.dashboardToOwnerInfo[t]=new i(e,this.services.userInfo)),this.dashboardToOwnerInfo[t]},e.prototype.updateOwnerInfos=function(){var e=this,t=_.map(this.sharedDashboards,(function(t){return e.getOrCreateOwnerInfo(t)}));t=_(t).compact().uniq("objectId").sortBy((function(e){return e.name.toLocaleLowerCase()})).value(),this.ownerInfos=this.defaultOwnerInfos.concat(t)},e})();t.SharedByColumnController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SharedByColumn={templateUrl:"components/sharedByColumn/sharedByColumn.html",controller:e.common.createController(e.controllers.SharedByColumnController),bindings:{sharedDashboards:"<",selectedOwner:"<",onSelectedOwnerChanged:"&"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.models.factory.ArtifactSortPredicates,o=e.dataServices.models.Dashboard,r=e.models.OwnershipFilterMenuFilter,a=e.common.models.Report,n=e.telemetry.SelectSort,s=e.common.contracts.ContentTileType,c=e.dataServices.models.Workbook,l=(function(){function t(t,n){var l=this;if(this.services=n,this.sortPredicateMap={},this.allTypes=s.Dashboard|s.Report|s.Workbook,this.allDashboards=[],this.sharedDashboardsAll=[],this.sharedDashboardsPrefiltered=[],this.sharedDashboardsFiltered=[],this.dashboardCount=0,this.searchText="",this.sortPredicate=i.TitleAlphabeticalPredicate,this.typeFilter=this.allTypes,this.ownership=r.SharedWithMe,this.galleryViewModel={},this.initializeArtifacts=function(){var e=l.services.contentList,t=e.getDashboards();l.dashboardsLoadedDefer=l.services.promiseFactory.defer(),l.contentListDataReadyPromise=t.then((function(e){l.allDashboards=e,l.updateArtifacts()})),l.groupService.ensureGroupsInitialization(),l.services.contentList.dashboardsOwnersMergedPromise(),l.initOnAppMetadata()},this.onSortPredicateChanged=function(t){l.sortPredicate=t;var i=l.sortPredicateMap[t.toAngularFilter()];l.services.telemetryService.logEvent(e.telemetry.ContentListSelectSort,i),l.filterArtifacts(!1),l.persistFilter()},this.onSearchTextChange=function(){l.selectedSharedByOwner=e.models.sharedByColumn.AllSharedOwnerObjectId,l.filterArtifacts(!0),l.ensureSearchTelemetry()},this.startTelemetry=function(){l.scope.$on(e.constants.contentListDashboardsLoadedEvent,(function(){l.dashboardsLoadedDefer.resolve(null)}));var t=l.telemetryService.startActivity(l.scope,e.telemetry.ContentListLoaded);l.telemetryService.logEvent(e.telemetry.ContentListArtifactsCount,l.allDashboards?l.allDashboards.length:-1,0,0),l.dashboardsLoadedDefer.promise.then((function(){t.resolve(),l.groupService.resolveGroupSwitchTelemetry()}))},this.resolveTelemetry=function(e,t,i){return 0===l[t]&&l[i].resolve(null),e},this.ensureSearchTelemetry=function(){l.searchTelemetry||_.isEmpty(l.searchText)||(l.searchTelemetry=l.telemetryService.startEvent(e.telemetry.ContentListSearch))},this.resolveSearchTelemetry=function(){l.searchTelemetry&&(l.searchTelemetry.resolve(),l.searchTelemetry=null)},this.isVisible=function(e){if(e.isHidden)return!1;if(!l.services.conceptualModelSetting.isAppsEnabled())return!0;var t;switch(e.contentTileType){case s.Dashboard:e instanceof o&&(t=e.contract.originalPackageId);break;case s.Report:e instanceof a&&(t=e.contract.packageId);break;case s.Workbook:e instanceof c&&(t=e.contract.packageId)}return!t||!l.services.contentList.isAppInstance(t)},this.emptySharedDashboards={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptySharedWithMeTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptySharedWithMeMessage"),imgClass:"empty-shared-with-me-img"},this.emptySearch={canEdit:!0,mode:!1,linkDescription:this.services.localizationService.get("ContentList_EmptySearchResults_SearchRedirectDescription"),linkText:this.services.localizationService.format("SearchIn",[this.services.localizationService.get("NavigationPane_Groups_MyWorkspace")]),linkAction:function(){return l.switchWorkspaceFromEmptySearch()},imgClass:"empty-search-img"},this.scope=t,this.navigation=n.navigation,this.localizationService=n.localizationService,this.groupService=n.groupService,this.telemetryService=n.telemetryService,this.groupHttp=n.groupHttp,this.ownershipService=n.ownership,this.rootScope=n.rootScope,this.modalDialogService=n.modalDialogService,this.userActivityContextService=n.userActivityContextService,this.selectedSharedByOwner=e.models.sharedByColumn.AllSharedOwnerObjectId,this.groupService.activeGroupObjectId!==e.constants.myWorkSpaceGroupId){var d=_.find(this.groupService.groups,(function(e){return e.isMyWorkspace})),p=this.services.telemetryService.startEvent(e.telemetry.GroupsSwitchGroup,d.aadGroupId);this.groupService.switchGroup(d,!1,p,!0).then((function(){l.services.navigation.navigateToSharedWithMe(),l.groupSwitchComplete=!0}))}else this.groupSwitchComplete=!0;this.initializeArtifacts();var u={onDashboardAdded:function(e){return l.updateArtifacts()},onDashboardDeleted:function(e){return l.updateArtifacts()},onDashboardsReset:function(){return l.updateArtifacts()}};this.services.dashboardDataService.subscribe(u);var v=this.rootScope.$on(e.constants.updateSharedWithMe,(function(){return l.updateArtifacts()}));this.createReportDialogBuilder=new e.dialogs.CreateReportDialogBuilder(n.telemetryService,n.navigation,n.modalDialogService,n.modelService);var h=this.rootScope.$on(e.constants.groupSwitchedEventName,this.initializeArtifacts);this.services.dataClassificationService.isEnabledAsync().then((function(e){l.dataClassificationEnabled=e}));var g=this.services.rootScope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,t,i,o,r){return l.handleStateChange(t,i,o,r)}));this.scope.$on(e.common.constants.scopeDestroyEventName,(function(){l.services.dashboardDataService.unsubscribe(u),v(),h(),g()}))}return t.createOptions=function(){return{additionalServices:["$window","$rootScope","appMetadataService","conceptualModelSetting","contentList","groupService","navigation","promiseFactory","ownership","localizationService","telemetryService","groupHttp","modalDialogService","filterPersistenceService","userActivityContextService","modelService","dataClassificationService","userInfo","dashboardDataService"]}},t.prototype.$onInit=function(){this.activeTab=64,this.updateSortPredicates(),this.updateGalleryViewModel(),this.sortPredicateMap[i.TitleAlphabeticalPredicate.toAngularFilter()]=n.TitleAlpabetical,this.sortPredicateMap[i.TitleReverseAlphabeticalPredicate.toAngularFilter()]=n.TitleReverseAlphabetical,this.sortPredicateMap[i.OwnerAlphabeticalPredicate.toAngularFilter()]=n.OwnerAlphabetical,this.sortPredicateMap[i.OwnerReverseAlphabeticalPredicate.toAngularFilter()]=n.OwnerReverseAlphabetical,this.sortPredicateMap[i.SharedTimePredicate.toAngularFilter()]=n.SharedTime,this.sortPredicateMap[i.SharedReverseTimePredicate.toAngularFilter()]=n.SharedReverseTime,this.processSharedWithMeParameter(),this.initialized=!0},Object.defineProperty(t.prototype,"showSpinner",{get:function(){return!this.initialized||!this.groupSwitchComplete},enumerable:!0,configurable:!0}),t.prototype.processSharedWithMeParameter=function(){this.navigation.searchText&&(this.searchText=this.navigation.searchText),this.sortPredicate=i.SharedReverseTimePredicate},t.prototype.handleStateChange=function(e,t,i,o){this.processSharedWithMeParameter()},t.prototype.initOnAppMetadata=function(){var e=this;this.services.appMetadataService.getAppMetadata().then((function(){e.initialized=!0}))},t.prototype.updateArtifacts=function(){var e=this;this.sharedDashboardsAll=_(this.allDashboards).filter((function(t){return e.ownershipService.isResourceSharedWithMe(t)})).filter((function(t){return e.isVisible(t)})).value(),this.dashboardsArePresent=!_.isEmpty(this.sharedDashboardsAll),this.filterArtifacts(!0)},t.prototype.filterArtifacts=function(t){var i=this,o=_(this.sharedDashboardsAll);this.searchText&&(o=o.filter((function(e){return i.containsSearchText(e)}))),t&&(this.sharedDashboardsPrefiltered=o.value()),this.selectedSharedByOwner!==e.models.sharedByColumn.AllSharedOwnerObjectId&&(o=o.filter((function(t){return i.selectedSharedByOwner===e.models.sharedByColumn.OwnerInfo.getDashboardOwnerId(t)}))),o=o.sortByOrder(this.sortPredicate.columnName,!this.sortPredicate.reverse),this.sharedDashboardsFiltered=o.value(),this.dashboardCount=this.sharedDashboardsFiltered.length,this.hasResults=this.dashboardCount>0},t.prototype.containsSearchText=function(e){var t=this.searchText.toLocaleLowerCase();return this.containsSubstring(e.displayName,t)||this.containsSubstring(e.ownerFullname,t)},t.prototype.onSelectedOwnerChanged=function(e){this.selectedSharedByOwner=e,this.filterArtifacts(!1)},t.prototype.containsSubstring=function(e,t){return!!e&&_.contains(e.toLocaleLowerCase(),t)},t.prototype.$postLink=function(){this.contentListDataReadyPromise.then(this.startTelemetry)},t.prototype.persistFilter=function(){this.services.filterPersistenceService.setFilter(this.navigation.currentGroupGUID,{contentTileType:this.typeFilter,ownershipFilter:this.ownership,sortPredicate:this.sortPredicate.toAngularFilter()})},t.prototype.switchWorkspaceFromEmptySearch=function(){this.services.navigation.navigateToContentList(e.constants.myWorkSpaceGroupId,!0,null,null,!1,this.searchText)},t.prototype.updateSortPredicates=function(){this.sortPredicates=e.models.factory.SelectTileSortItemsFactory.createPredicates(this.localizationService,64)},t.prototype.updateGalleryViewModel=function(){var t=this;this.galleryViewModel.tabType=64,this.galleryViewModel.collapsiblePaneMode=this.collapsiblePaneMode,this.galleryViewModel.getTiles=function(){return t.sharedDashboardsFiltered},this.galleryViewModel.finishLoadEvent=e.constants.contentListDashboardsLoadedEvent},t.prototype.getNumberOfShownTabItems=function(){return this.dashboardCount},t.prototype.getWatermarkConfig=function(){return _.isEmpty(this.searchText)||0!==this.dashboardCount?this.dashboardsArePresent?void 0:this.emptySharedDashboards:this.emptySearch},t.prototype.shouldShowWatermark=function(){return!this.showSpinner&&(!_.isEmpty(this.searchText)&&0===this.dashboardCount||!this.dashboardsArePresent)},t})();t.SharedWithMeContainerController=l})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SharedWithMeContainer={templateUrl:"components/sharedWithMeContainer/sharedWithMeContainer.html",controller:e.common.createController(e.controllers.SharedWithMeContainerController),bindings:{collapsiblePaneMode:"<"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.JsonExtensions,o=e.common.contracts.RealTimeMode,r=e.common.constants.TaskPaneCollapsiblePaneMode,a=(function(){function t(e,t){this.scope=e,this.services=t,this.initialize()}return t.createOptions=function(){return{additionalServices:["realTimeModel","taskPaneSliderService"]}},t.prototype.back=function(){this.services.taskPaneSliderService.expandPane(r.StreamingDatasetGallery)},t.prototype.cancel=function(){this.scope.$emit(e.constants.hideTileEditorEventName)},t.prototype.next=function(){var e=this.realTimeModel,t=e.definition;t.dataSourceType=1,t.mode=o.PubNubCacheOnly,t.externalCredentials=JSON.stringify(this.viewModel),this.services.taskPaneSliderService.expandPane(r.StreamingDatasetEditor)},t.prototype.initialize=function(){var e=this,t=this.services.realTimeModel;t.getSelected().then((function(o){o&&o.definition?(e.realTimeModel=o,e.viewModel=i.tryParseJSON(o.definition.externalCredentials)):e.realTimeModel=t.getAndSelectEmptyModel()}))},t})();t.PubNubEditorController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.PubNubEditor={controller:e.common.createController(e.controllers.PubNubEditorController),templateUrl:"components/streamingDataset/pubNubEditor/pubNubEditor.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=/\\/gi,i=/"/gi,o=(function(){function e(e,t){this.scope=e,this.services=t,this.apiExamples=[{id:1,title:"Raw"},{id:2,title:"cURL"},{id:3,title:"PowerShell"}],this.activeExample=this.apiExamples[0],this.mockValues={},this.mockValues[2]='"'+(new Date).toISOString()+'"',this.mockValues[1]=98.6,this.mockValues[0]='"AAAAA555555"'}return e.prototype.escapeCharacters=function(e){return e+="",e.replace(t,"\\\\").replace(i,'\\"')},e.prototype.hasColumns=function(){var e=this.viewModel&&this.viewModel.columns;return e&&e.length>0&&!_.isEmpty(e[0].name)},e.prototype.showExample=function(e){this.activeExample=e},e})();e.StreamingDataSampleController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.StreamingDataSample={bindings:{viewModel:"<",showHeader:"<",url:"&"},controller:e.common.createController(e.controllers.StreamingDataSampleController),templateUrl:"components/streamingDataset/streamingDataSample/streamingDataSample.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.JsonExtensions,o=e.common.contracts.RealTimeMode,r=e.common.constants.TaskPaneCollapsiblePaneMode,a=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.realTimeMode=o,this.validateColumnName=function(e){var t=e?e.trim():"";return _.filter(i.viewModel.definition.columns,(function(e){return e.name&&e.name.trim()===t})).length<=1},this.isLoadingColumnTypes=!1,this.warningText=null,this.initialize()}return t.createOptions=function(){return{additionalServices:["featureSwitchService","localizationService","realTimeModel","telemetryService","realTimePubNubData","taskPaneSliderService"]}},Object.defineProperty(t.prototype,"canSave",{get:function(){return!this.isSaving&&1!==this.viewModel.definition.columns.length&&!this.isLoading},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return!this.viewModel||this.isLoadingColumnTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleStateText",{get:function(){var e=this.viewModel&&this.viewModel.definition.mode!==o.CacheOnly?"ToggleSwitchOn":"ToggleSwitchOff";return this.services.localizationService.get(e)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(){this.scope.$emit(e.constants.hideTileEditorEventName)},t.prototype.columnUpdated=function(e){e&&this.addNewColumn()},t.prototype.removeColumn=function(e){_.remove(this.viewModel.definition.columns,e);
},t.prototype.save=function(){var t,i=this,a=this.viewModel.definition,n=this.services.realTimeModel;this.isSaving=!0,a.columns.pop(),t=this.viewModel.isNew?n.createModel(a).then((function(){a.mode===o.PubNubCacheOnly?i.scope.$emit(e.constants.hideTileEditorEventName):i.services.taskPaneSliderService.expandPane(r.StreamingDatasetPushInfo)})):n.updateModel(a).then((function(){i.scope.$emit(e.constants.hideTileEditorEventName)})),t.catch((function(){i.addNewColumn()})).finally((function(){i.isSaving=!1}))},t.prototype.back=function(){this.services.taskPaneSliderService.expandPane(this.from)},t.prototype.initialize=function(){var t=this,i=this.services,r=i.realTimeModel;r.getSelected().then((function(a){a=a?a:r.getAndSelectEmptyModel();var n=a.definition,s=n&&n.columns;s&&s.length>0&&_.isEmpty(s[s.length-1].name)&&n.columns.pop(),i.telemetryService.logEvent(e.telemetry.RealTimeEditStreamingDatasetPaneOpened,!a),t.viewModel=a,t.localizeValues(),t.historicalAnalysisEnabled=t.viewModel.definition.mode!==o.PubNubCacheOnly,t.detectPubNubColumnsIfNeeded(),t.addNewColumn()}),(function(){t.scope.$emit(e.constants.hideTileEditorEventName)}))},t.prototype.detectPubNubColumnsIfNeeded=function(){var e=this,t=this.viewModel.definition,r=this.services,a=r.realTimePubNubData,n=r.localizationService;if(this.warningText=null,t.mode===o.PubNubCacheOnly&&(this.viewModel.isNew||_.isEmpty(t.columns))){var s=i.tryParseJSON(t.externalCredentials);if(!s)return;this.isLoadingColumnTypes=!0;var c=this.scope.streamingDatasetForm;a.detectPubNubColumnsDefinition(s).then((function(i){t.columns=i,e.addNewColumn(),c.$setDirty()}),(function(){e.warningText=n.get("StreamingDataSetEditor_PubNubDataDetectionTimedOut")})).finally((function(){e.isLoadingColumnTypes=!1}))}},t.prototype.addNewColumn=function(){this.viewModel.definition.columns.push({name:null,dataType:0})},t.prototype.localizeValues=function(){var e=this.services.localizationService;this.viewModel.isNew?(this.header=e.get("StreamingDatasetEditor_NewDataset"),this.buttonText="Create_ButtonText"):(this.header=e.get("StreamingDatasetEditor_EditDataset"),this.buttonText="Done_ButtonText"),this.columnPlaceholder=e.get("StreamingDatasetEditor_ColumnPlaceholder"),this.namePlaceholder=e.get("StreamingDatasetEditor_DatasetPlaceholder"),this.dataTypes=[{displayName:e.get("StreamingDatasetEditor_Text"),value:0},{displayName:e.get("StreamingDatasetEditor_Number"),value:1},{displayName:e.get("StreamingDatasetEditor_DateTime"),value:2}]},t})();t.StreamingDatasetEditorController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.StreamingDatasetEditor={bindings:{from:"="},controller:e.common.createController(e.controllers.StreamingDatasetEditorController),templateUrl:"components/streamingDataset/streamingDatasetEditor/streamingDatasetEditor.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.models.factory.DatasetsMenuFactory,o=e.models.factory.StreamingDatasetOptionType,r=e.common.constants.TaskPaneCollapsiblePaneMode,a=(function(){function t(t,o){this.scope=t,this.services=o,o.telemetryService.logEvent(e.telemetry.RealTimeStreamingDatasetGalleryPaneOpened),this.streamingDatasetOptions=i.getStreamingDatasetOptions(this.services.featureSwitchService,this.services.localizationService),this.selectedOption=this.streamingDatasetOptions[0]}return t.createOptions=function(){return{additionalServices:["localizationService","realTimeModel","telemetryService","featureSwitchService","taskPaneSliderService"]}},t.prototype.cancel=function(){this.scope.$emit(e.constants.hideTileEditorEventName)},t.prototype.isLinkTypeSelected=function(){return this.selectedOption&&this.selectedOption.type===o.Link},t.prototype.next=function(){var t,i;switch(this.services.realTimeModel.setSelected(null),this.selectedOption.type){case o.APIPush:t=e.telemetry.StreamingDatasetGalleryOption.APIPush,i=r.StreamingDatasetEditor;break;case o.PubNub:t=e.telemetry.StreamingDatasetGalleryOption.PubNub,i=r.PubNubEditor}this.services.telemetryService.logEvent(e.telemetry.RealTimeStreamingDatasetGalleryOptionSelected,t),this.services.taskPaneSliderService.expandPane(i)},t.prototype.selectOption=function(e){this.selectedOption=e},t})();t.StreamingDatasetGalleryController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.StreamingDatasetGallery={controller:e.common.createController(e.controllers.StreamingDatasetGalleryController),templateUrl:"components/streamingDataset/streamingDatasetGallery/streamingDatasetGallery.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.services.realTimeModel.getSelected().then((function(e){o.viewModel=e}),(function(){o.scope.$emit(e.constants.hideTileEditorEventName)}))}return t.createOptions=function(){return{additionalServices:["realTimeModel"]}},t.prototype.close=function(){this.scope.$emit(e.constants.hideTileEditorEventName)},t})();t.StreamingDatasetPushInfoController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.StreamingDatasetPushInfo={controller:e.common.createController(e.controllers.StreamingDatasetPushInfoController),templateUrl:"components/streamingDataset/streamingDatasetPushInfo/streamingDatasetPushInfo.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.openAlertsSettingsEvent=this.services.telemetryService.logEvent(e.telemetry.DataAlertsOpenAlertsSettings);var r=this.services.localizationService,a=r.currentLanguageLocale;this.columns=[{displayName:r.get("AlertsSettings_AlertTitle"),predicateName:"alertTitle"},{displayName:r.get("AlertsSettings_DashboardName"),predicateName:"dashboardName"},{displayName:r.get("AlertsSettings_CreatedDate"),predicateName:"alertCreatedDate"}],this.services.alertHttpService.getAllAlerts(this.openAlertsSettingsEvent).then((function(e){for(var t=[],i=_.groupBy(e,(function(e){return e.group?e.group.id:-1})),r=Object.keys(i),n=0,s=r;n<s.length;n++){var c=s[n];t.push({alerts:_.map(i[c],(function(e){return o.services.modelConverter.convertSettingsAlerts(a,e)})),title:i[c][0].group?i[c][0].group.displayName:o.services.localizationService.get("AlertsSettings_MyWorkspace")})}o.viewModel=t}))}return t.createOptions=function(){return{additionalServices:["alertHttpService","localizationService","modelConverter","navigation","telemetryService","errorService"]}},t.prototype.order=function(e,t){e.reverse=e.sortPredicate===t&&!e.reverse,e.sortPredicate=t},t.prototype.toggleAlert=function(t){this.services.telemetryService.logChildEvent(this.openAlertsSettingsEvent,e.telemetry.DataAlertsAlertsSettingsToggle),this.services.alertHttpService.toggleAlert(t.contract.id,t.enabled,this.openAlertsSettingsEvent)},t.prototype.editAlert=function(t){this.services.telemetryService.logChildEvent(this.openAlertsSettingsEvent,e.telemetry.DataAlertsAlertsSettingsEdit);var i=t.contract,o=i.tile.objectId,r=i.tile.originalTileObjectId,a=i.id,n=i.dashboard.objectId,s=i.group?i.group.objectId:e.constants.myWorkSpaceGroupId;this.services.navigation.showAlertsEditor(o,r,a,n,s)},t.prototype.deleteAlert=function(t){this.services.telemetryService.logChildEvent(this.openAlertsSettingsEvent,e.telemetry.DataAlertsAlertsSettingsDelete);var i=this.services.errorService.control();i.showPrompt(this.services.localizationService.get("Alerts_DeleteDialogTitle"),this.services.localizationService.get("Alerts_DeleteDialogMessage"),this.getModalActionsArray(i,t))},t.prototype.getModalActionsArray=function(t,i){var o=this;return[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(r,a){t.hideDialog(),o.services.telemetryService.logChildEvent(o.openAlertsSettingsEvent,e.telemetry.DataAlertsDeleteAlertAccept),o.services.alertHttpService.deleteAlert(i.contract.id,o.openAlertsSettingsEvent).then((function(e){if(e)for(var t=0,r=o.viewModel;t<r.length;t++){var a=r[t];_.remove(a.alerts,(function(e){return e.contract.id===i.contract.id}))}}))}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(i,r){o.services.telemetryService.logChildEvent(o.openAlertsSettingsEvent,e.telemetry.DataAlertsDeleteAlertCancel),t.hideDialog()})]},t})();t.SettingsAlertsController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SettingsAlerts={controller:e.common.createController(e.controllers.SettingsAlertsController),templateUrl:"components/settingsAlerts/settingsAlertsView.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=(function(){function t(e,t){this.tutorialDataStore=t.tutorialDataStore,this.telemetryService=t.telemetryService,this.previewFeaturesModalService=t.previewFeaturesModalService}return t.createOptions=function(){return{additionalServices:["telemetryService","tutorialDataStore","previewFeaturesModalService"]}},t.prototype.$onInit=function(){var e=this;this.tutorialDataStore.onReady((function(){e.previewModel=e.startingPreviewModel=e.tutorialDataStore.hasKey(i.previewConceptualModelNewKey)}))},t.prototype.applyChanges=function(){if(!this.isClean()){this.startingPreviewModel=this.previewModel;var t=this.telemetryService.startEvent(e.telemetry.PreviewConceptualModel,this.previewModel,e.telemetry.From.Settings);this.tutorialDataStore.setKey(i.previewConceptualModelNewKey,this.previewModel,t)}},t.prototype.isClean=function(){return this.previewModel===this.startingPreviewModel},t.prototype.discardChanges=function(){this.previewModel=this.startingPreviewModel},t.prototype.showTourModal=function(e){e.preventDefault(),this.previewFeaturesModalService.showModal(!1)},t})();t.SettingsPreviewFeaturesController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SettingsPreviewFeatures={templateUrl:"components/settingsPreviewFeatures/settingsPreviewFeatures.html",controller:e.common.createController(e.controllers.SettingsPreviewFeaturesController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i=(function(){function t(t,i){var o=this;this.services=i,this.userNotifications={notifications:[],dismissNotification:function(t){o.services.userNotificationInfo.dismissNotification(t.contract),t.contract.notificationCategory===e.userNotifications.contracts.NotificationCategory.DynamicMessage&&o.services.dynamicMessagingData.postData(e.constants.dynamicMessaging.userDismissedAction)},showDismissAllDialog:function(){o.confirmDismissAll()},showLoadMore:!1,disableLoadMore:!1,loadingData:!0,loadMoreNotification:function(){o.userNotifications.disableLoadMore=!0,o.userNotifications.loadingData=!0,o.services.userNotificationInfo.getNextPageData()},performAction:function(e){o.navigateToState(e)},loadIcon:function(e){o.services.userNotificationInfo.loadIcon(e.contract)},moreOptionsMenu:[{text:this.services.localizationService.get("UsersNotifications_Options"),type:DropDownMenuItemType.Title},{action:0,text:this.services.localizationService.get("UsersNotifications_DismissAll"),type:DropDownMenuItemType.Item}],menuEnabled:!1},this.mapUserNotifications(),this.services.userNotificationInfo.registerNotificationsUpdatedListener((function(){o.mapUserNotifications()})),t.$watch((function(){return o.services.userNotificationInfo.hidePaneOnClick}),(function(e){t.$applyAsync((function(){e&&o.hideNotifications()}))}))}return t.createOptions=function(){return{additionalServices:["$window","asyncFeatureSwitchService","errorService","promiseFactory","telemetryService","localizationService","userNotificationInfo","navigation","licenseHelperService","userNotificationTileFilterService","dynamicMessagingData"]}},t.prototype.moreOptionsMenuSelected=function(e){var t=e.action;if(null!=t)switch(t){case 0:this.userNotifications.showDismissAllDialog()}},t.prototype.hideNotifications=function(){if(this.services.userNotificationInfo.userNotifications)if(this.services.userNotificationTileFilterService.tileId){var e=_.filter(this.userNotifications.notifications,(function(e){return!e.seen}));if(!_.isEmpty(e)){var t=_.map(e,(function(e){return e.contract.id}));this.services.userNotificationInfo.updateSeenNotifications(t)}}else this.services.userNotificationInfo.userNotifications.unseenCount>0&&this.services.userNotificationInfo.updateLastSeenDate();this.services.userNotificationTileFilterService.tileId=null,this.services.userNotificationInfo.showPane=!1},t.prototype.navigateToState=function(t){var i,o,r=e.userNotifications.contracts;switch(t.actionType){case 0:this.services.navigation.insertGroupAndNavigateToDashboardByGUID(t.actionPath[0],e.constants.myWorkSpaceGroupId);break;case 1:this.services.licenseHelperService.displayDialogToExtendTrial(e.telemetry.LicenseEnforcementOperation.NotificationBar);break;case 2:var a=t.actionPath;o=a[2],i=a[3],this.services.navigation.showInFocusMode(a[1],i,a[0],o,e.constants.myWorkSpaceGroupId),t.contract.message.filterProperties&&t.contract.message.filterProperties.UserDataAlertRuleId&&this.services.telemetryService.logEvent(e.telemetry.DataAlertsNotificationAction,e.telemetry.DataAlertNotificationSource.UnifiedNotificationPane,e.telemetry.DataAlertNotificationAction.OpenTile,parseInt(t.contract.message.filterProperties.UserDataAlertRuleId,10));break;case 3:var n=t.actionPath;o=n[3],i=n[4],this.services.navigation.showInFocusMode(n[2],i,n[1],o,n[0]),t.contract.message.filterProperties&&t.contract.message.filterProperties.UserDataAlertRuleId&&this.services.telemetryService.logEvent(e.telemetry.DataAlertsNotificationAction,e.telemetry.DataAlertNotificationSource.UnifiedNotificationPane,e.telemetry.DataAlertNotificationAction.OpenTile,parseInt(t.contract.message.filterProperties.UserDataAlertRuleId,10));break;case 4:this.services.navigation.insertGroupAndNavigateToDashboardByGUID(t.actionPath[0],t.actionPath[1]);break;case 5:t.contract.notificationCategory===r.NotificationCategory.DynamicMessage&&this.services.dynamicMessagingData.postData(e.constants.dynamicMessaging.userClickedAction),this.services.$window.open(t.actionPath[0],"_blank")}this.services.telemetryService.logEvent(e.telemetry.UserNotificationsLinkClicked,r.NotificationCategory[t.contract.notificationCategory]),this.services.userNotificationInfo.hidePaneOnClick=!0},t.prototype.mapUserNotifications=function(){if(this.userNotifications.notifications=[],this.services.userNotificationInfo.userNotifications){var t=this.services.userNotificationInfo.userNotifications.notifications.filter((function(e){return null==e.notificationType||1===e.notificationType}));if(this.services.userNotificationTileFilterService.tileId&&(t=this.services.userNotificationTileFilterService.filterNotifications(t)),!_.isEmpty(t))for(var i=this.services.localizationService,o=0,r=t;o<r.length;o++){var a=r[o],n=new e.userNotifications.models.UserNotificationModel(a,i);this.userNotifications.notifications.push(n)}this.userNotifications.showLoadMore=this.userNotifications.notifications.length<this.services.userNotificationInfo.userNotifications.totalCount,this.userNotifications.disableLoadMore=!1,this.userNotifications.loadingData=!1}},t.prototype.confirmDismissAll=function(){var e=this,t=this.services.errorService,i=t.control(),o=[new InJs.ModalDialogAction(this.services.localizationService.get("UsersNotifications_DismissAll"),function(t,o){e.services.userNotificationInfo.dismissAll(),i.hideDialog()}),new InJs.ModalDialogAction(this.services.localizationService.get("UsersNotifications_Cancel"),function(e,t){i.hideDialog()})],r=this.services.localizationService.get("UsersNotifications_DismissAllConfirmation"),a=this.services.localizationService.get("UsersNotifications_ConfirmDismissAll");i.showCustomDialog(r,$("<div/>").text(a),o,(function(t){t.parent().find('input[value="'+e.services.localizationService.get("UsersNotifications_Cancel")+'"]').focus()}),!0)},t})();t.UserNotificationController=i})(i=t.userNotifications||(t.userNotifications={}))})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.UserNotifications={templateUrl:"components/userNotifications/userNotificationsView.html",controller:e.common.createController(e.controllers.userNotifications.UserNotificationController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.searchText="",this.onSearchTextChange=function(){i.ensureSearchTelemetry(),i.updateGroupList()},this.resolveSearchTelemetry=function(){i.searchTelemetry&&(i.searchTelemetry.resolve(),i.searchTelemetry=null)},this.services=t}return t.createOptions=function(){return{additionalServices:["groupService","localizationService","telemetryService"]}},t.prototype.$onInit=function(){var t=this;this.services.groupService.ensureGroupsInitialization().then((function(){return t.updateGroupList()})),this.unregisterGroupDeletedEvent=this.services.rootScope.$on(e.constants.groupDeletedEventName,(function(e,i){e.stopPropagation(),t.updateGroupList()})),this.watermarkConfig={canEdit:!0,mode:!1,contentNonShared:this.services.localizationService.get("ContentList_EmptySearchResults"),imgClass:"empty-search-img"},this.initialized=!0},t.prototype.$onDestroy=function(){this.unregisterGroupDeletedEvent()},t.prototype.containsSubstring=function(e,t){return!!e&&_.contains(e.toLocaleLowerCase(),t)},t.prototype.ensureSearchTelemetry=function(){this.searchTelemetry||_.isEmpty(this.searchText)||(this.searchTelemetry=this.services.telemetryService.startEvent(e.telemetry.ContentListSearch))},t.prototype.updateGroupList=function(){var e=this,t=_(this.services.groupService.groups);if(this.searchText){var i=this.searchText.toLocaleLowerCase();t=t.filter((function(t){return e.containsSubstring(t.displayName,i)}))}this.groups=t.sortBy((function(e){return e.displayName})).sortBy((function(e){return!e.isMyWorkspace})).value(),this.updateWatermark()},t.prototype.updateWatermark=function(){this.showWatermarkConfig=_.isEmpty(this.groups)},t})();t.WorkspacesContainerController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.WorkspacesContainer={templateUrl:"components/workspacesContainer/workspacesContainer.html",controller:e.common.createController(e.controllers.WorkspacesContainerController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.Permissions,o=(function(){function o(e,i,o,r){this.telemetryService=e,this.navigation=i,this.selectDatasetDialogBuilder=new t.SelectDatasetDialogBuilder(o,r)}return o.prototype.canCreateReport=function(e){return!e.isHidden&&(e.contract.permissions&i.CopyOnWrite)!==i.CopyOnWrite},o.prototype.show=function(){var t=this,i=this.selectDatasetDialogBuilder.show("CreateReportDialog","DashboardContextMenu_CreateReport","CreateReport_Description","CreateReport_Create","PBI_Button_Label_Close",this.canCreateReport);return i.then((function(i){return i?void(i.openGetData?(t.telemetryService.logEvent(e.telemetry.CreateReportDialogImport),t.navigation.showGetDataSlider()):i.selectedDataset?(t.telemetryService.logEvent(e.telemetry.CreateReportDialogCreate,i.selectedDataset.dbName),t.navigation.navigateToDatasetByDBName(i.selectedDataset.dbName)):t.telemetryService.logEvent(e.telemetry.CreateReportDialogCanceled)):void t.telemetryService.logEvent(e.telemetry.CreateReportDialogCanceled)})),i},o})();t.CreateReportDialogBuilder=o})(t=e.dialogs||(e.dialogs={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=(function(){function t(e,t){this.services=t,this.scope=e,this.scope.$on(i.tileAddedToMobileSimulatorEventName,(function(){$(i.dashboardSelector).animate({scrollTop:$(i.tileContainerSelector).height()},"slow")}))}return t.createOptions=function(){return{additionalServices:["telemetryService"]}},t.prototype.$onDestroy=function(){for(var e=this.viewModel.mobileDashboard.tiles,t=0,i=e;t<i.length;t++){var o=i[t];o.gridLayoutContext&&o.gridLayoutContext.setActiveLayout(0),o.invalidateLayout()}this.raiseExitMobileAuthoringEmptyIfNeeded()},t.prototype.pinnedTiles=function(){return _.filter(this.viewModel.mobileDashboard.tiles,(function(e){return e.hasLayoutPosition(1)}))},t.prototype.raiseExitMobileAuthoringEmptyIfNeeded=function(){var t=this.viewModel.mobileDashboard.tiles,i=_.any(t,(function(e){return e.hasLayoutPosition(1)})),o=_.any(t,(function(e){return e.hasLayoutDefinition(1)}));!i&&o&&this.services.telemetryService.logEvent(e.telemetry.DashboardUserExitsAuthoringModeWithEmptyMobileLayout,this.viewModel.mobileDashboard.objectId)},t})();t.DashboardEditMobileDisplayController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.DashboardEditMobileDisplay={templateUrl:"components/dashboardEditMobileDisplay/dashboardEditMobileDisplay.html",bindings:{viewModel:"="},controller:e.common.createController(e.controllers.DashboardEditMobileDisplayController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e.prototype.toggle=function(){this.viewModel.isPaneExpanded=!this.viewModel.isPaneExpanded},e})();e.DashboardPaneController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.DashboardPane={templateUrl:"components/dashboardPane/dashboardPane.html",bindings:{viewModel:"="},controller:e.common.createController(e.controllers.DashboardPaneController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=e.common.GridLayoutConstants,r=e.dataServices.TileUtils,a=(function(){function e(e,t){this.scope=e,this.services=t,this.currentUnpinedTileList=this.getLastUnpinnedTiles()}return e.createOptions=function(){return{additionalServices:["dashboardService"]}},e.prototype.shouldShowUnpinnedTileList=function(){return!_.isEmpty(this.unpinnedTiles())},e.prototype.unpinnedTiles=function(){return this.prepareCurrentUnpinedTileList(),this.currentUnpinedTileList},e.prototype.getLastUnpinnedTiles=function(){return this.viewModel?_.filter(this.viewModel.tiles,(function(e){return!e.hasLayoutPosition(1)})):[]},e.prototype.prepareCurrentUnpinedTileList=function(){var e=this.getLastUnpinnedTiles(),t=_.map(e,(function(e){return e.id})),i=_.map(this.currentUnpinedTileList,(function(e){return e.id})),r=this.findTileListDiff(t,i,e),a=this.findTileListDiff(i,t,this.currentUnpinedTileList);_.remove(this.currentUnpinedTileList,(function(e){return _.contains(a,e)}));for(var n=0,s=r;n<s.length;n++){var c=s[n];this.currentUnpinedTileList.push(c),c.calculateLayout({height:o.defaultGridHeight,width:o.defaultGridWidth})}},e.prototype.findTileListDiff=function(e,t,i){var o=_.difference(e,t);return _.filter(i,(function(e){return _.contains(o,e.id)}))},e.prototype.tileTrackerFn=function(e){return r.tileTrackerFn(e,this.viewModel.objectId)},e.prototype.addTileToMobile=function(e){var t=this.findVacantRow(),o=1,a=[];a.push(r.createDefaultPhoneByTile(t,o,e)),this.scope.$emit(i.domLayoutChangedEvent),this.services.dashboardService.batchUpdateTileSizePosition(this.viewModel,a),this.scope.$emit(i.tileAddedToMobileSimulatorEventName)},e.prototype.findVacantRow=function(){var e;e=1;for(var t=_.filter(this.viewModel.tiles,(function(e){return e.hasLayoutPosition(1)})),i=0,o=t;i<o.length;i++){var r=o[i],a=r.gridLayouts[1].position;e<a.y+a.height&&(e=a.y+a.height)}return e},e})();t.DashboardTileListController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.DashboardTileList={templateUrl:"components/dashboardTileList/dashboardTileList.html",bindings:{viewModel:"<"},controller:e.common.createController(e.controllers.DashboardTileListController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.services=t}return e.createOptions=function(){return{additionalServices:["errorService"]}},e.prototype.seeErrorDetails=function(){var e=this.errorText,t=this.errorText,i=this.errorDetails.displayableErrorInfo;if(this.errorDetails&&i)for(var o=0,r=i.length;o<r;o++){var a=i[o];if(a.errorInfoValue){e=a.errorInfoKey,t=a.errorInfoValue;break}}this.services.errorService.error(t,"Tile_FailedToDisplay",{title:e,helpLink:this.errorDetails.helpLink})},e})();e.ErrorPlaceholderController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ErrorPlaceholder={bindings:{errorText:"=",errorDetails:"=?"},templateUrl:"components/errorPlaceholder/errorPlaceholder.html",controller:e.common.createController(e.controllers.ErrorPlaceholderController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.helpers.ModelConverterHelper,o=e.common.contracts.PublishOrRefreshStatus,r=(function(){function t(e,t){var i=this;this.services=t,this.refreshDatasetModel={},e.$watch((function(){return i.viewModel.currentRefreshStartingTime}),(function(){i.updateDatasetMetadata()}))}return t.createOptions=function(){return{additionalServices:["refreshService","modelConverter","localizationService","historyDialogService","modelService","packageService"]}},t.prototype.$onInit=function(){this.datasetMetadata=this.getDatasetMetadata(this.viewModel)},t.prototype.showHistoryDialog=function(){this.services.historyDialogService.showHistoryDialog(this.refreshDatasetModel)},t.prototype.getDatasetMetadata=function(o,r){var a=this,n=this.services.refreshService,s=this.services.modelConverter,c=this.services.localizationService,l=this.services.historyDialogService,d=[],p=function(i){o.contentProviderId=i.contentProviderId,o.onPremModelConnectionString=i.onPremModelConnectionString,o.directQueryMode=i.directQueryMode,o.currentRefreshStartingTime=i.currentRefreshStartingTime,o.refreshSchedule=i.refreshSchedule,o.refreshHistories=i.refreshHistories,o.insightsSupported=i.insightsSupported,o.storageProviderType=i.storageProviderType,d=o.onPremModelConnectionString?t.addRefreshInfoForOnPremAnalysisServicesToMetadata(r):o.directQueryMode?t.addRefreshInfoForDirectQueryModel(r):t.addRefreshStatusToMetadata(s,i,c,l,a.refreshDatasetModel,r),n.isModelRefreshInProgress(i)?t.updateMetadataValue(r,"refreshInProgress",e.common.models.ContextMenuItemMetadataType.Text,(function(){return c.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_RefreshInProgress")})):t.deleteMetadataItem(r,"refreshInProgress",e.common.models.ContextMenuItemMetadataType.Text)},u=this.services.modelService.findModel(o.id,o.packageId);return u&&(this.setMissingPropertiesOnContractModelFromPackage(u),p(u.contract),this.refreshDatasetModel.dataset=i.convertModelToDataset(u.contract)),d},t.addRefreshInfoForOnPremAnalysisServicesToMetadata=function(i){var o=[],r=e.common.localize.get("SettingsDataset_DisableEntireRefreshPageErrorMessage_OnPremAnalysisServicesScheduleInfo");return o.push({name:"OnPremASRefreshInfo",type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return r}}),t.updateMetadataValue(i,"OnPremASRefreshInfo",e.common.models.ContextMenuItemMetadataType.Text,(function(){return r})),o},t.addRefreshInfoForDirectQueryModel=function(i){var o=[],r=e.common.localize.get("SettingsDataset_DisableEntireRefreshPageErrorMessage_DirectQueryScheduleInfo");return o.push({name:"DirectQueryRefreshInfo",type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return r}}),t.updateMetadataValue(i,"DirectQueryRefreshInfo",e.common.models.ContextMenuItemMetadataType.Text,(function(){return r})),o},t.addRefreshStatusToMetadata=function(r,a,n,s,c,l){var d,p,u=[],v=i.convertRefreshTimeToJsDateTime(a.lastRefreshTime),h=!1;a.lastRefreshStatus===o.RefreshError?(d=e.common.models.ContextMenuItemMetadataType.Action,p=n.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshFailed",[""+v]),h=!0):a.lastRefreshStatus===o.PublishError?(d=e.common.models.ContextMenuItemMetadataType.Action,p=n.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastPackagePublishFailed")):(d=e.common.models.ContextMenuItemMetadataType.Text,p=n.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshSucceeded",[""+v])),u.push({name:"lastRefreshStatus",type:d,isWarning:h,value:function(){return p},actionOnClick:function(){s.showHistoryDialog(c)},actionText:function(){return p}}),t.updateMetadataValue(l,"lastRefreshStatus",d,(function(){return p}),h,void 0,void 0,void 0,(function(){s.showHistoryDialog(c)}));var g=t.isModelScheduledRefreshEnabled(a),f=t.doesStorageSourceAllowRefresh(a),m=t.isStorageSourceRefreshEnabled(a);if(f)if(m&&g){var b=n.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NextRefresh")+i.convertRefreshTimeToJsDateTime(a.nextRefreshTime);t.showNextRefresh(b,u,l)}else if(!m&&g){var b=n.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NotOneDriveNextScheduled")+i.convertRefreshTimeToJsDateTime(a.nextRefreshTime);t.showNextRefresh(b,u,l)}else if(m&&!g){var b=n.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_OneDriveEnabledRefreshNotEnabled");t.showRefreshDisabled(b,u,l)}else{var b=n.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NotOneDriveAndScheduleRefreshNotEnabled");t.showRefreshDisabled(b,u,l)}else if(g){var b=n.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NextRefresh")+i.convertRefreshTimeToJsDateTime(a.nextRefreshTime);t.showNextRefresh(b,u,l)}else{var b=n.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_RefreshNotEnabled");t.showRefreshDisabled(b,u,l)}return u},t.isModelScheduledRefreshEnabled=function(t){return t.refreshSchedule.refreshEnabled!==!1&&(t.contentProviderId===e.controllers.ContentProviderIds.salesforce||t.isAllDataSourcesSupportedForRefresh!==!1)},t.updateMetadataValue=function(e,t,i,o,r,a,n,s,c,l){if(void 0===r&&(r=!1),e){for(var d=void 0,p=0,u=e.length;p<u;p++){var v=e[p];if(v.name===t){d=v;break}}d?(d.value=o,d.isWarning=r,d.linkText=a,d.linkUrl=n,d.linkTitle=s,d.actionOnClick=c,d.type=i,d.infoTooltipConfig=l):e.push({name:t,type:i,value:o,linkText:a,linkUrl:n,linkTitle:s,linkTarget:"_blank",actionOnClick:c,isWarning:r,infoTooltipConfig:l})}},t.deleteMetadataItem=function(e,t,i){if(e){for(var o=void 0,r=0,a=e.length;r<a;r++){var n=e[r];if(n.name===t&&n.type===i){o=r;break}}o&&e.splice(o,1)}},t.getNextRefreshTimeName=function(){var e="nextRefreshTime";return e},t.getRefreshScheduleNotSetupName=function(){var e="refreshScheduleNotSetUp";return e},t.showNextRefresh=function(i,o,r){var a=t.getNextRefreshTimeName();t.deleteMetadataItem(r,"refreshScheduleNotSetUp",e.common.models.ContextMenuItemMetadataType.Text),o.push({name:a,type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return i}}),t.updateMetadataValue(r,a,e.common.models.ContextMenuItemMetadataType.Text,(function(){return i})),t.deleteMetadataItem(r,t.getRefreshScheduleNotSetupName(),e.common.models.ContextMenuItemMetadataType.Text)},t.doesStorageSourceAllowRefresh=function(t){return t.storageProviderType===e.common.contracts.StorageProviderType.OneDrive||t.storageProviderType===e.common.contracts.StorageProviderType.SharePoint},t.isStorageSourceRefreshEnabled=function(e){return e.isPackageRefreshEnabled},t.prototype.updateDatasetMetadata=function(){this.getDatasetMetadata(this.viewModel,this.datasetMetadata)},t.showRefreshDisabled=function(i,o,r){var a=t.getRefreshScheduleNotSetupName();t.deleteMetadataItem(r,t.getNextRefreshTimeName(),e.common.models.ContextMenuItemMetadataType.Text),
o.push({name:a,type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return i}}),t.updateMetadataValue(r,a,e.common.models.ContextMenuItemMetadataType.Text,(function(){return i}))},t.prototype.setMissingPropertiesOnContractModelFromPackage=function(e){var t=this.services.packageService.findPackage(e.packageId);t&&(void 0===e.contract.storageProviderType&&(e.contract.storageProviderType=t.contract.storageProviderType),e.contract.isPackageRefreshEnabled=t.contract.IsRefreshEnabled)},t})();t.MetadataContainerController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.MetadataContainer={templateUrl:"components/metadataContainer/metadataContainer.html",controller:e.common.createController(e.controllers.MetadataContainerController),bindings:{viewModel:"="}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.helpers.ModelConverterHelper,o=e.common.contracts.PublishOrRefreshStatus,r=e.common.contracts.ContentTileType,a=e.common.contracts.Permissions,n=(function(){function n(e,t){this.services=t,this.canShowNew=!0}return n.createOptions=function(){return{additionalServices:["localizationService","modelService","telemetryService","errorService","ownership","modelHttpService","dashboardService","reportService","workbookService","conceptualModelSetting"]}},n.prototype.$onInit=function(){this.initViewModelContract(),this.icon=this.isViewModelShared()?e.models.NavigationPaneListItemIcon.Shared:e.models.NavigationPaneListItemIcon.None,this.tooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshError",tooltipArrowPosition:e.common.ArrowPosition.arrowTopLeft}},n.prototype.isShared=function(){return(!this.services.conceptualModelSetting.isListViewEnabled()||!this.viewModel.contentTileType||this.viewModel.contentTileType===r.Favorite)&&(this.viewModelContract?this.icon===e.models.NavigationPaneListItemIcon.Shared&&this.viewModelContract.packagePublishStatus!==o.PublishError&&this.viewModelContract.lastRefreshStatus!==o.RefreshError:this.icon===e.models.NavigationPaneListItemIcon.Shared)},n.prototype.isNew=function(){return this.viewModelContract?this.canShowNew&&this.viewModel.isNew&&this.viewModelContract.packagePublishStatus!==o.PublishError&&this.viewModelContract.packagePublishStatus!==o.RefreshError&&!this.isRefreshInProgress():this.canShowNew&&this.viewModel.isNew},n.prototype.isPublishError=function(){return!!this.viewModelContract&&this.getPackagePublishStatus()===o.PublishError},n.prototype.showIcon=function(){if(this.viewModelContract){var t=this.services.modelService.findModel(this.viewModelContract.id,this.viewModelContract.packageId);if(t)return t.packagePublishStatus!==e.common.contracts.PublishOrRefreshStatus.PublishError&&t.contract.lastRefreshStatus!==e.common.contracts.PublishOrRefreshStatus.RefreshError}return!1},n.prototype.showRefreshError=function(){if(this.viewModelContract){var t=this.services.modelService.findModel(this.viewModelContract.id,this.viewModelContract.packageId);if(t)return t.packagePublishStatus===e.common.contracts.PublishOrRefreshStatus.RefreshError||t.contract.lastRefreshStatus===e.common.contracts.PublishOrRefreshStatus.RefreshError}return!1},n.prototype.isRefreshInProgress=function(){if(this.viewModelContract){var e=this.services.modelService.findModel(this.viewModelContract.id,this.viewModelContract.packageId);return!!e&&e.isRefreshInProgress}return!1},n.prototype.getPackagePublishStatus=function(){var t=this.services.modelService.findModel(this.viewModelContract.id,this.viewModelContract.packageId);return t?t.packagePublishStatus:e.common.contracts.PublishOrRefreshStatus.FinishedSuccessfully},n.prototype.showRefreshErrorDialog=function(){var t=this,i=this.services.telemetryService,r=i.startEvent(e.telemetry.DashboardGetRefreshHistoriesOnRefreshFailures);this.viewModelContract.lastRefreshStatus===o.RefreshError&&this.viewModelContract.packagePublishStatus===o.RefreshError?this.services.modelHttpService.getModelRefreshHistories(this.viewModelContract.id.toString(),r.event).then((function(e){t.processModelAndPackageRefreshHistories(r,e)}),(function(e){t.processModelAndPackageRefreshHistories(r)})):this.viewModelContract.lastRefreshStatus===o.RefreshError?this.services.modelHttpService.getModelRefreshHistories(this.viewModelContract.id.toString(),r.event).then((function(e){t.displaySuccessHistoryResult(e.data),r.resolve()}),(function(e){t.displayErrorHistoryResult(),r.reject()})):this.viewModelContract.packagePublishStatus===o.RefreshError&&this.services.modelHttpService.getPackageRefreshHistories(this.viewModelContract.packageId.toString(),r.event).then((function(e){t.displaySuccessHistoryResult(e.data),r.resolve()}),(function(e){t.displayErrorHistoryResult(),r.reject()}))},n.prototype.isViewModelShared=function(){return this.viewModel.contentTileType===r.Favorite?this.viewModel.permissions===a.Read||this.viewModel.permissions===a.ReadReshare:this.services.ownership.isResourceSharedWithMe(this.viewModel)},n.prototype.displaySuccessHistoryResult=function(e){if(_.isEmpty(e));else{var i=t.SettingsDatasetController.getFriendlyErrorMessage(e[0].serviceExceptionJson),o=this.parseAdditionalErrorInfo(e[0].serviceExceptionJson);this.services.errorService.errorNoDefaultAdditionalErrorInfo(i,"RefreshFailure",{displayableErrorInfo:o})}},n.prototype.displayErrorHistoryResult=function(){this.services.errorService.error(this.services.localizationService.get("RefreshError_Unknown"),"RefreshFailure_FailedToGetHistories")},n.prototype.parseAdditionalErrorInfo=function(e){var i=t.SettingsDatasetController.convertErrorDetailsJson(e),o=[];return i.forEach((function(e){o.push({errorInfoKey:e.Name,errorInfoValue:e.Value})})),o},n.prototype.processModelAndPackageRefreshHistories=function(e,t){var o=this;this.services.modelHttpService.getPackageRefreshHistories(this.viewModelContract.packageId.toString(),e.event).then((function(r){var a;if(!t||_.isEmpty(t.data)||t.data[0].isSuccessful)a=!1;else if(_.isEmpty(r.data)||r.data[0].isSuccessful)a=!0;else{var n=i.convertRefreshTimeToJsDateTime(t.data[0].endTime).getTime(),s=i.convertRefreshTimeToJsDateTime(r.data[0].endTime).getTime();a=n>s}a?o.displaySuccessHistoryResult(t.data):o.displaySuccessHistoryResult(r.data),e.resolve()}),(function(){t?(o.displaySuccessHistoryResult(t.data),e.resolve()):(o.displayErrorHistoryResult(),e.reject())}))},n.prototype.initViewModelContract=function(){var e=this.viewModel;switch(e.contentTileType){case r.Dashboard:case r.Report:e.modelIds&&e.packageIds&&e.modelIds.length>0&&e.packageIds.length>0&&(this.viewModelContract=this.services.modelService.findModel(this.viewModel.modelIds[0],this.viewModel.packageIds[0]));break;case r.Workbook:var t=this.viewModel,i=this.services.workbookService.findWorkbookByUniqueId(t.uniqueId);this.viewModelContract=this.services.modelService.findModel(i.modelId,i.packageId);break;default:this.viewModelContract=this.viewModel.contract}},n})();t.DatasetIconContainerController=n})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.DatasetIconContainer={templateUrl:"components/datasetIconContainer/datasetIconContainer.html",controller:e.common.createController(e.controllers.DatasetIconContainerController),bindings:{viewModel:"=",refreshRelated:"=",canShowNew:"<?"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.scope=e,this.services=t}return t.createOptions=function(){return{additionalServices:["localizationService","settingsMetadataService","modelService","dashboardService","reportService","workbookService","contentList","taskPaneSliderService"]}},t.prototype.$onInit=function(){var t=this;this.settingsType=this.services.settingsMetadataService.getSettingsType(),this.artifactObjectId=this.services.settingsMetadataService.getArtifactObjectId(),this.saveButtonText=this.services.localizationService.get("SettingsBlade_Save"),this.isSaving=!1,this.isWorkbook=!1,this.scope.$on(e.constants.hideTaskPaneSliderOnClickEventName,(function(e){return t.cancel()})),this.prepareToPopulateSettings()},t.prototype.$postLink=function(){window.setTimeout((function(){var e=angular.element(document.getElementsByClassName("nameInput"));e.focus()}),100)},t.prototype.prepareToPopulateSettings=function(){switch(this.settingsType){case 1:var e=this.services.dashboardService.findDashboardByGUID(this.artifactObjectId);this.artifactLabel=this.services.localizationService.get("SettingsBlade_DashboardName"),this.artifact=e,this.isSettingsPane=!0,this.ownerInfo=e.ownerFullname,this.ownerMail=e.ownerMail,this.populateDisplayName(e.displayName);break;case 2:var t=this.services.reportService.findReportByGUID(this.artifactObjectId);this.artifactLabel=this.services.localizationService.get("SettingsBlade_ReportName"),this.artifact=t,this.isSettingsPane=!1,this.populateDisplayName(t.displayName);break;case 3:var i=this.services.workbookService.findWorkbookByUniqueId(this.artifactObjectId);this.artifactLabel=this.services.localizationService.get("SettingsBlade_WorkbookName"),this.artifact=i,this.isSettingsPane=!1,this.isWorkbook=!0,this.populateDisplayName(i.displayName);break;case 4:var o=this.services.modelService.findModelByDBName(this.artifactObjectId);this.artifactLabel=this.services.localizationService.get("SettingsBlade_ModelName"),this.artifact=o,this.isSettingsPane=!1,this.populateDisplayName(o.displayName)}},t.prototype.saveModelName=function(t){switch(this.isSaving=!0,this.saveButtonText=this.services.localizationService.get("GroupEditor_WaitForSave"),this.settingsType){case 1:var i=this.services.dashboardService.findDashboardByGUID(this.artifactObjectId);this.services.dashboardService.renameDashboard(t,i.id),this.scope.$broadcast(e.constants.saveDashboardSettings);break;case 2:var o=this.services.reportService.findReportByGUID(this.artifactObjectId);this.services.reportService.renameReport(t,o.id);break;case 3:var r=this.services.workbookService.findWorkbookByUniqueId(this.artifactObjectId);this.services.workbookService.renameWorkbook(t,r.id,r.packageId);break;case 4:var a=this.services.modelService.findModelByDBName(this.artifactObjectId);this.services.modelService.renameModel(t,a.id,a.packageId)}this.unselectTileAndHideTaskPane()},t.prototype.cancel=function(){this.artifact.displayName=this.oldDisplayName,this.unselectTileAndHideTaskPane()},t.prototype.unselectTileAndHideTaskPane=function(){this.artifact.isContentTileSelected=!1,this.services.taskPaneSliderService.collapsePane()},t.prototype.isDisabled=function(){return this.scope.settingsForm&&!this.scope.settingsForm.$dirty&&this.scope.dashboardSettingsForm&&!this.scope.dashboardSettingsForm.$dirty||this.isSaving||this.artifact&&""===this.artifact.displayName},t.prototype.constructArtifactName=function(e){return this.isSettingsPane||this.isWorkbook?this.services.localizationService.format("SettingsBlade_SettingsFor",[e]):this.services.localizationService.format("SettingsBlade_SettingRename",[e])},t.prototype.populateDisplayName=function(e){this.oldDisplayName=e,this.artifactName=this.constructArtifactName(e),this.displayName=e},t})();t.SettingsBladeController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SettingsBlade={controller:e.common.createController(e.controllers.SettingsBladeController),templateUrl:"components/settingsBlade/settingsBlade.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.Subscriptions=0]="Subscriptions"})(t=e.SettingsCommunicationsSubgroupType||(e.SettingsCommunicationsSubgroupType={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e.createOptions=function(){return{additionalServices:[]}},e})();e.SettingsCommunicationsController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SettingsCommunications={bindings:{viewModel:"<"},controller:e.common.createController(e.controllers.SettingsCommunicationsController),templateUrl:"components/settingsCommunications/settingsCommunications.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.ArtifactType,o=e.common.models.CollapsiblePaneExpandedWidth,r=e.helpers.ContentTileHelper,a=e.common.contracts.ContentTileType,n=jsCommon.EnumExtensions,s=e.common.contracts.Permissions,c=e.common.constants.TaskPaneCollapsiblePaneMode,l=(function(){function t(i,o){var r=this;this.viewRelated=!0,this.canRewrite=function(e){return n.hasFlag(e,s.All)||n.hasFlag(e,s.ReadWrite)},this.canExportPowerPoint=function(e){return!1},this.canRefreshNow=function(){var e=r.viewModel;return(e.contentTileType===a.AppDataset||e.contentTileType===a.Workbook)&&r.services.contentList.canRefreshNow(e)},this.isExportAllowed=function(e){if(e===a.Dashboard){var i=r.services.$location.search()[t.isDasboardExportAllowedQueryString];return i&&"1"===i}return!1},this.canEditWorkbook=function(t){return t===a.Workbook&&r.viewModel instanceof e.dataServices.models.Workbook&&r.viewModel.isEditable()},this.canReplaceWorkbook=function(e){return e===a.Workbook&&r.services.contentList.canReplaceWorkbook(r.viewModel)},this.canOpenUsageMetricsReport=function(e){return r.services.featureSwitchService.featureSwitches.usageMetricsEnabled&&r.services.userInfo.isPremiumUser&&n.hasFlag(r.viewModel.getPermissions(),s.All)&&(e===a.Dashboard||e===a.Report)},this.unfavoriteContentTile=function(e){r.services.contentList.removeFavorite(r.viewModel)},this.deleteContentTile=function(t){var i=r.viewModel;switch(t){case a.Dashboard:n.hasFlag(i.getPermissions(),s.All)||n.hasFlag(i.getPermissions(),s.ReadWrite)?r.services.contentList.deleteContent(i,!0):n.hasFlag(i.getPermissions(),s.CopyOnWrite)?r.services.contentList.identifyAndDeleteContent(i):r.services.contentList.deleteContent(i,!1);break;case a.Report:(i.getPermissions()&e.common.models.ReportPermissions.CopyOnWrite)===e.common.models.ReportPermissions.CopyOnWrite?r.services.contentList.identifyAndDeleteContent(i):r.services.contentList.deleteContent(i);break;case a.Workbook:case a.OrgApp:case a.PublishedOrgApp:r.services.contentList.identifyAndDeleteContent(i)}},this.contentTileRename=function(e){r.services.overlayService.hideAllDropdowns(),r.services.contentList.showRename(r.viewModel)},this.refreshNow=function(){r.services.contentList.refreshNow(r.viewModel)},this.scheduleRefresh=function(){r.services.contentList.scheduleRefresh(r.viewModel)},this.exportDashboard=function(e){r.services.contentList.exportDashboard(r.viewModel)},this.editWorkbook=function(e){r.services.contentList.editWorkbook(r.viewModel)},this.replaceWorkbook=function(e){r.services.contentList.replaceWorkbook(r.viewModel)},this.favoriteContentTile=function(e){var t=r.viewModel.workspaceId||r.services.groupService.activeGroupObjectId;r.services.contentList.addFavorite(r.viewModel,t)},this.scope=i,this.services=o}return t.createOptions=function(){return{additionalServices:["$location","activeGroupId","analyzeInExcel","conceptualModelSetting","contentList","favorites","featureSwitchService","groupContextMenuService","groupService","impersonationService","localizationService","navigation","overlayService","permissionService","publishedAppService","quota","taskPaneSliderService","userInfo"]}},t.prototype.$onInit=function(){this.tileType=this.viewModel.contentTileType,this.deleteEnabled=!(this.services.navigation.inAppDetailView()||this.services.navigation.inRecentlyViewedView()),this.viewRelated=this.services.navigation.inContentListView()&&!this.services.navigation.inSharedWithMeView()},t.prototype.canUnFavorite=function(){return!!this.isFavoritable()&&this.services.contentList.isFavorite(this.viewModel)},t.prototype.canFavorite=function(){return!!this.isFavoritable()&&!this.services.contentList.isFavorite(this.viewModel)},t.prototype.isFavoritable=function(){return this.inListView?r.isFavoritableContent(this.viewModel,this.services.conceptualModelSetting):r.isFavoritableContent(this.viewModel)},t.prototype.isFavoriteDisabled=function(){return r.isFavoriteDisabled(this.viewModel,this.services.contentList)},t.prototype.canShare=function(e,t){var i=this;if(t!==a.Dashboard&&t!==a.Favorite)this.canShareTile=!1;else{var o,r=n.hasFlag(e.getPermissions(),s.ReShare),c=void 0;c=t===a.Favorite?e.workspaceId:this.services.groupService.activeGroupObjectId,c?this.services.groupService.ensureGroupsInitialization().then((function(){o=i.services.groupService.getGroup(i.viewModel.workspaceId),o?i.canShareTile=!i.services.permissionService.isGroupWorkspaceReadOnly(o.contract.isReadOnly,o.contract.isOwner)&&r:i.canShareTile=r})):this.canShareTile=r}},t.prototype.canPersonalize=function(){var t=this.viewModel;if(this.services.navigation.inAppDetailView())return!1;var i=n.hasFlag(t.getPermissions(),s.CopyOnWrite);return e.helpers.ContentTileHelper.getActualType(t)===a.Workbook&&i&&n.hasFlag(t.getPermissions(),s.All)||i},t.prototype.canAnalyzeInExcel=function(){var e=this.viewModel;switch(e.contentTileType){case a.Report:case a.AppDataset:return this.services.analyzeInExcel.isAnalyzeInExcelSupported(this.services.featureSwitchService,e.getPermissions());default:return!1}},t.prototype.canRunInsights=function(){var e=this.viewModel;if(e.contentTileType===a.Report||e.contentTileType===a.AppDataset){var t=this.services.contentList.getModels(e),i=t&&t[0];return i&&i.contract.insightsSupported&&n.hasFlag(i.getPermissions(),s.Read)}return!1},t.prototype.runInsights=function(){this.services.contentList.runInsights(this.viewModel)},t.prototype.canScheduleRefresh=function(){var e=this.viewModel;return(e.contentTileType===a.AppDataset||e.contentTileType===a.Workbook)&&this.services.contentList.canScheduleRefresh(this.viewModel)},t.prototype.viewRelatedContent=function(){var e=this.viewModel.contentTileType===a.Dashboard?i.Dashboard:i.Report,t={id:this.viewModel.objectId,artifactType:e,displayName:this.viewModel.displayName,workspaceId:this.viewModel.workspaceId};this.services.taskPaneSliderService.expandPane(c.RelatedContent,o.Default,t)},t.prototype.shareContentTile=function(t,i){var o;o=i===a.Favorite?t.workspaceId:this.services.groupService.activeGroupObjectId,this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.ShareDashboard)||(o||(o=e.constants.myWorkSpaceGroupId),this.services.contentList.shareContent(t,o))},t.prototype.tooltipForSettings=function(e){return e===a.Dashboard?this.services.localizationService.get("ContentTileOptions_Settings"):this.services.localizationService.get("ContentTileOptions_Rename")},t.prototype.personalize=function(){this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.PersonalizeContentPack)||this.services.contentList.personalizeContent(this.viewModel)},t.prototype.analyzeInExcel=function(){this.services.contentList.analyzeContentInExcel(this.viewModel)},t.prototype.exportToPowerPoint=function(){this.services.contentList.exportToPowerPoint(this.viewModel)},t.prototype.editChannel=function(){var e=this.viewModel,t=e&&e.providerContract&&e.providerContract.providerKey;this.services.navigation.showPublishAppSlicer(t)},t.prototype.deleteChannel=function(){this.services.publishedAppService.deletePublishedApp(void 0,e.helpers.ContentTileHelper.getObjectID(this.viewModel))},t.prototype.openUsageMetricsReport=function(){var e=this.viewModel,t=this.viewModel.workspaceId||this.services.groupService.activeGroupObjectId;this.services.contentList.openUsageMetricsReport(e,t)},t.prototype.getIconForGroupContextMenuItem=function(e){return this.services.groupContextMenuService.getIconNameForGroupLinkType(e.linkType)},t.prototype.getTooltipForGroupContextMenuItem=function(e){return this.services.groupContextMenuService.getTextForGroupLinkType(e.linkType)},t.prototype.onGroupContextMenuItemSelected=function(e){this.services.groupContextMenuService.performActionWithGroupContextMenuItem(e,this.viewModel)},t})();l.isDasboardExportAllowedQueryString="exportallowed",t.ContentTileOptionsMenuController=l})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ContentTileOptionsMenu={templateUrl:"components/contentTileOptionsMenu/contentTileOptionsMenu.html",controller:e.common.createController(e.controllers.ContentTileOptionsMenuController),bindings:{deleteEnabled:"<?",viewModel:"=",inListView:"<?"}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.models.ContentPackItems,o=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.isLoading=!0,this.scope.$on(e.constants.saveDashboardSettings,(function(){return o.applyChanges()}))}return t.createOptions=function(){return{additionalServices:["localizationService","settingsMetadataService","modelService","dashboardService","reportService","workbookService","modelConverter","errorService","dashboardHttpService","telemetryService","dataClassificationService","featureSwitchService"]}},t.prototype.$onInit=function(){var e=this,t=this.services.localizationService;this.scope.qnaEnabled=this.viewModel.qnaEnabled,this.scope.gravityEnabled=this.viewModel.gravityEnabled,this.scope.onDataClassificationIdChanged=function(){return e.onDataClassificationIdChanged()},this.services.featureSwitchService.featureSwitches.dataClassificationEnabled&&this.services.dataClassificationService.getDataClassificationsAsync().then((function(t){e.scope.dataClassifications=t,t.length&&(e.scope.defaultDataClassification=_.find(t,(function(e){return e.default})),e.scope.dataClassificationId=e.viewModel.dataClassificationId?e.viewModel.dataClassificationId:e.scope.defaultDataClassification.id)})),this.services.settingsMetadataService.getSettings().then((function(t){e.settingsModel=e.services.modelConverter.convertSettingsMetadata(t),e.isLoading=!1,e.settingsModel&&e.settingsModel.dashboards&&e.settingsModel.dashboards.dashboards&&(e.settingsDashboardModel=_.find(e.settingsModel.dashboards.dashboards,(function(t){return t.dashboardId===e.viewModel.id})),null==e.scope.qnaEnabled&&(e.scope.qnaEnabled=e.settingsDashboardModel.hasQnaSupportedModel))}),(function(){e.services.errorService.error(t.get("SettingsGeneral_Error_FailedToLoad"),"SettingsGeneral_Error_FailedToLoad")}))},t.prototype.qnaTooltip=function(e){return e?this.services.localizationService.get("SettingsBlade_QnAEnabled_Tooltip"):this.services.localizationService.get("SettingsBlade_QnADisabled_Tooltip")},t.prototype.gravityTooltip=function(e){return e?this.services.localizationService.get("SettingsBlade_GravityEnabled_Tooltip"):this.services.localizationService.get("SettingsBlade_GravityDisabled_Tooltip")},t.prototype.setQnADirty=function(){this.isQnaDirty=!0},t.prototype.applyChanges=function(){var t=this,o=this.scope,r=this.dashboardSettingsForm;if(r.$dirty){var a=this.settingsDashboardModel,n=a.dashboardId,s=o.qnaEnabled,c=o.gravityEnabled,l=o.dataClassificationId,d=this.services.telemetryService.startEvent(e.telemetry.DashboardSaveDashboardSettings,!1,!1,!1,a.objectId),p=this.getUpdatedDashboardSetting();this.services.dashboardHttpService.updateDashboardSetting(n,p,d.event).then((function(){var o=t.services.dashboardService.findDashboard(n);if(o&&o.isUsedByContentPack&&t.services.rootScope.$emit(e.constants.contentPackDirtyShowNotification,o.id,i.Dashboard),t.scope.qnaEnabled!==a.qnaEnabled&&(a.qnaEnabled=s,t.services.dashboardService.setQnaEnabled(a.dashboardId,s),d.event.info.qnaEnabledUpdated=!0),t.scope.gravityEnabled!==a.gravityEnabled){a.gravityEnabled=c,d.event.info.gravityEnabledUpdated=!0;var r=t.services.dashboardService.dashboardContainerModel.findDashboard(a.dashboardId);r&&(r.contract.gravityEnabled=r.gravityEnabled=c)}if(t.scope.dataClassificationId!==a.dataClassificationId){a.dataClassificationId=l,d.event.info.dataClassificationUpdated=!0;var p=t.services.dashboardService.dashboardContainerModel.findDashboard(a.dashboardId);p&&(p.contract.dataClassificationId=l,p.dataClassificationId=l)}d.resolve()}),(function(e){d.reject(),t.services.errorService.error(t.services.localizationService.get("SettingsDashboards_Error_FailedToSaveDashboards"),"SettingsDashboards_Error_FailedToSaveDashboards",{requestId:e.requestId,statusCode:e.status.toString()})}))}},t.prototype.getUpdatedDashboardSetting=function(){var e=this.settingsDashboardModel;return _.omit({qnaEnabled:this.scope.qnaEnabled!==e.qnaEnabled?this.scope.qnaEnabled:null,gravityEnabled:this.scope.gravityEnabled!==e.gravityEnabled?this.scope.gravityEnabled:null,dataClassificationId:this.scope.dataClassificationId!==e.dataClassificationId?this.scope.dataClassificationId:null},(function(e){return null===e}))},t.prototype.onDataClassificationIdChanged=function(){this.scope.isNonDefaultDataClassificationSelected=this.scope.dataClassificationId!==this.scope.defaultDataClassification.id},t})();t.SettingsDashboardBladeController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SettingsDashboardBlade={controller:e.common.createController(e.controllers.SettingsDashboardBladeController),templateUrl:"components/settingsDashboardBlade/settingsDashboardBlade.html",bindings:{viewModel:"=",dashboardSettingsForm:"="}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.services=t,this.sortType="name",this.sortReverse=!0,this.isLoading=!0}return t.createOptions=function(){return{additionalServices:["localizationService","navigation","telemetryService","subscriptionsHttp","modelConverter","errorService","groupService","subscription","explorationProxy","dashboardHttpService"]}},t.prototype.$onInit=function(){var t=this;this.openSubscriptionSettingsEvent=this.services.telemetryService.logEvent(e.telemetry.EmailSubscriptionsOpenEmailSettings),this.services.subscriptionsHttp.getAllSubscriptions(this.openSubscriptionSettingsEvent).then((function(e){var i=t.services.groupService.activeGroup.displayName;t.viewModel=t.services.modelConverter.convertSettingsCommunications(e,i),t.viewModel&&t.viewModel.columnsHeader&&t.sort(t.viewModel.columnsHeader[0].predicateName)}),(function(i){i.ErrorCode!==e.HttpStatusCode.Unauthorized.toString()&&t.services.errorService.error(t.services.localizationService.get("SettingsGeneral_Error_FailedToLoad"),"SettingsGeneral_Error_FailedToLoad",{requestId:i.RequestId})})).finally((function(){t.isLoading=!1})),this.watermarkConfig={canEdit:!0,mode:!1,titleNonShared:this.services.localizationService.get("ContentList_EmptySubscriptionsTitle"),contentNonShared:this.services.localizationService.get("ContentList_EmptySubscriptionsMessage"),imgClass:"empty-emailsubscriptions-img"}},t.prototype.editSubscription=function(e){var t=this;if(this.isEditingInReport(e))this.services.explorationProxy.get({id:e.reportInfo.reportId}).then((function(e){t.services.subscription.expandPaneForReportSubscription({currentSection:e.sections[0],report:e.report,sections:e.sections,modelId:e.report.modelId})}),(function(e){t.services.errorService.error(t.services.localizationService.get("SettingsGeneral_Error_FailedToLoad"),"SettingsGeneral_Error_FailedToLoad",{requestId:e.requestId})}));else{var i=e.dashboardInfo;this.services.dashboardHttpService.getDashboardContainerByObjectId(i.dashboardObjectId).then((function(e){if(e&&e.data){var o=e.data,r=_.map(o.models,(function(e){return e.id}));t.services.subscription.expandPaneForDashboardSubscription({dashboardId:i.dashboardId,dashboardName:i.displayName,dashboardObjectId:i.dashboardObjectId,modelIds:r})}}))}},t.prototype.isEditingInReport=function(e){return!!e.reportInfo},t.prototype.getSubscriptionsCount=function(e){var t=e.subscriptions.length;return 1===t?this.services.localizationService.get("SettingsCommunication_CountOfSubscription"):this.services.localizationService.format("SettingsCommunication_CountOfSubscriptions",[t])},t.prototype.getTypeLabel=function(e){return e.reportInfo?this.services.localizationService.get("SettingsCommunication_Report"):e.dashboardInfo?this.services.localizationService.get("SettingsCommunication_Dashboard"):void 0},t.prototype.getArtifactDisplayName=function(e){return e.reportInfo?e.reportInfo.displayName:e.dashboardInfo?e.dashboardInfo.displayName:void 0},t.prototype.sort=function(e){var t=this;this.sortReverse=!this.sortReverse,this.sortType=e,this.viewModel.subscriptions.sort((function(i,o){var r=t.getProperty(i,e),a=t.getProperty(o,e),n=r>a;return t.sortReverse&&(n=r<a),n?1:-1}))},t.prototype.getTooltipConfig=function(e){return{tooltipDescription:this.getArtifactDisplayName(e)||""}},t.prototype.getWaterMarkConfig=function(){return this.watermarkConfig},t.prototype.getProperty=function(e,t){return"count"===t?e.subscriptions.length:(e.reportInfo||e.dashboardInfo)[t]},t})();t.SettingsSubscriptionsController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SettingsSubscriptions={bindings:{viewModel:"<"},controller:e.common.createController(e.controllers.SettingsSubscriptionsController),templateUrl:"components/settingsSubscriptions/settingsSubscriptions.html"}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.helpers.ModelConverterHelper,o=e.common.models.ContextMenuItemMetadataType,r=(function(){function r(e,t){this.scope=e,this.services=t}return r.createOptions=function(){return{additionalServices:["refreshService","errorService","telemetryService","localizationService","workbookService","modelService","packageService","historyDialogService","featureSwitchService","ownership","permissionService"]}},r.prototype.$onInit=function(){this.workbookModel=this.viewModel,this.model=new e.models.WorkbookNavigationPaneListItemModel(this.workbookModel),this.refreshDatasetModel={},this.workbookModel&&(this.model.metadata=this.getWorkbookMetadata(this.workbookModel.contract))},r.addLastRefreshForNonModelWorkbook=function(t,o){var a=i.convertRefreshTimeToJsDateTime(t),n=e.common.localize.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshSucceeded",[""]);return r.addInfoForWorkbook("WorkbookIsUpToDate",""+a,o,null,n.toLocaleUpperCase())},r.addRefreshInfoForNotSupportedModelWorkbook=function(t){var i=e.common.localize.get("WorkbookContextMenu_NotSupportedModel_RefreshNotSupported");return r.addInfoForWorkbook("WorkbookIsUpToDate",i,t)},r.updateMetadataValue=function(e,t,i,o,r,a,n,s,c,l,d){if(void 0===r&&(r=!1),e){for(var p=void 0,u=0,v=e;u<v.length;u++){var h=v[u];if(h.name===t){p=h;break}}p?(p.value=o,p.isWarning=r,p.linkText=a,p.linkUrl=n,p.linkTitle=s,p.actionOnClick=c,p.type=i,p.infoTooltipConfig=l,p.label=d):e.push({name:t,type:i,value:o,linkText:a,linkUrl:n,linkTitle:s,linkTarget:"_blank",actionOnClick:c,isWarning:r,infoTooltipConfig:l,label:d})}},r.addInfoForWorkbook=function(e,t,i,a,n){var s=[];return s.push({name:e,type:o.Text,label:n,value:function(){return t},infoTooltipConfig:a}),r.updateMetadataValue(i,e,o.Text,(function(){return t}),null,null,null,null,null,a,n),s},r.addSpoFileName=function(t,i,o){var a=[],n=e.common.localize.get("WorkbookContextMenu_SpoFileName"),s=t.substring(t.lastIndexOf("/")+1);return a.push({name:"spoFileNameAndLink",type:e.common.models.ContextMenuItemMetadataType.Link,value:function(){return""},label:n.toLocaleUpperCase(),linkText:function(){return s},linkUrl:function(){return i},linkTitle:function(){return t},linkTarget:"_blank"}),r.updateMetadataValue(o,"spoFileNameAndLink",e.common.models.ContextMenuItemMetadataType.Link,(function(){return""}),!1,(function(){return s}),(function(){return i}),(function(){return t}),void 0,void 0,n.toLocaleUpperCase()),a},r.addExcelLocalFileInfo=function(t,i,o,a,n){
var s;return n?(s=e.common.localize.format(t,[""]),r.addInfoForWorkbook(o,n,i,a,s.toLocaleUpperCase())):(s=e.common.localize.get(t),r.addInfoForWorkbook(o,s,i,a))},r.prototype.getWorkbookMetadata=function(e,a){var n=this,s=this.services.localizationService,c=this.services.historyDialogService,l=[],d=this.services.workbookService.findWorkbook(e.id,e.packageId);if(this.services.packageService.isLocalWorkbook(this.workbookModel.packageId)){l=l.concat(r.addExcelLocalFileInfo("WorkbookContextMenu_LocalFileName",a,"localFileName",o.Text,this.workbookModel.contract.sourceFilePath)),l=l.concat(r.addExcelLocalFileInfo("WorkbookContextMenu_Source",a,"FileSource",o.Text,this.services.localizationService.get("WorkbookContextMenu_Source_LocalFile")));var p=this.services.packageService.findPackage(this.workbookModel.packageId);if(p){var u=""+i.convertRefreshTimeToJsDateTime(p.lastRefreshTime);l=l.concat(r.addExcelLocalFileInfo("WorkbookContextMenu_LocalFile_LastUpdateTime",a,"localFileLastUpdated",o.Text,u))}return l}d.contract.sourceFilePath&&(l=l.concat(r.addSpoFileName(d.contract.sourceFilePath,d.viewUrl,a))),d.isOwner()&&(l=l.concat(r.addExcelLocalFileInfo("WorkbookContextMenu_Source",a,"FileSource",o.Text,this.services.localizationService.get("WorkbookContextMenu_Source_SharePointOneDrive"))));var v=this.services.modelService.findModel(this.workbookModel.modelId,this.workbookModel.packageId);if(!v){var p=this.services.packageService.findPackage(this.workbookModel.packageId);return p&&(l=l.concat(r.addLastRefreshForNonModelWorkbook(p.lastRefreshTime,a))),l}if(!this.workbookModel.contract.isPowerPivotVersionSupportsRefresh)return l=r.addRefreshInfoForNotSupportedModelWorkbook(a);var h=v.contract,g=function(e){h.contentProviderId=e.contentProviderId,h.onPremModelConnectionString=e.onPremModelConnectionString,h.directQueryMode=e.directQueryMode,h.refreshSchedule=e.refreshSchedule,h.refreshHistories=e.refreshHistories,h.storageProviderType=e.storageProviderType,l=l.concat(t.DatasetNavigationPaneListItemController.addRefreshStatusToMetadata(null,e,s,c,n.refreshDatasetModel,a))};return g(h),this.refreshDatasetModel.dataset=i.convertModelToDataset(h),l},r})();t.SettingsWorkbookBladeController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SettingsWorkbookBlade={controller:e.common.createController(e.controllers.SettingsWorkbookBladeController),templateUrl:"components/settingsWorkbookBlade/settingsWorkbookBlade.html",bindings:{viewModel:"="}}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.contracts,o=i.FrequencyType,r=(function(){function t(t,i){var o=this;if(this.scope=t,this.services=i,this.openSubscriptionPaneEvent=this.services.telemetryService.logEvent(e.telemetry.EmailSubscriptionsOpenPane),this.subscriptionInfo=this.services.subscription.getInfo(),this.isLoading=!0,this.isUpdating=!1,!this.services.userInfo.isPremiumUser)return this.services.licenseHelperService.displayFeatureDisabledErrorMessage(e.telemetry.LicenseEnforcementOperation.EmailSubscription,this.services.localizationService.get("UpgradeAccount_EmailSubscriptionMessage"),this.services.localizationService.get("UpgradeAccount_EmailSubscriptionTitle")),void this.closePane();var r=this.isReportSubscription();this.subscriptionPaneHelper=e.helpers.createSubscriptionPaneHelper(r),this.subscriptionPaneHelper.getAllSubscriptions(this.services.subscriptionsHttp,this.subscriptionInfo,this.openSubscriptionPaneEvent).then((function(e){o.viewModel=o.convertSubscriptionsToViewModel(e)}),(function(t){t.ErrorCode!==e.HttpStatusCode.Unauthorized.toString()&&o.services.errorService.error(o.services.localizationService.get("SubscriptionPane_Error_FailedToLoadSubscriotions"),"SubscriptionPane_Error_FailedToLoadSubscriotions",{requestId:t.RequestId})})).finally((function(){o.isLoading=!1}));var a=this.services.modelService.getModelContracts();if(r)this.models=[_.find(a,(function(e){return e.id===o.subscriptionInfo.reportInfo.modelId}))];else{var n=this.subscriptionInfo.dashboardInfo.modelIds;this.models=_.map(n,(function(e){return _.find(a,(function(t){return t.id===e}))}))}this.refreshSchedules=this.getRefreshSchedules(this.subscriptionInfo)}return t.createOptions=function(){return{additionalServices:["promiseFactory","subscription","subscriptionsHttp","telemetryService","modelService","userInfo","errorService","localizationService","navigation","groupService","licenseHelperService"]}},t.prototype.isDraftSubscription=function(e){return 3===e.state},t.prototype.saveChangesAndExit=function(){var t=this;this.isUpdating=!0;var i=this.services.telemetryService.logEvent(e.telemetry.EmailSubscriptionsInertOrUpdateSubscriptions),o=this.services.telemetryService.startChildEvent(i,e.telemetry.EmailSubscriptionsSaveSubscription),r=(this.viewModel.report||this.viewModel.dashboard).subscriptions,a=_.filter(r,(function(e){return 3===e.state})),n=_.filter(r,(function(e){return 1===e.state&&3!==e.previousState})),s=_.filter(r,(function(e){return 2===e.state}));if(_.isEmpty(a)&&_.isEmpty(n)&&_.isEmpty(s))return void this.closePane();var c;_.isEmpty(a)||(c=this.addSubscriptions(a)),_.isEmpty(n)||(c=this.deleteSubscriptions(c,n)),_.isEmpty(s)||(c=this.updateSubscriptions(c,s)),c?c.then((function(){o.resolve(),t.closePane()}),(function(e){t.services.errorService.error(t.services.localizationService.get("SettingsGeneral_Error_FailedToLoad"),"SettingsGeneral_Error_FailedToLoad",{requestId:e.RequestId}),o.reject()})).finally((function(){t.errorRequestId&&t.services.errorService.error(t.services.localizationService.get("SubscriptionPane_Error_FailedToInsertOrUpdateSubscriptions"),"SubscriptionPane_Error_FailedToInsertOrUpdateSubscriptions",{requestId:t.errorRequestId}),t.isUpdating=!1})):(this.closePane(),o.resolve(),this.isUpdating=!1)},t.prototype.addNewSubscription=function(){for(var e=this.getNewSubscription(),t=this.getCurrentSubscriptions(),i=0,o=t;i<o.length;i++){var r=o[i];r.expanded=!1}t.unshift(e)},t.prototype.cancel=function(){this.closePane()},t.prototype.changeSubscriptionToUpdatedState=function(e){3!==e.state&&(e.state=2)},t.prototype.getSubscriptionName=function(e){return this.subscriptionPaneHelper.getSubscriptionName(e)},t.prototype.removeSubscription=function(e){e.previousState=e.state,e.state=1},t.prototype.isSubscriptionDeleted=function(e){return 1===e.state},t.prototype.undoRemoveSubscription=function(e){e.state=e.previousState},t.prototype.navigate=function(){this.closePane(),this.services.navigation.inReportView()||this.services.navigation.inDashboardView()?this.services.navigation.showSettingsSlider("communications"):this.isReportSubscription()?this.services.navigation.navigateToReportSubscriptionsPane(this.subscriptionInfo.reportInfo.report.objectId,this.services.groupService.activeGroup.aadGroupId,this.subscriptionInfo.reportInfo.report.originalReportObjectId):this.services.navigation.navigateToDashboardSubscriptionsPane(this.subscriptionInfo.dashboardInfo.dashboardObjectId,this.services.groupService.activeGroup.aadGroupId)},t.prototype.canShowSchedule=function(){return this.getHighestFrequencyAllowed()!==(o.Daily|o.AfterDataRefresh)},t.prototype.getAllowedFrequencies=function(){return this.subscriptionPaneHelper.getAllowedFrequencies(this.viewModel)},t.prototype.canAddSubscription=function(){return this.subscriptionPaneHelper.canAddSubscription(this.viewModel)},t.prototype.getSubscriptionSubtitle=function(){return this.subscriptionPaneHelper.getInitialSubscriptionSubTitle(this.viewModel)},t.prototype.isReportSubscription=function(){return!!this.subscriptionInfo.reportInfo},t.prototype.getRefreshSchedules=function(e){var t=this;if(this.subscriptionInfo.reportInfo)return[this.services.modelService.getModelRefreshSchedule(this.subscriptionInfo.reportInfo.modelId)];var i=this.subscriptionInfo.dashboardInfo.modelIds;return _.map(i,(function(e){return t.services.modelService.getModelRefreshSchedule(e)}))},t.prototype.convertSubscriptionsToViewModel=function(e){for(var t=[],i=this.services.subscription.getCurrentSubscriptionGUID(),r=this.getNewSubscription(),a=this.subscriptionInfo,n=a.reportInfo,s=function(e){var o=void 0;if(n){var s=_.filter(n.sections,(function(t){return t.id===e.sections[0].sectionId}));o=s&&s[0]}var l={id:e.id,expirationTime:e.expirationTime,objectId:e.objectId,enabled:e.enabled,expanded:!1,selectedFrequency:e.schedule.type,selectedSlide:o,dashboardId:a.dashboardInfo&&a.dashboardInfo.dashboardId,subscriptionName:c.getInitialSubscriptionName(),state:0,previousState:0,schedule:{type:e.schedule.type,interval:e.schedule.interval,subdayType:e.schedule.subdayType,subdayTimes:e.schedule.subdayTimes,relativeInterval:e.schedule.relativeInterval,recurrenceFactor:e.schedule.recurrenceFactor,localTimeZoneId:e.schedule.localTimeZoneId,startDate:e.schedule.startDate,endDate:e.schedule.endDate,scheduleId:e.schedule.id},users:e.users};i&&i.toLowerCase()===e.objectId.toLowerCase()&&(l.expanded=!0,r=l),t.push(l)},c=this,l=0,d=e;l<d.length;l++){var p=d[l];s(p)}_.isEmpty(t)&&t.unshift(r);var u,v=this.services.navigation.inReportView(),h=this.services.navigation.inDashboardView(),g=this.services.localizationService;u=v||h?g.get("EmailSnapshot_ManageAllSubscription"):_.isEmpty(r.selectedSlide)?g.get("EmailSnapshot_EditInDashboard"):g.get("EmailSnapshot_EditInReport");var f=[];return this.canShowSchedule()&&(f.push({label:g.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_Daily"),frequencyType:o.Daily|o.AfterDataRefresh}),f.push({label:g.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_Weekly"),frequencyType:o.Weekly|o.AfterDataRefresh})),this.subscriptionPaneHelper.getSubscriptionViewModel(u,t,f,this.subscriptionInfo,r)},t.prototype.getInitialSubscriptionName=function(){return this.subscriptionPaneHelper.getInitialSubscriptionName(this.subscriptionInfo)},t.prototype.getCurrentSubscriptions=function(){return this.subscriptionPaneHelper.getCurrentSubscriptions(this.viewModel)},t.prototype.getHighestFrequencyAllowed=function(){return this.subscriptionPaneHelper.getHighestFrequencyAllowed(this.models,this.refreshSchedules)},t.prototype.getNewSubscription=function(){return this.subscriptionPaneHelper.getNewSubscription(this.subscriptionInfo,this.refreshSchedules)},t.prototype.getSubscription=function(e){return this.refreshSchedules=this.getRefreshSchedules(this.subscriptionInfo),this.subscriptionPaneHelper.convertViewModelToContract(e,this.refreshSchedules)},t.prototype.addSubscriptions=function(t){for(var i,o=this,r=function(t){var r=a.services.telemetryService.startEvent(e.telemetry.EmailSubscriptionsAddSubscription);i?i.then((function(){return r.resolve(),o.services.subscriptionsHttp.createSubscription(o.getSubscription(t),r.event)}),(function(e){r.reject(),o.errorRequestId=e.RequestId})):i=a.services.subscriptionsHttp.createSubscription(a.getSubscription(t),r.event)},a=this,n=0,s=t;n<s.length;n++){var c=s[n];r(c)}return i},t.prototype.deleteSubscriptions=function(t,i){for(var o=this,r=function(i){var r=a.services.telemetryService.startEvent(e.telemetry.EmailSubscriptionsDeleteSubscription);t?t.then((function(){return r.resolve(),o.services.subscriptionsHttp.deleteSubscription(i.id,r.event)}),(function(e){r.reject(),o.errorRequestId=e.RequestId})):t=a.services.subscriptionsHttp.deleteSubscription(i.id,r.event)},a=this,n=0,s=i;n<s.length;n++){var c=s[n];r(c)}return t},t.prototype.updateSubscriptions=function(t,i){for(var o=this,r=function(i){var r=a.services.telemetryService.startEvent(e.telemetry.EmailSubscriptionsUpdateSubscription);t?t.then((function(){return r.resolve(),o.services.subscriptionsHttp.updateSubscription(o.getSubscription(i),r.event)}),(function(e){r.reject(),o.errorRequestId=e.RequestId})):t=a.services.subscriptionsHttp.updateSubscription(a.getSubscription(i),r.event)},a=this,n=0,s=i;n<s.length;n++){var c=s[n];r(c)}return t},t.prototype.closePane=function(){this.services.subscription.collapseSubscriptionPane(),this.services.navigation.inReportView()||this.services.navigation.inDashboardView()||this.services.navigation.showSettingsSlider("communications",void 0,!0)},t})();t.SubscriptionPaneController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.SubscriptionPane={templateUrl:"components/subscriptionPane/subscriptionPane.html",controller:e.common.createController(e.controllers.SubscriptionPaneController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e){return e?new n:new s}function o(t,i){var o=t.schedule,r={id:t.id,objectId:t.objectId,enabled:t.enabled,expirationTime:t.expirationTime,schedule:{type:t.selectedFrequency,interval:o&&o.interval||0,subdayType:o&&o.subdayType||e.contracts.FrequencySubdayType.Unknown,recurrenceFactor:o&&o.recurrenceFactor||0,relativeInterval:e.contracts.FrequencyRelativeInterval.Unused,localTimeZoneId:o&&o.localTimeZoneId||i&&i.length>0&&i[0].localTimeZoneId,startDate:o&&o.startDate,endDate:o&&o.endDate,id:o&&o.scheduleId},users:t.users};return r}function r(e,t){var i=a.AfterDataRefresh,o=a.Daily;if(!_.isEmpty(e))for(var r=0,n=e.length;r<n;r++){var s=e[r];if(s.directQueryMode?o=a.Weekly:_.isEmpty(s.onPremModelConnectionString)?s.isPackageRefreshEnabled&&(o=!t[r].isDaily||s.refreshSchedule&&s.refreshSchedule.refreshEnabled?a.Weekly:a.Daily):o=a.Daily,o===a.Weekly)break}return o|i}var a=e.contracts.FrequencyType;t.createSubscriptionPaneHelper=i;var n=(function(){function e(){}return e.prototype.getAllowedFrequencies=function(e){return e.report.allowedFrequency},e.prototype.getSubscriptionName=function(e){return e.selectedSlide.displayName},e.prototype.getAllSubscriptions=function(e,t,i){return e.getReportSubscription(t.reportInfo.report.id,i)},e.prototype.getHighestFrequencyAllowed=function(e,t){return r(e,t)},e.prototype.getNewSubscription=function(e,t,i){var o=e.reportInfo;return{enabled:!0,expanded:!0,selectedSlide:o.currentSection,selectedFrequency:this.getHighestFrequencyAllowed(t,i),state:3,previousState:0,subscriptionName:this.getInitialSubscriptionName(e)}},e.prototype.getInitialSubscriptionName=function(e){return e.reportInfo.currentSection?e.reportInfo.currentSection.displayName:""},e.prototype.updateSubscription=function(e,t){e.sections=[{sectionId:t.selectedSlide.id}]},e.prototype.getInitialSubscriptionSubTitle=function(e){return e.report.reportName},e.prototype.getCurrentSubscriptions=function(e){return e.report.subscriptions},e.prototype.getSubscriptionViewModel=function(e,t,i,o,r){return{editMessage:e,report:{subscriptions:t,allowedFrequency:i,reportName:o.reportInfo.report.displayName,slides:o.reportInfo.sections,currentSubscription:r}}},e.prototype.convertViewModelToContract=function(e,t){var i=o(e,t);return this.updateSubscription(i,e),i},e.prototype.canAddSubscription=function(e){return!0},e})(),s=(function(){function e(){}return e.prototype.getAllowedFrequencies=function(e){return e.dashboard.allowedFrequency},e.prototype.getSubscriptionName=function(e){return e.subscriptionName},e.prototype.getAllSubscriptions=function(e,t,i){return e.getDashboardSubscription(t.dashboardInfo.dashboardId,i)},e.prototype.getNewSubscription=function(e,t,i){var o=e.dashboardInfo.dashboardId;return{enabled:!0,expanded:!0,dashboardId:o,selectedFrequency:this.getHighestFrequencyAllowed(t,i),state:3,previousState:0,subscriptionName:this.getInitialSubscriptionName(e)}},e.prototype.getHighestFrequencyAllowed=function(e,t){return r(e,t)},e.prototype.getInitialSubscriptionName=function(e){return e.dashboardInfo.dashboardName},e.prototype.updateSubscription=function(e,t){e.dashboards=[{dashboardId:t.dashboardId}]},e.prototype.getInitialSubscriptionSubTitle=function(e){return e.dashboard.dashboardName},e.prototype.getCurrentSubscriptions=function(e){return e.dashboard.subscriptions},e.prototype.getSubscriptionViewModel=function(e,t,i,o,r){return{editMessage:e,dashboard:{subscriptions:t,allowedFrequency:i,dashboardName:o.dashboardInfo.dashboardName,currentSubscription:r}}},e.prototype.convertViewModelToContract=function(e,t){var i=o(e,t);return this.updateSubscription(i,e),i},e.prototype.canAddSubscription=function(e){return _.isEmpty(e.dashboard.subscriptions)},e})()})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.ArrowPosition,o=e.common.models.TooltipTheme,r=(function(){function e(e,t){this.services=t}return e.createOptions=function(){return{additionalServices:["modalDialogService"]}},e.prototype.close=function(){this.services.modalDialogService.close()},e.prototype.exportData=function(){this.services.modalDialogService.close({dataType:this.viewModel.dataType,format:this.convertStringToExportResultFormat(this.viewModel.dataFormat)})},e.prototype.update=function(e){this.viewModel.isCsvFormatDisabled=e===this.viewModel.options[1]},e.prototype.isDataTypeDisabled=function(e){return e===this.viewModel.options[1]&&(this.viewModel.isUnderlyingDisabled||this.viewModel.dataFormat===1..toString())},e.prototype.getTooltipConfigForDataType=function(e){if(!this.isDataTypeDisabled(e))return{tooltipDisable:!0};var t;return t=this.viewModel.isUnderlyingDisabled&&!this.viewModel.isExlFormatDisabled?"UnderlyingData_UnsupportedDataTooltipDescription":"SupportOnlyExlFormat_ToolTipDescription",{tooltipArrowPosition:i.arrowTopMiddle,tooltipDelay:100,tooltipLocalizeTitle:"UnderlyingData_Title",tooltipLocalizeDescription:t,tooltipTheme:o.Dark,isTooltipForModalDialog:!0}},e.prototype.convertStringToExportResultFormat=function(e){return e===(0).toString()?1:0},e})();t.ExportDataDialogController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){t.ExportDataDialog={templateUrl:"components/exportDataDialog/exportDataDialog.html",bindings:{viewModel:"<"},controller:e.common.createController(e.controllers.ExportDataDialogController)}})(t=e.components||(e.components={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){this.modalDialogService=e,this.localizationService=t}return t.prototype.show=function(t,i){var o=e.viewModels.ExportDataDialogViewModelFactory.create(this.localizationService,t,i),r={viewModel:o},a={dialogName:"ExportDataDialog",definitionTemplateCachePath:"components/exportDataDialog/exportDataDialogDefinition.html",bindings:r};return this.modalDialogService.showWebModalDialog(a)},t})();t.ExportDataDialogBuilder=i})(t=e.dialogs||(e.dialogs={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){function t(e,t,i){var o=0===t;return{options:[e.get("ModalDialog_ExportDataSummarized"),e.get("ModalDialog_ExportDataUnderlying")],dataType:0,dataFormat:o?(0).toString():1..toString(),isExlFormatDisabled:!o,isUnderlyingDisabled:!i,isCsvFormatDisabled:!1,exportXlsxUnsupportedType:t}}e.create=t})(t=e.ExportDataDialogViewModelFactory||(e.ExportDataDialogViewModelFactory={}))})(t=e.viewModels||(e.viewModels={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){var t=this;this.scope=e,e.togglePane=function(){return t.togglePane()}}return e.prototype.togglePane=function(){var e=this.scope.viewModel;this.setCollapsePane(e.isExpanded!==!0)},e.prototype.setCollapsePane=function(e){var t=this.scope.viewModel;t.isExpanded=e},e})();e.CollapsiblePaneController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=e.common.helpers,r=e.common.contracts.ConfigurationPageType,a=e.helpers.ContentProviderStoreHelper,n=jsCommon.DOMConstants,s=(function(){function t(t,r,s){void 0===s&&(s=navigator.userAgent);var c=this;this.scope=t,this.scope.showIFrame=!0,this.services=r;var l=r.errorService;this.modalDialog=l.control(),this.lastContentProviderContract=null,this.userAgent=s,this.scope.showLoadNotification=function(){return c.showLoadNotification()},this.scope.hideLoadNotification=function(){return c.hideLoadNotification()};var d=this.scope.$watch("viewModel",(function(e){c.scope.initConfigurationPage(e)}));this.scope.initConfigurationPage=function(t,i){t&&e.common.localize.ensureLocalization((function(){return c.initConfigurationPage(t,i)}))},this.scope.$on(i.scopeDestroyEventName,(function(){return d()}));var p=this.services.$window,u=function(t){var r;try{r=JSON.parse(t.data)}catch(e){}if(r&&t.origin===i.hostOrigin){var n=r;if(n)switch(n.message){case i.contentProviderStoreCloseModalDialogMessage:c.scope.unloadContentProviderFrame();break;case i.contentProviderStoreMashupContentProviderLoadedMessage:c.scope.hideLoadingUI();break;case i.contentProviderStoreShowLoadNotificationMessage:c.showLoadNotification();break;case i.contentProviderStoreHideLoadNotificationMessage:c.hideLoadNotification()}var s=r;if(s&&(s.ImportCancelled||s.IsBlockingOperation||s.BlockingOperationAborted)){if(s.ImportCancelled)return c.hideModalDialog(),c.services.navigation.navigateBack(),void c.scope.$apply();if(s.IsBlockingOperation)return void c.services.timeout((function(){var e=c,t=new Array,o='<span class="pbi-spinner"></span><span>{{upload}}</span>';o=o.replace("{{upload}}",c.services.localizationService.get("ExternalContentViewer_Upload"));var r=$(o);t[0]=new InJs.ModalDialogAction(c.services.localizationService.get("ExternalContentViewer_Cancel"),function(t){e.hideModalDialog();var o=e.contentProviderFrame[0].contentWindow;o.postMessage(JSON.stringify({ImportCancelled:!0}),i.hostOrigin)}),c.isModalDialogShown=!0,c.modalDialog.showCustomDialog(c.services.localizationService.get("ExternalContentViewer_UploadInProgress"),r,t,(function(){}),!1)}),0);if(s.BlockingOperationAborted)return void c.services.timeout((function(){c.hideModalDialog()}),0)}var d=r;if(d&&(d.ErrorMessage||d.ErrorType||d.RequestId||d.StatusCode||d.ErrorCode)){var u=d.ErrorCode,v=d.ErrorMessage,h=d.ErrorType;if(u){if(d.ErrorCode===e.constants.pbixUploadWarnings.ModelNotFound)return c.services.telemetryService.logEvent(e.telemetry.LocalFileContentProviderLocalFileUploadLiveConnectPbix,u),void c.services.errorService.infoCustom(c.services.localizationService.get("UploadPowerBICompanion_PublishDesignerWarning"),c.services.localizationService.get("UploadPowerBICompanion_AccessDatasetWarning"));var g=a.getErrorMessageId(u,i.excelContentProviderId,c.services.featureSwitchService);g&&(v=c.services.localizationService.get(g),h=g)}return c.hideModalDialog(),void l.error(v,h,{requestId:d.RequestId,statusCode:d.StatusCode})}var f=r;f&&(f.DSID||f.SID)&&(c.hideModalDialog(),c.scope.$emit(e.constants.dataSourceAccessInfoGeneratedEventName,f,c.lastContentProviderContract));var m=r;m&&m.CompanionAppDownloadLinkClicked&&c.services.dashboardHttpService.getDashboardContainer(void 0).then((function(e){e.data.companionAppEnabled&&(p.location.href=o.powerBICompanionHelper.getDownloadLink()),e.data.downloadCenterLinkEnabled&&(p.location.href=o.powerBICompanionHelper.getDownloadCenterLink(e.data.downloadCenterX64Link,e.data.downloadCenterX86Link))}),(function(e){}));var b=r;b&&b.SampleWorkbookDownloadLinkClicked&&(p.location.href=o.powerBIExcelHelper.getDownloadLink())}};p.addEventListener(n.messageEventName,u,!1),this.scope.$on(i.scopeDestroyEventName,(function(){p.removeEventListener(n.messageEventName,u,!1)}))}return t.createOptions=function(){return{additionalServices:["$window","dashboardHttpService","errorService","contentProviderHttpService","featureSwitchService","navigation","telemetryService","localizationService","modalDialogService"]}},t.prototype.showLoadNotification=function(){if(!this.isLoadNotificationShown){var e=this.scope.$new(!0),t={containerCssClass:"notificationDialog",dialogCssClass:"notificationDialog",dialogName:null,template:"<load-notification-dialog></load-notification-dialog>",scope:e,isDismissable:!1};this.scope.showIFrame=!1,this.services.modalDialogService.showLegacyWebModalDialog(t),this.isLoadNotificationShown=!0,this.scope.$applyAsync()}},t.prototype.hideLoadNotification=function(){if(this.isLoadNotificationShown){this.scope.showIFrame=!0;var e=this.services.errorService.control();e.hideDialog(),this.isLoadNotificationShown=!1,this.scope.$applyAsync(),this.executeWorkaroundForEdgeBrowser()}},t.prototype.executeWorkaroundForEdgeBrowser=function(){var e=this;this.isEdgeBrowser()&&this.services.timeout((function(){e.changeIFrameHeight(!0),e.services.timeout((function(){e.changeIFrameHeight(!1)}),0)}),0)},t.prototype.isEdgeBrowser=function(){var e=this.userAgent.toLowerCase();return e.indexOf(" edge/")>-1},t.prototype.changeIFrameHeight=function(e){var t=$("iframe.contentProviderDialogFrame"),i=t.height(),o=e?i+1:i-1;t.css("height",o)},t.prototype.initConfigurationPage=function(o,a){var n=this;this.scope.viewModel=null,this.lastContentProviderContract=o;var s=this.services.telemetryService,c=s.startEvent(e.telemetry.DashboardInitializeContentProviderConfig,o.displayText);if(o.id in t.ContentProviderFramesCache){var l=t.ContentProviderFramesCache[o.id];return void this.scope.loadContentProviderFrame(l,a)}if(o.id<0&&o.id===this.lastContentProviderContract.id){var d="/providers/comingsoon",p=$(t.ContentProviderFrameTemplate.replace("{{configPageUrl}}",t.addLanguageToUrl(d)));return t.ContentProviderFramesCache[o.id]=p,void this.scope.loadContentProviderFrame(p,a)}if(o.configurationPageUrl){if(o.id===this.lastContentProviderContract.id){var u=o.configurationPageUrl,v="";v=a?i.contentProviderStoreRenderAsModalDialogMode:i.contentProviderStoreRenderAsFullScreenMode;var h=jsCommon.QueryStringUtil.parseQueryString();h[v]="1",u=jsCommon.QueryStringUtil.addOrUpdateQueryStringToUrl(u,h),h.unmin&&(u+="&unmin=true"),o.isService&&o.providerKey&&(u+="&providerKey="+o.providerKey),u=this.addQueryParameters(u);var p=$(t.ContentProviderFrameTemplate.replace("{{configPageUrl}}",u));this.scope.loadContentProviderFrame(p,a)}}else this.services.contentProviderHttpService.getConfiguration(o.id,r.FullConfigurationFlow,c.event).then((function(e){if(e.data&&null!=e.data.ConfigurationPageUrl){if(o.id===n.lastContentProviderContract.id){var i=jsCommon.QueryStringUtil.parseQueryString(),r=jsCommon.QueryStringUtil.addOrUpdateQueryStringToUrl(e.data.ConfigurationPageUrl,i);r=n.addQueryParameters(r);var a=$(t.ContentProviderFrameTemplate.replace("{{configPageUrl}}",r));t.ContentProviderFramesCache[o.id]=a,n.scope.loadContentProviderFrame(a)}c.resolve()}else n.errorInitializingConfigPage(e,c)}),(function(e){n.errorInitializingConfigPage(e,c)}))},t.prototype.addQueryParameters=function(t){var o=jsCommon.QueryStringUtil.parseQueryString();if(o[e.common.constants.navigation.getDataForceConnect]){var r=btoa(JSON.stringify(o));t+="&"+i.navigation.getDataMashupUrlParams+"="+r}return t},t.prototype.errorInitializingConfigPage=function(t,i){this.scope.$emit(e.constants.configPageErrorLoadingEventName),this.services.errorService.error(this.services.localizationService.get("ContentProvider_GetConfigurationFailed"),"ContentProvider_GetConfigurationFailed",{requestId:t.requestId,statusCode:t.status.toString()}),i.reject()},t.prototype.hideModalDialog=function(){this.isModalDialogShown&&(this.modalDialog.hideDialog(),this.isModalDialogShown=!1)},t.addLanguageToUrl=function(e){var t=jsCommon.QueryStringUtil.getQueryStringValue("language");if(!_.isEmpty(t)){var i=e.indexOf("?")===-1?"?":"&";return e+i+"language="+encodeURIComponent(t)}return e},t})();s.ContentProviderFramesCache={},s.ContentProviderFrameTemplate='<iframe name="contentProviderDialogFrame" class="contentProviderDialogFrame contentProviderIFrame" sandbox="allow-scripts allow-popups allow-same-origin allow-forms" src="{{configPageUrl}}"></iframe>',t.ContentProviderController=s})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i;!(function(e){e[e.Welcome=0]="Welcome",e[e.GetData=1]="GetData",e[e.GroupWelcome=2]="GroupWelcome"})(i=t.ContentProviderSplashState||(t.ContentProviderSplashState={}));var o=(function(){function i(e,t){var i=this;this.scope=e,this.services=t,this.scope.featureSwitchOrgAppsEnabled=this.services.featureSwitchService.featureSwitches.orgAppsEnabled||this.services.featureSwitchService.featureSwitches.microsoftOrgAppEnabled,this.scope.showServicesTile=!this.services.featureSwitchService.featureSwitches.serviceAppsDisabled,this.scope.getCurrentGroupName=function(){return i.getCurrentGroupName()},this.scope.getSplashTitleForCurrentGroup=function(){return i.getSplashTitleForCurrentGroup()},this.scope.showIntroductionVideoModal=function(){return i.showIntroductionVideoModal()},this.scope.listViewEnabled=function(){return i.services.conceptualModelSetting.isListViewEnabled()},this.scope.navigateToContentList=function(){return i.navigateToContentList()},this.scope.inGroupWelcomeView=function(){return i.services.navigation.inGroupWelcomeView()},this.scope.navigateToCategory&&this.scope.navigateToCategoryAndProvider||(this.scope.navigateToCategory=function(e,t){return i.navigateToCategoryAndProvider(e,"",t)},this.scope.navigateToCategoryAndProvider=function(e,t,o){return i.navigateToCategoryAndProvider(e,t,o)},this.scope.isMyWorkspace=function(){return i.isMyWorkspace()})}return i.createOptions=function(){return{additionalServices:["featureSwitchService","groupService","localizationService","navigation","telemetryService","modalDialogService","conceptualModelSetting"]}},i.prototype.navigateToContentList=function(){this.services.navigation.navigateToContentList(this.services.groupService.activeGroupObjectId,!0)},i.prototype.getCurrentGroupName=function(){return this.services.groupService.activeGroup?this.services.groupService.activeGroup.displayName:""},i.prototype.getSplashTitleForCurrentGroup=function(){return this.services.groupService.activeGroup.isMyWorkspace?this.services.localizationService.get("GetData_GetData"):this.services.localizationService.format("Groups_Splash_Title",[this.getCurrentGroupName()])},i.prototype.isMyWorkspace=function(){return this.services.groupService.activeGroup.isMyWorkspace},i.prototype.navigateToCategoryAndProvider=function(i,o,r){var a=t.contentProviderConstants.categoryEnumToNameMap[i],n=t.contentProviderConstants.categoryInteractionTelemetryMap[r];this.services.telemetryService.logEvent(e.telemetry.DashboardGetDataCategorySelect,a,n,""),this.services.navigation.showGetDataSlider(a,o,0)},i.prototype.showIntroductionVideoModal=function(){var t=this.services.telemetryService.startEvent(e.telemetry.DashboardGetDataSplashIntroVideo),i={dialogName:this.services.localizationService.get("GetData_PowerBI_In_60_Seconds"),templateUrl:"views/contentProviderStore/contentProviderSplashIntroVideoModal.html",scope:this.scope.$new(!0),dialogCssClass:"introVideo",onCloseDialog:function(){return t.resolve()}};this.services.modalDialogService.showLegacyWebModalDialog(i)},i})();t.ContentProviderSplashController=o})(i=t.contentProviderStore||(t.contentProviderStore={}))})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i,o=e.common.constants,r=e.common.contracts.ContentProviderCategory,a=e.common.contracts.ContentProviderClientCategory,n=e.common.contracts.ContentProviderConfigurationUIStyle,s=jsCommon.DateExtensions,c="local-file";!(function(t){t.CategoryNameToEnumMap={files:a.File,services:a.Service,samples:a.Sample,bigdata:a.BigDataAndMore,myorg:a.Organizational,learn:a.Learn},t.categoryEnumToNameMap={},t.categoryEnumToNameMap[a.File]="files",t.categoryEnumToNameMap[a.Sample]="samples",t.categoryEnumToNameMap[a.Service]="services",t.categoryEnumToNameMap[a.BigDataAndMore]="bigdata",t.categoryEnumToNameMap[a.Organizational]="myorg",t.categoryEnumToNameMap[a.Learn]="learn",t.categoryEnumToDisplayNameMap={},t.categoryEnumToDisplayNameMap[a.File]="GetData_Files",t.categoryEnumToDisplayNameMap[a.Sample]="GetData_Samples",t.categoryEnumToDisplayNameMap[a.Service]="GetData_Services",t.categoryEnumToDisplayNameMap[a.BigDataAndMore]="GetData_BigDataAndMore",
t.categoryEnumToDisplayNameMap[a.Organizational]="GetData_MyOrganization",t.categoryEnumToDisplayNameMap[a.Learn]="GetData_AddYourContent",t.categoryInteractionTelemetryMap={breadcrumb:e.telemetry.GetDataCategorySelectInteraction.Breadcrumb,navPane:e.telemetry.GetDataCategorySelectInteraction.NavPane,splashPage:e.telemetry.GetDataCategorySelectInteraction.SplashPage,getApps:e.telemetry.GetDataCategorySelectInteraction.GetApps},t.getAppsInteraction="getApps",t.saasMarketplacePublicCategory="public",t.saasMarketplacePrivateCategory="private",t.salesforceAppName="salesforce"})(i=t.contentProviderConstants||(t.contentProviderConstants={}));var l=1999,d=(function(){function t(t,r){var a=this;this.fullScreenConfig=!1,this.shouldHideTilesForSalesforceReports=!1,this.scope=t,this.services=r,this.scope.featureSwitchOrgAppsEnabled=this.services.featureSwitchService.featureSwitches.orgAppsEnabled||this.services.featureSwitchService.featureSwitches.microsoftOrgAppEnabled,this.isOneGBUploadFileSizeEnabled=this.services.featureSwitchService.featureSwitches.oneGBUploadFileSizeEnabled,this.viewModel=new e.models.contentProviderStore.ContentProviderStoreModel,this.viewModel.searchBoxVisible=!0,this.scope.viewModel=this.viewModel,this.scope.navigateToHome=function(){return a.services.navigation.navigateToContentListOrActiveDashboard()},this.scope.navigateToGetData=function(){a.viewModel.searchKeyword="",a.services.navigation.showGetDataSlider("","",0)},this.scope.navigateToCategory=function(e,t){return a.navigateToCategoryAndProvider(e,"",t)},this.scope.navigateToCategoryAndProvider=function(e,t,i){return a.navigateToCategoryAndProvider(e,t,i)},this.scope.getCategoryDisplayName=function(e){return a.getCategoryDisplayName(e)},this.previousSelectedCategoryName="",this.scope.isSplashState=function(){if(a.fullScreenConfig)return!1;var t=a.scope.viewModel;return!t.selectedCategory&&!t.selectedContentProviderTile&&!t.searchKeyword||a.useNewSaasMarketplace()||a.services.navigation.stateService.params[e.common.constants.navigation.getDataForceConnect]},this.scope.$watch((function(){return a.viewModel.searchKeyword}),(function(e,t){t||(a.previousCategory=a.viewModel.selectedCategory),e?a.viewModel.selectedCategory=null:a.previousCategory&&(a.viewModel.selectedCategory=a.previousCategory),a.refreshTileList()}));var n=this.services.rootScope.$on(e.constants.saasMarketplace.updateHostUrl,(function(e,t,i){a.updateUrlFromSaasMarketplace(t,i)})),s=this.services.rootScope.$on(e.constants.saasMarketplace.acquireAppEventName,(function(e,t,i){a.acquireAppFromSaasMarketplace(t,i)}));this.scope.$on(e.constants.dataSourceAccessInfoGeneratedEventName,(function(e,t,i,o,r){return a.storeDataAccessInfo(e,t,i,o,r)})),this.scope.$root.$on(e.constants.openCreateContentPackEventName,(function(e){return a.openCreateContentPack(e)})),this.scope.$on(o.navigation.stateChangeSuccess,(function(o,r,n,s,l){n.providerName!==c&&(t.isLocalFileSelected=!1,a.shouldShowProviderTiles=!0),a.services.navigation.stateService.is(e.constants.navigation.states.getData)&&(a.viewModel.searchKeyword=""),l.categoryName===n.categoryName&&i.categoryEnumToNameMap[a.viewModel.selectedCategory]===n.categoryName||a.scope.viewModel.searchKeyword||a.updateSelectedCategory(),a.fullScreenConfig=!1})),this.scope.$on(o.contentProviderStoreConfigurationUIVisibilityChangedEventName,(function(e,t,i){a.viewModel.searchBoxVisible=!t||i})),this.scope.showProviderTiles=function(){return a.shouldShowProviderTiles&&!a.shouldHideTilesForSalesforceReports},this.loadContentProviders(),this.updateSelectedCategory(),t.isLocalFileSelected=!1,this.shouldShowProviderTiles=!0,t.$on(o.localFileSelectedEventName,(function(e,i){return t.localFileSelected(i)})),t.$on(e.constants.shouldShowProviderTilesEventName,(function(){a.shouldShowProviderTiles=!0})),t.localFileSelected=function(e){t.selectedLocalFile=e,t.isLocalFileSelected=!0,a.shouldShowProviderTiles=!1,t.$applyAsync()},t.$on("$destroy",(function(){s(),n()}))}return t.createOptions=function(){return{additionalServices:["$window","$timeout","$sce","errorService","conceptualModelSetting","contentProviderService","contentProviderHttpService","modelConverter","navigation","notificationToast","localizationService","telemetryService","applicationOptions","featureSwitchService","modalDialogService","userInfo","licenseHelperService","quota","$sanitize","appService"]}},t.prototype.updateUrlFromSaasMarketplace=function(e,t){var o=this.findTileModelFromSaasMarktplaceData(e,t);if(o){var r=i.categoryEnumToNameMap[o.clientCategory];this.viewModel.selectedCategory=o.clientCategory,this.services.navigation.showGetDataSlider(r,o.providerName,2,!1)}},t.prototype.acquireAppFromSaasMarketplace=function(t,o){var r=this;if(!this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.GetData)){var a=this.findTileModelFromSaasMarktplaceData(t,o);if(a)if(a.authentication&&a.authentication.oAuth&&a.authenticationInitializationInProgress&&!a.authentication.oAuth.oAuthEndpoint){var s=e.common.httpService.powerbiRequestOptions();s.telemetryDescription="GetAuthorization: "+a.contract.providerName,e.common.httpService.get(a.authentication.oAuth.endpointRetrievalAPI,s).then((function(e){a.authentication.oAuth.oAuthEndpoint=e.data,a.authenticationInitializationDeferred.resolve(e.data)}),(function(e){a.authenticationInitializationDeferred.resolve("")})).finally((function(){a.authenticationInitializationInProgress=!1,r.fullScreenConfig=a.contract.configurationUIstyle===n.FullScreen,r.shouldHideTilesForSalesforceReports=r.useNewSaasMarketplace(),r.scope.isLocalFileSelected=!1,a.providerName===i.salesforceAppName&&r.promptToConnectFromSaasMarketplaceForSalesforce(a.title,(function(){return r.services.rootScope.$emit(e.common.constants.contentProviderStoreConnectEventName,a)}))}))}else a.providerName===i.salesforceAppName?(a.authenticationInitializationInProgress=!1,this.fullScreenConfig=a.contract.configurationUIstyle===n.FullScreen,this.shouldHideTilesForSalesforceReports=this.useNewSaasMarketplace(),this.scope.isLocalFileSelected=!1,this.promptToConnectFromSaasMarketplaceForSalesforce(a.title,(function(){return r.services.rootScope.$emit(e.common.constants.contentProviderStoreConnectEventName,a)}))):(a.authenticationInitializationInProgress=!1,this.services.rootScope.$emit(e.common.constants.contentProviderStoreConnectEventName,a))}},t.prototype.promptToConnectFromSaasMarketplaceForSalesforce=function(e,t){var i='<div class="header"><div class="icon content-provider-salesforce-small"></div><div class="title"><span localize="GetData_ConnectTo"></span>'+e+'</div></div><div class="message"><span localize= "SPZA_SalesforceAuthDialog_Message" > </span></div>',o=this.scope.$new(),r=[new InJs.ModalDialogAction(this.services.localizationService.get("SignInButton"),function(){o.closeDialog(),t()}),new InJs.ModalDialogAction(this.services.localizationService.get("AuthDialog_CancelButtonText"),function(){o.closeDialog()})],a={dialogName:null,isDismissable:!0,template:i,dialogCssClass:"salesforceConnectDialog",scope:o,dialogActions:r};this.services.modalDialogService.showLegacyWebModalDialog(a)},t.prototype.findTileModelFromSaasMarktplaceData=function(e,t){for(var o=0,r=this.viewModel.contentProviderTiles;o<r.length;o++){var n=r[o];if(n.contract.providerKey&&jsCommon.StringExtensions.equalIgnoreCase(e,n.contract.providerKey)&&(t===i.saasMarketplacePrivateCategory&&n.clientCategory===a.Organizational||t===i.saasMarketplacePublicCategory&&n.clientCategory!==a.Organizational))return n}},t.prototype.useNewSaasMarketplace=function(){return this.services.featureSwitchService.featureSwitches.saasMarketplace&&!this.services.navigation.stateService.params[e.common.constants.navigation.getDataForceConnect]&&(this.scope.viewModel.selectedCategory===a.Organizational||this.scope.viewModel.selectedCategory===a.Service)},t.prototype.refreshTileList=function(){this.scope.configPageLoaded=!1,this.scope.$root.$emit(o.contentProviderStoreTileListRefreshEventName,this.viewModel.selectedCategory,this.viewModel.searchKeyword)},t.prototype.navigateToCategoryAndProvider=function(t,o,r){if(this.viewModel.selectedCategory!==t||this.viewModel.selectedContentProviderTile||this.services.featureSwitchService.featureSwitches.saasMarketplace){this.viewModel.searchKeyword="",this.shouldHideTilesForSalesforceReports=!1;var a=this.scope.isSplashState()&&this.services.featureSwitchService.featureSwitches.saasMarketplace?2:0;e.helpers.ContentProviderStoreHelper.navigateToCategoryAndProviderHelper(t,r,a,this.services.telemetryService,this.services.navigation,this.services.rootScope),this.previousSelectedCategoryName=i.categoryEnumToNameMap[t]}},t.prototype.openCreateContentPack=function(e){null!=e&&e.stopPropagation(),this.services.navigation.showPublishContentPackSlider()},t.prototype.storeDataAccessInfo=function(t,i,o,r,a){t.stopPropagation();var n=this.services.contentProviderService;if(n.upgradeRequiredToConnect(o))return void n.displayFeatureDisabledDialog(o);var s=this.scope.activeDashboard;this.services.contentProviderService.storeDataAccessInfo(i,o,e.telemetry.InstallSource.AppSource,a,s?s.contract.id:0),this.navigateAfterConnect(o),r||this.scope.$apply()},t.prototype.navigateAfterConnect=function(e){var t=this.services;e&&t.conceptualModelSetting.isAppsEnabled()&&t.appService.isAppCategory(e.category)?t.navigation.navigateToApps():t.navigation.navigateToContentListOrActiveDashboard()},t.prototype.loadContentProviders=function(){var t=this,i=this.services;i.timeout((function(){var o=i.telemetryService,a=o.startEvent(e.telemetry.ContentProviderInitializeContentProviders);t.viewModel.hasContentProviderLoaded=!1;var n=i.contentProviderHttpService;n.getContentProviders(a.event).then((function(e){var o=e.data;t.viewModel.contentProviderTiles=[];var a=i.featureSwitchService.featureSwitches,s=n.getNonBuiltInContentProviders(o,i.applicationOptions.cpcode),c=n.getFilteredBuiltinContentProviders(s.filter((function(e){return null!==e.providerKey}))),l=o.filter((function(e){return e.category===r.Organizational||i.conceptualModelSetting.isAppsEnabled()&&e.category===r.OrganizationalApp}));t.loadServiceContentProviders(s),c=t.filterBuiltInsBasedOnServiceContentProviderOverrides(c),t.loadBuiltInContentProviders(c),(a.templatePublishEnabled||a.templatePublishFlightingWorkAroundEnabled)&&t.loadOrganizationalTemplateContentProviders(o),t.loadOrganizationalProviders(l),t.moveContentPacksIntoGroupings(),i.timeout((function(){t.refreshTileList()})),t.viewModel.hasContentProviderLoaded=!0}),(function(e){t.viewModel.hasContentProviderLoaded=!0,i.errorService.error(i.localizationService.get("ErrorMessage_FailedLoadContentProviders"),"FailedLoadContentProviders",{requestId:e.requestId,statusCode:e.status.toString()}),a.reject()}))}),l)},t.prototype.loadOrganizationalTemplateContentProviders=function(e){var t=this;this.loadServiceContentProviders(e.filter((function(e){return e.category===r.OrganizationalTemplate||t.services.conceptualModelSetting.isTemplateAppsEnabled()&&e.category===r.OrganizationalTemplateApp})),"/providers/organizationaltemplate/")},t.prototype.loadBuiltInContentProviders=function(e){for(var t=this.services.modelConverter,i=0,o=e.length;i<o;i++){var r=e[i],a=t.convertContentProviderContractToContentProviderTileModel(r),n="";r.displayTextLocalizationKey&&(a.title=this.services.localizationService.get(r.displayTextLocalizationKey)),a.usePBIDesktop&&a.learnMoreUrl&&(n='<a href="'+a.learnMoreUrl+'" target="_blank">'+this.services.localizationService.get("LearnMore")+"</a>"),a.descriptionTrustedHtml=this.decodeContentProviderHTML(a.descriptionLocalizationKey,a.finePrint,n),this.viewModel.contentProviderTiles.push(a)}},t.prototype.loadServiceContentProviders=function(e,t){void 0===t&&(t="/providers/mashUp/");for(var i=this.services.modelConverter,o=0,r=e.length;o<r;o++){var a=e[o];a.configurationUIstyle=n.ModalDialog,a.isService=!0,a.providerName||(a.providerName=a.providerKey),!a.id&&a.providerId&&(a.id=a.providerId),a.configurationPageUrl||(a.configurationPageUrl=t+a.providerName+"/?contentProviderId="+a.providerId),(null==a.iconUrl||_.isEmpty(a.iconUrl))&&(a.iconCSSClass="content-provider-placeholder");var c=i.convertContentProviderContractToContentProviderTileModel(a);a.displayTextLocalizationKey&&(c.title=this.services.localizationService.get(a.displayTextLocalizationKey));try{var l=JSON.parse(a.providerConfig)}catch(e){continue}if(l){var d=this.services.$sanitize(l.description);c.descriptionTrustedHtml=this.services.$sce.trustAsHtml(d),c.publisher=l.author,c.publishDate=s.deserializeDate(l.creationTime),c.learnMoreUrl=l.learnMoreUrl,l.displayText&&(c.title=l.displayText),l.urlPath&&(c.providerName=l.urlPath,c.contract.configurationPageUrl=t+l.urlPath+"/?contentProviderId="+a.providerId),l.providerKeyToOverride&&(c.providerKeyToOverride=l.providerKeyToOverride)}this.viewModel.contentProviderTiles.push(c)}},t.prototype.loadOrganizationalProviders=function(e){for(var t=this.services.modelConverter,i=0,o=e.length;i<o;i++){var r=e[i];null==r.iconUrl&&(r.iconCSSClass="content-provider-placeholder"),r.configurationUIstyle=n.DirectConnect,r.disableDetailPane=!1,r.providerName=e[i].providerKey;var a=t.convertContentProviderContractToContentProviderTileModel(r),c=JSON.parse(e[i].providerConfig);if(c){var l=this.services.$sanitize(c.description);a.descriptionTrustedHtml=this.services.$sce.trustAsHtml(l),a.publisher=c.author,a.emailAddress=c.emailAddress,a.emailAddressAsLink="mailto:"+c.emailAddress,a.publishDate=s.deserializeDate(c.creationTime)}this.viewModel.contentProviderTiles.push(a)}},t.prototype.filterBuiltInsBasedOnServiceContentProviderOverrides=function(e){for(var t=[],i=0,o=this.viewModel.contentProviderTiles;i<o.length;i++){var r=o[i];r.providerKeyToOverride&&t.push(r.providerKeyToOverride)}if(0===t.length)return e;for(var a=[],n=0,s=e;n<s.length;n++){for(var c=s[n],l=!1,d=0,p=t;d<p.length;d++){var u=p[d];c.providerKey&&jsCommon.StringExtensions.equalIgnoreCase(u,c.providerKey)&&(l=!0)}l||a.push(c)}return a},t.prototype.moveContentPacksIntoGroupings=function(){var e=this.services.modelConverter,t=e.groupContentProviderTileModels(this.viewModel.contentProviderTiles);this.viewModel.contentProviderTiles=t},t.prototype.decodeContentProviderHTML=function(e,t,i){var o=[["apos","'"],["amp","&"],["lt","<"],["gt",">"]],r=i?this.services.localizationService.format(e,[i]):this.services.localizationService.get(e),a=this.services.localizationService.get(t)||"",n=null;if(r){for(var s=0,c=o.length;s<c;++s)r=r.replace(new RegExp("&"+o[s][0]+";","g"),o[s][1]),a=a.replace(new RegExp("&"+o[s][0]+";","g"),o[s][1]);n=this.services.$sce.trustAsHtml(r+(a?"<br/><br/><i>"+a+"</i>":""))}return n},t.prototype.updateSelectedCategory=function(){var t=this,o=this.services.navigation.categoryName,r=i.CategoryNameToEnumMap,a=r[o];this.viewModel.selectedCategory=a,this.viewModel.searchKeyword="",this.previousCategory=null,this.useNewSaasMarketplace()?this.services.rootScope.$emit(e.constants.saasMarketplace.initSaasMarketplaceEventName):this.services.$timeout((function(){t.refreshTileList(),t.services.navigation.providerName||(t.viewModel.selectedContentProviderTile=null)}))},t.prototype.getCategoryDisplayName=function(e){return this.services.localizationService?this.services.localizationService.get(i.categoryEnumToDisplayNameMap[e]):""},t})();t.ContentProviderStoreController=d})(i=t.contentProviderStore||(t.contentProviderStore={}))})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.ContentProviderClientCategory,o=e.controllers.contentProviderStore.contentProviderConstants,r=(function(){function t(i,o){var r=this;this.scope=i,this.services=o,this.scope.loadingElement=this.services.$element.find("#loadingId"),this.isOneGBUploadFileSizeEnabled=this.services.featureSwitchService.featureSwitches.oneGBUploadFileSizeEnabled,i.closeLoadingDialog=function(){r.fileUploadingDeferred&&r.fileUploadingDeferred.reject(),r.scope.loadingElement.hide(),r.completeUploading()},this.scope.$on(e.constants.uploadFormatChosenEventName,(function(i,o){r.scope.$emit(e.constants.shouldShowProviderTilesEventName),r.scope.shouldChooseFormat=!1;var a=t.ExcelContentProviderFileUploadingReplaceEndPointTemplate;r.uploadFormat=o,a+=r.uploadFormat===e.models.UploadFormat.ImportData?t.ScenarioImport:t.ScenarioView,r.processUploadingFile(t.ExcelContentProviderId,a,"UploadExcelFile",r.fileExtension,"UploadReplace_WorkbookExistsDetailedMessage")})),this.init()}return t.createOptions=function(){return{additionalServices:["promiseFactory","$window","telemetryService","localizationService","storageUsageService","featureSwitchService","applicationOptions","modelService","workbookService","errorService","refreshService","navigation","packageService","$element","modelHttpService","datasetsService","localFileService","upload"]}},t.prototype.init=function(){this.scope.shouldChooseFormat=!1;var i=this.scope.selectedFile;this.fullFilename=i.name;var o=i.name.split(".");if(this.fileExtension=o.pop().toLowerCase(),this.filename=this.fileExtension?o.join("."):i.name,this.scope.isUpdateFromElementFlow)return this.fileExtension!==t.xlsmFileExtension&&this.fileExtension!==t.xlsxFileExtension?void this.showDialog("UnsupportedFileType_Title","UnsupportedFileType_Message","UnsupportedFileType_OK"):(this.uploadFormat=e.models.UploadFormat.ViewExcel,this.elementIdToUpdate=this.scope.elementToUpdate.packageId,void this.processUpdatingWorkbook());var r=this.services.featureSwitchService.featureSwitches;this.scope.isFullFidelityLocalFileEnabled=r.fullFidelityExcelEnabled&&(r.ffxlLocalFilesEnabled||this.services.applicationOptions.isE2ERun),this.scope.isFullFidelityLocalFileEnabled&&this.isExcelFile()?this.scope.shouldChooseFormat=!0:(this.scope.$emit(e.constants.shouldShowProviderTilesEventName),this.uploadFormat=e.models.UploadFormat.ImportData,this.fileExtension===t.xlsxFileExtension||this.fileExtension===t.xlsmFileExtension?this.processUploadingFile(t.ExcelContentProviderId,t.ExcelContentProviderFileUploadingReplaceEndPointTemplate,"UploadExcelFile",this.fileExtension,"UploadReplace_DatasetExistsDetailedMessage"):this.fileExtension===t.pbiFileExtension?this.processUploadingFile(t.PowerBIDesignerContentProviderId,t.PowerBIDesignerContentProviderFileUploadingReplaceEndPointTemplate,"PBI.Providers.PBIFileUpload",this.fileExtension,"UploadReplace_DatasetExistsDetailedMessage"):this.fileExtension===t.csvFileExtension?this.processUploadingFile(t.CsvDesignerContentProviderId,t.CsvContentProviderFileUploadingEndPointTemplate,"PBI.Providers.CSVFileUpload",this.fileExtension,"UploadReplace_DatasetExists"):this.showDialog("UnsupportedFileType_Title","UnsupportedFileType_Message","UnsupportedFileType_OK"))},t.prototype.isExcelFile=function(){return this.fileExtension===t.xlsxFileExtension||this.fileExtension===t.xlsmFileExtension},t.prototype.completeUploading=function(){return this.scope.isUpdateFromElementFlow?void this.services.workbookService.finishReplacingLocalWorkbook():void this.navigateToFiles()},t.prototype.navigateToFiles=function(){this.scope.$emit(e.constants.shouldShowProviderTilesEventName);var t=0,r=o.categoryEnumToNameMap[i.File];this.services.navigation.showGetDataSlider(r,void 0,t)},t.prototype.showErrorMessageWhenUploadLimitExceeds=function(e,i){var o,r;e===t.ExcelContentProviderId?(r="https://go.microsoft.com/fwlink/?LinkId=626823",o=this.isOneGBUploadFileSizeEnabled?"UploadExcel_UploadLimit_LocalFile_OneGB":"UploadExcel_UploadLimit_LocalFile"):o=e===t.PowerBIDesignerContentProviderId?this.isOneGBUploadFileSizeEnabled?"UploadPowerBICompanion_UploadLimit_LocalFile_OneGB":"UploadPowerBICompanion_UploadLimit_LocalFile":this.isOneGBUploadFileSizeEnabled?"UploadCSV_UploadLimit_LocalFile_OneGB":"UploadCSV_UploadLimit_LocalFile",i&&(i.event.info.uploadCompleted=!1,i.reject({errorCode:"SizeLimitExceeded"})),this.showDialog("GetData_FileSizeTooLarge_Title",o,null,r)},t.prototype.replaceFile=function(t,i,o,r){var a,n,s=JSON.parse(t),c=s.PackageId,l=void 0,d=void 0,p=void 0,u=void 0,v=void 0;this.uploadFormat===e.models.UploadFormat.ViewExcel?(a=_.find(this.services.workbookService.editAndReShareWorkbooks,(function(e){return e&&e.packageId.toString()===c})),n=a,l="UpdatingYourFile",d="NotificationMessage_TakeAWhile",p="WorkbookUpdatedNotificationTitle",u="WorkbookUpdatedNotificationMessage",v=n?n.displayName:null):l="RefreshingData",o.resolve(),r&&(r.event.info.uploadCompleted=!0,r.resolve()),c&&this.services.refreshService.refreshNow(this.services.telemetryService,this.services.errorService,c,i,l,d,p,u,v),this.services.navigation.navigateToContentListOrActiveDashboard()},t.prototype.uploadFileWithoutReplacing=function(i,o,r,a,n){n&&(n.event.info.uploadCompleted=!0,n.resolve());var s=JSON.parse(i);s.ContentProviderIdOverride=o;var c;switch(o){case t.ExcelContentProviderId:c=t.ExcelContentProviderDisplayName;break;case t.PowerBIDesignerContentProviderId:c=t.PowerBIDesignerContentProviderDisplayName;break;case t.CsvDesignerContentProviderId:c=t.CsvDesignerContentProviderDisplayName}s&&(s.DSID||s.SID)&&(a.event.info.DSID=s.DSID,a.resolve(),s.isImportOperation=this.uploadFormat===e.models.UploadFormat.ImportData,r.$emit(e.constants.dataSourceAccessInfoGeneratedEventName,s,null,!0,c))},t.prototype.showErrorWhenUploadFileFails=function(i,o,r,a,n){var s=i.headers(e.common.PowerBIErrorHeader);if(this.fileUploadingDeferred&&this.fileUploadingDeferred.reject(s),s===e.constants.FileUploadWarnings.OverwriteNonLocalPackageWithLocalFileError){var c=this.services.localizationService.format("UploadLocalFile_OverwriteNonLocalPackageWithLocalFileError",[this.fullFilename]);this.showFormattedDialog("UploadLocalFile_OverwriteNonLocalPackageWithLocalFileError_Title",c,null,"https://go.microsoft.com/fwlink/?linkid=846198")}else o===t.ExcelContentProviderId?this.uploadFormat===e.models.UploadFormat.ViewExcel?this.isReplace?this.services.workbookService.postReplaceWorkbookErrorMessage(i):this.services.workbookService.postUploadWorkbookErrorMessage(i):this.postErrorMessage("UploadExcel_PublishWorkbookFailed",s,"UploadExcel_PublishWorkbookFailed",i.requestId,i.status.toString()):o===t.PowerBIDesignerContentProviderId?this.showPbixWarnings(s,a,r,o,n)||this.postErrorMessage("UploadPowerBICompanion_PublishDesignerFailed",s,"UploadPowerBICompanion_PublishDesignerFailed",i.requestId,i.status.toString(),!0):this.postErrorMessage("UploadCSV_PublishFileFailed",s,"UploadCSV_PublishFileFailed",i.requestId,i.status.toString(),!0);this.completeUploading()},t.prototype.showPbixWarnings=function(i,o,r,a,n){var s=this,c=e.constants.pbixUploadWarnings,l="https://go.microsoft.com/fwlink/?linkid=842740";if(i===c.ReportWithDisplayNameForTheModelExists){var d=this.services.errorService.control(),p=this.createPromptAction(this.services.localizationService.get("UploadReplace_ReplaceButton"),d,(function(){s.beginUploadReplace(t.PowerBIDesignerContentProviderFileUploadingReplaceEndPointTemplate,s.scope,a,s.scope.selectedFile,o,n,r)})),u=this.createCancelPromptAction(d,o,r),v=[p,u];this.requestInputForHandlingDuplicates(d,"UploadPowerBICompanion_PublishDesignerWarning","UploadPowerBICompanion_ReplaceReportWarning",v,"UploadReplace_CancelButton",l)}else if(i===c.MoreThanOneDuplicateReportFoundError){var h=this.services.localizationService.format("UploadPowerBICompanion_ReplaceReportsWarning",[this.fullFilename]);this.showFormattedDialog("UploadPowerBICompanion_PublishDesignerWarning",h,null,l)}else if(i===c.ReplaceOriginalReportForPowerBICompanionNotSupported)this.showDialog("UploadPowerBICompanion_PublishDesignerWarning","UploadPowerBICompanion_UnsupportedReplaceReportWarning",null,l);else{if(i!==c.ModelNotFound)return!1;this.showDialog("UploadPowerBICompanion_PublishDesignerWarning","UploadPowerBICompanion_AccessDatasetWarning",null,l)}return this.services.telemetryService.logChildEvent(o.event,e.telemetry.LocalFileContentProviderLocalFileUploadLiveConnectPbix,i),!0},t.prototype.uploadFile=function(t,i,o,r,a,n,s,c){var l=this,d=this.isOneGBUploadFileSizeEnabled?e.common.constants.oneGBFileUploadLimitInByte:e.common.constants.fileUploadLimitInByte;if(r.size>d)return this.showErrorMessageWhenUploadLimitExceeds(o,c),a.reject(),void this.completeUploading();this.fileUploadingDeferred=this.services.promiseFactory.defer(),this.scope.loadingElement.show(),this.fileUploadingDeferred.promise.then((function(e){l.scope.loadingElement.hide(),l.completeUploading(),s?l.replaceFile(e,o,a,c):l.uploadFileWithoutReplacing(e,o,i,a,c)}),(function(e){e?(a.reject(),c&&(c.event.info.uploadCompleted=!1,c.reject({errorCode:e}))):(a.resolve(),c&&(c.event.info.uploadCompleted=!1,c.resolve())),l.scope.loadingElement.hide(),l.completeUploading()}));var p=e.common.httpService.powerbiRequestOptions(a.event,n);p.retryCount=0,p.headers[e.common.constants.uploadFileSizeHeaderName]=r.size.toString(),this.services.upload.post(jsCommon.StringExtensions.format(t,encodeURIComponent(r.name)),[r],p).then((function(e){l.fileUploadingDeferred.resolve(e.data)}),(function(e){l.showErrorWhenUploadFileFails(e,o,c,a,n)}))},t.prototype.postErrorMessage=function(t,i,o,r,a,n){var s=JSON.stringify({ErrorCode:i,ErrorMessage:this.services.localizationService.get(t),ErrorType:o,RequestId:r,StatusCode:a,HasError:n});this.services.$window.postMessage(s,e.common.constants.hostOrigin)},t.prototype.processUpdatingWorkbook=function(){this.scope.uploadingMessage=this.services.localizationService.format("GetData_UploadingFile",[this.fullFilename]);var i,o=this.services.telemetryService.startEvent(e.telemetry.LocalFileContentProviderLocalFileUpload,this.fileExtension,e.telemetry.LocalFileUploadPossibility.Duplicate,null);i=this.services.telemetryService.startChildEvent(o.event,e.telemetry.ProvidersExcelWorkbookUpload,e.models.HostType[e.models.HostType.Local],jsCommon.FileUtils.getFileExtension(this.fullFilename),this.scope.selectedFile.size,!1,this.uploadFormat,1);var r=t.ExcelContentProviderFileUploadingReplaceEndPointTemplate+t.ScenarioView;this.beginUploadReplace(r,this.scope,t.ExcelContentProviderId,this.scope.selectedFile,o,"UploadExcelFile",i)},t.prototype.processUploadingFile=function(t,i,o,r,a){var n,s=this,c=this.services.telemetryService.startEvent(e.telemetry.LocalFileContentProviderLocalFileUpload,r,null,null);this.isExcelFile()&&(n=this.services.telemetryService.startChildEvent(c.event,e.telemetry.ProvidersExcelWorkbookUpload,e.models.HostType[e.models.HostType.Local],jsCommon.FileUtils.getFileExtension(this.fullFilename),this.scope.selectedFile.size,!1,this.uploadFormat,null));var l,d;if(this.uploadFormat===e.models.UploadFormat.ViewExcel){this.scope.uploadingMessage=this.services.localizationService.format("GetData_UploadingFile",[this.fullFilename]);var p=_.filter(this.services.workbookService.editAndReShareWorkbooks,(function(e){return!!(e&&e.displayName&&s.services.packageService.isLocalWorkbook(e.packageId))&&s.fullFilename.toLowerCase()===e.displayNameWithExtension.toLowerCase()}));l=p?p.length:0,this.elementIdToUpdate=l>0?p[0].packageId:null}else this.scope.uploadingMessage=this.services.localizationService.format("GetData_ImportingFile",[this.fullFilename]),d=_.filter(this.services.modelService.editableModels,(function(e){return e.contract.contentProviderId===t&&e.displayName.toLowerCase()===s.filename.toLowerCase()})),l=d?d.length:0;var u=this.services.errorService.control(),v=[];if(n&&(n.event.info.existingWorkbooks=l),l>0)if(1===l)if(c.event.info.possibility=e.telemetry.LocalFileUploadPossibility.Duplicate,this.uploadFormat===e.models.UploadFormat.ImportData&&d[0].cloudRlsEnabled&&!this.services.featureSwitchService.featureSwitches.cloudRlsRoleMembershipEnabled){var h="UploadReplace_CloudRlsTitle",g="UploadReplace_CloudRlsEnabledDatasetExistsMessage";v.push(this.createPromptAction(this.services.localizationService.get("UploadReplace_ReplaceButton"),u,(function(){var r=d[0];r&&!s.services.featureSwitchService.featureSwitches.cloudRlsRoleMembershipEnabled&&(s.services.telemetryService.logEvent(e.telemetry.RowLevelSecurityDisableRLS,e.telemetry.DisableRLSSource.UploadOverride,!0,r.id),s.services.modelHttpService.disableRlsModel(r.id,c.event).then((function(e){s.updatePackageRefreshEnabled(r,i,s.scope,t,s.scope.selectedFile,o,n,c)}),(function(e){s.showErrorWhenUploadFileFails(e,t,n,c,o)})))}))),v.push(this.createCancelPromptAction(u,c,n)),this.requestInputForHandlingDuplicates(u,h,g,v,"UploadReplace_CancelButton")}else{var h=this.uploadFormat===e.models.UploadFormat.ViewExcel?"UploadReplace_WorkbookExistsTitle":"UploadReplace_DatasetExistsTitle";v.push(this.createPromptAction(this.services.localizationService.get("UploadReplace_ReplaceButton"),u,(function(){s.beginUploadReplace(i,s.scope,t,s.scope.selectedFile,c,o,n)}))),v.push(this.createCancelPromptAction(u,c,n)),this.requestInputForHandlingDuplicates(u,h,a,v,"UploadReplace_CancelButton")}else{n&&(n.event.info.uploadCompleted=!1,n.resolve());var h=this.uploadFormat===e.models.UploadFormat.ViewExcel?"UploadReplace_MultipleWorkbookExistsTitle":"UploadReplace_MultipleDatasetExistsTitle",f=this.uploadFormat===e.models.UploadFormat.ViewExcel?"UploadReplace_MultipleWorkbookExists":"UploadReplace_MultipleDatasetExists";c.event.info.possibility=e.telemetry.LocalFileUploadPossibility.MultipleDuplicates,c.resolve(),v.push(this.createPromptAction(this.services.localizationService.get("UploadReplace_GotIt"),u,(function(){}))),this.requestInputForHandlingDuplicates(u,h,f,v,"UploadReplace_GotIt")}else{c.event.info.possibility=e.telemetry.LocalFileUploadPossibility.NoDuplicate,this.isReplace=!1;var m=i+"&duplicateDatasetBehavior=FailOnDuplicate";this.uploadFile(m,this.scope,t,this.scope.selectedFile,c,o,!1,n)}},t.prototype.requestInputForHandlingDuplicates=function(e,t,i,o,r,a){var n=this,s=this.services.localizationService.get(t),c=this.services.localizationService.get(i).replace("{0}",'"'+this.fullFilename+'"');a=a||"https://go.microsoft.com/fwlink/?LinkID=616803";var l='<a href="'+a+'" target="_blank">'+this.services.localizationService.get("LearnMore")+"</a>";e.showCustomDialog(s,angular.element("<div/>").text(c).append("&nbsp;"+l),o,(function(e){e.parent().find('input[value="'+n.services.localizationService.get(r)+'"]').focus()}),!1)},t.prototype.createCancelPromptAction=function(e,t,i){return this.createPromptAction(this.services.localizationService.get("UploadReplace_CancelButton"),e,(function(){t.resolve(),i&&(i.event.info.uploadCompleted=!1,i.resolve())}))},t.prototype.createPromptAction=function(e,t,i){var o=this;return new InJs.ModalDialogAction(e,function(e,r){t.hideDialog(),i(),o.completeUploading()})},t.prototype.updatePackageRefreshEnabled=function(e,t,i,o,r,a,n,s){var c=this;this.services.datasetsService.updatePackageRefreshEnabled(e.packageId,!0,s.event).then((function(e){c.beginUploadReplace(t,i,o,r,s,a,n)}),(function(e){c.showErrorWhenUploadFileFails(e,o,n,s,a)}))},t.prototype.beginUploadReplace=function(t,i,o,r,a,n,s){s&&(s.event.info.uploadCompleted=!0),this.services.telemetryService.logEvent(e.telemetry.LocalFileContentProviderLocalFileUploadReplace,!0,this.scope.isUpdateFromElementFlow),this.uploadFormat===e.models.UploadFormat.ViewExcel&&(t+="&packageId="+this.elementIdToUpdate.toString()),this.isReplace=!0;var c=t+"&duplicateDatasetBehavior=ReplaceExistingDuplicate";this.uploadFile(c,i,o,r,a,n,!0,s)},t.prototype.showDialog=function(e,t,i,o){var r=this.services.localizationService.get(t);this.showFormattedDialog(e,r,i,o)},t.prototype.showFormattedDialog=function(e,t,i,o){var r=this.services.errorService.control(),a=this.services.localizationService.get(e),n=i?this.services.localizationService.get(i):null,s={label:this.services.localizationService.get("LearnMore"),url:o||"https://go.microsoft.com/fwlink/?LinkId=624514"};r.showMessage(a,t,n,s)},t})();r.ExcelContentProviderId=6,r.ExcelContentProviderDisplayName="Excel Workbook",r.PowerBIDesignerContentProviderId=7,r.CsvDesignerContentProviderId=60,r.PowerBIDesignerContentProviderDisplayName="Power BI Desktop File",
r.CsvDesignerContentProviderDisplayName="CSV File",r.CsvContentProviderFileUploadingEndPointTemplate="/powerbi/providers/csv/uploadAndConfigure?documentName={0}",r.PowerBIDesignerContentProviderFileUploadingReplaceEndPointTemplate="/powerbi/providers/pbi/uploadReplaceAndConfigure?documentName={0}",r.ExcelContentProviderFileUploadingReplaceEndPointTemplate="/powerbi/providers/excel/uploadReplaceAndConfigure?documentName={0}",r.ScenarioImport="&scenario=Import",r.ScenarioView="&scenario=View",r.xlsxFileExtension="xlsx",r.xlsmFileExtension="xlsm",r.csvFileExtension="csv",r.pbiFileExtension="pbix",t.ContentProviderLocalFileController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){var i=this;this.registerValidator=function(e){return i.validators.push(e),function(){_.remove(i.validators,(function(t){return t===e}))}},this.synchronizeValidation=function(){i.validators.forEach((function(e){return e()}))},this.validators=[]}return e})();e.CustomValidatorSynchronizerController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.common.constants,r=e.dataServices.models.ContentPackItems,a=e.services.FullScreenFitStyle,n=e.common.constants.TaskPaneCollapsiblePaneMode,s=e.dataServices.TileUtils,c=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.scope.scrollbarsConfig={ignoreOverlay:!1,ignoreMobile:!1},this.scope.tileTrackerFn=function(e){return s.tileTrackerFn(e,o.scope.viewModel.objectId)},this.scope.useCustomScrollbar=function(){return 0!==o.scope.displayLayout&&1===o.scope.mobileLayout},this.scope.fullScreen=this.services.fullScreen,this.scope.permissionServices=this.services.permissionService,this.scope.showReloadDashboard=!1,this.scope.filteredTiles=function(){return o.filteredTiles()},this.scope.removeTileFromMobileView=function(e){return o.removeTileFromMobile(e)},this.scope.canEditTiles=function(){return o.canEditTiles()},this.scope.gridLayoutChangeHandler=function(e){return o.onGridLayoutChanged(e)};var r=this.services.rootScope.$on(e.constants.openTileEventName,(function(e,t){return o.onOpenTile(e,t)})),n=this.services.rootScope.$on(e.constants.temporaryTilePinned,(function(e){return o.beginTemporaryTileFlow(e)})),c=this.scope.$on(e.constants.removeTileEventName,(function(e,t){return o.onRemoveTile(e,t)})),l=this.services.rootScope.$on(e.constants.loadDashboardFailed,(function(){o.scope.showReloadDashboard=!0})),d=this.scope.$on(e.constants.refreshTileData,(function(e,t){var i=o.services.dashboardDataService.activeDashboard;i&&o.services.dashboardService.refreshTileData(i.id,t)})),p=function(){switch(o.scope.fullScreen.fitStyle){case a.FitToContent:o.scope.scaleDashboard();break;case a.FitToWidth:o.scope.scaleDashboard(!0)}};$(this.services.$window).on("resize",p),this.scope.$on("$destroy",(function(){o.scope.onDestroy&&o.scope.onDestroy(),r(),c(),n(),d(),l(),$(o.services.$window).off("resize",p)})),this.scope.reloadActiveDashboard=function(){return o.reloadActiveDashboard()},this.services.dashboardDataService.InEditMobileLayoutMode=this.scope.inEditMobileLayoutMode,this.scope.$watch("viewModel.isLoaded",(function(t){t&&e.helpers.TrustedVisualUtil.acquireTrustedVisuals(o.scope.viewModel,o.services.trustedVisual).then((function(e){return o.reloadTrustedVisuals(e)}))}))}return t.createOptions=function(){return{additionalServices:["dashboardDataService","dashboardHttpService","dashboardService","errorService","modalDialogService","modelConverter","navigation","telemetryService","userSettingsService","visualPlugin","$element","localizationService","fullScreen","permissionService","$window","featureSwitchService","promiseFactory","trustedVisual","taskPaneSliderService"]}},t.prototype.reloadTrustedVisuals=function(t){_.isEmpty(t)||(this.services.visualPlugin.ensureTrustedVisualPlugins(t),this.services.rootScope.$emit(e.constants.reloadEmptyVisuals,{visualTypes:t.map((function(e){return e.name}))}))},t.prototype.onOpenTile=function(t,i){t&&t.stopPropagation&&t.stopPropagation();var o=this.scope.viewModel;this.scope.$emit(e.constants.actualOpenTileEventName,i,o.id)},t.prototype.beginTemporaryTileFlow=function(e){e&&e.stopPropagation&&e.stopPropagation();var t=n.TileEditor,o=this.services,r=o.dashboardDataService.selectedDashboardTile;r&&r.tileModel.realTime&&(t=n.RealTimeBlade),this.services.taskPaneSliderService.expandPane(t,i.Large)},t.prototype.onRemoveTile=function(t,i){var o=this,a=this.scope.viewModel,n=a.contract,s=this.services.telemetryService.startEvent(e.telemetry.DashboardDeleteTile);this.deleteTile(i.id),this.services.dashboardHttpService.deleteTile(n,i.id,s.event).then((function(){a&&(o.updateDashboardContract(i,a),a.isUsedByContentPack&&o.services.rootScope.$emit(e.constants.contentPackDirtyShowNotification,a.id,r.Dashboard),a.hasModel(i.contract.modelId)||o.services.dashboardService.updateDashboardToken(a),s.resolve())}),(function(){s.reject()}))},t.prototype.updateDashboardContract=function(e,t){if(t&&e.report){var i=e.report.id,o=_.filter(t.tiles,(function(e){if(e.report)return e.report.id===i}));if(o&&0===o.length&&t.contract.reportIds){var r=t.contract.reportIds.indexOf(i);r!==-1&&this.services.modelConverter.updateDashboardsReportContract(r,t.contract)}}if(t&&e.contract&&e.contract.workbookId){var a=e.contract.workbookId,o=_.filter(t.tiles,(function(e){return!!e.contract&&e.contract.workbookId===a}));if(o&&0===o.length&&t.contract.workbookIds){var n=t.contract.workbookIds.indexOf(a);n!==-1&&this.services.modelConverter.removeDashboardsWorkbookContract(n,t.contract)}}},t.prototype.deleteTile=function(e){var t=this.scope.viewModel;this.services.dashboardDataService.deleteTile(t.id,e)},t.prototype.canEditDashboard=function(e){return e.canEdit&&!this.services.permissionService.isActiveWorkspaceIsReadOnly&&!this.services.fullScreen.fullScreenMode},t.prototype.canEditTiles=function(){return this.scope.viewModel.canEdit&&!this.scope.permissionServices.isActiveWorkspaceIsReadOnly&&!this.scope.fullScreen.fullScreenMode},t.prototype.onGridLayoutChanged=function(t){return this.scope.$emit(e.common.constants.domLayoutChangedEvent),this.services.dashboardService.batchUpdateTileSizePosition(this.scope.viewModel,t)},t.prototype.filteredTiles=function(){var e=this.scope.viewModel&&this.scope.viewModel.tiles;if(_.isEmpty(e))return[];this.scope.enableStrategySwap&&this.swapLayoutIfNeeded();var t=this.scope.displayLayout||0;return 0===t?e:_.filter(e,(function(e){return e.hasLayoutPosition(t)}))},t.prototype.swapLayoutIfNeeded=function(){var t=this.scope.viewModel.gridLayoutService;if(t){var i=this.scope.viewModel,r=_.any(i.tiles,(function(e){return e.hasLayoutDefinition(1)}));(t.strategy instanceof e.dataServices.models.PhonePortraitTileLayoutStrategy&&r||t.strategy.isDynamic()&&!r)&&this.scope.$emit(o.needStrategySwapEventName)}},t.prototype.removeTileFromMobile=function(e){if(1===this.scope.displayLayout&&e.gridLayoutContext){var t=[];t.push(e.removeLayoutPosition()),this.services.dashboardService.batchUpdateTileSizePosition(this.scope.viewModel,t)}},t.prototype.reloadActiveDashboard=function(){this.scope.showReloadDashboard=!1,this.services.dashboardService.loadDashboard(this.scope.viewModel.id)},t})();t.DashboardController=c})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.scope=e,this.services=t,this.initialize()}return e.createOptions=function(){return{additionalServices:["errorService","navigation","telemetryService","localizationService"]}},e.prototype.initialize=function(){var e=this;this.scope.switchToDashboardView=function(){return e.switchToDashboardView()}},e.prototype.switchToDashboardView=function(){this.services.navigation.navigateBack()},e})();e.DevToolsViewController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e){var t=this;this.scope=e,this.scope.chooseFormat=function(e){return t.chooseFormat(e)},this.scope.inProgress=!1}return t.prototype.chooseFormat=function(t){this.scope.inProgress=!0,this.scope.$emit(e.constants.uploadFormatChosenEventName,t)},t})();t.ExcelUploadFormatController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i=e.common.constants,o=(function(){function e(e,t){var i=this;this.scope=e,this.services=t,this.scope.$on("$destroy",(function(){i.unRegisterDirtyStateNavigationHandler()}))}return e.prototype.unRegisterDirtyStateNavigationHandler=function(){this.reportChangedEventHandler&&(this.resetRouteChangeListeners(),this.reportChangedEventHandler())},e.prototype.registerDirtyStateNavigationHandler=function(){var e=this;this.unRegisterDirtyStateNavigationHandler(),this.reportChangedEventHandler=this.services.rootScope.$on(i.onReportChangedEventName,(function(t,o){e.resetRouteChangeListeners(),e.reportChanged=o&&(e.scope.viewModel.isEditing||1===e.services.viewModeState.getMode()),e.services.checkUnsavedService.setReportSavedState(o),e.reportChanged&&(e.routeStateChangeEvent=e.services.rootScope.$on(i.navigation.stateChangeStart,(function(t,o,r,a,n){a.name!==i.navigation.states.report&&a.name!==i.navigation.states.reports&&a.name!==i.navigation.states.reportPage&&a.name!==i.navigation.states.dashboardReport&&a.name!==i.navigation.states.dashboardReports&&a.name!==i.navigation.states.dashboardReportPage&&a.name!==i.navigation.states.dataset&&a.name!==i.navigation.states.datasets&&a.name!==i.navigation.states.sharedDashboardReports&&a.name!==i.navigation.states.sharedDashboardReports&&a.name!==i.navigation.states.sharedDashboardReportPage||(e.showSavePrompt(o,r),t.preventDefault())})))}))},e.prototype.resetRouteChangeListeners=function(){this.routeStateChangeEvent&&(this.routeStateChangeEvent(),this.routeStateChangeEvent=null)},e.prototype.navigateAway=function(e,t){var i=this;this.services.rootScope.$applyAsync((function(){e&&e.name&&i.services.navigation.stateService.go(e.name,t)}))},e.prototype.showSavePrompt=function(e,t,i,o){},e.prototype.getSaveDialogTemplate=function(){var e=this,t="";return this.services.localizationService.ensureLocalization((function(){t='<div class="explorationSaveDialog"><div class="title">'+e.services.localizationService.get("ReportContainer_UnsavedChangeWarningTitle")+'</div><div class="message">'+e.services.localizationService.get("ReportContainer_UnsavedChangeWarningMessage")+"</div></div>"})),$(t)},e})();t.ExplorationContainerBaseController=o})(i=t.controllers||(t.controllers={}))})(t=e.common||(e.common={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.ArrayExtensions,o=e.common.constants,r=e.common.events,a=e.dataServices.models.ContentPackItems,n=e.explore.contracts.DataSource,s=e.errorDetailsHelper,c=e.explore.services.events,l=e.explore.constants.explorationClearedEventName,d=e.explore.constants.explorationLoadedEventName,p=e.explore.util.ExplorationTrustedVisualUtil,u=e.common.dialogs.FeatureNotSupportedDialogBuilder,v=jsCommon.JsonExtensions,h=e.common.constants.onReportChangedEventName,g=e.common.contracts.Permissions,f=e.explore.constants.pinVisualContainerEventName,m=e.explore.ScopeUtils,b=e.explore.util.ScriptVisualsUtil,y=e.explore.SectionUtils,S=e.explore.viewModels.ViewModelFactory,C=e.explore.viewModels,w=e.explore.util.VisualContainerUtils,I=e.dialogs.ExportDataDialogBuilder,D=(function(t){function D(i,a){var n=t.call(this,i,a)||this;n.changeToEditMode=function(t){var i=n.scope.viewModel,r=t?1:0;n.services.viewModeState.setMode(r),t&&(i.taskPane.isPaneExpanded=!0,i.visualizationPane.isPaneExpanded=!0),n.displayCustomVisualWarning(t);var a=b.getVisualStasInExploration(n.exploration,n.services.scriptVisuals);t||n.logRTelemetry(e.telemetry.EXLoadReportWithScriptVis,a),n.services.rootScope.$emit(e.common.constants.navigation.stateChangeStart,{},{},{name:o.navigation.states.reportPage},{}),i.isNavPaneCollapsed=!t,n.services.eventBridge.publishToChannel(c.changeViewMode,r)},n.scope.$on("destroy",(function(){n.modalDialogPromise&&n.modalDialogPromise.pending&&n.modalDialogPromise.reject("ExplorationContainerController destroyed")})),n.scope.$on(e.explore.constants.exploreCanvasVisualRendered,(function(){n.resolveOpenExplorationTelemetryEvent()})),n.scope.viewModeState=n.services.viewModeState,n.isSaveDialogOpened=!1,n.warningBarNotified=!1,m.defineDataSourcesOnScopeLegacy(n.scope,n.services.dataSources);var s=C.createFieldListViewModelFactory(C.createFieldListMenuItemFactory(n.services.localizationService,n.services.featureSwitchService),C.createFieldListPropertyTemplateGenerator(),n.services.localizationService,n.services.featureSwitchService);n.scope.fieldListConfig={viewModelFactory:s,alwaysHasActiveItem:!0},n.initialize(n.scope.viewModel),n.unregisterViewModelWatch=n.scope.$watch("viewModel",(function(e){n.initialize(e)}));var l=n.services.rootScope.$on(r.loadPowerViewReportEventName,(function(e,t){e.stopPropagation(),n.onLoadPowerViewReport(t)})),d=n.services.rootScope.$on(r.refreshReportData,(function(e){e.stopPropagation(),n.onRefreshReportData()})),p=n.services.eventBridge.setBubblingScope(i).subscribe(c.saveExploration,(function(e,t){return n.save(e,t)})).subscribe(c.saveAsExploration,(function(e,t){return n.saveAs(e,t)})).subscribe(c.generateReportQR,(function(e){return n.generateQR(e)})).subscribe(c.refreshExploration,(function(e){return n.refresh(e)})).subscribe(c.deleteVisual,(function(e,t){return n.deleteVisual(e,t)})).subscribe(c.deleteCustomVisuals,(function(e){return n.deleteCustomVisuals(e)})).subscribe(c.pauseQueriesChanged,(function(e){return n.pauseQueriesChanged(e)})).subscribe(c.showErrorNotification,(function(e,t){return n.showErrorNotification(e,t)})).subscribe(c.exportToPowerPoint,(function(e){return n.exportToPowerPoint(e)})).subscribe(c.exportAsImage,(function(e){return n.exportAsImage(e)})),u=n.services.eventBridge.createChannelSubscriptionManager().subscribe(c.sectionChanged,(function(e,t){return n.onSectionChange(t)})).subscribe(c.requestViewModeChange,(function(e,t){return n.onRequestViewModeChange(t)})).subscribe(c.addCustomVisual,(function(e,t){return n.onAddCustomVisual(e,t)})).subscribe(c.saveKeyPressedEvent,(function(e){return n.saveOnKeypress(e)})).subscribe(c.deleteSectionInitiated,(function(e,t){return n.onDeleteSection(t)})).subscribe(c.addVisualContainer,(function(e,t){return n.onAddVisualContainer(e,t)})).subscribe(c.importVisual,(function(e){return n.importVisual(e)})).subscribe(c.visualRelationshipsModeChanged,(function(e){n.services.viewModeState.updateConfig((function(e){e.showRelationships=!e.showRelationships}))})).subscribe(c.exportVisualData,(function(e,t){return n.exportVisualData(e,t)})).subscribe(c.popOutModeChanged,(function(){var e=!!n.services.popOut.getPoppedOutVisualContainer();!!n.isPopOutMode===e||n.isActiveSectionTransient?n.isPopOutMode=e:(n.isPopOutMode=e,n.updateNavigationPaneVisibility())})).subscribe(c.createBasicShape,(function(e,t){return n.onCreateBasicShape(e,t)})).subscribe(c.createTextbox,(function(e){return n.onCreateTextbox(e)})).subscribe(c.refreshExploration,(function(e){return n.refresh(e)})).subscribe(c.deleteCustomVisual,(function(e,t){return n.onDeleteCustomVisual(t)})).subscribe(c.newQueryCacheResultAvailable,(function(e,t){return n.onNewQueryCacheResultAvailable(e,t)}));n.services.pinVisual.setHandler({pinVisual:function(e){n.pinVisual(e)}}),n.services.connectionSetupService=e.explore.services.createConnectionSetupService(n.services.conceptualSchemaProxy,n.services.dataProxy,n.services.visualAuthoring,n.services.visualQueryGenerator),$(window).on(jsCommon.DOMConstants.beforeUnload,(function(){return n.onWindowUnload()}));var v=n.services.rootScope.$on(e.constants.saveReportFromPinDialog,(function(t,i){n.saveAsInternalWithName(i).then((function(){var t=n.services.reportService.findReport(n.reportId);t||n.services.reportService.addReport(n.services.modelConverter.convertReport({id:n.reportId,permissions:e.common.contracts.Permissions.All|e.common.contracts.Permissions.Explore})),t=n.services.reportService.findReport(n.reportId),t.isNew=!0,n.services.pinTileService.setSavedReport(t)}))})),h=n.services.rootScope.$on(c.showErrorNotification.name,(function(e,t,i,o){n.showErrorNotificationWithModel(i,t,o)}));n.scope.fullScreen=n.services.fullScreen,n.scope.featureSwitchService=n.services.featureSwitchService,n.scope.isFooterVisible=function(){return n.isFooterVisible()},n.scope.isVisualizationPaneVisible=function(){return n.isVisualizationPaneVisible()},n.scope.$watch("fullScreen.fullScreenMode",(function(e){n.onFullScreenChange(e)}));var g=n.scope.$on(o.navigation.stateChangeSuccess,(function(e,t,i,o,r){return n.handleStateChange(e,t,i,o,r)}));return n.scope.$on("$destroy",(function(){n.removeKeyHandler(),l(),g(),v(),h(),n.unregisterViewModelWatch&&n.unregisterViewModelWatch(),d(),p.unsubscribeAll(),u.unsubscribeAll()})),n.embedTypeDescription=n.services.embedModeService.getEmbedTypeDescription(),n}return __extends(D,t),D.createOptions=function(){return{additionalServices:["checkUnsavedService","conceptualSchemaProxy","dashboardService","dataProxy","embedModeService","errorService","explorationProxy","explorationSerializer","exportStaticExplorationService","exportToPowerPoint","featureSwitchService","fullScreen","gatewaysMetadataService","groupService","linguisticSchemaProxy","localizationService","modalDialogService","modelConverter","modelHttpService","moduleLoader","navigation","notificationBar","notificationToast","overlayService","packageService","pbiLazyLoad","permissionService","pinTileService","promiseFactory","qrCodeService","reportService","modelService","resourceGateService","resourcePackagesService","selectGatewayService","quota","telemetryService","themeService","userInfo","visualStylePresetService","auditing","mostRecentlyUsedService","userActivityContextService","userSettingsService","trustedVisual","subscription"],scopedServiceRoot:!0,scopedDependencies:["canvasKeyHandler","clipboard","colorPicker","dataSources","deleteVisual","drillToDetails","eventBridge","explorationCapabilities","explorationNavigation","exportData","filterGenerator","formFactor","importVisual","layoutAuthoring","modelChangeHandler","pinVisual","popOut","registeredResourceReferences","resourceLoader","resourceRegistration","scriptVisuals","selection","sort","undoRedo","viewModeState","visualAuthoring","visualPlugin","visualQueryGenerator"]}},D.prototype.isFooterVisible=function(){var e=this.scope.viewModel;return!!e&&(e.options.showNavContentPane&&!this.services.viewModeState.getConfig().displayOptions.hideNavigationPane)},D.prototype.isVisualizationPaneVisible=function(){var e=this.scope.viewModel;return!!e&&(e.options.showVisualizationPane&&!this.services.viewModeState.getConfig().displayOptions.hideVisualizationPane)},D.prototype.showOptionsDialog=function(t){var i=this,o="exportDataDialog",r=[{name:this.services.localizationService.get("ModalDialog_ExportDataFormatXL"),action:function(){return 1===i.services.exportData.getExportDataToExcelUnsupportedType(t.visualConfig,i.scope.viewModel.datasetModel)?void(i.modalDialogPromise=new u(i.services.modalDialogService).show("ExlFormat_UnsupportedDatasetDialogTitle","ExlFormat_ToolTipDescription_AsOnPrem","https://go.microsoft.com/fwlink/?linkid=834313")):void i.exportVisualDataToFile(t,1,0)}},{name:this.services.localizationService.get("ModalDialog_ExportDataFormatCsv"),action:function(){i.exportVisualDataToFile(t,0,0)}}];this.services.modalDialogService.showActionSelectionDialog(this.services.localizationService.get("ModalDialog_ExportDataTitle"),this.services.localizationService.get("ModalDialog_ExportDataText"),o,r,this.services.localizationService.get("ModalDialogButtonText_Export"),this.services.localizationService.get("PBI_Button_Label_Cancel")),this.services.telemetryService.logEvent(e.telemetry.EXExportVisualDataDialogShown)},D.prototype.showExportDataDialogFromVisual=function(t,i){var o,r=this,a=new I(this.services.modalDialogService,this.services.localizationService),n=this.services.exportData.getExportDataToExcelUnsupportedType(t.visualConfig,this.scope.viewModel.datasetModel);0===n&&(o=this.services.drillToDetails.getDetailsTableTargetMeasure(t.visualConfig));var s=!!o;a.show(n,s).then((function(e){e&&r.exportVisualDataToFile(t,e.format,e.dataType,o)})),i&&this.services.telemetryService.logEvent(e.telemetry.EXExportVisualDataDialogFromVisualIsShown)},D.prototype.isVisualInSeeRecordsMode=function(e){return w.hasGroupByItems(e)},D.prototype.exportVisualData=function(e,t){e.stopPropagation();var i=this.services.featureSwitchService.featureSwitches,o=this.services.explorationCapabilities.getCapabilities();i.exportVisualToExcelEnabled&&!o.disableExportToExcel?this.isVisualInSeeRecordsMode(t.visualConfig.query)?this.showOptionsDialog(t):i.enableExportDataNewDialog?this.showExportDataDialogFromVisual(t,!0):this.exportVisualDataToFile(t,0,0):this.exportVisualDataToFile(t,0,0)},D.prototype.exportVisualDataToFile=function(t,i,o,r){var a,n=this.services.dataSources.get(),s=this.services,c=s.userInfo.isPremiumUser,l=s.telemetryService.startEvent(e.telemetry.EXExportVisualData,t.visualConfig.visualType,e.telemetry.ExportVisualSource.Report,!1,i,c,this.isVisualInSeeRecordsMode(t.visualConfig.query),o),d=1===o;a=0===i?s.exportData.exportVisualDataToCsv(t.visualTitle,t.dataViewSource,n,t.visualConfig,t.transformActions,t.additionalFilters):s.exportData.exportVisualDataToExcel(t.visualTitle,n,t.visualConfig,t.additionalFilters,d,r),a.then((function(e){l.event.info.isPartialResult=e.isPartialResult,l.resolve()}),(function(e){l.reject({errorCode:e.error.toString()})})),this.services.auditing.auditEvent(this.reportId,e.common.contracts.AuditEntityType.Report,e.common.contracts.AuditActivityType.exportReportTile)},D.prototype.exportToPowerPoint=function(e){e.stopPropagation();var t=this.services.reportService.findReport(this.reportId),i={reportId:this.reportId,filename:t.displayName,reportSectionsNumber:this.exploration&&this.exploration.sections?this.exploration.sections.length:void 0};this.services.exportToPowerPoint.exportToPowerPoint(i)},D.prototype.exportAsImage=function(e){e.stopPropagation();var t=this.services.reportService.findReport(this.reportId),i=this.services.explorationNavigation.getCurrentSection().name;this.services.exportStaticExplorationService.exportToPng(t.displayName,t.objectId,i)},D.prototype.onDeleteSection=function(t){var i=this;if(t.supportMinervaDialog){var o=t.sectionIndex,r=this.services.rootScope.$new(),a=this.scope.viewModel,n=this.services.errorService.control(),s=[new InJs.ModalDialogAction(this.services.localizationService.get("ExplorationNavigationTab_Delete"),function(t,r){n.hideDialog(),i.services.rootScope.$emit(e.explore.constants.deleteSectionEvent,o)}),new InJs.ModalDialogAction(this.services.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){n.hideDialog()})];r.message=this.services.localizationService.get("ExplorationNavigationTab_DeleteWarningMessage");var c=a&&a.exploration&&a.exploration.sections&&a.exploration.sections[o]&&a.exploration.sections[o].contract?a.exploration.sections[o].contract.id:void 0,l=void 0;this.services.dashboardService.hasTileForReportandSection&&(l=this.services.dashboardService.hasTileForReportandSection(c));var d=void 0,p=void 0;l&&(d=jsCommon.ModalDialogNotificationType.Warning,p=this.services.localizationService.get("PinLiveReport_DeleteSectionWarning"));var u={dialogName:this.services.localizationService.get("ExplorationNavigationTab_DeleteWarningTitle"),isDismissable:!0,scope:r,template:"<custom-modal-dialog></custom-modal-dialog>",dialogCssClass:"customModalDialog",dialogActions:s,notificationType:d,notificationText:p};this.services.modalDialogService.showLegacyWebModalDialog(u)}},D.prototype.onNewQueryCacheResultAvailable=function(t,i){var o=this.scope.viewModel.exploration,r=this.services.explorationCapabilities.getCapabilities();o&&!r.disableCacheUpdates&&(this.visualContainerQueryUpdater||(this.visualContainerQueryUpdater=new e.helpers.VisualContainerQueryUpdater(o.contract.id,this.services.explorationProxy)),this.visualContainerQueryUpdater.onNewQueryCacheResultAvailable(i)),t.stopPropagation&&t.stopPropagation()},D.prototype.initialize=function(e){if(this.scope.explorationContainerOptions&&this.services.explorationCapabilities.setCapabilities(this.scope.explorationContainerOptions),e){e.showSpinner=!0,e.options||(e.options=this.services.explorationCapabilities.getCapabilities());var t=e.options;this.explorationNotificationIds=[];var i=this.services.featureSwitchService;this.services.viewModeState.updateConfig((function(e){e.supportsPinning=!t.visualContainerOptions.disablePin,e.supportsDeletion=!0,e.supportsExportData=!t.disableExport&&i.featureSwitches.exportDataEnabled})),e.shouldHideFilterPane&&(e.options.showVisualizationPane=!1),e.options.showAppBar=!e.shouldHideAppBar&&t.showAppBar,this.isPopOutMode&&this.services.popOut.clearPopOut(),this.updateNavigationPaneVisibility(),e.shouldHideTileMenu&&(e.options.visualContainerOptions.hideHeader=!0),e.options.overrideDisplayOption=e.overrideDisplayOption||e.options.overrideDisplayOption,e.options.disableViewRelatedContent=!1}},D.prototype.notifyIfModelRefreshDisabledBySelectiveRefresh=function(){var t=this.services;if(t.featureSwitchService.featureSwitches.selectiveModelRefresh){var i=this.scope.viewModel.datasetModel;if(i&&i.isRefreshDisabledDueToInactivity()){var o={notificationName:"inactiveModelRefreshDisabled",notificationId:t.notificationBar.notify({message:t.localizationService.get("Notification_InactiveModelRefreshDisabled"),notificationType:e.common.NotificationBarType.Warning,secondaryLink:{displayText:t.localizationService.get("LearnMore"),urlString:e.constants.configureScheduledRefreshLink}})};this.addNotification(o)}}},D.prototype.deleteVisual=function(e,t){var i=this.services.rootScope.$new(),o=this.scope.viewModel.exploration.contract;i.deleteVisualService=this.services.deleteVisual,i.errorService=this.services.errorService,i.explorationContract=o,i.customVisuals=[t.visual],i.deleteVisualButtonText=this.services.localizationService.get("DeleteVisual_Delete");var r=this.getCustomVisualContainerCount(t.visual);r>0?i.deleteVisualWarningText=this.services.localizationService.format("DeleteVisual_CustomVisualUsedMessage",[r]):i.deleteVisualWarningText=this.services.localizationService.format("DeleteVisual_CustomVisualNotUsedMessage",[r]);var a={dialogName:this.services.localizationService.get("DeleteVisual_DialogHeader"),isDismissable:!0,scope:i,template:"<delete-visual-warning-dialog></delete-visual-warning-dialog>",dialogCssClass:"deleteVisualWarning"};this.services.modalDialogService.showLegacyWebModalDialog(a),e.stopPropagation()},D.prototype.deleteCustomVisuals=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i,o,r,a;return __generator(this,(function(n){switch(n.label){case 0:return i=this.services.rootScope.$new(),o=this.scope.viewModel.exploration.contract,i.deleteVisualService=this.services.deleteVisual,i.errorService=this.services.errorService,i.localizationService=this.services.localizationService,i.modalDialogService=this.services.modalDialogService,i.explorationContract=o,r={selectedVisualCount:0,customVisuals:[]},r.customVisuals=S.getCustomVisualTypes(this.services.visualPlugin.getConvertibleVisuals()),this.getCustomVisualsTileCounts(r.customVisuals),i.viewModel=r,t.stopPropagation(),[4,this.services.pbiLazyLoad.load(e.explore.modules.ExploreUIShellModule)];case 1:return n.sent(),a={dialogName:this.services.localizationService.get("DeleteVisuals_DialogHeader"),isDismissable:!0,scope:i,template:"<delete-custom-visuals-dialog></delete-custom-visuals-dialog>",dialogCssClass:"deleteCustomVisuals"},this.services.modalDialogService.showLegacyWebModalDialog(a),[2]}}))}))},D.prototype.importVisual=function(e){var t=this.services.rootScope.$new();t.importVisualService=this.services.importVisual,t.errorService=this.services.errorService,t.explorationContract=this.scope.viewModel.exploration.contract;var i={dialogName:this.services.localizationService.get("ImportVisual_CautionDialogHeader"),isDismissable:!0,scope:t,template:"<import-visual-warning-dialog></import-visual-warning-dialog>",dialogCssClass:"importVisualWarning"};this.services.modalDialogService.showLegacyWebModalDialog(i),e.stopPropagation()},D.prototype.onAddCustomVisual=function(e,t){this.services.undoRedo.clear();var o=this.scope.viewModel.exploration.contract.resourcePackages;o?o.withName(t.name)||o.push(t):o=this.scope.viewModel.exploration.contract.resourcePackages=i.createWithName(),this.services.resourcePackagesService.registerPackages([t]),e.stopPropagation()},D.prototype.onDeleteCustomVisual=function(e){var t=[];this.scope.viewModel.exploration.sections.forEach((function(i){i.contract.visualContainers.forEach((function(i){i.config.singleVisual.visualType===e.visual.name&&t.push(i)}))})),this.services.visualAuthoring.deleteVisualContainers(t,this.scope.viewModel.exploration),this.services.rootScope.$emit(o.onReportChangedEventName,!0)},D.prototype.onCreateTextbox=function(e){this.onAddVisualContainer(e,{visualType:"textbox",telemetrySource:4})},D.prototype.onCreateBasicShape=function(e,t){this.services.visualAuthoring.addVisualContainerBasicShape(this.scope.viewModel.exploration.exploreCanvas,t.shapeType,null)},D.prototype.onAddVisualContainer=function(t,i){e.explore.util.CanvasVisualsUtility.addVisualContainerToCanvas(i,this.scope.viewModel.exploration.exploreCanvas,this.services.dataSources.get(),this.services.visualAuthoring,this.services.telemetryService),t.stopPropagation&&t.stopPropagation()},D.prototype.onWindowUnload=function(){if(this.reportChanged&&1===this.services.viewModeState.getMode())return this.services.localizationService.get("ReportContainer_WindowUnload")},D.prototype.onFullScreenChange=function(e){if(this.scope.viewModel&&this.scope.viewModel.options){var t=this.scope.viewModel.options;e?(this.services.navigation.inReportDetailView()&&1===this.services.viewModeState.getMode()&&this.onRequestViewModeChange(0),this.oldOptions=_.cloneDeep(this.scope.viewModel.options),t.visualContainerOptions.showPin=!1,t.showAppBar=!1,t.showTaskPane=!1,t.showVisualizationPane=!this.services.navigation.inReportEmbedView(),this.isReportInEmbedView=this.services.navigation.inReportEmbedView(),this.updateNavigationPaneVisibility(!1)):this.oldOptions&&(this.services.explorationCapabilities.setCapabilities(this.oldOptions),t=this.services.explorationCapabilities.getCapabilities(),t.visualContainerOptions.disablePin=!this.scope.viewModel.canEdit,this.oldOptions=null)}},D.prototype.showUnsupportedVisualSaveError=function(){this.services.errorService.infoCustom(this.services.localizationService.get("ExploreCompatibility_UnsupportedVisualSaveErrorTitle"),this.services.localizationService.get("ExploreCompatibility_UnsupportedVisualSaveErrorMessage"))},D.prototype.showSavePrompt=function(t,i,o,r){var a=this,n=this.services.errorService.control();_.isFunction(r)||(r=_.noop);var s=[new InJs.ModalDialogAction(this.services.localizationService.get("ReportContainer_Save"),function(o,s){if(n.hideDialog(),a.isSaveDialogOpened=!1,e.helpers.ReportUtility.HasUnsupportedExploreVisuals(a.scope.viewModel.exploration.contract,a.services.visualPlugin))a.showUnsupportedVisualSaveError();else{var c=a.services.promiseFactory.defer();a.triggerSaveOrSaveAs(c),c.promise.then((function(){r(),a.navigateAway(t,i)})).finally((function(){a.hideSaveMask()}))}}),new InJs.ModalDialogAction(this.services.localizationService.get("ReportContainer_Dontsave"),function(e,o){r(),n.hideDialog(),a.services.rootScope.$emit(h,!1),a.navigateAway(t,i),a.isSaveDialogOpened=!1}),new InJs.ModalDialogAction(this.services.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){n.hideDialog(),a.isSaveDialogOpened=!1})];this.isSaveDialogOpened===!1&&(n.showCustomDialog(null,this.getSaveDialogTemplate(),s,null,!0,null,null,null,(function(){
a.isSaveDialogOpened=!1})),this.isSaveDialogOpened=!0)},D.prototype.removeKeyHandler=function(){this.currentKeyHandler&&($(window).off("keydown",this.currentKeyHandler),this.currentKeyHandler=void 0)},D.prototype.addKeyHandler=function(){var e=this;this.currentKeyHandler||(this.currentKeyHandler=function(t){if(e.scope.viewModel&&e.scope.viewModel.exploration&&!$(t.target).is(jsCommon.DOMConstants.EditableTextElements)&&!$(t.target).is(jsCommon.DOMConstants.EditableNumericElements))return e.services.canvasKeyHandler.onKeyDown(t,e.scope.viewModel.exploration.exploreCanvas)},$(window).on("keydown",this.currentKeyHandler))},D.prototype.handleStateChange=function(e,t,i,o,r){this.scope.viewModel.showSpinner=!0,this.hideAllExplorationWarnings();var a=this.services.navigation.inReportView()||this.services.navigation.inDatasetView();a||(this.removeKeyHandler(),this.clearExploration()),this.services.overlayService.hideAllDropdowns()},D.prototype.pinVisual=function(t){if(t){var i=this.services.explorationNavigation.getCurrentSection().name;t.reportId=this.reportId,this.scope.dataSources.length>0&&(t.modelId=this.scope.dataSources[0].id,t.packageId=this.packageId);var o;this.services.featureSwitchService.featureSwitches.usageMetricsEnabled&&this.belongsToUsageMetricsContentPack()&&(o=this.services.navigation.additionalODataFilter),t.action={action:e.common.constants.openReportActionName,targetSlideId:i,filter:o},this.services.rootScope.$emit(f,t)}},D.prototype.onSectionChange=function(e){this.services.navigation.updateReportStateNoReload(this.services.navigation.currentReportGUID,this.services.navigation.currentReportOriginalGUID,e.name,!1,2);var t=this.scope.viewModel.exploration.contract;this.services.layoutAuthoring.updateExplorationActiveSectionIndex(t,e.name,this.services.navigation.currentReportGUID,this.services.groupService.activeGroupObjectId);var i=this.services.explorationNavigation.getCurrentSection(),o=i&&i.transient;!!this.isActiveSectionTransient==!!o||this.isPopOutMode?this.isActiveSectionTransient=o:(this.isActiveSectionTransient=o,this.updateNavigationPaneVisibility())},D.prototype.logRTelemetry=function(e,t){this.scope.viewModel.options.disableLogRTelemetry||this.services.telemetryService.logEvent(e,t.totalVisualsCount,t.scriptVisualsUniqueIds.length,JSON.stringify(t.scriptVisualsUniqueIds),this.services.userInfo.userLicense())},D.prototype.onRequestViewModeChange=function(e){var t=this,i=1===e;i&&!this.scope.viewModel.canEdit||(this.reportChanged?this.showSavePrompt({},o.navigation.states.reportPage,"",(function(){t.changeToEditMode(i)})):this.changeToEditMode(i))},D.prototype.hideAllExplorationWarnings=function(){for(var e=this.explorationNotificationIds;e.length>0;)this.services.notificationBar.hide(e.pop().notificationId);this.explorationNotificationIds=[]},D.prototype.hideExplorationWarning=function(e){for(var t=this.explorationNotificationIds,i=0,o=t;i<o.length;i++){var r=o[i];if(e&&r.notificationName===e){this.services.notificationBar.hide(r.notificationId),t.splice(t.indexOf(r),1);break}}this.explorationNotificationIds=t},D.prototype.isNotificationShown=function(e){for(var t=this.explorationNotificationIds,i=0,o=t;i<o.length;i++){var r=o[i];if(e&&r.notificationName===e)return r.notificationId}},D.prototype.addNotification=function(e){e&&(this.isNotificationShown(e.notificationName)&&this.hideExplorationWarning(e.notificationName),this.explorationNotificationIds.push(e))},D.prototype.createCustomVisualWarningHelper=function(t,i){var o=this;if(this.scope.viewModel.options.customVisualsAlwaysEnabled)t&&this.onEnsureCustomViz(t.resourcePackages,i);else if(!this.warningBarNotified){this.warningBarNotified=!0,this.services.telemetryService.logEvent(e.telemetry.EXLoadReportWithCustomViz,this.embedTypeDescription);var r={notificationName:"lastEnableCustomVizNotifyId",notificationId:this.services.notificationBar.notify({message:this.services.localizationService.get("OpenReport_EnableCustomVisualWarningMessage"),notificationType:e.common.NotificationBarType.Warning,actions:[{displayText:this.services.localizationService.get("OpenReport_EnableCustomVisualButton"),linkId:1,action:function(){o.services.resourceGateService.addResourcePackageIdToDashboard(t.id.toString(),t.resourcePackages.map((function(e){return e.id.toString()}))),o.onEnsureCustomViz(t.resourcePackages,i)}}],secondaryLink:{displayText:this.services.localizationService.get("LearnMore"),urlString:"https://go.microsoft.com/fwlink/?LinkID=627490"}})};this.addNotification(r)}},D.prototype.createCustomVisualWarning=function(e,t){this.services.resourceGateService.shouldShowWarning(e.resourcePackages.map((function(e){return e.id.toString()})),e.id.toString())?this.createCustomVisualWarningHelper(this.exploration,t):this.onEnsureCustomViz(e.resourcePackages,t)},D.prototype.updateNavigationPaneVisibility=function(e){void 0===e&&(e=!0),e&&(this.isPopOutMode||this.isActiveSectionTransient?this.oldOptions=_.cloneDeep(this.scope.viewModel.options):this.oldOptions&&(this.services.explorationCapabilities.setCapabilities(this.oldOptions),this.oldOptions=null));var t=!this.isPopOutMode&&!this.isActiveSectionTransient&&this.services.explorationCapabilities.getCapabilities().showNavContentPane;this.scope.viewModel.options.showNavContentPane=!this.scope.viewModel.shouldHideSlideBar&&t},D.prototype.displayCustomVisualWarning=function(e){if(this.exploration&&this.exploration.resourcePackages&&this.exploration.resourcePackages.length>0)if(!e&&this.exploration.sections)for(var t=this.exploration.sections,i=0,o=t;i<o.length;i++){var r=o[i];if(r.visualContainers){var a=r.visualContainers;if(this.containsCustomVisual(a)){this.createCustomVisualWarning(this.exploration,e);break}}}else this.createCustomVisualWarning(this.exploration,e)},D.prototype.containsCustomVisual=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];if(o.config&&o.config.singleVisual&&o.config.singleVisual.visualType){var r=o.config.singleVisual.visualType;if(this.resourcePackageContainsCustomVisual(r))return!0}}return!1},D.prototype.getCustomVisualContainerCount=function(e){var t=0;return this.scope.viewModel.exploration.contract.sections.forEach((function(i){i.visualContainers.forEach((function(i){i.config.singleVisual.visualType===e.name&&++t}))})),t},D.prototype.getCustomVisualsTileCounts=function(e){var t=this;e.forEach((function(e){e.tileCount=0,t.scope.viewModel.exploration.contract.sections.forEach((function(t){for(var i=0,o=t.visualContainers;i<o.length;i++){var r=o[i];r.config.singleVisual.visualType===e.plugin.name&&(e.tileCount+=1)}})),e.tileCountMessage=t.services.localizationService.format("DeleteVisual_AssociatedTiles",[e.tileCount]),e.selected=!1}))},D.prototype.resourcePackageContainsCustomVisual=function(e){if(this.exploration&&this.exploration.resourcePackages)for(var t=this.exploration.resourcePackages,i=0,o=t;i<o.length;i++){var r=o[i];if(r.name===e)return!0}return!1},D.prototype.notifyForSave=function(t,i,o){var r=this;this.services.localizationService.ensureLocalization((function(){r.services.notificationToast.notify({title:r.services.localizationService.get(t),message:r.services.localizationService.get(o),notificationType:e.common.NotificationToastType.Success})}))},D.prototype.triggerSaveOrSaveAs=function(t){var i=this;if(this.reportId){var o,r=this.services.telemetryService.startEvent(e.telemetry.EXSaveExploration,!1);return this.showSaveMask(),this.prepareToSave(),this.services.explorationProxy.save(this.originalExploration,this.scope.viewModel.exploration.contract,this.reportId).then((function(e){return e||t.reject(),o=e,i.services.linguisticSchemaProxy.save(e.reportId)})).then((function(){i.lastLoadedReport.contract.hasExploration=!0,i.onSaveSuccessCommon(o),i.notifyForSave("SaveReport_Success",0,"SaveReport_Success_DefaultDetails");var n=i.services.reportService.findReport(i.reportId);n&&n.isUsedByContentPack&&i.services.rootScope.$emit(e.constants.contentPackDirtyShowNotification,i.reportId,a.Report),r.resolve(),t.resolve(null)}),(function(e){i.showError(e,i.services.localizationService.get("ExplorationContainer_FailedToSaveReport"),"ExplorationContainer_FailedToSaveReportDefaultDetails"),r.reject(s.getTelemetryErrorDetails(e?e.error:null,e?e.httpStatusCode:null)),t.reject()}))}return this.saveAsInternal().then((function(){i.notifyForSave("SaveReport_Success",0,"SaveReport_Success_DefaultDetails"),t.resolve(null)}),(function(){t.reject()}))},D.prototype.saveOnKeypress=function(e){if(this.scope.viewModel.canEdit){var t=this.scope.viewModel.options,i={overrideSaveRouting:this.services.explorationCapabilities.getCapabilities().overrideSaveRouting};0!==this.scope.viewModeState.getMode()||t.disableSaveOnKeyPress?this.save(e,i):this.saveAs(e,i)}},D.prototype.refresh=function(t){var i={changes:[],isSchemaChangeListComplete:!1};this.services.modelChangeHandler.applyChange({change:this.services.promiseFactory.resolve(i),leaveUndo:!0}),this.hideExplorationWarning("lastErrorNotifyId"),t&&t.stopPropagation&&t.stopPropagation();var o=b.getVisualStasInExploration(this.exploration,this.services.scriptVisuals);this.logRTelemetry(e.telemetry.EXExplorationRefresh,o)},D.prototype.prepareToSave=function(){},D.prototype.save=function(t,i){var o=this;if(!i||!i.overrideSaveRouting){if(this.reportId)if(e.helpers.ReportUtility.HasUnsupportedExploreVisuals(this.scope.viewModel.exploration.contract,this.services.visualPlugin))this.showUnsupportedVisualSaveError();else{var r,n=this.services.telemetryService.startEvent(e.telemetry.EXSaveExploration,!1);this.showSaveMask(),this.prepareToSave(),this.services.explorationProxy.save(this.originalExploration,this.scope.viewModel.exploration.contract,this.reportId).then((function(e){return e||o.services.promiseFactory.reject(),r=e,o.services.linguisticSchemaProxy.save(e.reportId)})).then((function(){o.lastLoadedReport.contract.hasExploration=!0,o.onSaveSuccessCommon(r),o.notifyForSave("SaveReport_Success",0,"SaveReport_Success_DefaultDetails");var t=o.services.reportService.findReport(o.reportId);t&&t.isUsedByContentPack&&o.services.rootScope.$emit(e.constants.contentPackDirtyShowNotification,o.reportId,a.Report),n.resolve()}),(function(e){o.showError(e,o.services.localizationService.get("ExplorationContainer_FailedToSaveReport"),"ExplorationContainer_FailedToSaveReportDefaultDetails"),n.reject(s.getTelemetryErrorDetails(e?e.error:null,e?e.httpStatusCode:null))})).finally((function(){o.hideSaveMask()}))}else this.saveAsInternal().then((function(){o.notifyForSave("SaveReport_Success",0,"SaveReport_Success_DefaultDetails")}),(function(){}));this.services.overlayService.hideAllDropdowns(),t.stopPropagation&&t.stopPropagation()}},D.prototype.generateQR=function(e){this.services.qrCodeService.showDialogForReport(this.scope,this.services.explorationNavigation.getCurrentExploration().report,this.scope.viewModel.displayName,this.services.groupService.activeGroupObjectId,this.services.navigation.currentReportPage,this.services.navigation.currentAppGUID)},D.prototype.saveAs=function(t,i){var o=this;i&&i.overrideSaveRouting||this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.ReportSaveAs)||(this.saveAsInternal(i.saveAsWithoutPrompt).then((function(){o.notifyForSave("SaveReport_Success",0,"SaveReport_Success_DefaultDetails")}),(function(){})),this.services.overlayService.hideAllDropdowns(),t.stopPropagation&&t.stopPropagation())},D.prototype.synchronizeExplorationIds=function(e,t){t.id=e.id,t.reportId=e.reportId,y.synchronizeSectionsIds(e.sections,t.sections)},D.prototype.onSaveSuccessCommon=function(e){this.synchronizeExplorationIds(e,this.scope.viewModel.exploration.contract);var t={featureUsage:{}},i=this.services.explorationSerializer,o=i.serializeExploration(e,t);this.originalExploration=i.deserializeExploration(o,[],!0),this.sendTelemetryForCapabilities(t),this.services.rootScope.$emit(h,!1)},D.prototype.confirmSaveAs=function(t,i){var r=this;this.showSaveMask();var a,n=this.services.telemetryService.startEvent(e.telemetry.EXSaveExploration,!0),c=this.scope.viewModel.exploration.contract.reportId;this.prepareToSave(),this.services.explorationProxy.saveAs(this.scope.viewModel.exploration.contract,t,this.scope.dataSources[0].id,this.packageId).then((function(e){e&&e.reportId||i.reject(),a=e;var t=r.services.linguisticSchemaProxy;if(c){var o=t.getSchema(c);t.setSchema(e.reportId,o)}return t.save(e.reportId)})).then((function(){if(r.scope.viewModel.displayName=t,r.reportId=a.reportId,r.reportGUID=a.report.objectId,r.onSaveSuccessCommon(a),o.isUsageMetricsContentProvider(r.scope.viewModel.datasetModel.contentProviderId))r.services.reportService.mergeReportCollection([a.report]),r.services.modelService.mergeDatasetCollection([a.report.model]),r.services.navigation.navigateToReportByGUID(a.report.objectId,void 0,r.services.navigation.currentReportPage,void 0,void 0,void 0,"");else{var s={id:r.reportId,displayName:t,guid:r.reportGUID};r.services.navigation.updateReportStateNoReload(r.reportGUID,void 0,r.services.navigation.currentReportPage,!0).then((function(){return r.services.rootScope.$emit(o.currentActiveReportInfoChangedEventName,s)})),r.updateReportInfo(s),r.services.mostRecentlyUsedService.updateMRU(e.models.MRUArtifactType.Reports,r.reportGUID,t,a.report.permissions)}n.resolve(),i.resolve(a)}),(function(e){r.showError(e,r.services.localizationService.get("ExplorationContainer_FailedToSaveReport"),"ExplorationContainer_FailedToSaveReportDefaultDetails"),n.reject(s.getTelemetryErrorDetails(e?e.error:null,e?e.httpStatusCode:null)),i.reject()}))},D.prototype.updateReportInfo=function(e){var t=this.scope&&this.scope.viewModel&&this.scope.viewModel.exploration&&this.scope.viewModel.exploration.contract&&this.scope.viewModel.exploration.contract.report;t&&(t.id=e.id,t.objectId=e.guid,t.displayName=e.displayName)},D.prototype.saveAsInternal=function(t){var i=this,o=this.services.promiseFactory.defer();return t?this.confirmSaveAs(void 0,o):e.explore.controllers.showSaveAsDialog(this.services.errorService,this.services.localizationService).then((function(e){i.confirmSaveAs(e,o)}),(function(){o.reject()})),o.promise.finally((function(){i.hideSaveMask()})),o.promise},D.prototype.saveAsInternalWithName=function(e){var t=this,i=this.services.promiseFactory.defer();return e||i.reject(),this.confirmSaveAs(e,i),i.promise.finally((function(){t.hideSaveMask()})),i.promise},D.prototype.loadModelAndNotifyIfFailed=function(){var t=this,i=this.services.telemetryService.startActivity(this.scope,e.telemetry.EXLoadExplorationSchema),o=this.services.dataSources.get();this.services.conceptualSchemaProxy.get(o).then((function(){i.resolve()})).catch((function(o){var r={errorCode:t.getErrorInfoCode(o)};t.rejectOpenExplorationTelemetryEvent(r),i.reject(r),o&&o.serviceError&&e.helpers.ReportUtility.shouldDisplayErrorAsNotificationBar(o.serviceError.errorCode)?t.services.eventBridge.publishBubbling(t.scope,c.showErrorNotification,{code:o.serviceError.errorCode,"pbi.error":{code:o.serviceError.errorCode,parameters:[],details:o.serviceError.errorDetails}}):e.explore.util.handleConceptualSchemaError(o,t.services.errorService,t.services.localizationService.get("ExplorationContainer_FailedToLoadModel"),"ExplorationContainer_FailedToLoadModel_DefaultDetails")}))},D.prototype.loadLinguisticSchemaAndNotifyIfFailed=function(e){var t=this;this.services.linguisticSchemaProxy.init(e.reportId,e.reportHasLinguisticSchema).catch((function(e){return t.showError(e,t.services.localizationService.get("ExplorationContainer_FailedToLoadReport"),"ExplorationContainer_FailedToLoadReport_DefaultDetails")}))},D.prototype.initializeExploration=function(t,i,o,r,a,n,c,l,u,v){return __awaiter(this,void 0,e.Promise,(function(){var h,g,f,m,b,C=this;return __generator(this,(function(w){switch(w.label){case 0:return this.warningBarNotified=!1,this.services.visualPlugin.removeAllCustomVisuals(),this.services.resourceGateService.setResourceFlag(),h=this.scope.viewModel.options,r?(this.scope.viewModel.showSpinner=!1,g={width:e.explore.constants.ExploreCanvasConstants.DefaultCanvasWidth,height:e.explore.constants.ExploreCanvasConstants.DefaultCanvasHeight,dataSources:e.explore.contracts.createDataSourceArray(),sections:[{name:"ReportSection",displayName:void 0,visualContainers:[],filters:[],size:{displayOption:1,width:e.explore.constants.ExploreCanvasConstants.DefaultWidescreenWidth,height:e.explore.constants.ExploreCanvasConstants.DefaultWidescreenHeight}}]},y.fillDefaultSectionDisplayNames(g,this.services.localizationService),[4,this.addODataFilterFromQuery(g,l)]):[3,2];case 1:return w.sent(),this.scope.viewModel.exploration=S.convertExploration(g,this.services.formFactor.getCurrentLayout()),this.services.telemetryService.logEvent(e.telemetry.EXInitExploration,v,n&&n.directQueryMode===!0,n&&!_.isEmpty(n.onPremModelConnectionString)),this.setSectionStatus(0),this.setVisualTheme(),this.setDataSource(n),this.tryAddJsonFilters(g,u),this.services.explorationNavigation.loadExploration(g),h.disableLinguisticSchemaInitialization||this.loadLinguisticSchemaAndNotifyIfFailed(g),this.scope.$broadcast(d),this.setupConnection(n),this.loadModelAndNotifyIfFailed(),y.gotoSection(this.scope.viewModel,0,this.services.selection,this.services.explorationNavigation,this.services.formFactor.getCurrentLayout()),this.resolveOpenExplorationTelemetryEventWhenNoVisualContainers(),[3,3];case 2:this.scope.viewModel.showSpinner=!0,f=function(t){return __awaiter(C,void 0,e.Promise,(function(){var r,s,c,g,f,m=this;return __generator(this,(function(b){switch(b.label){case 0:for(h.disableLinguisticSchemaInitialization||this.loadLinguisticSchemaAndNotifyIfFailed(t),r=0,s=t.sections;r<s.length;r++)c=s[r],_.isNumber(this.scope.viewModel.options.overrideDisplayOption)?c.size.displayOption=this.scope.viewModel.options.overrideDisplayOption:null!=this.scope.viewModel.options.defaultDisplayOption&&0===c.size.displayOption&&(c.size.displayOption=this.scope.viewModel.options.defaultDisplayOption);return i?g=y.findSectionIndexForSectionName(t,i):o?g=y.findSectionIndexForSectionName(t,o):_.isNumber(t.activeSectionIndex)&&(g=t.activeSectionIndex),null==g&&(g=0),y.fillDefaultSectionDisplayNames(t,this.services.localizationService),[4,this.addODataFilterFromQuery(t,l)];case 1:return b.sent(),this.setSectionStatus(g),this.setVisualTheme(t.theme),f=this.services.explorationSerializer.serializeExploration(t),this.originalExploration=this.services.explorationSerializer.deserializeExploration(f,[],!0),this.scope.viewModel.exploration=S.convertExploration(t,this.services.formFactor.getCurrentLayout(),g),this.services.telemetryService.logEvent(e.telemetry.EXInitExploration,v,n&&n.directQueryMode===!0,n&&!_.isEmpty(n.onPremModelConnectionString)),this.setDataSource(n),this.tryAddJsonFilters(t,u),this.loadModelAndNotifyIfFailed(),this.changeToEditMode(a),this.scope.viewModel.showSpinner=!1,this.services.explorationNavigation.loadExploration(t),p.acquireTrustedVisuals(t,this.services.trustedVisual).then((function(e){return m.reloadTrustedVisuals(e)})),this.scope.$broadcast(d),y.gotoSection(this.scope.viewModel,g,this.services.selection,this.services.explorationNavigation,this.services.formFactor.getCurrentLayout()),this.resolveOpenExplorationTelemetryEventWhenNoVisualContainers(),this.setupConnection(n),this.services.rootScope.$emit(e.constants.openReportFinished,"",!1),this.services.navigation.inReportSubscriptionView()&&this.services.subscription.expandPaneForReportSubscription({currentSection:this.services.explorationNavigation.getCurrentSection(),report:this.services.explorationNavigation.getCurrentExploration().report,modelId:this.services.explorationNavigation.getCurrentExploration().dataSources[0].id,sections:this.services.explorationNavigation.getCurrentExploration().sections},this.services.navigation.currentSubscriptionGUID),[2]}}))}))},this.exploration=c,c?this.initializeCustomTheme(c).then((function(e){return f(e)})):(m=this.services.telemetryService.startEvent(e.telemetry.EXFetchExploration,v),b={id:t,model:n},this.services.explorationProxy.get(b).then((function(e){return C.exploration=e,C.initializeCustomTheme(e)})).then((function(e){f(e),m.resolve()}),(function(t){C.showError(t,C.services.localizationService.get("ExplorationContainer_FailedToLoadReport"),"ExplorationContainer_FailedToLoadReport_DefaultDetails"),C.scope.viewModel.showSpinner=!1,C.services.rootScope.$emit(e.constants.openReportFinished,t&&t.error?t.error.message:"",!0),m.reject(),C.rejectOpenExplorationTelemetryEvent(s.getTelemetryErrorDetails(t&&t.error))}))),w.label=3;case 3:return[2]}}))}))},D.prototype.getErrorInfoCode=function(t){if(t){if(t.serviceError)return t.serviceError.errorCode?t.serviceError.errorCode:e.constants.modelFailedGenericServiceError;if(t.clientError)return t.clientError.code?t.clientError.code:e.constants.modelFailedGenericClientError}return e.constants.modelFailednoErrorInfo},D.prototype.setupConnection=function(e){if(!_.isEmpty(e.onPremModelConnectionString)){var t=this.services.dataSources.get();this.services.connectionSetupService.setup(t)}},D.prototype.onEnsureCustomViz=function(t,i){var o=this;if(this.services.telemetryService.logEvent(e.telemetry.EXEnableCustomViz,this.embedTypeDescription),this.services.resourceGateService.setResourceFlag(),this.services.resourcePackagesService.registerPackages(t),!i){var r=this.getVisualTypeUsageTable();t=_.filter(t,(function(e){return r[e.name]}))}this.services.visualPlugin.ensurePlugins(t).finally((function(){o.services.eventBridge.publishToChannel(e.explore.services.events.visualPluginsChanged);var i=_.chain(t).filter((function(e){return 0===e.type})).map((function(e){return e.name})).value();_.isEmpty(i)||o.services.rootScope.$emit(e.constants.reloadEmptyVisuals,{visualTypes:i})})),this.hideExplorationWarning("lastEnableCustomVizNotifyId"),this.hideExplorationWarning("lastErrorNotifyId")},D.prototype.getVisualTypeUsageTable=function(){for(var e=this.scope.viewModel.exploration.contract.sections,t={},i=0,o=e;i<o.length;i++)for(var r=o[i],a=r.visualContainers,n=0,s=a;n<s.length;n++){var c=s[n],l=c.config.singleVisual.visualType;t[l]=!0}return t},D.prototype.pauseQueriesChanged=function(e){var t=!this.scope.viewModeState.getConfig().pauseQueryExecution;this.scope.viewModeState.updateConfig((function(e){e.pauseQueryExecution=t})),t?this.services.dataProxy.stopCommunication(o.dsrDataReaderType):this.services.dataProxy.resumeCommunication(o.dsrDataReaderType),e.stopPropagation()},D.prototype.tryAddJsonFilters=function(t,i){var o=this;if(i&&_.isArray(i)){var r=this.services.dataSources.get();this.services.conceptualSchemaProxy.get(r).then((function(r){for(var a=e.explore.jsonFilter.createJSONFilterParser(o.services.promiseFactory),n=[],s=0,c=i;s<c.length;s++){var l=c[s],d=a.tryCreateFilterContainer(t,r,l);if(!d)return;n.push(d)}if(n&&n.length>0){t.filters=t.filters||[];for(var p=0,u=n;p<u.length;p++){var v=u[p];t.filters.push(v)}}}))}},D.prototype.addODataFilterFromQuery=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var o,r,a,n,s,c,l,d,p;return __generator(this,(function(u){switch(u.label){case 0:return i?[4,this.loadODataFilterDependencies()]:[3,2];case 1:if(u.sent(),!e.explore.odata)return[2];if(o=void 0,r=this.services.featureSwitchService.featureSwitches,(r.multipleODataPredicates||r.usageMetricsEnabled&&this.belongsToUsageMetricsContentPack(t))&&(o={supportMultiplePredicates:!0}),a=e.explore.odata.createODataFilterParser(o),n=a.tryGetFilters(i),_.isEmpty(n))return[2];for(t.filters||(t.filters=[]),s=0,c=n;s<c.length;s++)l=c[s],t.filters.push(l);d=this.services.explorationCapabilities,p=d.getCapabilities(),p.visualContainerOptions.disableQueryCacheUpdates=!0,this.services.explorationCapabilities.setCapabilities(p),u.label=2;case 2:return[2]}}))}))},D.prototype.loadODataFilterDependencies=function(){return __awaiter(this,void 0,e.Promise,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return e=this.services.moduleLoader,[4,this.services.promiseFactory.all([e.require({javascript:"odataFilterParser"}),e.require({javascript:"odataExplore"})])];case 1:return t.sent(),[2]}}))}))},D.prototype.setSectionStatus=function(e){this.scope.viewModel.sectionStatus.currentSectionNumber=e},D.prototype.setVisualTheme=function(e){this.scope.themeName=e,this.services.colorPicker.setDataColors(this.services.themeService.getDataColors(e))},D.prototype.initializeCustomTheme=function(t){var i=this;if(t&&t.theme){var o=e.explore.services.loadRegisteredResourceAsDecodedString(this.services.promiseFactory,this.services.resourceLoader,t.resourcePackages,t.theme);return o.then((function(e){if(e){var o=v.tryParseJSON(e);o&&i.services.themeService.addCustomTheme(t.theme,o)}return t})).catch((function(){return t}))}return this.services.promiseFactory.resolve(t)},D.prototype.setDataSource=function(t){this.packageId=t.packageId;var i=this.scope.viewModel.exploration.contract,r=i.dataSources;if(!r.withId(t.id)){var a=e.explore.constants.DefaultSchemaName;if(r.push({type:o.dsrDataReaderType,id:t.id,name:a,dsr:{schemaName:a,vsName:t.vsName,dbName:t.dbName,modelId:t.id}}),this.services.featureSwitchService.featureSwitches.reportMeasures&&null!=i.id){var n=e.explore.constants.ExplorationSchemaName;r.push({type:e.explore.dataReaderPlugins.ExplorationDataReaderType,id:i.id,name:n,extends:a,exploration:{schemaName:n,extends:a,getModelExtensions:function(){return i.modelExtensions}}})}}this.services.dataSources.set(r)},D.prototype.showError=function(t,i,o){this.services.errorService.error(i,o,{requestId:t?t.requestId:void 0},!1,e.telemetry.ErrorSource.PowerBI)},D.prototype.clearExploration=function(){this.originalExploration=null,this.scope.viewModel.exploration=null,this.setSectionStatus(-1),this.services.dataSources.set(null),this.legacyReportExists=!1,this.services.eventBridge.publishToChannel(c.explorationUnloaded),this.scope.$broadcast(l)},D.prototype.showSaveMask=function(){this.scope.viewModel.showMask=!0},D.prototype.hideSaveMask=function(){this.scope.viewModel.showMask=!1},D.prototype.canWrite=function(e){return!this.services.permissionService.isActiveWorkspaceIsReadOnly&&e&&e.canWrite},D.prototype.canExplore=function(e,t){return!this.services.permissionService.isActiveWorkspaceIsReadOnly&&e&&e.contract&&(e.canExplore||this.canWrite(e))&&(t.getPermissions()&g.Write)===g.Write},D.prototype.canCopy=function(e){return!this.services.permissionService.isActiveWorkspaceIsReadOnly&&e&&e.canCopy},D.prototype.isReportFromPbix=function(e){return e&&e.contract&&e.contract.isFromPbix},D.prototype.reloadTrustedVisuals=function(t){t&&t.length>0&&(this.services.visualPlugin.ensureTrustedVisualPlugins(t),this.services.eventBridge.publishToChannel(e.explore.services.events.visualPluginsChanged),this.services.rootScope.$emit(e.constants.reloadEmptyVisuals,{visualTypes:t.map((function(e){return e.name}))}))},D.prototype.resolveOpenExplorationTelemetryEventWhenNoVisualContainers=function(){this.scope.viewModel.exploration.exploreCanvas&&!_.isEmpty(this.scope.viewModel.exploration.exploreCanvas.visualContainers)||this.resolveOpenExplorationTelemetryEvent()},D.prototype.resolveOpenExplorationTelemetryEvent=function(){this.openExplorationTelemetryEvent&&(this.openExplorationTelemetryEvent.resolve(),this.openExplorationTelemetryEvent=null)},D.prototype.rejectOpenExplorationTelemetryEvent=function(e){this.openExplorationTelemetryEvent&&(this.openExplorationTelemetryEvent.reject(e),this.openExplorationTelemetryEvent=null)},D.prototype.setOpenExplorationTelemetryEvent=function(e){this.resolveOpenExplorationTelemetryEvent(),this.openExplorationTelemetryEvent=e},D.prototype.onLoadPowerViewReport=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i,o,r,a,n,s,c,l,d,p,u=this;return __generator(this,(function(v){switch(v.label){case 0:return this.registerDirtyStateNavigationHandler(),this.services.rootScope.$emit(h,!1),i=t.instantiationMode!==e.common.contracts.reportServer.ReportInstantiationMode.None,t.report.objectId&&(o=this.services.groupService.activeGroup,r=o&&o.aadGroupId,a=t.report.contract.originalReportObjectId,i=!1,n=!1,this.services.reportService.findReportByGUID&&(s=this.services.reportService.findReportByGUID(t.report.objectId),n=s&&this.isUsageMetricsReport(s)),n||this.services.mostRecentlyUsedService.updateMRU(e.models.MRUArtifactType.Reports,t.report.objectId,t.report.displayName,t.report.getPermissions(),r,a,t.report.packageId)),this.clearExploration(),this.addKeyHandler(),c=t.instantiationMode!==e.common.contracts.reportServer.ReportInstantiationMode.None,this.reportId=i?void 0:t.report.id,this.packageId=t.model.packageId,this.lastLoadedReport=t.report,this.legacyReportExists=!e.helpers.ReportUtility.IsReportSavedAsExploration(t.report.contract),this.scope.viewModel.displayName=i?void 0:t.report.contract.displayName,this.scope.viewModel.canEdit=this.canExplore(t.report,t.model),this.scope.viewModel.canCopy=this.canCopy(t.report),this.scope.viewModel.canWrite=this.canWrite(t.report),this.services.viewModeState.setMode(c?1:0),this.scope.viewModel.taskPane.isPaneExpanded=c,this.scope.viewModel.visualizationPane.isPaneExpanded=c,this.scope.viewModel.isNavPaneCollapsed=!c,this.scope.viewModel.datasetModel=t.model,this.scope.viewModel.reportPermission=t.report.getPermissions(),this.scope.viewModel.isReportFromPbix=this.isReportFromPbix(t.report),l=this.scope.viewModel.datasetModel,d=this.services.packageService.findPackage(this.packageId),d&&(l.packagePublishStatus=d.publishOrRefreshStatus,l.contract.isPackageRefreshEnabled=d.contract.IsRefreshEnabled),p=this.scope.viewModel.options,p.visualContainerOptions.disablePin=!this.scope.viewModel.canEdit,this.services.viewModeState.updateConfig((function(e){e.supportsExportData=!p.disableExport&&u.services.featureSwitchService.featureSwitches.exportDataEnabled})),this.setOpenExplorationTelemetryEvent(t.openExplorationTelemetryEvent),[4,this.initializeExploration(t.report.id,t.reportPage,t.report.activeSlideId,i,c,t.report.model,t.exploration,t.additionalODataFilter,t.additionalJsonFilters,t.report.objectId)];case 1:return v.sent(),this.services.selection.clearSelection(),this.services.undoRedo.setHandler(e.explore.util.ExploreUndoRedoHandlerUtility.createUndoRedoHandler(this.scope.viewModel,this.services.timeout,this.services.selection,this.services.drillToDetails,this.services.formFactor,this.services.explorationSerializer,this.services.explorationNavigation,this.services.linguisticSchemaProxy,this.services.eventBridge,this.services.visualPlugin,this.services.registeredResourceReferences)),this.services.clipboard.setHandler(e.explore.util.ExploreClipboardHandlerUtility.createClipboardHandler(this.scope.viewModel,this.services.explorationSerializer,this.services.selection,this.services.visualAuthoring,this.services.visualPlugin,this.services.filterGenerator,this.services.formFactor,this.services.visualStylePresetService)),this.notifyIfModelRefreshDisabledBySelectiveRefresh(),[2]}}))}))},D.prototype.showErrorNotification=function(e,t){if(t.code){var i=this.scope.viewModel.datasetModel;this.showErrorNotificationWithModel(t,i)}e.stopPropagation()},D.prototype.showErrorNotificationWithModel=function(e,t,i){var o=this;t.contract.creatorUser?this.notifyError(e,t,i):this.services.modelHttpService.getModel(t.id,t.packageId,this.services.telemetryService.root).then((function(r){r.data.creatorUser&&(t.contract.creatorUser=r.data.creatorUser,o.notifyError(e,t,i))}))},D.prototype.notifyError=function(e,t,i){var o=this;i||(i=function(){o.refresh()}),this.requiresGatewayInfo(e.code)?this.services.gatewaysMetadataService.getModelDataSources(t.id).then((function(r){var a=o.services.selectGatewayService.getSelectedGateway(r);o.notify(e,t,a,i)}),(function(r){o.notify(e,t,null,i)})):this.notify(e,t,null,i)},D.prototype.notify=function(e,t,i,o){var r=this.getErrorNotificationParameter(e,t,i,o);if(r){var a={notificationName:"lastErrorNotifyId",notificationId:this.services.notificationBar.notify(r)};this.addNotification(a)}},D.prototype.requiresGatewayInfo=function(t){return t===e.DM_GWPipeline_Client_GatewayUnreachable;
},D.prototype.getErrorNotificationParameter=function(t,i,o,r){var a=this,n=t.code,s=i.contract.creatorUser,c=s.emailAddress;c.match(e.common.controllers.EmailsList.emailValidator)||(c=s.AlternateEmailAddress);var l,d,p=c===e.session.UserInfoUtils.getUPN();switch(n){case e.DMTS_NoGatewayWithAllDatasourcesToBindError:var u=this.getServerName(t),v=this.getDatabaseName(t);l=this.services.localizationService.format("ExplorationContainer_Notification_DMTS_NoGatewayWithAllDatasourcesToBindError_Message",[u,v]),d={displayText:this.services.localizationService.get("ExplorationContainer_Notification_DMTS_NoGatewayWithAllDatasourcesToBindError_ActionText"),urlString:e.models.learnMoreAboutEnterpriseGatewaysHelpLink};break;case e.DMTS_MultipleGatewaysWithAllDatasourcesToBindError:l=p?this.services.localizationService.get("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_Message"):this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_Message",[s.givenName]),d=p?{displayText:this.services.localizationService.get("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_ActionText"),action:function(){a.services.selectGatewayService.bindModelToGateway(i.id,(function(){r(),a.hideExplorationWarning("lastErrorNotifyId")}),(function(){a.services.errorService.error(a.services.localizationService.get("ExplorationContainer_FailedToBindToGatewayMessage"),"ExplorationContainer_FailedToBindToGateway")}),(function(){}))}}:{displayText:this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_ActionText",[s.givenName]),urlString:"mailto:"+c};break;case e.DMTS_DatasourceHasNoCredentialError:l=p?this.services.localizationService.get("ExplorationContainer_Notification_CredentialsRequired_Message"):this.services.localizationService.get("ExplorationContainer_Notification_CredentialsRequired_NotOwner_Message"),d=p?{displayText:this.services.localizationService.get("ExplorationContainer_Notification_CredentialsRequired_ActionText"),action:function(){a.services.navigation.showSettingsSlider("datasets",i.dbName)}}:{displayText:this.services.localizationService.get("ExplorationContainer_Notification_CredentialsRequired_NotOwner_ActionText"),urlString:"mailto:"+c};break;case e.DM_GWPipeline_Client_GatewayUnreachable:if(p){var h=this.getContactInfo(o);l=h?this.services.localizationService.format("ExplorationContainer_Notification_DM_GWPipeline_Client_GatewayUnreachable_WithContactInfo",[h]):this.services.localizationService.get("ExplorationContainer_Notification_DM_GWPipeline_Client_GatewayUnreachable")}else l=this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_Message",[s.givenName]);d=p?{displayText:this.services.localizationService.get("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_ActionText"),action:function(){a.services.selectGatewayService.bindModelToGateway(i.id,(function(){r(),a.hideExplorationWarning("lastErrorNotifyId")}),(function(){a.services.errorService.error(a.services.localizationService.get("ExplorationContainer_FailedToBindToGatewayMessage"),"ExplorationContainer_FailedToBindToGateway")}),(function(){}))}}:{displayText:this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_ActionText",[s.givenName]),urlString:"mailto:"+c};break;case e.DM_GWPipeline_Gateway_DataSourceConnectionError:l=p?this.services.localizationService.get("ExplorationContainer_Notification_DMTS_DatasourceConnectionError_Message"):this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_Message",[s.givenName]),d=null;break;case e.RS_CannotRetrieveModel:l=this.services.localizationService.get("DsrError_CanNotRetrieveModelMessage"),d=null;break;case e.RS_AccessDeniedDueToRLSGroup:l=this.services.localizationService.get("DsrError_NoPermissionDueToRLSGroupMessage"),d=null;break;case e.RS_AccessDenied:l=this.services.localizationService.get("DsrError_NoPermissionToViewMessage"),d=null;break;case e.DMTS_UserNotFoundInADGraphError:l=this.services.localizationService.format("ExplorationContainer_Notification_DMTS_UserNotFoundInADGraphError_Message",[s.givenName]),d=null;break;case e.DMTS_UserLostPermissionToDatasourceError:case e.DM_GWPipeline_Gateway_ImpersonationError:l=p?this.services.localizationService.get("ExplorationContainer_Notification_DMTS_UserLostPermissionToDatasourceError_Message"):this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_Message",[s.givenName]),d=p?{displayText:this.services.localizationService.get("ExplorationContainer_Notification_DMTS_UserLostPermissionToDatasourceError_ActionText"),action:function(){a.services.selectGatewayService.bindModelToGateway(i.id,(function(){a.refresh(),a.hideExplorationWarning("lastErrorNotifyId")}),(function(){a.services.errorService.error(a.services.localizationService.get("ExplorationContainer_FailedToBindToGatewayMessage"),"ExplorationContainer_FailedToBindToGateway")}),(function(){}))}}:{displayText:this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_ActionText",[s.givenName]),urlString:"mailto:"+c};break;case e.DM_GWPipeline_Gateway_DataSourceAccessError:l=p?this.services.localizationService.get("ExplorationContainer_Notification_DMTS_DatasourceAccessError_Message"):this.services.localizationService.format("ExplorationContainer_Notification_DMTS_MultipleGatewaysWithAllDatasourcesToBindError_NotOwner_Message",[s.givenName]),d=null;break;case e.DM_GWPipeline_Gateway_InvalidMashupConnectionString:case e.DM_GWPipeline_Gateway_DatabaseLoginError:case e.DM_GWPipeline_Gateway_SqlTimeoutException:case e.DM_GWPipeline_Gateway_AdomdTimeoutException:case e.DM_GWPipeline_Gateway_InvalidObjectNameException:case e.DM_GWPipeline_Gateway_ConnectionBrokenException:case e.DM_GWPipeline_Gateway_MemoryError:case e.DM_GWPipeline_Gateway_MissingStructureError:case e.DM_GWPipeline_Gateway_UnprocessedStructureError:case e.DM_GWPipeline_Gateway_ModelLoadError:case e.DM_GWPipeline_Gateway_CancellationError:case e.DM_GWPipeline_Gateway_QueryExecutionError:case e.DM_GWPipeline_Gateway_RecalculationRequiredError:case e.DM_GWPipeline_Gateway_AdomdConnectError:case e.DM_GWPipeline_Gateway_MashupDataAccessError:default:l=this.services.localizationService.get(e.helpers.PowerBIServiceExceptionErrorHelper.serverErrorPrefix+n),d=null}if(l)return{message:l,notificationType:e.common.NotificationBarType.Error,secondaryLink:d}},D.prototype.getContactInfo=function(t){if(t){var i=e.settings.models.GatewayModelConverter.getGatewayAnnotation(t);if(i){var o=i.gatewayContactInformation,r="";if(o)for(var a=0,n=0,s=o;n<s.length;n++){var c=s[n];r+=c,a<o.length-1&&(r+="; "),a++}return r}}return""},D.prototype.getServerName=function(e){if(e["pbi.error"]){var t=e["pbi.error"].details;if(t&&t.length>0)return t[0].detail.value}return""},D.prototype.getDatabaseName=function(e){if(e["pbi.error"]){var t=e["pbi.error"].details;if(t&&t.length>1)return t[1].detail.value}return""},D.prototype.sendTelemetryForCapabilities=function(t){t.featureUsage&&(t.featureUsage.hasVisualRelationships&&this.services.telemetryService.logEvent(e.telemetry.EXSavedExplorationWithVisualRelationships),t.featureUsage.hasShowAllEnabled&&this.services.telemetryService.logEvent(e.telemetry.EXSavedExplorationWithShowAllEnabled))},D.prototype.onRefreshReportData=function(){var t=n.dataReaderDataSources(n.queried(this.services.dataSources.get(),null));t&&(this.services.dataProxy.clearCache(o.dsrDataReaderType,t),this.services.eventBridge.publishToChannel(e.explore.services.events.visualContainerChanged,{affectContainer:function(){return!0}}))},D.prototype.belongsToUsageMetricsContentPack=function(e){var t;return t=e?this.services.reportService.findReport(e.reportId).contract:this.scope.viewModel&&this.scope.viewModel.exploration&&this.scope.viewModel.exploration.contract&&this.scope.viewModel.exploration.contract.report,this.isUsageMetricsReport(t)},D.prototype.isUsageMetricsReport=function(e){if(!e)return!1;var t=this.services.packageService.findPackage(e.packageId);return!!t&&(t&&o.isUsageMetricsContentProvider(t.contentProviderId))},D})(e.common.controllers.ExplorationContainerBaseController);t.ExplorationContainerController=D})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.explore.services.createVisualQueryGenerator,o=e.explore.viewModels,r=e.helpers.NavigationHelper,a=e.common.NotificationToastType,n=e.common.contracts.Permissions,s=e.explore.ScopeUtils,c=e.explore.services,l=e.dataServices.models.TileFactory,d=e.dataServices.contracts.TileType,p=(function(){function t(t,r){var a=this;this.scope=t,this.services=r;var n=this.initializeSection("InFocusSection","InFocusSection");t.viewModel=e.models.inFocusViewModelFactory.createInFocus(n,r.filterGenerator,this.services.formFactor.getCurrentLayout()),t.hide=function(){return a.exitAndHide()},t.updateTile=function(e){return a.updateTile(e)},t.openReport=function(){return a.openReport()},s.defineDataSourcesOnScopeLegacy(this.scope,this.services.dataSources),this.setDataSources();var c=this.services.featureSwitchService;t.pinVisual=function(){return a.pinVisual()},t.getRelatedInsights=function(){return a.getRelatedInsights(e.telemetry.InsightEntryPoint.InFocusMode)},t.logInsightFeedback=function(e){return a.logInsightFeedback(e)},t.qrCode=function(){return a.qrCode()},t.viewModeState=this.services.viewModeState,t.editVisual=function(){return a.toggleViewMode(!1)},t.saveVisual=function(){return a.updateInFocusTile()},t.showRefreshErrorDetails=function(){return a.showRefreshErrorDetails()},t.inFocusEditEnabled=c.featureSwitches.inFocusEditEnabled,t.inFocusMenuItems=e.models.inFocusViewModelFactory.createInFocusMenuItems(this.services.localizationService,this.scope.canExport),t.inFocusMenuItemSelected=function(e){return a.onInFocusMenuItemSelected(e)},t.showPreviousVisual=function(){return a.showPreviousVisual()};var l=o.createFieldListViewModelFactory(o.createFieldListMenuItemFactory(this.services.localizationService,c),o.createFieldListPropertyTemplateGenerator(),this.services.localizationService,c);this.scope.fieldListConfig={viewModelFactory:l,alwaysHasActiveItem:!0},this.sortService=e.explore.services.createSortService(this.services.displayNameService,c,this.services.visualPlugin),this.dataProxy=this.services.singleExecutableDataProxyFactory.create(),this.visualQueryGenerator=i({dataReaders:this.services.dataReaderProvider,displayNameService:this.services.displayNameService,plugin:this.services.visualPlugin,pluginOps:this.services.visualPluginOps,sortService:this.sortService,featureSwitchService:c,aggrOps:this.services.aggrOps,filterGenerator:this.services.filterGenerator,transformPluginService:e.data.transforms.createTransformPluginService(),telemetryService:this.services.telemetryService}),this.services.undoRedo.setHandler({rollback:function(){},takeSnapshot:function(){return null}});var d=this.scope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,t,i,o,r){return a.handleStateChangeSuccess(e,t,i,o,r)})),p=this.services.rootScope.$on(e.constants.openInFocusTileActionName,(function(e,t){return a.onOpenTile(e,t)})),u=this.services.rootScope.$on(e.constants.openInFocusWorkbookTileActionName,(function(e,t){return a.onOpenWorkbookTile(e,t)})),v=this.services.rootScope.$on(e.constants.openInFocusRealTimeTileActionName,(function(e,t){return a.onOpenRealTimeTile(e,t)})),h=this.scope.$on(e.insights.constants.insightSelectedEvent,(function(e,t){return a.onInsightSelected(e,t)})),g=this.scope.$on(e.insights.constants.insightClosePaneEvent,(function(e){return a.onInsightClosePane()})),f=this.scope.$on(e.insights.constants.insightsOnSelectionEvent,(function(t){return a.getRelatedInsights(e.telemetry.InsightEntryPoint.InFocusMode)}));this.scope.$on("$destroy",(function(){d(),p(),u(),h(),g(),f(),v()})),t.viewModeState.setMode(0),this.visualAuthoringCore=e.explore.services.createVisualAuthoringCore(this.services.visualPlugin,this.services.geoTaggingAnalyzerService,this.services.aggrOps,c),this.services.pinVisual.setHandler({pinVisual:function(e){a.pinVisualHandler(e)}})}return t.createOptions=function(){return{scopedServiceRoot:!0,scopedDependencies:["dataSources","eventBridge","filterGenerator","viewModeState","undoRedo","selection","pinVisual","visualPlugin","visualPluginOps","explorationNavigation","explorationCapabilities","exportData","hostFiltersService","formFactor"],additionalServices:["aggrOps","conceptualSchemaProxy","inFocusService","dashboardHttpService","dashboardDataService","singleExecutableDataProxyFactory","dataReaderProvider","modelMerger","displayNameService","dashboardService","featureSwitchService","geoTaggingAnalyzerService","localizationService","modelService","packageService","notificationToast","reportService","explorationProxy","modelConverter","telemetryService","errorService","qrCodeService","groupService","insightsService","navigation","$timeout","appService","resourcePackagesService"]}},t.prototype.toggleViewMode=function(t){var i=this.scope.viewModel;if(t)this.scope.$emit(e.constants.inFocusExitEvent),i.editVisualText=this.services.localizationService.get("InFocus_Edit"),i.taskPane.isPaneExpanded=!1,i.visualizationPane.isPaneExpanded=!1,this.services.viewModeState.setMode(0);else{var o=this.services.viewModeState.getMode();this.services.viewModeState.setMode(0===o?1:0),1===this.services.viewModeState.getMode()?(i.taskPane.isPaneExpanded=!0,i.visualizationPane.isPaneExpanded=!0,i.editVisualText=this.services.localizationService.get("InFocus_Exit_Edit")):(i.editVisualText=this.services.localizationService.get("InFocus_Edit"),i.taskPane.isPaneExpanded=!1,i.visualizationPane.isPaneExpanded=!1)}},t.prototype.updateInFocusTile=function(){var t=this,i=this.scope.viewModel.canvas.visual.visualContainer,o=this.services.dataSources.get(),r=i.readOnlyState.visual.type,a=i.themeName;this.services.conceptualSchemaProxy.get(o).then((function(n){var s,l=r===e.visuals.plugins.image.name?e.common.contracts.TileLayoutType.Full:e.common.contracts.TileLayoutType.Default,d=i.hostServices.getFilters(t.services.filterGenerator,n),p=i.contract.config.singleVisual,u=t.visualQueryGenerator.execute({config:p,dataSources:o,schema:n,additionalFilters:d});u?t.dataProxy.execute(u.options).then((function(e){s=t.services.pinVisual.getPinData(i.contract,l,o,d,e,u,a,n,c.getRegisteredResourcePackage(t.services.resourcePackagesService.getAllPackages())),t.updateTileInServer(s)}),(function(){})):(s=t.services.pinVisual.getPinData(i.contract,l,o,null,null,null,a,null,c.getRegisteredResourcePackage(t.services.resourcePackagesService.getAllPackages())),t.updateTileInServer(s))}))},t.prototype.updateTileInServer=function(t){var i=this;this.tileContractCurrent=l.createTileForPinData(this.services.visualPlugin,t,null);var o=this.services.telemetryService.startEvent(e.telemetry.InFocusModeSaveTileProperties,this.tileContractCurrent.config!==this.tileContractOriginal.config||this.tileContractCurrent.query!==this.tileContractOriginal.query);this.services.dashboardHttpService.updateTile(this.services.inFocusService.inFocusTile.contract,this.tileContractCurrent,o.event).then((function(){i.updateTileInDashboard()}),(function(e){i.updateTileFailed()}))},t.prototype.updateTileFailed=function(){this.notifyForSave("InFocus_UpdateTile_Error",a.Error,"InFocus_UpdateTile_Error_DefaultDetails")},t.prototype.updateTileInDashboard=function(){var e=this.services.inFocusService.inFocusTile.contract;e.config=this.tileContractCurrent.config,e.query=this.tileContractCurrent.query,e.tileData=this.tileContractCurrent.tileData,e.tileDataSet=this.tileContractCurrent.tileDataSet,e.$config=null,this.services.modelMerger.mergeTile(this.services.inFocusService.inFocusTile,e,this.services.modelService.getModelContracts(),this.services.reportService.getReportContracts()),this.notifyForSave("InFocus_UpdateTile_Success",a.Success,"InFocus_UpdateTile_Success_DefaultDetails")},t.prototype.notifyForSave=function(e,t,i){var o=this;this.services.localizationService.ensureLocalization((function(){o.services.notificationToast.notify({title:o.services.localizationService.get(e),message:o.services.localizationService.get(i),notificationType:t})}))},t.prototype.onInsightClosePane=function(){this.scope.viewModel.showInsightsPane=!1},t.prototype.onInsightSelected=function(t,i){var o=this;i.rerunInsights||(this.scope.viewModel.showPreviousVisualButton=!0),this.services.insightsService.getPinDataForInsight(i.model,i.insightContainerModel,(function(t){var r={entryPoint:i.rerunInsights?e.telemetry.InsightEntryPoint.InsightsPaneTile:e.telemetry.InsightEntryPoint.InFocusMode,insightContainerModel:i.insightContainerModel,showInsightsEvent:i.showInsightsEvent,canPin:o.scope.viewModel.openInsightArgs?o.scope.viewModel.openInsightArgs.canPin:o.scope.canEdit};o.services.rootScope.$emit(e.insights.constants.viewInsightInFocus,t,r,i.rerunInsights)}))},t.prototype.showPreviousVisual=function(){this.services.inFocusService.inFocusTile=this.originalTile,this.generateVisual(this.originalViewTileArgs),this.scope.viewModel.showPreviousVisualButton=!1,this.scope.$broadcast(e.insights.constants.clearInsightSelectionEvent)},t.prototype.onOpenTile=function(t,i){var o=this;t.stopPropagation(),this.currentViewTileArgs=i,i.openInsightArgs&&i.openInsightArgs.entryPoint===e.telemetry.InsightEntryPoint.InFocusMode?this.scope.$applyAsync((function(){o.scope.showInFocusMode=!0,o.generateVisual(i)})):this.scope.performTransitionAnimation(this.services.inFocusService.inFocusTile.id).then((function(){o.scope.$applyAsync((function(){o.scope.showInFocusMode=!0,o.generateVisual(i)}))}))},t.prototype.onOpenWorkbookTile=function(t,i){t.stopPropagation(),this.scope.relatedInsightsEnabled=!1;var o=i.workbook,r=this.services.inFocusService.inFocusTile;this.services.telemetryService.logEvent(e.telemetry.DashboardInFocusWorkbook,r.contract.id,o.contract.workbookId,o.contract.packageId),this.setExportableState(r),this.scope.showInFocusMode=!0,this.scope.viewModel.inFocusTile=r,this.scope.viewModel.workbook=o,this.scope.viewModel.displayText=o.displayText,this.scope.viewModel.subDisplayText=o.subDisplayText;var a=this.services.dashboardDataService.activeDashboard;this.scope.viewModel.dashboardText=this.services.localizationService.format("InFocus_ToDashboard",[a.displayName])},t.prototype.onOpenRealTimeTile=function(t,i){var o=this;t.stopPropagation(),this.scope.relatedInsightsEnabled=!1;var r=this.services.modelConverter.convertTile(i.contract);this.scope.viewModel.realTime=r.realTime,this.setExportableState(r),this.scope.viewModel.inFocusTile=r,this.scope.viewModel.displayText=r.displayText,this.scope.viewModel.subDisplayText=r.subDisplayText;var a=this.services.dashboardDataService.activeDashboard;this.scope.viewModel.dashboardText=this.services.localizationService.format("InFocus_ToDashboard",[a.displayName]),this.scope.performTransitionAnimation(this.services.inFocusService.inFocusTile.id).then((function(){o.scope.showInFocusMode=!0,o.scope.$applyAsync((function(){o.scope.$emit(e.constants.inFocusEnterEvent),o.scope.clearTransitionAnimation()}))}))},t.prototype.generateVisual=function(t){var i=this,o=this.scope.viewModel;o.inFocusTile=this.services.inFocusService.inFocusTile,this.setDataSources(o.inFocusTile),this.updateTile(o.inFocusTile,t.openInsightArgs),this.tileContractOriginal=o.inFocusTile.contract;var r=this.services.telemetryService.startEvent(e.telemetry.DashboardInFocusModeSelected,d[this.services.inFocusService.inFocusTile.composite.visual.type]);this.scope.openInFocusEvent||(this.scope.openInFocusEvent=r.event),this.scope.clearTransitionAnimation().then((function(){i.services.visualPlugin.loadPluginByNameIfAny(i.services.inFocusService.inFocusTile.composite.visual.type),i.setVisualContainerProperties(t,r)}))},t.prototype.setVisualContainerProperties=function(t,i){var o=this,r=this.scope,a=r.viewModel,n=a.inFocusTile.config.visualContainer,s=n.$visualContainer,c=a.canvas,l=c.exploration.exploreCanvas,d=this.initializeSection("fakeSection","fakeSection");l.contract=d,l.preventSelectionClearing=!0,r.themeName=n.themeName,s.layouts=jsCommon.ArrayExtensions.extendWithId([{id:0,position:{x:0,y:0,width:d.size.width,height:d.size.height}}]);var p=e.explore.viewModels.ViewModelFactory.convertVisualContainer(c.exploration.contract,c.exploration.sections[0].contract,s,0);if(!this.validateDrillableVisual(p)){var u={errorCode:"drillable visual in inFocus mode isn't correctly generated"};i.reject(u),i=null,r.inFocusDrillableError=!0,this.setErrorMessage()}p.disableResize=!0;var v=this.tileContractOriginal.tileDataSet;e.data.dsr.containsRestartToken(v)||(p.dataViewSource=v),p.contract.config.singleVisual.title={show:!1};var h=this.services.modelConverter.convertModel(a);e.explore.services.selectionUtils.selectVisualContainer(p.contract,this.services.selection),c.visual.visualContainer=p,c.visual.model=h,l.visualContainers[0]=p,l.visualContainers[0].options=this.services.explorationCapabilities.getCapabilities().visualContainerOptions;var g={showAppBar:!0,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!1,showPin:!1,showContextMenu:!1,disablePin:!0,hideHeader:!0},showBackButtonOnAppBar:!1};this.services.explorationCapabilities.setCapabilities(g),a.showVisualEnabled=!0,r.$emit(e.constants.inFocusEnterEvent),t.runScopedInsights&&(this.services.$timeout((function(){var i=e.telemetry.InsightEntryPoint.DashboardTile;t.openInsightArgs&&t.openInsightArgs.entryPoint&&(i=t.openInsightArgs.entryPoint),o.getRelatedInsights(i)})),t.runScopedInsights=!1),null!=i&&i.resolve()},t.prototype.setErrorMessage=function(){var e=this.services.localizationService;this.scope.errorMessageConfig={canEdit:this.scope.canEdit,mode:!0,titleShared:e.get("InFocusEMHeader"),titleNonShared:e.get("InFocusEMHeader"),contentShared:e.get("InFocusEMContentShared"),contentNonShared:e.get("InFocusEMContentNonShared"),contact:e.get("InFocusEMContentSharedContact")}},t.prototype.validateDrillableVisual=function(t){var i=this.services.visualPlugin.capabilities(t.contract.config.singleVisual.visualType),o=e.explore.util.DrillUtils.getDrillableRoles(i);if(o.length>0)for(var r=t.contract.config.singleVisual.query.projections,a=0,n=o;a<n.length;a++){var s=n[a],c=r[s];if(!_.isEmpty(c)&&c.all().length>1&&_.isEmpty(c.activeProjectionRefs))return!1}return!0},t.prototype.setDataSources=function(t){var i=[];if(t){var o=e.explore.constants.DefaultSchemaName,r={type:e.common.constants.dsrDataReaderType,id:t.contract.modelId,name:e.explore.constants.DefaultSchemaName,dsr:{schemaName:e.explore.constants.DefaultSchemaName,vsName:t.vsName,dbName:t.dbName,modelId:t.contract.modelId}};if(i.push(r),this.services.featureSwitchService.featureSwitches.reportMeasures){var a=t.contract.$config.visualContainer.$modelExtensions,n=e.explore.constants.ExplorationSchemaName;i.push({type:e.explore.dataReaderPlugins.ExplorationDataReaderType,id:t.contract.id,name:n,extends:o,exploration:{schemaName:n,extends:o,getModelExtensions:function(){return a}}})}}var s=e.explore.contracts.createDataSourceArray(i);this.services.dataSources.set(s)},t.prototype.initializeSection=function(e,i){var o={name:e,displayName:i,size:t.getDefaultSize(),visualContainers:[],filters:[]};return this.services.explorationNavigation.goto(o,!1),o},t.getDefaultSize=function(){return{displayOption:0,width:e.explore.constants.ExploreCanvasConstants.DefaultCanvasWidth,height:e.explore.constants.ExploreCanvasConstants.DefaultCanvasHeight}},t.prototype.exitAndHide=function(){var e=this.services.dashboardDataService.activeDashboard;if(e&&!this.services.navigation.inInsightsView()){var t=this.services;r.navigateToDashboard(e,t.navigation,t.appService,t.packageService)}this.hide()},t.prototype.hide=function(){this.scope.showInFocusMode=!1,this.scope.viewModel.showInsightsPane=!1,this.scope.viewModel.showPreviousVisualButton=!1,this.scope.viewModel.inFocusTile=null,this.scope.viewModel.canvas.visual.visualContainer=null,this.scope.viewModel.canvas.exploration&&(this.scope.viewModel.canvas.exploration.exploreCanvas.visualContainers=jsCommon.ArrayExtensions.createWithId()),this.toggleViewMode(!0),this.scope.inFocusDrillableError=!1,this.services.inFocusService.exit()},t.prototype.updateTile=function(t,i){this.services.filterGenerator.clearCrossHighlight(this.scope.viewModel.canvas.exploration.contract.sections[0]);var o=this.scope.viewModel;if(o.inFocusTile=t,o.openInsightArgs=i,o.inFocusTile){o.displayText=t.getDisplayText(),o.subDisplayText=t.getSubDisplayText();var r=o.inFocusTile;o.source=null!=r.report?this.services.localizationService.format("InFocus_SourceReport",[r.report.displayName]):this.services.localizationService.format("InFocus_SourceQna",[r.utterance]);var a=this.services.dashboardDataService.activeDashboard;this.setExportableState(r),i?i.entryPoint!==e.telemetry.InsightEntryPoint.InFocusMode&&(this.scope.viewModel.dashboardText=this.services.localizationService.format("InFocus_ToDashboard",[r.contractsModel.displayName])):this.scope.viewModel.dashboardText=null!=a?this.services.localizationService.format("InFocus_ToDashboard",[a.displayName]):this.services.localizationService.get("InFocus_DefaultDashboard"),o.pinVisualText=this.services.localizationService.get("PinVisual_ToolTip"),o.editVisualText=this.services.localizationService.get("InFocus_Edit"),o.saveVisualText=this.services.localizationService.get("ReportAppBar_SaveToDashboard"),o.getRelatedInsightsText=this.services.localizationService.get("Insights_GetRelatedInsights");var s=r.contract;r.setDatasetModelAndPackageInfo(this.services.modelService.findModel(s.modelId,s.packageId),this.services.packageService.findPackage(s.packageId)),this.scope.relatedInsightsEnabled=r.datasetModel.contract.insightsSupported&&!r.datasetModel.isHidden&&(r.datasetModel.getPermissions()&n.Read)===n.Read&&!r.workbook}},t.prototype.handleStateChangeSuccess=function(e,t,i,o,r){var a=this.services.navigation.inInFocusView(),n=this.services.navigation.inInFocusInsightsView(),s=!a&&!n;s&&this.hide()},t.prototype.openReport=function(){this.services.rootScope.$emit(e.constants.openTileEventName,this.services.inFocusService.inFocusTile)},t.prototype.getRelatedInsights=function(t){this.originalTile=this.scope.viewModel.inFocusTile,this.originalViewTileArgs=this.currentViewTileArgs,this.scope.viewModel.showPreviousVisualButton=!1,this.services.insightsService.setScopedInsightsSource(t),this.scope.viewModel.showInsightsPane?this.scope.$broadcast(e.insights.constants.getRelatedInsightsEvent):this.scope.viewModel.showInsightsPane=!0},t.prototype.logInsightFeedback=function(t){var i=this.scope.viewModel.openInsightArgs.showInsightsEvent,o=this.scope.viewModel.canvas.visual.visualContainer.contract;if(i&&o){var r=this.services.insightsService.getFiltersFromQuery(o),n=this.services.insightsService.getFiltersFromHighlights(o.config.singleVisual.objects),s=this.services.insightsService.getNumberOfColumns(o);this.services.telemetryService.logChildEvent(i,e.telemetry.InsightsFeedback,t?e.telemetry.InsightFeedback.Yes:e.telemetry.InsightFeedback.No,r.length,n.length,s,this.scope.viewModel.openInsightArgs.insightContainerModel.source),this.services.notificationToast.notify({notificationType:a.Success,title:this.services.localizationService.get("Insights_FeedbackToastTitle"),message:this.services.localizationService.get("Insights_FeedbackToastMessage")})}},t.prototype.pinVisual=function(){var t=this,i=this.scope.viewModel,o=this.services.dataSources.get(),r=i.canvas.visual.visualContainer,a=r.contract.config.singleVisual.visualType;if(this.services.conceptualSchemaProxy.get(o).then((function(e){var i=r.hostServices.getFilters(t.services.filterGenerator,e);t.services.pinVisual.pinVisualContainer(o,r.contract,i,r.themeName,c.getRegisteredResourcePackage(t.services.resourcePackagesService.getAllPackages()))})),i.openInsightArgs){var n=i.openInsightArgs.insightContainerModel,s=e.insights.contracts.InsightType[n.contract.insight.Type];this.services.telemetryService.logChildEvent(i.openInsightArgs.showInsightsEvent,e.telemetry.InsightsPinInsight,n.contract.id,a,s,e.telemetry.PinInsightEntryPoint.InFocusMode,i.openInsightArgs.insightContainerModel.source,i.openInsightArgs.entryPoint===e.telemetry.InsightEntryPoint.InFocusMode?n.contract.relevance.Score:null)}},t.prototype.pinVisualHandler=function(t){if(t){var i=this.scope.viewModel,o=i.inFocusTile.contract;t.reportId=o.reportId,this.scope.dataSources.length>0&&(t.modelId=this.scope.dataSources[0].id,t.packageId=o.packageId);var r=this.scope.viewModel.inFocusTile;t.action=r.action,r.utterance&&(t.utterance=r.utterance),this.services.rootScope.$emit(e.explore.constants.pinVisualContainerEventName,t)}},t.prototype.showRefreshErrorDetails=function(){var e=this;this.services.localizationService.ensureLocalization((function(){e.services.errorService.error(e.services.localizationService.get("TileEditor_InFocusDatasetRefreshErrorMessage"),"InFocus_DatasetRefreshError",{title:e.services.localizationService.get("TileEditor_InFocusDatasetRefreshErrorTitle")})}))},t.prototype.onInFocusMenuItemSelected=function(e){switch(e.action){case 0:this.qrCode();break;case 1:this.exportData()}},t.prototype.qrCode=function(){this.services.qrCodeService.showDialogForTile(this.scope.$parent,this.services.inFocusService.inFocusTile,this.services.dashboardDataService.activeDashboard.contract,this.services.groupService.activeGroupObjectId,this.services.navigation.currentAppGUID)},t.prototype.exportData=function(){var e=this.scope.viewModel;this.services.exportData.exportTileDataToCsv(e.inFocusTile)},t.prototype.setExportableState=function(t){var i=!1,o=this.services.exportData;o&&(i=o.canExportTileData(t)),this.scope.canExport=i,this.scope.inFocusMenuItems=e.models.inFocusViewModelFactory.createInFocusMenuItems(this.services.localizationService,i)},t})();t.InFocusController=p})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i;var r=t.$watch((function(){return o.services.modelService.models.length}),(function(){o.services.modelService.models.length>0&&(r(),o.updateViewModel())})),a=this.scope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e){e.stopPropagation(),o.updateViewModel()}));this.scope.$on("$destroy",(function(){a()}))}return t.createOptions=function(){return{additionalServices:["modelService","navigation","telemetryService"]}},t.prototype.updateViewModel=function(){var t=e.telemetry.InsightEntryPoint.DirectNavigation;if(this.services.navigation.insightsSource){switch(this.services.navigation.insightsSource){case e.insights.constants.insightsSourceDesktop:t=e.telemetry.InsightEntryPoint.Desktop;break;case e.insights.constants.insightsSourceNavigationPane:t=e.telemetry.InsightEntryPoint.NavigationPane;break;case e.insights.constants.insightsSourceToast:t=e.telemetry.InsightEntryPoint.Notification}this.services.navigation.resetInsightsSource()}var i=this.services.modelService.findModelByDBName(this.services.navigation.insightsDataGUID).contract,o=e.insights.models.ViewModelFactory.createInsightCanvasModel({model:i});o.entryPoint=t,this.scope.viewModel=new e.models.insights.InsightsModel,this.scope.viewModel.insightsCanvasModel=o},t})();t.InsightsController=i})(i=t.insights||(t.insights={}))})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.AppUtils,o=e.common.models.CollapsiblePaneExpandedWidth,r=e.common.constants,a=e.dataServices.constants,n=e.services.FullScreenFitStyle,s=e.helpers.NavigationHelper,c=e.common.contracts.Permissions,l=e.common.contracts.PinData,d=e.telemetry.PinTileSource,p=e.common.constants.TaskPaneCollapsiblePaneMode,u=e.common.constants.TaskPaneSlider,v=e.dataServices.models.TileFactory,h=(function(){
function t(e,t){var i=this;this.scope=e,this.services=t,t.asyncFeatureSwitchService.getFeatureSwitches().then((function(){i.initialize(),i.scope.isInitialized=!0}))}return t.createOptions=function(){return{additionalServices:["$location","$timeout","appService","appMetadataService","asyncFeatureSwitchService","bootstrapService","contentPackService","contentProviderHttpService","dashboardDataService","dashboardService","dashboardStateChangeService","errorService","explorationLoader","favorites","fullScreen","groupService","home","impersonationService","inFocusService","licenseEnforcementService","licenseHelperService","localizationService","modalDialogService","modalDialogService","modelConverter","modelHttpService","modelService","mostRecentlyUsedService","navigation","notificationToast","packageService","pageTitle","permissionService","pinTileService","previewFeaturesModalService","reportService","rtl","quota","syncService","telemetryService","tutorialDataStore","userActivityContextService","userInfo","userNotificationInfo","visualPlugin","workbookService","conceptualModelSetting","appService","packageService","taskPaneSliderService","usageMetricsReport"]}},t.prototype.initialize=function(){var t=this,i=this.services;this.scope.inAppsView=function(){return t.services.conceptualModelSetting.isAppsEnabled()&&t.services.navigation.inAppsDetailView()},this.scope.inAppView=function(){return t.services.conceptualModelSetting.isAppsEnabled()&&t.services.navigation.inAppView()},this.scope.isScrollable=function(){return t.services.navigation.inAppDetailView()},this.scope.inFavoritesView=function(){return i.navigation.inFavoritesView()},this.scope.inContentListView=function(){return i.navigation.inContentListView()},this.scope.inDashboardView=function(){return i.navigation.inDashboardView()},this.scope.inEmptyFeaturedDashboardView=function(){return t.services.navigation.inHomeDashboardView()&&!t.services.home.isHomeDashboardSet},this.scope.inGroupWelcomeView=function(){return i.navigation.inGroupWelcomeView()},this.scope.inReportView=function(){return i.navigation.inReportView()||i.navigation.inDatasetView()},this.scope.inDatasetView=function(){return i.navigation.inManageDatasetView()||i.navigation.inManageStreamingDatasetView()},this.scope.inWorkbookView=function(){return i.navigation.inWorkbookView()},this.scope.inDashboardSliderView=function(){return i.navigation.inFullPageSliderView()},this.scope.inQnaModelView=function(){return i.navigation.inQnaModelView()},this.scope.inQnaView=function(){return i.navigation.inQnaView()},this.scope.inWorkspacesView=function(){return i.navigation.inWorkspacesView()},this.scope.hideTaskPaneSliderOnClick=function(){return t.hideTaskPaneSliderOnClick()},this.scope.dashboardDataService=i.dashboardDataService,this.scope.navigation=i.navigation,this.scope.groupService=i.groupService,this.scope.fullScreen=i.fullScreen,this.scope.impersonation=i.impersonationService,this.scope.permissionService=i.permissionService,this.scope.showLoadingForDashboard=function(){return t.showLoadingForDashboard()},this.scope.quitImpersonation=function(){return t.quitImpersonation()},this.scope.exitFullScreen=function(){i.fullScreen.fullScreenMode=!1,i.fullScreen.fitStyle=n.None};var s=i.telemetryService.startActivity(this.scope,e.telemetry.AppInitialAppLoad,i.navigation.stateService.current.name,void 0);s.event.id=window.initialAppLoadActivityId||s.event.id,initializeContainerStartTime&&initializeContainerStartTime.getTime&&s&&s.event&&s.event.time&&(s.event.time=initializeContainerStartTime.getTime()),this.initializeContainer(s),this.scope.$watch("inDashboardView() || inDashboardSliderView()",(function(e){return t.scope.isDashboardLandingContainerActive=!!e})),i.rootScope.$on(e.constants.updateFavorites,(function(){i.favorites.reloadFavorites(!0)})),this.scope.$watch("inContentListView()",(function(e){return t.scope.isContentListActive=!!e,t.scope.isContentListActive})),this.scope.contentListEnabled=function(){return t.scope.listViewEnabled()},this.scope.favoritesEnabled=i.asyncFeatureSwitchService.featureSwitches.favoritesEnabled,this.scope.newQnaEnabled=!i.rtl.isRtlLayout,this.scope.listViewEnabled=function(){return i.conceptualModelSetting.isListViewEnabled()},this.usageMetricsEnabled=i.asyncFeatureSwitchService.featureSwitches.usageMetricsEnabled,this.scope.navigationPaneSide=i.rtl.isRtlLayout?"right":"left",i.rootScope.$on(e.constants.personalizeEventName,(function(e,i){t.onPersonalizePackage(e,i)})),this.scope.$on(r.onReportPersonalizedEventName,(function(e,i){t.onPersonalizeReport(e,i)})),i.rootScope.$on(r.openUsageMetricsReport,(function(e,i,o){t.openUsageMetricsReport(i,o)})),i.rootScope.$on(r.pinReportPageToDashboard,(function(e,i){t.pinReportPage(i)})),this.scope.$on(a.workbook.bindToExcelWorkbookEventName,(function(e,i){return t.onBindToExcelWorkbook(e,i)}));var c,l=this.scope.$on(r.navigation.stateChangeSuccess,(function(e,i,o,r,a){return t.handleStateChange(i,o,r,a)}));e.explore&&(c=i.rootScope.$on(e.explore.constants.pinVisualContainerEventName,(function(e,i){return t.pinVisual(i)})));var d,v,h;e.insights&&(v=i.rootScope.$on(e.insights.constants.pinInsightContainer,(function(e,i){return t.pinVisual(i)})),d=i.rootScope.$on(e.insights.constants.viewInsightInFocus,(function(e,i,o,r){return t.showVisualInFocus(i,o,r)})),h=i.rootScope.$on(e.insights.constants.insightsLoadedEventName,(function(e,i,o){return t.showInsightsLoadedNotification(i,o)})));var g=i.rootScope.$on(r.currentActiveReportInfoChangedEventName,(function(e,i){return t.updateCurrentReportInfo(e,i)})),f=this.scope.$on(e.constants.showTileEditorEventName,(function(e,r){e&&e.stopPropagation(),i.dashboardService.selectDashboardTile(r),t.services.taskPaneSliderService.expandPane(p.TileEditor,o.Large)})),m=this.scope.$on(e.constants.hideTileEditorEventName,(function(e){e&&e.stopPropagation(),i.dashboardService.clearSelectedDashboardTile(),t.services.taskPaneSliderService.collapsePane()})),b=this.scope.$on(e.settings.constants.showGatewayUserMappingPaneEventName,(function(){t.services.taskPaneSliderService.expandPane(p.UpnMappingPane,o.Large)})),y=this.scope.$on(e.settings.constants.hideGatewayUserMappingPaneEventName,(function(){t.services.taskPaneSliderService.collapsePane()})),S=this.scope.$on(u.ShowShareDashboardPaneEventName,(function(e){e&&e.stopPropagation(),t.services.taskPaneSliderService.expandPane(p.SharingPane,o.Large)}));this.scope.hideNotificationPaneOnClick=function(){return t.hideNotificationPaneOnClick()},this.scope.$watch((function(){return i.userNotificationInfo.showPane}),(function(e){t.scope.$applyAsync((function(){t.handleNotificationPane(e)}))})),i.appMetadataService.getAppMetadata().then((function(e){e&&e.userMetadata&&i.syncService.monitorUserChanges(e.userMetadata.version,e.userMetadata.tenantMetadata?e.userMetadata.tenantMetadata.version:null,e.userMetadata.groups?e.userMetadata.groups:[])})),this.scope.$on("$destroy",(function(){c&&c(),d&&d(),v&&v(),g&&g(),l&&l(),f(),m(),b(),y(),S()})),this.isNavigationPaneExpanded=!0,i.bootstrapService&&i.bootstrapService.bootstrap(),i.tutorialDataStore.onReady((function(){if(i.asyncFeatureSwitchService.featureSwitches.previewConceptualModel){var e=i.tutorialDataStore.hasKey(r.previewConceptualModelKey);e&&i.previewFeaturesModalService.showFeedbackModal()}}))},t.prototype.toggleNavigationPane=function(e){this.isNavigationPaneExpanded=e},t.prototype.findModel=function(e,t,i){void 0===i&&(i=!0);var o=this.services.modelService.findModel(e,t,i);return o&&o.contract||_.find(this.dashboardContainerModel.contract.models,(function(i){return i.id===e&&i.packageId===t}))},Object.defineProperty(t.prototype,"contentProviders",{get:function(){return this.services.contentProviderHttpService.getBuiltInContentProviders()},enumerable:!0,configurable:!0}),t.prototype.handleStateChange=function(t,i,o,r){var a=this;this.openExplorationEvent&&(this.openExplorationEvent.event&&this.openExplorationEvent.event.info&&(this.openExplorationEvent.event.info.isCancelled=!0,this.openExplorationEvent.event.info.errorCode="NavigateAway"),this.openExplorationEvent.resolve(),this.openExplorationEvent=void 0),this.services.taskPaneSliderService.collapsePane();var n=this.services.navigation;if(t.name===e.constants.navigation.states.home){var c=this.services.home;if(c.isHomeDashboardSet&&(!r.groupGUID||r.groupGUID===c.homeDashboard.groupId))return void n.insertGroupAndNavigateToDashboardByGUID(c.homeDashboard.dashboardObjectId,c.homeDashboard.groupId,1)}else if(t.name===e.constants.navigation.states.group)return void n.navigateToContentListOrActiveDashboard();if(n.inReportView()){var l=this.services.reportService;this.services.groupService.groupSwitchPromise().then((function(){s.ensureReportGUID(n,a.services.appService,a.services.packageService,l);var t=a.services.reportService.findReportByGUID(n.currentReportGUID);if(!t)return a.services.mostRecentlyUsedService.removeMRU(n.currentReportGUID),e.helpers.ArtifactNotFoundHelper.showArtifactDoesNotExistDialog("ArtifactKind_Report",a.services.errorService,a.services.localizationService,a.services.telemetryService),void n.navigateToContentListOrActiveDashboard();t.isNew=!1;var i=a.services.modelConverter.convertReport(t.contract);a.services.modelConverter.fillReport(i,t.contract),i.model=a.findModel(t.modelId,t.packageId),a.onBindToPowerViewReport(null,i,n.instantiationMode,null,n.currentReportPage)}))}else if(n.inDatasetView()&&!n.inQnaModelView()){if(n.currentDatasetDBName){var d=this.services.modelService.findModelByDBName(n.currentDatasetDBName);if(!d)return e.helpers.ArtifactNotFoundHelper.showArtifactDoesNotExistDialog("ArtifactKind_Dataset",this.services.errorService,this.services.localizationService,this.services.telemetryService),void n.navigateToActiveDashboard();var p=this.services.modelConverter.convertReport(d.contract);this.services.modelConverter.fillReport(p,d.contract),p.model=d.contract,this.onBindToPowerViewReport(null,p,n.instantiationMode)}}else if(n.inDashboardView()){var u=this.services.dashboardService,v=this.services.dashboardDataService;s.ensureDashboardGUID(n,this.services.appService,this.services.packageService,u);var h=v.findDashboardByGUID(n.currentDashboardGUID);!h||v.activeDashboard&&v.activeDashboard.objectId===h.objectId||(v.activeDashboard=h),n.inQnaView()&&(this.scope.viewModel.qnaContainer.models=v.activeDashboardModels,this.scope.viewModel.qnaContainer.title=v.activeDashboard.displayName)}else n.inDatasetView()&&n.inQnaModelView()&&this.services.modelService.modelsPromise.then((function(e){var t=n.currentDatasetDBName,i=_(e).filter((function(e){return e.dbName===t})).map((function(e){return e.contract})).value();a.scope.viewModel.qnaContainer.models=i,a.scope.viewModel.qnaContainer.title=i[0].displayName}))},t.prototype.showInsightsLoadedNotification=function(t,i){var o=this;if(!this.services.navigation.inInsightsView()||this.services.navigation.insightsDataGUID!==t.dbName){var r={displayText:this.services.localizationService.get("Insights_FinishedLoadingButtonText"),action:function(){o.services.navigation.showInsightsPanel(t.dbName,e.insights.constants.insightsSourceToast)}},a={displayText:this.services.localizationService.get("LearnMore"),action:function(){window.open(e.insights.constants.zeroInsightsLink,"_blank")}};i?this.services.notificationToast.notify({title:this.services.localizationService.get("Insights_FinishedLoadingTitle"),message:this.services.localizationService.format("Insights_FinishedLoadingSubtitle",[t.displayName]),notificationType:e.common.NotificationToastType.Success,actionButtons:[r],sticky:!0}):this.services.notificationToast.notify({title:this.services.localizationService.get("Insights_FinishedLoadingNoInsightsTitle"),message:this.services.localizationService.format("Insights_FinishedLoadingNoInsightsSubtitle",[t.displayName]),notificationType:e.common.NotificationToastType.NoIcon,actionButtons:[a]})}},t.prototype.showVisualInFocus=function(e,t,i){if(e){var o=e.modelId,r=e.packageId,a=o?this.findModel(o,r):void 0,n=v.createTileForPinData(this.services.visualPlugin,e,a),s=this.services.modelConverter.convertTile(n,this.services.modelService.getModelContracts());this.services.inFocusService.view(s,t,i)}},t.prototype.isPinningSupported=function(t,i,o){var a=this.services.permissionService,n=a&&a.getModelEffectivePermissions(i)||i.permissions;if(t&&t.getPermissions()===c.CopyOnWrite)return this.onPersonalize(t.packageId),!1;if(i&&n===c.CopyOnWrite)return this.scope.$emit(e.constants.personalizeEventName,i.packageId),!1;var s=o&&o.action,l=s===r.openQnAActionName||s===r.openInsightsActionName;return!(this.services.permissionService.isActiveWorkspaceIsReadOnly||t&&(t.getPermissions()&c.Write)!==c.Write||l&&i&&(n&c.Write)!==c.Write)||(this.services.pinTileService.showNotSupportedDialog(),!1)},t.prototype.pinVisual=function(t){if(t){var i,o=this.services.telemetryService,r=t.modelId,a=t.packageId,n=r?this.findModel(r,a):void 0,s=n?n.contentProviderId:void 0,c=e.common.findContentProviderName(this.contentProviders,s),d=!!(t.resourcePackageIds&&t.resourcePackageIds.length>0),p=o.startEvent(e.telemetry.DashboardPinTile,l.getVisualType(t),this.getSource(t),"",!1,c,d,"",!1);t.reportId&&(i=this.services.reportService.findReport(t.reportId),i||this.services.reportService.addReport(this.services.modelConverter.convertReport({id:t.reportId,permissions:e.common.contracts.Permissions.All|e.common.contracts.Permissions.Explore}))),this.isPinningSupported(i,n,t.action)&&this.services.pinTileService.showPinVisualDialog(t,i,n,void 0,p)}},t.prototype.pinReportPage=function(e){var t=this.services.reportService.findReport(e.reportId),i=this.findModel(e.modelId,e.packageId);this.usageMetricsEnabled&&this.belongsToUsageMetricsContentPack(t)&&(e.additionalODataFilter=this.services.navigation.additionalODataFilter),this.isPinningSupported(t,i,e.action)&&this.services.pinTileService.showPinReportPageDialog(e)},t.prototype.getSource=function(t){switch(t.action.action){case e.common.constants.openQnAActionName:return d.QnA;case e.common.constants.openInsightsActionName:return d.Insights;default:return d.Exploration}},t.prototype.updateCurrentReportInfo=function(e,t){null!=e&&e.stopPropagation(),this.services.reportService.currentActiveReport=t},t.prototype.onPersonalizePackage=function(e,t){null!=e&&e.stopPropagation(),this.onPersonalize(t)},t.prototype.onPersonalizeReport=function(e,t){null!=e&&e.stopPropagation();var i=this.services.reportService.findReport(t);null!=i&&this.onPersonalize(i.packageId)},t.prototype.onPersonalize=function(e){this.services.contentPackService.onPersonalizeContentPack(e)},t.prototype.onBindToPowerViewReport=function(t,o,r,a,n){var s=this;null!=t&&t.stopPropagation(),this.updateCurrentReportInfo(null,{id:o.id,displayName:o.displayName});var c,l=this.services.dashboardDataService.activeDashboard;l&&(c=l.id);var d=this.services.modelConverter,p=d.convertReport(o.contract);d.fillReport(p,o.contract),p.packageId=o.contract.packageId,p.reportActiveSlideId=o.reportActiveSlideId,p.isNew=o.isNew,p.model=o.model,p.modelId=o.modelId;var u=p.contract&&i.getResourceAppGUID(p.contract,this.services.appService,this.services.packageService);this.openExplorationEvent=this.services.telemetryService.startActivity(this.scope,e.telemetry.EXOpenExploration,p.objectId,p.contract&&p.contract.originalReportObjectId,u,p.model&&p.model.directQueryMode===!0,!1,p.model&&!_.isEmpty(p.model.onPremModelConnectionString),this.getReportOpenSource(),this.belongsToUsageMetricsContentPack(o),this.services.groupService.activeGroupObjectId);var v={report:p,dashboardId:c,instantiationMode:r,tileId:a,reportPage:n,openExplorationTelemetryEvent:this.openExplorationEvent},h=this.scope.viewModel;h.explorationContainer=e.explore.viewModels.ViewModelFactory.createExplorationContainer(),this.services.explorationLoader.load(v);var g=e.contracts.LandingView.Report,f=this.services.telemetryService,m=f.startEvent(e.telemetry.DashboardSwitchView,h.contract.activeView,g);h.contract.activeView=g;var b=d.convertLandingContainerShallow(h.contract);b.calculateLayout(),this.services.localizationService.ensureLocalization((function(){s.scope.reportName=s.getReportTitleForNavigationBar(o)})),this.scope.viewModel.reportContainer.isActiveView=!0,m.resolve()},t.prototype.getReportOpenSource=function(){var t=jsCommon.QueryStringUtil.getQueryStringValue("openReportSource");return"email"===t?e.telemetry.OpenExplorationSource.EmailSubscription:e.telemetry.OpenExplorationSource.Normal},t.prototype.getReportTitleForNavigationBar=function(t){var i=t.displayName;return i?i:e.common.localize.get("Landing_DefaultReportName")},t.prototype.onBindToExcelWorkbook=function(t,i){t.stopPropagation(),this.services.workbookService.currentActiveWorkbook={id:i.id,packageId:i.packageId,uniqueId:i.uniqueId,displayName:i.displayName};var o=this.scope.viewModel,r=e.contracts.LandingView.Workbook,a=this.services.telemetryService,n=a.startEvent(e.telemetry.DashboardSwitchView,o.contract.activeView,r);this.scope.viewModel.contract.activeView=r,n.resolve()},t.prototype.initializeContainer=function(i){var o=this,r={dashboards:[],activeViewMode:e.contracts.DashboardContainerViewMode.DashboardViewer,activityPane:e.staticContract.getActivityPaneContract()},a={activeView:e.contracts.LandingView.Dashboard,dashboardContainer:r,reportContainer:{},workbookContainer:{},qnaContainer:{}},n=this.services.modelConverter,s=this.scope.viewModel=n.convertLandingContainer(a);s.calculateLayout(),s.applyLayout(),i&&this.logBootstrapEvents(i),this.services.rootScope.$on(e.constants.dashboardContainerLoaded,(function(e,r){o.scope.viewModel.dashboardContainer=o.services.dashboardService.dashboardContainerModel,i&&(t.logGetAppMetadataTelemetry(o.services.telemetryService,i,window.getAppMetadataInfo),o.services.$timeout((function(){i.event.info.finalState=r||o.services.navigation.stateService.current.name,o.scope.$applyAsync((function(){i.resolve(),o.scope.appDataReady=!0,o.services.pageTitle.refresh()}))})))}))},t.prototype.handleNotificationPane=function(e){this.scope.viewModel.notificationPane.isExpanded=e,this.scope.viewModel.showNotificationPane=e,this.scope.viewModel.notificationPane.expandedWidth=e?o.Small:o.Default,e||(this.services.userNotificationInfo.hidePaneOnClick=!1)},t.prototype.hideTaskPaneSliderOnClick=function(){this.services.taskPaneSliderService.collapsePane(),this.scope.$broadcast(e.constants.hideTaskPaneSliderOnClickEventName)},t.prototype.hideNotificationPaneOnClick=function(){this.services.userNotificationInfo.hidePaneOnClick=!0},Object.defineProperty(t.prototype,"dashboardContainerModel",{get:function(){return this.scope.viewModel.dashboardContainer=this.services.dashboardService.dashboardContainerModel,this.scope.viewModel.dashboardContainer},enumerable:!0,configurable:!0}),t.prototype.showLoadingForDashboard=function(){var e=this.services.dashboardDataService;return e.activeDashboard&&e.activeDashboard.id<0},t.prototype.quitImpersonation=function(){var e=this.services.impersonationService,t=e.getImpersonationState().modelId;e.clearImpersonation(),this.services.fullScreen.fullScreenMode&&this.scope.exitFullScreen(),this.services.navigation.showRowLevelSecuritySlider(t)},t.logGetAppMetadataTelemetry=function(t,i,o){if(!_.isEmpty(o))for(var r=0,a=o;r<a.length;r++){var n=a[r];if(n&&n.start&&n.end){var s=n.initialDashboardContainer,c=t.startChildEvent(i.event,e.telemetry.AppGetAppMetadata,n.url,n.groupGUID,n.size,_.size(s&&s.dashboards),_.size(s&&s.reports),_.size(s&&s.models),_.size(s&&s.workbooks),_.size(s&&s.favorites),n.start.toISOString(),n.end.toISOString());c.event.id=n.requestId,n.parseStart&&n.parseEnd&&t.logChildEvent(c.event,e.telemetry.AppParseAppMetadata,n.parseStart.toISOString(),n.parseEnd.toISOString()),n.isError?c.reject(e.errorDetailsHelper.getTelemetryErrorDetails({code:n.code,message:n.errorMessage})):c.resolve()}}},t.prototype.logBootstrapEvents=function(t){for(var i=this.services.telemetryService,o=e.common.perfMarkers.getJsParseTimes(window.parseTimeMarkers),r=0,a=o;r<a.length;r++){var n=a[r];i.logChildEvent(t.event,e.telemetry.AppJavaScriptParse,n.fileName,n.start,n.end)}var s=window.performance.timing;i.logChildEvent(t.event,e.telemetry.AppLoadPerformanceTiming,s.navigationStart,s.unloadEventStart,s.unloadEventEnd,s.redirectStart,s.redirectEnd,s.fetchStart,s.domainLookupStart,s.domainLookupEnd,s.connectStart,s.connectEnd,s.requestStart,s.responseStart,s.responseEnd,s.domLoading,s.domInteractive,s.domContentLoadedEventStart,s.domContentLoadedEventEnd,s.domComplete,s.loadEventStart,s.loadEventEnd)},t.prototype.openUsageMetricsReport=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var o,r;return __generator(this,(function(a){switch(a.label){case 0:o=this.services.telemetryService.startEvent(e.telemetry.UsageMetricsViewUsageMetricsReport,e.constants.usageMetrics_Report,t.objectId,e.constants.usageMetrics_Report),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.services.usageMetricsReport.openReportUsageMetricsReport(t,i,o)];case 2:return a.sent(),o.resolve(),[3,4];case 3:return r=a.sent(),o.reject(e.errorDetailsHelper.getTelemetryErrorDetails(r.error)),[3,4];case 4:return[2]}}))}))},t.prototype.belongsToUsageMetricsContentPack=function(e){return e&&e.contract&&r.isUsageMetricsContentProvider(e.contract.contentProviderId)},t})();t.LandingContainer=h})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.constants,o=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.scope.viewModel.ownedByMeSelected=!0,this.scope.tryItFree=this.services.userInfo.userFreeTrialExpired?function(){return o.services.licenseHelperService.displayDialogToExtendTrial(e.telemetry.LicenseEnforcementOperation.ManageStorageView)}:function(){return o.services.licenseHelperService.displayDialogToAcceptTrialTerms(e.telemetry.LicenseEnforcementOperation.ManageStorageView)},this.scope.deleteModel=function(e){return o.deleteModel(e)},this.scope.userGroupHeader=new e.models.UserGroupHeaderModel,this.scope.isInVisibleDashboard=function(e){return o.services.quota.isInVisibleDashboard(e)},this.loadUserMetadata(),this.updateView(),t.$watchGroup([function(){return o.services.workbookService.lastUpdatedTimestamp},function(){return o.services.modelService.lastUpdatedTimestamp},function(){return o.scope.dashboardContainer.dashboards}],(function(){o.updateView()})),t.$watch((function(){return o.services.groupService.activeGroup}),(function(){o.loadUserMetadata(),o.updateView()})),this.logUsageEvent()}return t.createOptions=function(){return{additionalServices:["errorService","modelConverter","navigation","promiseFactory","telemetryService","localizationService","quota","modelService","modelHttpService","groupService","featureSwitchService","userInfo","workbookService","workbookHttpService","contentPackService","licenseHelperService","invitationService","packageService"]}},t.prototype.deleteModel=function(t){if(t&&t.modelId){var i=this.services.modelService.findModel(t.modelId,t.packageId);i&&i.isUsedByContentPack?this.showDialogOnModelUsedByContentPack(t.modelId):this.scope.viewModel.ownedByMeSelected&&t.storageType===e.storageType.Dataset?this.deleteOwnedModel(t):this.scope.viewModel.ownedByMeSelected&&t.storageType===e.storageType.Report?this.deleteWorkbook(t):this.removeOthersModel(t)}},t.prototype.showDialogOnModelUsedByContentPack=function(e){this.services.contentPackService.showDialogOnModelDeleteInContentPack(e)},t.prototype.getUsageModelIndex=function(e,t){var i=this.scope.viewModel.usageDetails;if(i)for(var o=0,r=i.length;o<r;o++)if(i[o].modelId===e&&(!t||i[o].packageId===t))return o;return-1},t.prototype.deleteOwnedModel=function(t){var o=this,r=this.services.errorService.control(),a=[new InJs.ModalDialogAction(this.services.localizationService.get("QuotaManagement_DeleteButtonText"),function(a,n){o.logDeleteEvent(e.telemetry.QuotaDeleteItemType.DeleteOwnedModel,t.sizeInMBs),r.hideDialog();var s=o.getUsageModelIndex(t.modelId,t.packageId);s>=0&&o.scope.viewModel.usageDetails.splice(s,1);var c=o.services.telemetryService.startEvent(e.telemetry.DashboardDeleteDataset),l=o.services.modelService.findModel(t.modelId,t.packageId);o.services.modelHttpService.deleteModel(l.contract,c.event).then((function(){c.resolve(),o.updateUsage()}),(function(r){r.status===e.HttpStatusCode.Unauthorized?o.services.errorService.error(o.services.localizationService.get("Model_NoPermissionToDeleteMessage"),"Model_NoPermissionToDelete",{requestId:r.requestId,statusCode:r.status.toString()}):r.status===e.HttpStatusCode.BadRequest&&r.headers(e.common.PowerBIErrorHeader)===i.CannotDeleteModelPublishedToOrganizationalAppHeader?o.services.errorService.error(o.services.localizationService.get("Model_DeleteWaitMessage"),"Model_DeleteWaitMessage",{requestId:r.requestId,statusCode:r.status.toString()}):o.services.errorService.error(o.services.localizationService.get("Model_FailToDeleteModelMessage"),"Model_FailToDeleteModel",{requestId:r.requestId,statusCode:r.status.toString()}),o.scope.viewModel.usageDetails.push(t),c.reject()}))}),new InJs.ModalDialogAction(this.services.localizationService.get("QuotaManagement_CancelButtonText"),function(e,t){r.hideDialog()})],n=this.services.localizationService.get("QuotaManagement_DeleteConfirmationTitle"),s=this.services.localizationService.get("QuotaManagement_DeleteConfirmationMessage");r.showCustomDialog(n,$("<div/>").text(s),a,(function(e){e.parent().find('input[value="'+o.services.localizationService.get("QuotaManagement_CancelButtonText")+'"]').focus()}),!0)},t.prototype.removeOthersModel=function(t){var i=this,o=this.services.errorService.control(),r=[new InJs.ModalDialogAction(this.services.localizationService.get("QuotaManagement_RemoveButtonText"),function(r,a){i.logDeleteEvent(e.telemetry.QuotaDeleteItemType.RemoveSharedItem,t.sizeInMBs),o.hideDialog();var n=t.dashboardsFromModel,s=[];if(n)for(var c=0,l=n.length;c<l;c++){var d=n[c],p=d.contract.modelIds;s=s.concat(p);var u=i.services.telemetryService.startEvent(e.telemetry.DashboardDeleteDashboardUser);i.services.invitationService.deleteUser(i.scope.dashboardContainer.userId,d.id,u.event).then((function(e){u.resolve(),i.updateUsage()}),(function(e){i.services.errorService.error(i.services.localizationService.get("Dashboard_FailToRemoveDashboardMessage"),"Dashboard_FailToRemoveDashboard",{requestId:e.requestId,statusCode:e.status.toString()}),u.reject()}))}for(var c=0,l=s.length;c<l;c++){var v=i.getUsageModelIndex(s[c]);v>-1&&i.scope.viewModel.usageDetails.splice(v,1)}i.services.modelService.removeModels(s)}),new InJs.ModalDialogAction(this.services.localizationService.get("QuotaManagement_CancelButtonText"),function(e,t){o.hideDialog()})],a=this.services.localizationService.get("QuotaManagement_RemoveConfirmationTitle"),n=this.services.localizationService.get("QuotaManagement_RemoveConfirmationMessage");o.showCustomDialog(a,$("<div/>").text(n),r,(function(e){e.parent().find('input[value="'+i.services.localizationService.get("QuotaManagement_CancelButtonText")+'"]').focus()}),!0)},t.prototype.deleteWorkbook=function(t){var i=this,o=this.services.errorService.control(),r=[new InJs.ModalDialogAction(this.services.localizationService.get("QuotaManagement_DeleteButtonText"),function(r,a){i.logDeleteEvent(e.telemetry.QuotaDeleteItemType.DeleteOwnedWorkbook,t.sizeInMBs),o.hideDialog();var n=i.getUsageModelIndex(t.modelId,t.packageId);n>=0&&i.scope.viewModel.usageDetails.splice(n,1);var s=i.services.workbookService.workbooks,c=_.filter(s,(function(e){return e.modelId===t.modelId}));if(c&&c.length>0){var l=i.services.telemetryService.startEvent(e.telemetry.DashboardRemoveWorkbook,i.services.packageService.getWorkbookStorageProvider(c[0].contract.packageId),i.services.packageService.getWorkbookContentProvider(c[0].contract.packageId));i.services.workbookHttpService.deleteWorkbook(c[0].contract,l.event).then((function(){l.resolve(),i.updateUsage()}),(function(o){o.status===e.HttpStatusCode.Unauthorized?i.services.errorService.error(i.services.localizationService.get("Workbook_NoPermissionToRemoveMessage"),"Workbook_NoPermissionToRemove",{requestId:o.requestId,statusCode:o.status.toString()}):i.services.errorService.error(i.services.localizationService.get("Workbook_FailToRemoveWorkbookMessage"),"Workbook_FailToRemoveWorkbook",{requestId:o.requestId,statusCode:o.status.toString()}),i.scope.viewModel.usageDetails.push(t),l.reject()}))}}),new InJs.ModalDialogAction(this.services.localizationService.get("QuotaManagement_CancelButtonText"),function(e,t){o.hideDialog()})],a=this.services.localizationService.get("QuotaManagement_DeleteConfirmationTitle"),n=this.services.localizationService.get("QuotaManagement_DeleteConfirmationMessage");o.showCustomDialog(a,$("<div/>").text(n),r,(function(e){e.parent().find('input[value="'+i.services.localizationService.get("QuotaManagement_CancelButtonText")+'"]').focus()}),!0)},t.prototype.updateUsage=function(){var t=this.services.quota,i=t.getUsage();this.scope.viewModel.selfUsageInMB=i.ownedUsage,this.scope.viewModel.otherUsageInMB=i.sharedUsage,this.scope.viewModel.totalUsageInMB=i.totalUsage;var o={selfUsageInPercent:this.scope.viewModel.selfUsageInMB/this.scope.viewModel.quotaLimitInMB,otherUsageInPercent:this.scope.viewModel.otherUsageInMB/this.scope.viewModel.quotaLimitInMB,selfUsageInUnit:e.StorageUsageService.convertToUsageWithUnit(this.scope.viewModel.selfUsageInMB),otherUsageInUnit:e.StorageUsageService.convertToUsageWithUnit(this.scope.viewModel.otherUsageInMB),usageDescription:this.services.localizationService.format("QuotaManagement_UsageDescription",[e.StorageUsageService.convertToUsageWithUnit(i.totalUsage),e.StorageUsageService.convertToUsageWithUnit(this.scope.viewModel.quotaLimitInMB)])};this.scope.viewModel.usageBarModel=o},t.prototype.updateView=function(){this.scope.viewModel.usageDetails=this.services.quota.getUsageModels(),this.updateUsage()},t.prototype.loadUserMetadata=function(){this.services.groupService.activeGroup?this.scope.viewModel.isMyWorkspace=this.services.groupService.activeGroup.isMyWorkspace:this.scope.viewModel.isMyWorkspace=!0,this.scope.viewModel.isPremiumUser=this.services.userInfo.isPremiumUser,this.scope.viewModel.quotaLimitInMB=this.services.quota.quotaLimitInMB,this.scope.viewModel.quotaLimitInUnit=e.StorageUsageService.convertToUsageWithUnit(this.scope.viewModel.quotaLimitInMB),this.scope.viewModel.tryItFreeText=this.services.userInfo.userFreeTrialExpired?this.services.localizationService.get("ExtendTrial_RequestExtensionButtonText"):this.services.localizationService.get("UpgradeAccount_TryfreeButton")},t.prototype.logDeleteEvent=function(t,i){var o=this.scope.viewModel.isMyWorkspace?e.telemetry.QuotaOpenManageStorageContext.Personal:e.telemetry.QuotaOpenManageStorageContext.Group,r=this.services.telemetryService;r.logEvent(e.telemetry.QuotaManageStorageDelete,this.scope.viewModel.isPremiumUser,o,t,i,this.scope.viewModel.selfUsageInMB,this.scope.viewModel.otherUsageInMB,this.scope.viewModel.quotaLimitInMB)},t.prototype.logUsageEvent=function(){var t=this.scope.viewModel.isMyWorkspace?e.telemetry.QuotaOpenManageStorageContext.Personal:e.telemetry.QuotaOpenManageStorageContext.Group,i=this.services.telemetryService;i.logEvent(e.telemetry.QuotaStorageUsage,this.scope.viewModel.isPremiumUser,t,this.scope.viewModel.selfUsageInMB,this.scope.viewModel.otherUsageInMB,this.scope.viewModel.quotaLimitInMB)},t})();t.ManageStorageView=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.constants,r=e.common.DropdownUtils,a=e.constants.dynamicMessaging,n=e.models.factory.NavigationBarMenuFactory,s=e.dialog.PopupNotificationDialogBuilder;!(function(e){e[e.ContactSupport=0]="ContactSupport",e[e.DownloadCompanionApp=1]="DownloadCompanionApp",e[e.DownloadExcelPublisher=2]="DownloadExcelPublisher",e[e.DownloadGateways=3]="DownloadGateways",e[e.DownloadIOSApp=4]="DownloadIOSApp",e[e.DownloadAnalyzeInExcelUpdates=5]="DownloadAnalyzeInExcelUpdates",
e[e.MakeSuggestion=6]="MakeSuggestion",e[e.ManageEmbed=7]="ManageEmbed",e[e.ManageStorage=8]="ManageStorage",e[e.OpenGeneralSettings=9]="OpenGeneralSettings",e[e.PublishContentPack=10]="PublishContentPack",e[e.ShowAboutDialog=11]="ShowAboutDialog",e[e.SignOut=12]="SignOut",e[e.UpgradeAccount=13]="UpgradeAccount",e[e.ViewContentPack=14]="ViewContentPack"})(i=t.NavigationBarMenuAction||(t.NavigationBarMenuAction={}));var c="noChrome",l="#EMAIL",d="https://support.powerbi.com",p='<div class="aboutPbiDialog"><div class="logo"></div><div class="info"><div class="title">{0}</div><div class="copyright">&copy;{1}</div><span class="field">{2}</span><span class="value">{{version}}</span><br><span class="field">{3}</span><span class="value">{4}</span><br><span class="field">{5}</span><span class="value">{6}</span><br><span class="field">{7}</span><span class="value">{8}</span></div></div>',u=(function(){function t(r,a){var n=this;this.scope=r,this.services=a;var s=this.services.$window;this.scope.navigation=this.services.navigation,this.scope.userInfo=this.services.userInfo,this.scope.featureSwitchPublishToWeb=!1,this.scope.logoConfig={operator:s.powerBIOperator,operatorLocale:s.powerBIOperatorLocale},this.supportPageUrl=s.supportPageUrl||d,this.scope.navigateToLanding=function(){n.shouldShowListView()?n.services.bootstrapService.bootstrapNavigation(!1,!0):n.services.navigation.navigateToActiveDashboard(),n.services.telemetryService.logEvent(e.telemetry.NavigationClickLogo)},this.services.asyncFeatureSwitchService.getFeatureSwitches().then((function(e){n.scope.featureSwitchPublishToWeb=e.publishToWebEnabled&&e.anonymousEmbeddingEnabled})),this.scope.fullScreen=this.services.fullScreen,this.scope.enterFullScreen=function(){n.services.fullScreen.fullScreenMode=!0,n.services.telemetryService.logEvent(e.telemetry.SettingsEnterFullScreen,n.services.navigation.stateService.current.name)},this.bindNavigationBarMenus(),this.scope.powerBICompanionAppEnable=!1,this.scope.featureSwitchOrgAppsEnabled=this.services.asyncFeatureSwitchService.featureSwitches.orgAppsEnabled,this.scope.featureSwitchPermissionCenterEnabled=this.services.asyncFeatureSwitchService.featureSwitches.permissionCenterEnabled,this.scope.featureSwitchEnterpriseGatewayEnabled=!!this.services.asyncFeatureSwitchService&&this.services.asyncFeatureSwitchService.featureSwitches.enterpriseGatewayEnabled,this.scope.isPremiumUser=this.services.userInfo.isPremiumUser,this.scope.o365PowerBIEnabled=this.services.asyncFeatureSwitchService.featureSwitches.o365PowerBIEnabled&&this.services.userInfo.userHasOffice365Plan,this.scope.canWrite=function(){return!n.services.permissionService.isActiveWorkspaceIsReadOnly},this.services.userInfo.getUserPhoto().then((function(e){n.scope.userPhoto=e}));var c=this.services.$location.host();this.scope.isSelfhostInternal=0===c.indexOf("dxt.powerbi.com")||0===c.indexOf("portal.analysis.windows-int.net")||0===c.indexOf("powerbi-df.analysis-df.windows.net"),this.scope.$watch((function(){return n.services.userInfo.isPremiumUser}),(function(e){n.scope.$applyAsync((function(){n.scope.isPremiumUser=e}))})),this.initializeUserNotifications(),this.services.userNotificationInfo.registerNotificationsUpdatedListener((function(){return n.notificationChangeHandler()})),this.services.localizationService.ensureLocalization((function(){t.FeedbackMessage=n.services.localizationService.get("FeedbackTicket_Message").replace("{{startLink}}",' <a href="https://support.powerbi.com/tos" target="_blank">').replace("{{endLink}}","</a> ")+" (#EMAIL).",t.SupportTicketMessage=n.services.localizationService.get("SupportTicket_Message").replace("{{startLink}}",' <a href="https://support.powerbi.com/tos" target="_blank">').replace("{{endLink}}","</a> ")+" (#EMAIL)."})),this.scope.showMenu=function(e,t,i){return n.showMenu(e,t,i)},this.scope.showSettingsMenu=function(e){return n.showSettingsMenu(e)};var l=this.services.rootScope.$on(e.constants.enablePowerBICompanionApp,(function(t){n.services.timeout((function(){n.scope.powerBICompanionAppEnable=!0;var t=_.filter(n.scope.downloadMenu,(function(e){return e.action===i.DownloadCompanionApp}))[0];t&&(t.href=e.models.PowerBICompanionModel.downloadLink)}))})),p=this.services.rootScope.$on(o.onReportChangedEventName,(function(e,t){n.scope.reportChanged=t}));this.scope.$on("$destroy",(function(){l(),p()}))}return t.createOptions=function(){return{additionalServices:["$location","$window","asyncFeatureSwitchService","modalDialogService","dashboardHttpService","dropdown","errorService","navigation","promiseFactory","telemetryService","localizationService","userInfo","groupService","overlayService","userSettingsHttpService","notificationToast","fullScreen","gatewaysMetadataService","permissionService","$location","userNotificationInfo","bootstrapService","conceptualModelSetting","dynamicMessagingData","tutorialDataStore"]}},t.prototype.initializeUserNotifications=function(){var t=this;this.scope.showUserNotifications=function(){t.services.userNotificationInfo.showPane?t.services.userNotificationInfo.hidePaneOnClick=!0:(t.services.userNotificationInfo.showPane=!0,t.services.telemetryService.logEvent(e.telemetry.UserNotificationsLoadNotificationPane,t.services.userNotificationInfo.userNotifications.unseenCount))},this.scope.getUserNotificationsCount=function(){return _.size(t.scope.userNotifications)},this.scope.getHighestNotificationLevel=function(e){return t.services.userNotificationInfo.getHighestNotificationLevel(e)},this.popupNotificationDialog=new s(this.services.modalDialogService)},t.prototype.notificationChangeHandler=function(){var e=this,t=this.services.userNotificationInfo.userNotifications.notifications;if(this.scope.userNotifications=_.filter(t,(function(e){return!e.seen&&(1===e.notificationType||null==e.notificationType)})),this.scope.popupNotifications=_.filter(t,(function(e){return!e.seen&&0===e.notificationType})),!(_.isEmpty(this.scope.popupNotifications)||this.modalDialogPromise&&this.modalDialogPromise.pending())){var i=this.scope.popupNotifications[0];i.seen=!0;var o={title:i.message.title.text,subtitle:i.message.subTitle&&i.message.subTitle.text,message:i.message.message.text,imgUrl:i.message.image&&i.message.image.imagePath,okButton:{text:i.action.resource.text,url:i.action.path[0]},cancelButton:i.subAction?{text:i.subAction.resource.text,url:i.subAction.path[0]}:null};this.modalDialogPromise=this.popupNotificationDialog.show("popupNotificationDialog",o),this.modalDialogPromise.then((function(t){0===t?e.services.dynamicMessagingData.postData(a.userClickedAction).finally((function(){e.handleDynamicMessageAction(i.action)})):e.services.dynamicMessagingData.postData(a.userDismissedAction)}))}},t.prototype.handleDynamicMessageAction=function(t){var i=this;if(t)switch(t.actionType){case 6:var r=this.services.telemetryService.startEvent(e.telemetry.PreviewConceptualModel,!0,e.telemetry.From.PopupMessageDialog);this.services.tutorialDataStore.setKey(o.previewConceptualModelNewKey,!0,r).then((function(){i.services.$window.location.reload(!0)}),(function(){return r.reject()}));break;default:this.services.$window.open(t.path[0],"_self")}},t.prototype.showSettingsMenu=function(e){var t=this,i=this.scope,o=function(i){i(),t.services.dropdown.hideAll(),e.stopPropagation()},r={canWrite:function(){return i.canWrite()},onManageStorageSelected:function(){return o((function(){return t.manageStorage()}))},onCreateContentPackSelected:function(){return o((function(){return t.scope.navigation.showPublishContentPackSlider()}))},onViewContentPackSelected:function(){return o((function(){return t.scope.navigation.showViewContentPackSlider()}))},onAdminPortalSelected:function(){return o((function(){return t.openAdminPortal()}))},onManageGatewaysSelected:function(){return o((function(){return t.openManageGateways()}))},onManagePermissionsSelected:function(){return o((function(){return t.managePermissions()}))},onO365PowerBISelected:function(){return o((function(){return t.goToO365PowerBISites()}))},onPowerBISettingsSelected:function(){return o((function(){return t.openGeneralSettings()}))},onManageEmbedSelected:function(){return o((function(){return t.manageEmbed()}))},featureSwitchOrgAppsEnabled:function(){return i.featureSwitchOrgAppsEnabled},showAdminPortal:function(){return t.showAdminPortal()},featureSwitchEnterpriseGatewayEnabled:function(){return i.featureSwitchEnterpriseGatewayEnabled},featureSwitchPermissionCenterEnabled:function(){return i.featureSwitchPermissionCenterEnabled},o365PowerBIEnabled:function(){return i.o365PowerBIEnabled},featureSwitchPublishToWeb:function(){return i.featureSwitchPublishToWeb}};this.services.dropdown.showMenu(r,"navigationBarSettingsMenu.html",this.getMenuDisplayOptions(e))},t.prototype.showAdminPortal=function(){return!!this.services.asyncFeatureSwitchService.featureSwitches.adminCapacityEnabled||this.services.userInfo.userMetadata.isTenantAdmin},t.prototype.showMenu=function(e,t,i){var o=this;r.showLegacyDropdownItems(this.services.dropdown,e,t,"navigationBar-contextMenu",(function(e){return o.scope.navigationBarMenuItemSelected(e,void 0)}),this.getMenuDisplayOptions(i))},t.prototype.showFeedbackContextMenu=function(e){e.stopPropagation();var t=n.createMenuItems(0,this.services.localizationService);this.services.dropdown.showContextMenu(t,this.getMenuPosition(e),_.noop,!1,"feedbackContextMenu")},t.prototype.getMenuPosition=function(e){var t=e.currentTarget;return{x:t.offsetLeft+t.offsetWidth,y:t.offsetTop+t.offsetHeight}},t.prototype.getMenuDisplayOptions=function(e){return{preferLeft:!0,showInsideVisibleArea:!0,position:this.getMenuPosition(e)}},t.prototype.showSupportWidget=function(){var i=this;e.UserVoiceService.ensureUserVoice(this.services.telemetryService,(function(){e.UserVoicePopover.show();var o=e.session.UserInfoUtils.getEmailAddressForReceivingMail();e.UserVoicePopover.setFooterText(t.SupportTicketMessage.replace(l,o)),i.services.localizationService.ensureLocalization((function(){e.UserVoiceService.api.push(["embed","#popovermain",{mode:"contact",forum_id:e.session.UserInfoUtils.isInternalUser()===!0?265200:262210,contact_title:i.services.localizationService.get("TopNav_HelpMenu_ContactSupport"),height:"325px",width:"325px"}])}))}))},t.prototype.showAboutDialog=function(){var i=this,o=this.services.errorService.control(),r=e.helpers.ClusterLocationHelper.getClusterLocation(clusterUri,this.services.localizationService);if(this.services.localizationService.ensureLocalization((function(){var e=new Date;t.AboutDialogTemplate=jsCommon.StringExtensions.format(p,i.services.localizationService.get("TopNav_PowerBILogoTextNoPreview"),i.services.localizationService.format("PowerBI_Copyright_Text",[e.getFullYear().toString()]),i.services.localizationService.get("PowerBI_Build_Version_Text"),i.services.localizationService.get("AdditionalErrorInfo_ActivityIdText"),i.services.telemetryService.sessionId,i.services.localizationService.get("AdditionalErrorInfo_TimestampText"),e.toString(),i.services.localizationService.get("AdditionalErrorInfo_DataLocationText"),r)})),e.build){var a=[new InJs.ModalDialogAction(this.services.localizationService.get("TopNav_HelpMenu_AboutDialog_Close"),function(e,t){o.hideDialog()})],n=t.AboutDialogTemplate.replace("{{version}}",e.build);o.showCustomDialog(null,$(n),a,null,!0)}},t.prototype.downloadIOSApp=function(){var i=this,o=this.services.telemetryService,r=this.services.errorService.control();if(this.services.localizationService.ensureLocalization((function(){t.AboutDownloadPowerBIDialogTemplate='<div class="aboutPbiDownloadDialog"><div class="title">'+i.services.localizationService.get("PowerBIDownloadMobileTxt")+'</div><div class="dialoglogo mobileLogo"></div><div class="message">'+i.services.localizationService.get("PowerBIDownloadMobileMessage")+"</div></div>"})),e.build){var a=[new InJs.ModalDialogAction(this.services.localizationService.get("TopNav_DownloadMenu_AboutDialog_SendEmail"),function(e,t){r.hideDialog(),i.sendPowerBIDownloadLink()}),new InJs.ModalDialogAction(this.services.localizationService.get("LearnMore"),function(e,t){r.hideDialog(),i.services.$window.open(downloadPageFWlink,"_blank")})],n=t.AboutDownloadPowerBIDialogTemplate;r.showCustomDialog(null,$(n),a,(function(e){e.parent().find('input[value="'+i.services.localizationService.get("LearnMore")+'"]').focus()}),!0,null,c)}o.logEvent(e.telemetry.DashboardDownloadIOSApp,"Navigation Bar")},t.prototype.downloadAnalyzeInExcelUpdates=function(){var i=this,o=this.services.telemetryService,r=this.services.errorService.control();this.services.localizationService.ensureLocalization((function(){t.AboutDownloadPowerBIDialogTemplate='<div class="aboutPbiDownloadDialog"><div class="title">'+i.services.localizationService.get("TopNav_SettingsMenu_AnalyzeInExcelUpdates")+'</div><div class="dialoglogo analyzeInExcelLogo"></div><div class="message">'+i.services.localizationService.get("PowerBIDownloadAnalyzeInExcelMessage_Part1")+'</div><div class="message">'+i.services.localizationService.get("PowerBIDownloadAnalyzeInExcelMessage_Part2")+"</div></div>"}));var a=[new InJs.ModalDialogAction(this.services.localizationService.get("AnalyzeInExcelToast_DownloadUpdate"),function(t,a){o.logEvent(e.telemetry.DashboardAndReportsDownloadExcelUpdates,e.common.AnalyzeInExcelService.getOperatingSystemArch(),"Download Menu"),r.hideDialog(),i.services.$window.open(e.common.AnalyzeInExcelService.getDownloadLink(),"_blank")}),new InJs.ModalDialogAction(this.services.localizationService.get("LearnMore"),function(e,t){r.hideDialog(),i.services.$window.open("https://go.microsoft.com/fwlink/?LinkID=786428","_blank")})],n=t.AboutDownloadPowerBIDialogTemplate;r.showCustomDialog(null,$(n),a,null,!0,null,c)},t.prototype.sendPowerBIDownloadLink=function(){var t=this,i=e.session.UserInfoUtils.getEmailAddressForReceivingMail(),o=this.services.telemetryService.startEvent(e.telemetry.PrivacySendPowerBIEmail);this.services.userSettingsHttpService.sendEmailForDownloadPowerBI(i,o.event).then((function(e){o.resolve();var r=t.services.errorService.control(),a=t.services.localizationService.get("PowerBISendDownloadEmailTxt"),n=t.services.localizationService.format("PowerBISendDownloadEmailSubmittedTo",[i]),s=[];r.showCustomDialog(a,$("<div/>").text(n),s,null,!0)}),(function(e){o.reject()}))},t.prototype.openGeneralSettings=function(){this.services.navigation.showSettingsSlider("general")},t.prototype.openManageGateways=function(){this.services.navigation.navigateToGateways()},t.prototype.logDownloadTelemetry=function(e){var t=this.services.telemetryService;t.logEvent(e,"Navigation Bar")},t.prototype.manageStorage=function(){var t=e.telemetry.QuotaOpenManageStorageContext.Personal;this.services.groupService.activeGroup&&!this.services.groupService.activeGroup.isMyWorkspace&&(t=e.telemetry.QuotaOpenManageStorageContext.Group),this.services.telemetryService.logEvent(e.telemetry.QuotaOpenManageStoragePage,e.telemetry.QuotaOpenManageStorageInteraction.NavigatorBarManageStorage,t),this.scope.navigation.showManageStorageSlider()},t.prototype.manageEmbed=function(){this.scope.navigation.showManageEmbedSlider()},t.prototype.upgradeAccount=function(){this.services.telemetryService.logEvent(e.telemetry.OpenUpgradeAccountPage,e.telemetry.OpenUpgradeAccountInteraction.NavigatorBarManageStorage)},t.prototype.signOut=function(){var t=this.services.$window[o.liveClientIdKey];if(null!=t){var i=jsCommon.StringExtensions.format(o.liveLogoutUrl,t,location.protocol+"//"+location.host);e.common.httpService.get(i,e.common.httpService.defaultRetryRequestOptions())}},t.prototype.goToO365PowerBISites=function(){var t=this,i=this.services.notificationToast.notify({title:this.services.localizationService.get("Loading_Text"),notificationType:e.common.NotificationToastType.Loading}),o=e.common.httpService.powerbiRequestOptions();e.common.httpService.get("/powerbi/providers/excel/sharePointService",o).then((function(r){var a=r.data,n=a.resourceId,s=n.indexOf("."),c=n.substring(0,s),l=c.substring(0,c.lastIndexOf("-my"))+n.substring(s);e.common.httpService.get("powerbi/metadata/o365powerbiurl",o).then((function(o){var r=o.data+"my?";r=r+"rootsite="+encodeURIComponent(l)+"&",r=r+"mysite="+encodeURIComponent(n)+"&",r=r+"lang="+encodeURIComponent(e.common.localization.loader.currentLanguageLocale),t.services.notificationToast.hide(i),t.services.$window.open(r,"_blank")}),(function(e){t.services.notificationToast.hide(i),t.showFailedToLoadO365SitesNotification()}))}),(function(e){t.services.notificationToast.hide(i),t.showFailedToLoadO365SitesNotification()}))},t.prototype.showFailedToLoadO365SitesNotification=function(){this.services.notificationToast.notify({title:this.services.localizationService.get("TopNav_SettingsMenu_PowerBIForO365_Error"),notificationType:e.common.NotificationToastType.Error})},t.prototype.openAdminPortal=function(){this.scope.navigation.navigateToAdminPortal(0)},t.prototype.managePermissions=function(){this.services.navigation.navigateToManagePermissions(5,null)},t.prototype.bindNavigationBarMenus=function(){var t=this;this.services.localizationService.ensureLocalization((function(){var o=[{text:e.session.userInfo.givenName+" "+e.session.userInfo.surname,description:e.session.userInfo.name,descriptionTitle:e.session.userInfo.name,containerClass:"userInfoContainer",itemClass:"userInfoContent",labelClass:"userName",descriptionClass:"userEmail",type:DropDownMenuItemType.Title},{text:t.services.localizationService.get("TopNav_UserInfoMenu_SignOut"),action:i.SignOut,href:"/SignOut",hrefTarget:jsCommon.DOMConstants.selfValue,type:DropDownMenuItemType.Item}],r=[{text:t.services.localizationService.get("TopNav_HelpMenu_GettingStarted"),href:"https://go.microsoft.com/fwlink/?LinkID=512054",type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"},{text:t.services.localizationService.get("TopNav_HelpMenu_Community"),href:"https://go.microsoft.com/fwlink/?LinkId=617032",type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"},{text:t.services.localizationService.get("TopNav_HelpMenu_GetHelp"),href:t.supportPageUrl,type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"},{text:t.services.localizationService.get("TopNav_HelpMenu_Developers"),href:"https://go.microsoft.com/fwlink/?LinkId=521914",type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"},{text:t.services.localizationService.get("TopNav_HelpMenu_About"),action:i.ShowAboutDialog,type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"}];t.services.asyncFeatureSwitchService.getFeatureSwitches().then((function(o){var r=[{text:t.services.localizationService.get("TopNav_SettingsMenu_PowerBICompanion"),action:i.DownloadCompanionApp,href:e.models.PowerBICompanionModel.downloadLink,type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"},{text:t.services.localizationService.get("TopNav_SettingsMenu_PowerBIGateways"),action:i.DownloadGateways,href:"https://go.microsoft.com/fwlink/?LinkId=698861",type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"},{text:t.services.localizationService.get("TopNav_SettingsMenu_MobileDownload"),action:i.DownloadIOSApp,type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"},{text:t.services.localizationService.get("TopNav_SettingsMenu_PowerBIPublisher"),action:i.DownloadExcelPublisher,href:"https://powerbi.microsoft.com/en-us/excel-dashboard-publisher/",type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"}];o.analyzeInExcelEnabled&&r.push({text:t.services.localizationService.get("TopNav_SettingsMenu_AnalyzeInExcelUpdates"),action:i.DownloadAnalyzeInExcelUpdates,type:DropDownMenuItemType.Item,dropdownItemClass:"addBorderBottom"}),t.scope.downloadMenu=r})),t.scope.helpMenu=r,t.scope.userInfoMenu=o,t.scope.navigationBarMenuItemSelected=function(e){return t.onNavigationBarMenuItemSelected(e)},t.scope.showFeedbackContextMenu=function(e){return t.showFeedbackContextMenu(e)}}))},t.prototype.onNavigationBarMenuItemSelected=function(t){switch(t.action){case i.ContactSupport:this.showSupportWidget();break;case i.DownloadIOSApp:this.downloadIOSApp();break;case i.DownloadCompanionApp:this.logDownloadTelemetry(e.telemetry.DashboardDownloadCompanionApp);break;case i.OpenGeneralSettings:this.openGeneralSettings();break;case i.DownloadGateways:this.logDownloadTelemetry(e.telemetry.DashboardDownloadGateways);break;case i.DownloadExcelPublisher:this.logDownloadTelemetry(e.telemetry.DashboardDownloadExcelPublisher);break;case i.DownloadAnalyzeInExcelUpdates:this.downloadAnalyzeInExcelUpdates();break;case i.ShowAboutDialog:this.showAboutDialog();break;case i.ManageStorage:this.manageStorage();break;case i.UpgradeAccount:this.upgradeAccount();break;case i.SignOut:this.signOut();break;case i.PublishContentPack:this.scope.navigation.showPublishContentPackSlider();break;case i.ViewContentPack:this.scope.navigation.showViewContentPackSlider();break;case i.ManageEmbed:this.manageEmbed()}this.services.overlayService.hideAllDropdowns()},t.prototype.shouldShowListView=function(){return this.services.conceptualModelSetting.isListViewEnabled()},t})();t.NavigationBarController=u})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.dataServices.constants,r=e.common.constants.TaskPaneCollapsiblePaneMode;t.dashboardDeleteConfirmationTitle="Dashboard_DeleteConfirmationTitle",t.dashboardDeleteContentPackMessage="Dashboard_DeleteOrgAppContentPack";var a;!(function(e){e[e.NavigatorPaneGetDataButton=1]="NavigatorPaneGetDataButton",e[e.NavigatorPaneAddDatasetButton=2]="NavigatorPaneAddDatasetButton"})(a=t.GetDataInteractionButton||(t.GetDataInteractionButton={}));var n;!(function(e){e[e.Group=0]="Group",e[e.Dashboard=1]="Dashboard",e[e.Report=2]="Report",e[e.Dataset=3]="Dataset"})(n=t.NavigationPaneSection||(t.NavigationPaneSection={}));var s;!(function(e){e[e.Dashboard=1]="Dashboard",e[e.Report=2]="Report",e[e.Dataset=3]="Dataset"})(s=t.DeleteContentPackMessageType||(t.DeleteContentPackMessageType={}));var c;!(function(e){e[e.DisableHomeDashboard=0]="DisableHomeDashboard"})(c=t.HomeDashboardMenuAction||(t.HomeDashboardMenuAction={}));var l;!(function(e){e[e.EditGroup=0]="EditGroup",e[e.ViewGroup=1]="ViewGroup",e[e.LeaveGroup=2]="LeaveGroup"})(l=t.GroupNavigationPaneMenuAction||(t.GroupNavigationPaneMenuAction={}));var d=(function(){function t(t,i){var r=this;this.searchFilterEventDelay=1e3,this.groupLinkTypeToDisplayNameMap={},this.groupLinkTypeToLabelClassMap={},this.scope=t,this.services=i,this.scope.isPaneExpanded=this.services.applicationOptions.isE2ERun,this.scope.isDashboardsListExpanded=this.scope.isReportsListExpanded=this.scope.isDatasetsListExpanded=!0,this.scope.isGroupsListExpanded=!1,this.scope.showAddDashboardInputBox=!1,this.scope.navigatorPaneGetDataButton=a.NavigatorPaneGetDataButton,this.scope.navigatorPaneAddDatasetButton=a.NavigatorPaneAddDatasetButton,this.scope.groupSection=n.Group,this.scope.dashboardSection=n.Dashboard,this.scope.reportSection=n.Report,this.scope.groupService=this.services.groupService,this.scope.home=this.services.home,this.scope.datasetSection=n.Dataset,this.scope.reportService=this.services.reportService,this.scope.workbookService=this.services.workbookService,this.scope.modelService=this.services.modelService,this.scope.dashboardDataService=this.services.dashboardDataService,this.scope.impersonation=this.services.impersonationService,this.scope.navigation=this.services.navigation,this.scope.homeDashboardEnabled=this.services.featureSwitchService.featureSwitches.homeDashboardEnabled,this.scope.favoritesEnabled=this.services.featureSwitchService.featureSwitches.favoritesEnabled,this.createHomeContextMenu(),this.scope.isInFavoritesView=function(){return r.isInFavoritesView()},this.createOwnershipFilterContextMenu(),this.scope.homeDashboardMenuItemSelected=function(e){return r.onHomeDashboardMenuItemSelected(e)},this.scope.ownershipFilterSelected=function(e){return r.onOwnershipFilterSelected(e)},this.scope.ownershipFilterFunction=function(e){return r.ownershipFilterFunction(e)},this.services.localizationService.ensureLocalization((function(){r.scope.addDashboardPlaceholder=r.services.localizationService.get("NewDashboard_AddDashboardLabelText")})),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Calendar]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_Calendar"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Conversations]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_Conversations"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.EditGroup]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_EditGroup"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Files]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_Files"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.LeaveGroup]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_LeaveGroup"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Members]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_Members"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.Notebook]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_Notebook"),this.groupLinkTypeToDisplayNameMap[e.common.contracts.GroupLinkType.ViewGroup]=this.services.localizationService.get("GroupNavigationPaneContextMenuItem_ViewGroup"),this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Calendar]="calendar",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Conversations]="conversations",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.EditGroup]="editGroup",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Files]="files",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.LeaveGroup]="leaveGroup",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Members]="members",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.Notebook]="notebook",this.groupLinkTypeToLabelClassMap[e.common.contracts.GroupLinkType.ViewGroup]="viewGroup",this.scope.isAddDashboardInputboxFocused=!1,this.scope.switchActiveDashboard=function(e){r.services.navigation.navigateToDashboardByGUID(e)},this.services.home.onHomeSettingChanged.push((function(){r.updateHomeIconColor()})),this.scope.switchToExternalContentViewerMode=function(e){r.switchToExternalContentViewerMode(e)},this.scope.canWrite=function(){return!r.services.permissionService.isActiveWorkspaceIsReadOnly},this.scope.openModel=function(e){r.services.navigationActions.openModel(e),r.scope.isOnHome=!1},this.scope.navigateToStreamingDatasets=function(){r.services.navigation.navigateToStreamingDatasets(0)},this.scope.openReport=function(e){r.services.navigationActions.openReport(e),r.scope.isOnHome=!1},this.scope.navigateToFavorites=function(){r.services.navigation.navigateToFavorites(),r.scope.isOnHome=!1},this.scope.viewWorkbook=function(e){r.services.navigationActions.viewWorkbook(e)},this.scope.searchFilterChanged=function(){r.searchFilterPromise&&r.services.timeout.cancel(r.searchFilterPromise),r.searchFilterPromise=r.services.timeout((function(){var t=r.scope.viewModel.dashboards?r.scope.viewModel.dashboards.length:0,i=r.services.reportService.reports?r.services.reportService.reports.length:0,o=r.scope.modelService.models?r.scope.modelService.models.length:0,a=r.services.telemetryService;a.logEvent(e.telemetry.DashboardFilterNavigatorPaneItems,t,i,o),r.searchFilterPromise=null}),r.searchFilterEventDelay)},this.scope.toggleNavigationPane=function(){return r.toggleNavigationPane()},this.scope.toggleNavigationPaneSection=function(e){return r.toggleNavigationPaneSection(e)},this.scope.navigateToHome=function(){r.services.navigation.navigateToHomeDashboard(!1),r.scope.isOnHome=!0,r.searchFilter=""},this.scope.$watch("groupService.isInGroupTransition",(function(){r.scope.isDashboardsListExpanded=r.scope.isReportsListExpanded=r.scope.isDatasetsListExpanded=!r.services.groupService.isInGroupTransition})),this.scope.$watch("impersonation.impersonating",(function(){r.searchFilter="",r.scope.selectedOwnershipFilter=r.scope.ownershipFilterContextMenuItems[0]})),this.services.navigationActions.initialize(),this.services.rootScope.$on(e.constants.groupAddedUpdateContextMenuEventName,(function(e,t){e.stopPropagation();var i=r.services.groupService.getGroup(t);r.bindGroupNavigationPaneMenu(i)})),this.scope.activeAddDashboard=function(){return r.activeAddDashboard()},this.scope.addDashboard=function(e){r.scope.showAddDashboardInputBox=!1,r.services.dashboardService.addDashboard(e)},this.scope.isDashboardNameValid=function(e){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e)},this.scope.$on(e.common.constants.textInputOnBlurEventName,(function(e){r.scope.showAddDashboardInputBox=!1})),this.scope.reportsResourceList=function(){var t=[];t=t.concat(r.scope.reportService.copyAndEditReports),e.common.featureSwitchService.featureSwitches.fullFidelityExcelEnabled&&(t=t.concat(r.scope.workbookService.copyAndEditWorkbooks));var i=r.services.impersonationService;return i.impersonating&&(t=_.filter(t,(function(e){return e.modelId===i.getImpersonationState().modelId}))),t},this.services.appMetadataService.getAppMetadata().then((function(e){r.initializeArchivedContentLink(e),r.bindGroupNavigationPaneMenu(r.services.groupService.activeGroup)})),this.scope.switchGroup=function(e){r.scope.isGroupsListExpanded=!1,r.switchGroup(e)},this.scope.addGroup=function(){return r.addGroup()},this.scope.isListOfGroupsExpanded=!1,this.services.rootScope.$on(o.onDatasetAddedEventName,(function(e,t){var i=r.scope.viewModel.contract.models,o=!1;if(i){for(var a=i.length,n=0;n<a;n++)if(i[n].id===t.id&&i[n].packageId===t.packageId){i[n]=t,o=!0;break}o||i.push(t)}})),this.services.rootScope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,t,i,o,a){return r.updateHomeIconColor()}))}return t.createOptions=function(){return{additionalServices:["applicationOptions","appMetadataService","dashboardService","dashboardDataService","featureSwitchService","groupService","home","impersonationService","localizationService","modelService","navigation","navigationActions","ownership","permissionService","reportService","quota","telemetryService","userInfo","viralTenantMergeHelperService","workbookService","taskPaneSliderService"]}},t.prototype.isInFavoritesView=function(){return this.services.navigation.inFavoritesView()},t.prototype.createHomeContextMenu=function(){var e=[];e.push({text:this.services.localizationService.get("NavigationPane_DisableFeaturedDashboard"),action:c.DisableHomeDashboard,type:DropDownMenuItemType.Item}),this.scope.homeDashboardMenuItems=e},t.prototype.createOwnershipFilterContextMenu=function(){this.scope.ownershipFilterContextMenuItems=[{text:this.services.localizationService.get("NavigationPane_OwnershipFilterAllContent"),filter:e.models.OwnershipFilterMenuFilter.AllContent},{text:this.services.localizationService.get("NavigationPane_OwnershipFilterMyContent"),filter:e.models.OwnershipFilterMenuFilter.MyContent},{text:this.services.localizationService.get("NavigationPane_OwnershipFilterSharedWithMe"),filter:e.models.OwnershipFilterMenuFilter.SharedWithMe}],this.scope.selectedOwnershipFilter=this.scope.ownershipFilterContextMenuItems[0]},t.prototype.ownershipFilterFunction=function(t){var i=this;return function(o){switch(t){case e.models.OwnershipFilterMenuFilter.AllContent:return!0;case e.models.OwnershipFilterMenuFilter.MyContent:return!i.services.ownership.isResourceSharedWithMe(o);case e.models.OwnershipFilterMenuFilter.SharedWithMe:return i.services.ownership.isResourceSharedWithMe(o)}}},t.prototype.updateHomeIconColor=function(){this.scope.isOnHome=this.services.home.isOnHomeDashboard(this.services.navigation.currentDashboardGUID);
},t.prototype.onHomeDashboardMenuItemSelected=function(e){switch(e.action){case c.DisableHomeDashboard:this.services.home.disableHomeDashboard()}},t.prototype.onOwnershipFilterSelected=function(t){this.scope.selectedOwnershipFilter=t,this.services.groupService.activeGroup.lastOwnershipFilter=t.filter,this.services.telemetryService.logEvent(e.telemetry.DashboardOwnershipFilterSelected,e.models.OwnershipFilterMenuFilter[t.filter],this.services.groupService.isMyWorkspace())},t.prototype.initializeArchivedContentLink=function(e){var t=this;this.scope.showArchivedContentLink=!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e.previousTenantId),this.scope.showArchivedContentLink&&(this.scope.viewArchivedContent=function(){t.scope.navigation.toggleArchivedContent(e.previousTenantId)})},t.prototype.activeAddDashboard=function(){this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.AddDashboard)||(this.scope.isDashboardsListExpanded=!0,this.scope.showAddDashboardInputBox||(this.scope.showAddDashboardInputBox=!0,this.scope.isAddDashboardInputboxFocused=!0))},t.prototype.switchToExternalContentViewerMode=function(t){if(!angular.isUndefined(t)&&t){var i;switch(t){case a.NavigatorPaneGetDataButton:i=e.telemetry.OpenGetDataPageInteraction.NavigatorPaneGetDataButton;break;case a.NavigatorPaneAddDatasetButton:i=e.telemetry.OpenGetDataPageInteraction.NavigatorPaneAddDatasetButton;break;default:i=null}this.services.telemetryService.logEvent(e.telemetry.DashboardOpenGetDataPage,i)}this.services.navigation.showGetDataSlider()},t.prototype.toggleNavigationPane=function(){var t=this.scope.isPaneExpanded?e.telemetry.NavPaneToggleAction.Collapse:e.telemetry.NavPaneToggleAction.Expand;this.scope.isPaneExpanded=!this.scope.isPaneExpanded,localStorage.collapseNavigation=(!this.scope.isPaneExpanded).toString(),this.services.telemetryService.logEvent(e.telemetry.DashboardExpandCollapseNavigatorPane,t),this.scope.updateWindowIfNeeded&&this.scope.updateWindowIfNeeded(),this.scope.isOnHome=this.services.home.isOnHomeDashboard(this.services.navigation.currentDashboardGUID)},t.prototype.toggleNavigationPaneSection=function(t){var i=this;switch(t){case n.Dashboard:this.toggleNavigationPaneSectionWithTelemetryEvent(this.scope.isDashboardsListExpanded,e.telemetry.NavPaneSection.Dashboards,(function(){i.scope.isDashboardsListExpanded=!i.scope.isDashboardsListExpanded}));break;case n.Report:this.toggleNavigationPaneSectionWithTelemetryEvent(this.scope.isReportsListExpanded,e.telemetry.NavPaneSection.Reports,(function(){i.scope.isReportsListExpanded=!i.scope.isReportsListExpanded}));break;case n.Dataset:this.toggleNavigationPaneSectionWithTelemetryEvent(this.scope.isDatasetsListExpanded,e.telemetry.NavPaneSection.Datasets,(function(){i.scope.isDatasetsListExpanded=!i.scope.isDatasetsListExpanded}));break;case n.Group:this.toggleNavigationPaneSectionWithTelemetryEvent(this.scope.isGroupsListExpanded,e.telemetry.NavPaneSection.Datasets,(function(){i.scope.isGroupsListExpanded=!i.scope.isGroupsListExpanded,i.scope.isListOfGroupsExpanded=!1}))}},t.prototype.toggleNavigationPaneSectionWithTelemetryEvent=function(t,i,o){var r=this.scope.viewModel.dashboards?this.scope.viewModel.dashboards.length:0,a=this.services.reportService.reports?this.services.reportService.reports.length:0,n=this.scope.modelService.models?this.scope.modelService.models.length:0,s=this.services.telemetryService.startEvent(e.telemetry.DashboardExpandCollapseNavigatorPaneSection,t?e.telemetry.NavPaneToggleAction.Collapse:e.telemetry.NavPaneToggleAction.Expand,i,r,a,n);o&&o(),s.resolve()},t.prototype.addGroup=function(){this.services.viralTenantMergeHelperService.viewingDataFromMergedViralTenant()?this.services.viralTenantMergeHelperService.displayFeatureDisabledErrorMessage("ArchivedContent_ErrorMessageGroup"):this.isGroupFeatureEnabled()?this.services.taskPaneSliderService.expandPane(r.GroupEditorCreate,i.Large):this.services.groupService.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.CreateGroups)},t.prototype.switchGroup=function(t){t.aadGroupId!==this.services.groupService.activeGroupObjectId&&(t.isMyWorkspace||this.isGroupFeatureEnabled()?(this.bindGroupNavigationPaneMenu(t),this.services.navigation.navigateToGroupByGUID(t.aadGroupId)):this.services.groupService.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.SwitchGroups))},t.prototype.isGroupFeatureEnabled=function(){return this.services.userInfo.isPremiumUser},t.prototype.bindGroupNavigationPaneMenu=function(e){var t=e.lastOwnershipFilter;this.scope.selectedOwnershipFilter=_.find(this.scope.ownershipFilterContextMenuItems,(function(e){return e.filter===t}))},t})();t.NavigationPaneController=d})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.dataServices.constants,r=e.common.contracts.Permissions,a=e.common.constants.TaskPaneCollapsiblePaneMode,n=(function(){function n(t,i){var o=this;this.scope=t,this.services=i,this.dashboardModel=t.viewModel,this.model=new e.models.DashboardNavigationPaneListItemModel(this.dashboardModel),this.updateDashboardMetadata(),this.model.actions=n.getDashboardActions(this.scope,this.services,this.model,this.dashboardModel),this.model.icon=this.services.ownership.isResourceSharedWithMe(this.dashboardModel)?e.models.NavigationPaneListItemIcon.Shared:this.model.icon=e.models.NavigationPaneListItemIcon.None,this.scope.model=this.model,this.scope.showContextMenu=!1,this.scope.tooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshError",tooltipArrowPosition:e.common.ArrowPosition.arrowTopLeft},this.scope.rename=function(t){o.scope.$emit(e.constants.renameDashboardEventName,t,o.scope.model.source.id)},this.scope.isContextMenuEnabled=function(){return!o.services.permissionService.isActiveWorkspaceIsReadOnly},this.scope.isNameValid=function(e){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e)},this.scope.$on(e.common.constants.editableLabelOnBlurEventName,(function(e){o.scope.model.isNameEditable=!1}));var r=this.services.rootScope.$on(e.constants.notifyDashboardOwnerInfoLoaded,(function(){r(),r=null,o.updateDashboardMetadata()}));this.services.rootScope.$on("$destroy",(function(){r&&r()}))}return n.createOptions=function(){return{additionalServices:["$location","navigation","localizationService","quota","groupService","featureSwitchService","permissionService","workbookService","dashboardService","ownership","taskPaneSliderService"]}},n.prototype.updateDashboardMetadata=function(){var t=this,i=this.model.metadata=[];this.dashboardModel.hasOwnerInfo()&&i.push({name:"ownerInfo",type:e.common.models.ContextMenuItemMetadataType.Link,label:this.services.localizationService.get("DashboardContextMenu_OwnedBy").toLocaleUpperCase(),linkUrl:function(){return jsCommon.StringExtensions.format("mailto:{0}",t.dashboardModel.ownerMail)},linkText:function(){return t.dashboardModel.ownerMail},value:function(){return t.dashboardModel.ownerFullname?jsCommon.StringExtensions.format("{0} -",t.dashboardModel.ownerFullname):""},linkTarget:"_self"})},n.getDashboardActions=function(s,c,l,d){var p=[];return c.localizationService.ensureLocalization((function(){p.push({text:c.localizationService.get("DashboardContextMenu_Open"),action:function(){c.navigation.navigateToDashboardByGUID(d.objectId)}});var u=(d.getPermissions()&r.ReShare)===r.ReShare;u&&p.push({text:c.localizationService.get("DashboardContextMenu_Share"),action:function(){c.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.ShareDashboard)||(c.navigation.navigateToDashboardByGUID(d.objectId),c.timeout((function(){return c.taskPaneSliderService.expandPane(a.SharingPane,i.Large)})))}}),(d.getPermissions()&r.All)===r.All||(d.getPermissions()&r.ReadWrite)===r.ReadWrite?(p.push({text:c.localizationService.get("DashboardContextMenu_Rename"),action:function(){l.isNameEditable=!0}}),p.push({text:c.localizationService.get("DashboardContextMenu_Delete"),action:function(){c.dashboardService.promptForDeleteDashboard(d.id,!0)}}),p.push({text:c.localizationService.get("DashboardContextMenu_Settings"),action:function(){c.navigation.showSettingsSlider("dashboards",d.objectId)}})):(d.getPermissions()&r.CopyOnWrite)===r.CopyOnWrite?(p.push({text:c.localizationService.get("ContextMenu_Personalize"),action:function(){s.$emit(e.constants.personalizeEventName,d.contract.originalPackageId)}}),p.push({text:c.localizationService.get("DashboardContextMenu_Delete"),action:function(){if(d.contract.modelIds[0])s.$emit(e.constants.deleteModelEventName,d.contract.modelIds[0],d.contract.originalPackageId,t.DeleteContentPackMessageType.Dashboard);else if(d.contract.workbookIds[0]){var i=c.workbookService.findWorkbook(d.contract.workbookIds[0],d.contract.originalPackageId);s.$emit(o.workbook.removeWorkbookEventName,i,t.DeleteContentPackMessageType.Dashboard)}}})):p.push({text:c.localizationService.get("DashboardContextMenu_Remove"),action:function(){c.dashboardService.promptForDeleteDashboard(d.id,!1)}});var v=c.$location.search()[n.isDasboardExportAllowedQueryString];v&&"1"===v&&p.push({text:c.localizationService.get("DashboardContextMenu_Export"),action:function(){var e=c.$location.search()[n.packageTypeString];e||(e="XMLA"),c.dashboardService.exportDashboard(d.id,e)}})})),p},n})();n.isDasboardExportAllowedQueryString="exportallowed",n.packageTypeString="packageType",t.DashboardNavigationPaneListItemController=n})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.EnumExtensions,o=e.common.dialogs.FeatureNotSupportedDialogBuilder,r=e.common.dialog.MessageDialogBuilder,a=e.common.helpers.ModelConverterHelper,n=e.common.contracts.Permissions,s=e.common.contracts.PublishOrRefreshStatus,c=(function(){function c(t,i){var o=this;this.scope=t,this.services=i,this.scope.$on("destroy",(function(){o.modalDialogPromise&&o.modalDialogPromise.pending&&o.modalDialogPromise.reject("DatasetNavigationPaneListItemController destroyed")})),this.datasetContractModel=t.viewModel,this.datasetModel=t.viewModel,this.model=new e.models.DatasetNavigationPaneListItemModel(this.datasetContractModel),this.refreshDatasetModel={},this.model.historyDialogParameters=this.services.historyDialogService.historyDialogParameters,this.scope.showHistoryDialog=function(){return o.showHistoryDialog(o.refreshDatasetModel)},this.model.metadata=this.getDatasetMetadata(this.datasetContractModel),this.datasetContractPackage=this.services.packageService.findPackage(this.datasetContractModel.packageId),this.scope.model=this.model,this.scope.showContextMenu=!1,this.scope.tooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshError",tooltipArrowPosition:e.common.ArrowPosition.arrowTopLeft},this.scope.isRefreshInProgress=function(){return o.isRefreshInProgress()},this.scope.rename=function(t){o.scope.$emit(e.constants.renameModelEventName,t,o.scope.model.source.id,o.scope.model.source.packageId)},this.scope.isNameValid=function(e){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e)},this.scope.isContextMenuEnabled=function(){return o.getDatasetMetadata(o.datasetContractModel,o.model.metadata),1!==o.model.source.packagePublishStatus},this.scope.$on(e.common.constants.editableLabelOnBlurEventName,(function(e){o.scope.model.isNameEditable=!1})),this.model.icon=this.services.ownership.isResourceSharedWithMe(this.datasetContractModel)?e.models.NavigationPaneListItemIcon.Shared:this.model.icon=e.models.NavigationPaneListItemIcon.None,t.$watch((function(){return o.datasetContractModel.contract.currentRefreshStartingTime}),(function(){o.updateDatasetMetadata()})),this.scope.showRefreshErrorDialog=function(){o.showRefreshErrorDialog()},this.scope.showRefreshError=function(){return o.showRefreshError()},this.scope.showIcon=function(){return o.showIcon()},this.scope.getPackagePublishStatus=function(){return o.getPackagePublishStatus()}}return c.createOptions=function(){return{additionalServices:["refreshService","errorService","modelConverter","modelHttpService","telemetryService","localizationService","navigation","modelService","packageService","historyDialogService","featureSwitchService","insightsService","analyzeInExcel","modalDialogService","ownership","groupService","permissionService","downloadReport"]}},c.prototype.getPackagePublishStatus=function(){var t=this.services.modelService.findModel(this.model.source.id,this.model.source.packageId);return t?t.packagePublishStatus:e.common.contracts.PublishOrRefreshStatus.FinishedSuccessfully},c.prototype.showIcon=function(){var t=this.services.modelService.findModel(this.model.source.id,this.model.source.packageId);return!!t&&(t.packagePublishStatus!==e.common.contracts.PublishOrRefreshStatus.PublishError&&t.contract.lastRefreshStatus!==e.common.contracts.PublishOrRefreshStatus.RefreshError)},c.prototype.showRefreshError=function(){var t=this.services.modelService.findModel(this.model.source.id,this.model.source.packageId);return!!t&&(t.packagePublishStatus===e.common.contracts.PublishOrRefreshStatus.RefreshError||t.contract.lastRefreshStatus===e.common.contracts.PublishOrRefreshStatus.RefreshError)},c.prototype.displaySuccessHistoryResult=function(e){if(!_.isEmpty(e)){var i=t.SettingsDatasetController.getFriendlyErrorMessage(e[0].serviceExceptionJson),o=this.parseAdditionalErrorInfo(e[0].serviceExceptionJson);this.services.errorService.errorNoDefaultAdditionalErrorInfo(i,"RefreshFailure",{displayableErrorInfo:o})}},c.prototype.displayErrorHistoryResult=function(){this.services.errorService.error(this.services.localizationService.get("RefreshError_Unknown"),"RefreshFailure_FailedToGetHistories")},c.prototype.processModelAndPackageRefreshHistories=function(e,t){var i=this;this.services.modelHttpService.getPackageRefreshHistories(this.datasetContractModel.packageId.toString(),e.event).then((function(o){var r;if(!t||_.isEmpty(t.data)||t.data[0].isSuccessful)r=!1;else if(_.isEmpty(o.data)||o.data[0].isSuccessful)r=!0;else{var n=a.convertRefreshTimeToJsDateTime(t.data[0].endTime).getTime(),s=a.convertRefreshTimeToJsDateTime(o.data[0].endTime).getTime();r=n>s}r?i.displaySuccessHistoryResult(t.data):i.displaySuccessHistoryResult(o.data),e.resolve()}),(function(o){t?(i.displaySuccessHistoryResult(t.data),e.resolve()):(i.displayErrorHistoryResult(),e.reject())}))},c.prototype.showRefreshErrorDialog=function(){var t=this,i=this.services.modelHttpService,o=this.services.telemetryService,r=o.startEvent(e.telemetry.DashboardGetRefreshHistoriesOnRefreshFailures);this.datasetModel.contract.lastRefreshStatus===s.RefreshError&&this.datasetModel.contract.packagePublishStatus===s.RefreshError?i.getModelRefreshHistories(this.datasetContractModel.id.toString(),r.event).then((function(e){t.processModelAndPackageRefreshHistories(r,e)}),(function(e){t.processModelAndPackageRefreshHistories(r)})):this.datasetModel.contract.lastRefreshStatus===s.RefreshError?i.getModelRefreshHistories(this.datasetContractModel.id.toString(),r.event).then((function(e){t.displaySuccessHistoryResult(e.data),r.resolve()}),(function(e){t.displayErrorHistoryResult(),r.reject()})):this.datasetModel.contract.packagePublishStatus===s.RefreshError&&i.getPackageRefreshHistories(this.datasetContractModel.packageId.toString(),r.event).then((function(e){t.displaySuccessHistoryResult(e.data),r.resolve()}),(function(e){t.displayErrorHistoryResult(),r.reject()}))},c.prototype.parseAdditionalErrorInfo=function(e){var i=t.SettingsDatasetController.convertErrorDetailsJson(e),o=[];return i.forEach((function(e){o.push({errorInfoKey:e.Name,errorInfoValue:e.Value})})),o},c.prototype.isRefreshInProgress=function(){var e=this.services.modelService.findModel(this.datasetContractModel.id,this.datasetContractModel.packageId);return!!e&&e.isRefreshInProgress},c.prototype.updateDatasetMetadata=function(){this.getDatasetMetadata(this.datasetContractModel,this.model.metadata)},c.prototype.getDatasetMetadata=function(t,i){var o=this,r=this.services.refreshService,n=this.services.modelConverter,s=this.services.localizationService,l=this.services.historyDialogService,d=[],p=function(a){t.contentProviderId=a.contentProviderId,t.onPremModelConnectionString=a.onPremModelConnectionString,t.directQueryMode=a.directQueryMode,t.currentRefreshStartingTime=a.currentRefreshStartingTime,t.refreshSchedule=a.refreshSchedule,t.refreshHistories=a.refreshHistories,t.insightsSupported=a.insightsSupported,t.storageProviderType=a.storageProviderType,d=t.onPremModelConnectionString?c.addRefreshInfoForOnPremAnalysisServicesToMetadata(i):t.directQueryMode?c.addRefreshInfoForDirectQueryModel(i):c.addRefreshStatusToMetadata(n,a,s,l,o.refreshDatasetModel,i),r.isModelRefreshInProgress(a)?c.updateMetadataValue(i,"refreshInProgress",e.common.models.ContextMenuItemMetadataType.Text,(function(){return s.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_RefreshInProgress")})):c.deleteMetadataItem(i,"refreshInProgress",e.common.models.ContextMenuItemMetadataType.Text)},u=this.services.modelService.findModel(t.id,t.packageId);return u&&(this.setMissingPropertiesOnContractModelFromPackage(u),p(u.contract),this.refreshDatasetModel.dataset=a.convertModelToDataset(u.contract),this.model.actions=this.getDatasetActions(this.datasetContractModel,this.datasetContractPackage)),d},c.prototype.setMissingPropertiesOnContractModelFromPackage=function(e){var t=this.services.packageService.findPackage(e.packageId);t&&(void 0===e.contract.storageProviderType&&(e.contract.storageProviderType=t.contract.storageProviderType),e.contract.isPackageRefreshEnabled=t.contract.IsRefreshEnabled)},c.prototype.getDatasetActions=function(o,r){var a=this,s=[];return this.services.localizationService.ensureLocalization((function(){var c=a.services.featureSwitchService,l=a.services.localizationService,d=a.services.telemetryService,p=a.services.permissionService.getModelEffectivePermissions(o.contract);if(i.hasFlag(p,n.CopyOnWrite)&&(s.push({text:l.get("ContextMenu_Personalize"),action:function(){d.logEvent(e.telemetry.DashboardClickPersonalize,o.contentProviderId),a.scope.$emit(e.constants.personalizeEventName,o.packageId)}}),s.push({text:l.get("DashboardContextMenu_Delete"),action:function(){d.logEvent(e.telemetry.DashboardDatasetClickDelete,o.contentProviderId),a.scope.$emit(e.constants.deleteModelEventName,o.id,o.packageId,t.DeleteContentPackMessageType.Dataset)}})),a.services.ownership.permissionsArePersonalized(p,r)&&s.push({text:a.services.localizationService.get("DashboardContextMenu_Delete"),action:function(){d.logEvent(e.telemetry.DashboardDatasetClickDelete,o.contentProviderId),a.scope.$emit(e.constants.deleteModelEventName,o.id,o.packageId)}}),i.hasFlag(p,n.All)&&(s.push({text:l.get("DashboardContextMenu_Rename"),action:function(){d.logEvent(e.telemetry.DashboardDatasetClickRename,o.contentProviderId),a.model.isNameEditable=!0}}),s.push({text:l.get("DashboardContextMenu_Delete"),action:function(){d.logEvent(e.telemetry.DashboardDatasetClickDelete,o.contentProviderId),a.scope.$emit(e.constants.deleteModelEventName,o.id,o.packageId)}}),a.datasetContractModel.contract.onPremModelConnectionString||s.push({text:a.datasetContractModel.contract.directQueryMode?l.get("DashboardContextMenu_DatasetSettings"):l.get("DashboardContextMenu_ManageRefresh"),action:function(){a.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickScheduleRefresh,o.contentProviderId),a.services.navigation.showSettingsSlider("datasets",o.dbName)}}),s.push({text:l.get("DashboardContextMenu_RefreshNow"),action:function(){d.logEvent(e.telemetry.DashboardDatasetClickRefreshNow,o.contentProviderId),a.services.refreshService.tryRefreshNow(a.services.telemetryService,a.services.errorService,o,"datasets")}})),c&&(a.services.analyzeInExcel.isAnalyzeInExcelSupported(c,p)&&s.push({text:l.get("DashboardContextMenu_AnalyzeInExcel"),action:function(){var t=a.services.modelService.findModel(o.id,o.packageId);a.services.telemetryService.logEvent(e.telemetry.DashboardAndReportsAnalyzeInExcel,"Dataset Navigation Pane List",t.contentProviderId,t.contract.modelFeatures,t.dbName),a.services.analyzeInExcel.startAnalyzeInExcel(t)}}),o.contract.insightsSupported&&i.hasFlag(p,n.Read)&&s.push({text:a.getInsightsText(),action:function(){d.logEvent(e.telemetry.DashboardDatasetClickInsights,o.contentProviderId),a.scope.$emit(e.constants.showInsightsEventName,o.id,o.packageId)},descriptor:e.constants.insightsDescriptor}),o.contentProviderId===e.common.constants.pbiDesktopContentProviderId&&_.isEmpty(o.contract.onPremModelConnectionString)&&i.hasFlag(p,n.All)&&a.services.featureSwitchService.featureSwitches.datasetDownloadPbix&&s.push({text:l.get("DashboardContextMenu_DownloadDataset"),action:function(){a.services.downloadReport.downloadModel({id:o.id.toString(),filename:o.displayName})}}),i.hasFlag(p,n.All)&&(6===o.contentProviderId||7===o.contentProviderId)&&!o.contract.onPremModelConnectionString)){var u=a.services.groupService.activeGroup;(u.isMyWorkspace||u.contract.isOwner||!u.contract.isReadOnly)&&s.push({text:l.get("DashboardContextMenu_GranularSecurity"),action:function(){6===o.contentProviderId?a.cloudRlsNotSupportedDialog():o.contract.lastRefreshStatus===e.common.contracts.PublishOrRefreshStatus.RefreshInProgress||o.packagePublishStatus===e.common.contracts.PublishOrRefreshStatus.PublishInProgress?a.showRefreshInProgressDialog():a.services.navigation.showRowLevelSecuritySlider(o.id)}})}})),s},c.prototype.cloudRlsNotSupportedDialog=function(){this.modalDialogPromise=new o(this.services.modalDialogService).show("ModalDialog_CloudRlsUnSupportedTypeTitle","ModalDialog_CloudRlsUnSupportedTypeMessage","https://go.microsoft.com/fwlink/?LinkID=733530")},c.prototype.showRefreshInProgressDialog=function(){this.modalDialogPromise=new r(this.services.modalDialogService).show("RefreshInProgress",{titleText:this.services.localizationService.get("ModalDialog_CloudRlsDataRefreshTitle"),messageText:this.services.localizationService.get("ModalDialog_CloudRlsDataRefreshMessage"),okButtonText:this.services.localizationService.get("PBI_Button_Label_Close"),hideCancelButton:!0})},c.prototype.getInsightsText=function(){var e,t=this.services.insightsService.getInsightsStatus(this.datasetModel.contract);switch(t){case 2:e=this.services.localizationService.get("DashboardContextMenu_ViewInsights");break;case 1:e=this.services.localizationService.get("DashboardContextMenu_GettingInsights");break;default:e=this.services.localizationService.get("DashboardContextMenu_GetInsights")}return e},c.prototype.showHistoryDialog=function(e){this.services.historyDialogService.showHistoryDialog(e)},c.addRefreshStatusToMetadata=function(t,i,o,r,n,l){var d,p,u,v=[],h=a.convertRefreshTimeToJsDateTime(i.lastRefreshTime),g=!1;i.lastRefreshStatus===s.RefreshError?(d=e.common.models.ContextMenuItemMetadataType.Action,u=o.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshFailed",[""]),p=""+h,g=!0):i.lastRefreshStatus===s.PublishError?(d=e.common.models.ContextMenuItemMetadataType.Action,u="",p=o.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastPackagePublishFailed")):(d=e.common.models.ContextMenuItemMetadataType.Text,u=o.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshSucceeded",[""]),p=""+h),v.push({name:"lastRefreshStatus",type:d,label:u.toLocaleUpperCase(),isWarning:g,value:function(){return p},actionOnClick:function(){r.showHistoryDialog(n)},actionText:function(){return p}}),c.updateMetadataValue(l,"lastRefreshStatus",d,(function(){return p}),g,void 0,void 0,void 0,(function(){r.showHistoryDialog(n)}),void 0,u.toLocaleUpperCase());var f=c.isModelScheduledRefreshEnabled(i),m=c.doesStorageSourceAllowRefresh(i),b=c.isStorageSourceRefreshEnabled(i);if(m)if(b&&f){var y=o.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NextRefresh")+a.convertRefreshTimeToJsDateTime(i.nextRefreshTime);c.showNextRefresh(y,v,l)}else if(!b&&f){var y=o.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NotOneDriveNextScheduled")+a.convertRefreshTimeToJsDateTime(i.nextRefreshTime);c.showNextRefresh(y,v,l)}else if(b&&!f){var y=o.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_OneDriveEnabledRefreshNotEnabled");c.showRefreshDisabled(y,v,l)}else{var y=o.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NotOneDriveAndScheduleRefreshNotEnabled");c.showRefreshDisabled(y,v,l)}else if(f){var y=o.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_NextRefresh")+a.convertRefreshTimeToJsDateTime(i.nextRefreshTime);c.showNextRefresh(y,v,l)}else{var y=o.get("SettingsDataset_ScheduleRefresh_FlyoutMessage_RefreshNotEnabled");c.showRefreshDisabled(y,v,l)}return v},c.getNextRefreshTimeName=function(){var e="nextRefreshTime";return e},c.getRefreshScheduleNotSetupName=function(){var e="refreshScheduleNotSetUp";return e},c.showNextRefresh=function(t,i,o){var r=c.getNextRefreshTimeName();c.deleteMetadataItem(o,"refreshScheduleNotSetUp",e.common.models.ContextMenuItemMetadataType.Text),i.push({name:r,type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return t}}),c.updateMetadataValue(o,r,e.common.models.ContextMenuItemMetadataType.Text,(function(){return t})),c.deleteMetadataItem(o,c.getRefreshScheduleNotSetupName(),e.common.models.ContextMenuItemMetadataType.Text)},c.showRefreshDisabled=function(t,i,o){var r=c.getRefreshScheduleNotSetupName();c.deleteMetadataItem(o,c.getNextRefreshTimeName(),e.common.models.ContextMenuItemMetadataType.Text),i.push({name:r,type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return t}}),c.updateMetadataValue(o,r,e.common.models.ContextMenuItemMetadataType.Text,(function(){return t}))},c.isModelScheduledRefreshEnabled=function(t){return t.refreshSchedule.refreshEnabled!==!1&&(t.contentProviderId===e.controllers.ContentProviderIds.salesforce||t.isAllDataSourcesSupportedForRefresh!==!1)},c.doesStorageSourceAllowRefresh=function(t){return t.storageProviderType===e.common.contracts.StorageProviderType.OneDrive||t.storageProviderType===e.common.contracts.StorageProviderType.SharePoint},c.isStorageSourceRefreshEnabled=function(e){return e.isPackageRefreshEnabled},c.addRefreshInfoForOnPremAnalysisServicesToMetadata=function(t){var i=[],o=e.common.localize.get("SettingsDataset_DisableEntireRefreshPageErrorMessage_OnPremAnalysisServicesScheduleInfo");return i.push({name:"OnPremASRefreshInfo",type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return o}}),c.updateMetadataValue(t,"OnPremASRefreshInfo",e.common.models.ContextMenuItemMetadataType.Text,(function(){return o})),i},c.addRefreshInfoForDirectQueryModel=function(t){var i=[],o=e.common.localize.get("SettingsDataset_DisableEntireRefreshPageErrorMessage_DirectQueryScheduleInfo");return i.push({name:"DirectQueryRefreshInfo",type:e.common.models.ContextMenuItemMetadataType.Text,value:function(){return o}}),c.updateMetadataValue(t,"DirectQueryRefreshInfo",e.common.models.ContextMenuItemMetadataType.Text,(function(){return o})),i},c.updateMetadataValue=function(e,t,i,o,r,a,n,s,c,l,d){if(void 0===r&&(r=!1),e){for(var p=void 0,u=0,v=e.length;u<v;u++){var h=e[u];if(h.name===t){p=h;break}}p?(p.value=o,p.isWarning=r,p.linkText=a,p.linkUrl=n,p.linkTitle=s,p.actionOnClick=c,p.type=i,p.infoTooltipConfig=l,p.label=d):e.push({name:t,type:i,value:o,linkText:a,linkUrl:n,linkTitle:s,linkTarget:"_blank",actionOnClick:c,isWarning:r,infoTooltipConfig:l,label:d})}},c.deleteMetadataItem=function(e,t,i){if(e){for(var o=void 0,r=0,a=e.length;r<a;r++){var n=e[r];if(n.name===t&&n.type===i){o=r;break}}o&&e.splice(o,1)}},c})();t.DatasetNavigationPaneListItemController=c})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){this.scope=t,this.services=i,this.groupModel=t.viewModel,this.model=new e.models.GroupNavigationPaneListItemModel(this.groupModel),this.scope.model=this.model,this.scope.showContextMenu=!1,this.scope.tooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshError",tooltipArrowPosition:e.common.ArrowPosition.arrowTopLeft},this.scope.isNameValid=function(e){return _.isEmpty(e)},this.scope.isContextMenuEnabled=function(){return!1},this.services.userInfo.getUserPhoto().then((function(e){t.userPhoto=e}))}return t.createOptions=function(){return{additionalServices:["navigation","localizationService","userInfo"]}},t})();t.GroupNavigationPaneListItemController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(t,i){var o=this;this.scope=t,this.services=i;var r=t.viewModel;this.reportContract=r.contract,this.model=new e.models.ReportNavigationPaneListItemModel(r),this.model.actions=this.getReportActions(this.reportContract),this.scope.model=this.model,this.scope.showContextMenu=!1,this.scope.tooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshError",tooltipArrowPosition:e.common.ArrowPosition.arrowTopLeft},this.scope.rename=function(e){o.services.reportService.renameReport(e,o.scope.model.source.id)},this.scope.isNameValid=function(e){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e)},this.scope.isContextMenuEnabled=function(){return!o.services.permissionService.isActiveWorkspaceIsReadOnly&&o.model.source.packagePublishStatus!==e.common.contracts.PublishOrRefreshStatus.PublishInProgress},this.scope.$on(e.common.constants.editableLabelOnBlurEventName,(function(e){o.scope.model.isNameEditable=!1}))}return i.createOptions=function(){return{additionalServices:["localizationService","reportService","permissionService","featureSwitchService","modelService","analyzeInExcel","telemetryService"]}},i.prototype.getReportActions=function(i){var o=this,r=[];return this.services.localizationService.ensureLocalization((function(){var a=o.services.featureSwitchService;r.push({text:o.services.localizationService.get("DashboardContextMenu_Open"),action:function(){o.scope.$emit(e.constants.openReportEventName,i.id)}}),(i.permissions&e.common.models.ReportPermissions.All)===e.common.models.ReportPermissions.All||(i.permissions&e.common.models.ReportPermissions.Personalized)===e.common.models.ReportPermissions.Personalized?(r.push({text:o.services.localizationService.get("DashboardContextMenu_Rename"),action:function(){o.model.isNameEditable=!0}}),r.push({text:o.services.localizationService.get("DashboardContextMenu_Delete"),action:function(){o.scope.$emit(e.constants.deleteReportEventName,i.id)}})):(i.permissions&e.common.models.ReportPermissions.CopyOnWrite)===e.common.models.ReportPermissions.CopyOnWrite&&(r.push({text:o.services.localizationService.get("ContextMenu_Personalize"),action:function(){o.scope.$emit(e.constants.personalizeEventName,i.packageId)}}),r.push({text:o.services.localizationService.get("DashboardContextMenu_Delete"),action:function(){o.scope.$emit(e.constants.deleteModelEventName,i.modelId,i.packageId,t.DeleteContentPackMessageType.Report)}})),a&&o.services.analyzeInExcel.isAnalyzeInExcelSupported(a,i.permissions)&&r.push({text:o.services.localizationService.get("DashboardContextMenu_AnalyzeInExcel"),action:function(){var t=o.services.modelService.findModel(i.modelId,i.packageId);o.services.telemetryService.logEvent(e.telemetry.DashboardAndReportsAnalyzeInExcel,"Report Navigation Pane List",t.contentProviderId,t.contract.modelFeatures,t.dbName),o.services.analyzeInExcel.startAnalyzeInExcel(t)}})})),r},i})();t.ReportNavigationPaneListItemController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.EnumExtensions,o=e.common.helpers.ModelConverterHelper,r=e.common.contracts.Permissions,a=e.common.models.ContextMenuItemMetadataType,n=e.dataServices.constants,s=(function(){function s(t,i){var o=this;this.scope=t,this.services=i,this.workbookModel=t.viewModel,this.model=new e.models.WorkbookNavigationPaneListItemModel(this.workbookModel),this.refreshDatasetModel={},this.model.historyDialogParameters=this.services.historyDialogService.historyDialogParameters,
this.scope.showHistoryDialog=function(){return o.showHistoryDialog(o.refreshDatasetModel)},this.model.metadata=this.getWorkbookMetadata(this.workbookModel),this.model.actions=this.getWorkbookActions(this.workbookModel),this.scope.model=this.model,this.scope.showContextMenu=!1,this.scope.isRefreshInProgress=function(){return o.isRefreshInProgress()},this.scope.tooltipConfig={tooltipLocalizeDescription:"NavigationPane_RefreshError",tooltipArrowPosition:e.common.ArrowPosition.arrowTopLeft},this.scope.rename=function(e){o.services.workbookService.renameWorkbook(e,o.scope.model.source.id,o.scope.model.source.packageId)},this.scope.isNameValid=function(e){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e)},this.scope.isContextMenuEnabled=function(){return o.getWorkbookMetadata(o.workbookModel,o.model.metadata),!o.services.permissionService.isActiveWorkspaceIsReadOnly},this.scope.$on(e.common.constants.editableLabelOnBlurEventName,(function(e){o.scope.model.isNameEditable=!1})),this.services.rootScope.$on(n.workbook.openWorkbookContextMenuEventName,(function(e,t){t.id===o.model.source.id&&t.packageId===o.model.source.packageId&&(o.getWorkbookMetadata(o.workbookModel,o.model.metadata),o.scope.showContextMenu=!0)})),this.model.icon=this.services.ownership.isResourceSharedWithMe(this.workbookModel)?e.models.NavigationPaneListItemIcon.Shared:e.models.NavigationPaneListItemIcon.Workbook,this.scope.showRefreshError=function(){return o.showRefreshError()},this.scope.showIcon=function(){return o.showIcon()},this.scope.getPackagePublishStatus=function(){return o.getPackagePublishStatus()}}return s.createOptions=function(){return{additionalServices:["refreshService","errorService","telemetryService","localizationService","workbookService","modelService","packageService","historyDialogService","featureSwitchService","ownership","permissionService"]}},s.prototype.getPackagePublishStatus=function(){if(!this.workbookModel.modelId)return e.common.contracts.PublishOrRefreshStatus.FinishedSuccessfully;var t=this.services.modelService.findModel(this.workbookModel.modelId,this.workbookModel.packageId);return t?t.packagePublishStatus:e.common.contracts.PublishOrRefreshStatus.FinishedSuccessfully},s.prototype.showRefreshError=function(){if(!this.workbookModel.modelId)return!1;var t=this.services.modelService.findModel(this.workbookModel.modelId,this.workbookModel.packageId);return!!t&&(t.packagePublishStatus===e.common.contracts.PublishOrRefreshStatus.RefreshError||t.contract.lastRefreshStatus===e.common.contracts.PublishOrRefreshStatus.RefreshError)},s.prototype.showIcon=function(){if(!this.workbookModel.modelId)return!0;var t=this.services.modelService.findModel(this.workbookModel.modelId,this.workbookModel.packageId);return!t||t.packagePublishStatus!==e.common.contracts.PublishOrRefreshStatus.PublishError&&t.contract.lastRefreshStatus!==e.common.contracts.PublishOrRefreshStatus.RefreshError},s.prototype.isRefreshInProgress=function(){if(this.workbookModel.packageId){var t=this.services.packageService.findPackage(this.workbookModel.packageId);if(t&&t.publishOrRefreshStatus===e.common.contracts.PublishOrRefreshStatus.RefreshInProgress)return!0}if(this.workbookModel.modelId){var i=this.services.modelService.findModel(this.workbookModel.modelId,this.workbookModel.packageId);if(i&&i.isRefreshInProgress)return!0}return!1},s.prototype.getWorkbookMetadata=function(e,i){var r=this,n=this.services.localizationService,c=this.services.historyDialogService,l=[],d=this.services.workbookService.findWorkbook(e.id,e.packageId);if(this.services.packageService.isLocalWorkbook(this.workbookModel.packageId)){l=l.concat(s.addExcelLocalFileInfo("WorkbookContextMenu_LocalFileName",i,"localFileName",a.Text,this.workbookModel.contract.sourceFilePath)),l=l.concat(s.addExcelLocalFileInfo("WorkbookContextMenu_Source",i,"FileSource",a.Text,this.services.localizationService.get("WorkbookContextMenu_Source_LocalFile")));var p=this.services.packageService.findPackage(this.workbookModel.packageId);if(p){var u=""+o.convertRefreshTimeToJsDateTime(p.lastRefreshTime);l=l.concat(s.addExcelLocalFileInfo("WorkbookContextMenu_LocalFile_LastUpdateTime",i,"localFileLastUpdated",a.Text,u))}return l}d.contract.sourceFilePath&&(l=l.concat(s.addSpoFileName(d.contract.sourceFilePath,d.viewUrl,i))),d.isOwner()&&(l=l.concat(s.addExcelLocalFileInfo("WorkbookContextMenu_Source",i,"FileSource",a.Text,this.services.localizationService.get("WorkbookContextMenu_Source_SharePointOneDrive"))));var v=this.services.modelService.findModel(this.workbookModel.modelId,this.workbookModel.packageId);if(!v){var p=this.services.packageService.findPackage(this.workbookModel.packageId);return p&&(l=l.concat(s.addLastRefreshForNonModelWorkbook(p.lastRefreshTime,i))),l}if(!this.workbookModel.contract.isPowerPivotVersionSupportsRefresh)return l=s.addRefreshInfoForNotSupportedModelWorkbook(i);var h=v.contract,g=function(e){h.contentProviderId=e.contentProviderId,h.onPremModelConnectionString=e.onPremModelConnectionString,h.directQueryMode=e.directQueryMode,h.refreshSchedule=e.refreshSchedule,h.refreshHistories=e.refreshHistories,h.storageProviderType=e.storageProviderType,l=l.concat(t.DatasetNavigationPaneListItemController.addRefreshStatusToMetadata(null,e,n,c,r.refreshDatasetModel,i))};return g(h),this.refreshDatasetModel.dataset=o.convertModelToDataset(h),l},s.prototype.showHistoryDialog=function(e){this.services.historyDialogService.showHistoryDialog(e)},s.prototype.getWorkbookActions=function(t){var o=this,a=[],s=this.services.localizationService.get("WorkbookContextMenu_View"),c=this.services.workbookService.findWorkbook(t.id,t.packageId);return this.services.localizationService.ensureLocalization((function(){var l=c.getPermissions();c.isOwner()?(o.services.featureSwitchService.featureSwitches.embedFullFidelityWorkbooks?a.push({text:s,action:function(){o.scope.$emit(n.workbook.viewWorkbookEventName,t.id,t.packageId)}}):a.push({text:s,link:c.viewUrl,action:function(){o.services.telemetryService.logEvent(e.telemetry.DashboardViewWorkbook,c.contract.etagHash,l,o.services.packageService.getWorkbookStorageProvider(c.packageId),o.services.packageService.getWorkbookContentProvider(c.packageId))}}),c.isEditable()&&a.push({text:o.services.localizationService.get("WorkbookContextMenu_Edit"),link:c.editUrl,action:function(){o.services.telemetryService.logEvent(e.telemetry.DashboardEditWorkbook,c.contract.etagHash)}}),a.push({text:o.services.localizationService.get("WorkbookContextMenu_Rename"),action:function(){o.model.isNameEditable=!0}}),o.services.packageService.isLocalWorkbook(c.packageId)&&a.push({text:o.services.localizationService.get("WorkbookContextMenu_Replace"),action:function(){o.scope.$emit(e.constants.replaceLocalWorkbookEventName,c.uniqueId)}}),o.services.packageService.isScheduleRefreshEnabledForWorkbook(c)&&a.push({text:o.services.localizationService.get("WorkbookContextMenu_ScheduleRefresh"),action:function(){var t=o.services.modelService.findModel(c.modelId,c.packageId);t&&(o.services.telemetryService.logEvent(e.telemetry.DashboardWorkbookClickScheduleRefresh,t.contentProviderId),o.services.rootScope.$emit(e.common.constants.showSettingsViewerEventName,"workbooks",t.dbName))}}),o.services.packageService.isRefreshNowEnabledForWorkbook(c)&&a.push({text:o.services.localizationService.get("WorkbookContextMenu_RefreshNow"),action:function(){var t=o.services.modelService.findModel(c.modelId,c.packageId);t&&(o.services.telemetryService.logEvent(e.telemetry.DashboardWorkbookClickRefreshNow,t.contentProviderId),o.services.refreshService.tryRefreshNow(o.services.telemetryService,o.services.errorService,t,"workbooks"))}}),a.push({text:o.services.localizationService.get("WorkbookContextMenu_Remove"),action:function(){o.scope.$emit(n.workbook.removeWorkbookEventName,t)}})):(i.hasFlag(l,r.CopyOnWrite)&&a.push({text:o.services.localizationService.get("ContextMenu_Personalize"),action:function(){o.services.telemetryService.logEvent(e.telemetry.DashboardClickPersonalize,c.contentProviderId),o.scope.$emit(e.constants.personalizeEventName,c.packageId)}}),o.services.featureSwitchService.featureSwitches.embedFullFidelityWorkbooks?a.push({text:s,action:function(){o.scope.$emit(n.workbook.viewWorkbookEventName,t.id,t.packageId)}}):a.push({text:s,link:c.viewUrl,action:function(){o.services.telemetryService.logEvent(e.telemetry.DashboardViewWorkbook,c.contract.etagHash,l,o.services.packageService.getWorkbookStorageProvider(c.packageId),o.services.packageService.getWorkbookContentProvider(c.packageId))}}),a.push({text:o.services.localizationService.get("WorkbookContextMenu_Remove"),action:function(){o.scope.$emit(n.workbook.removeWorkbookEventName,c)}}))})),a},s.addLastRefreshForNonModelWorkbook=function(t,i){var r=o.convertRefreshTimeToJsDateTime(t),a=e.common.localize.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshSucceeded",[""]);return s.addInfoForWorkbook("WorkbookIsUpToDate",""+r,i,null,a.toLocaleUpperCase())},s.addRefreshInfoForNotSupportedModelWorkbook=function(t){var i=e.common.localize.get("WorkbookContextMenu_NotSupportedModel_RefreshNotSupported");return s.addInfoForWorkbook("WorkbookIsUpToDate",i,t)},s.addExcelLocalFileInfo=function(t,i,o,r,a){var n;return a?(n=e.common.localize.format(t,[""]),s.addInfoForWorkbook(o,a,i,r,n.toLocaleUpperCase())):(n=e.common.localize.get(t),s.addInfoForWorkbook(o,n,i,r))},s.addInfoForWorkbook=function(e,i,o,r,n){var s=[];return s.push({name:e,type:a.Text,label:n,value:function(){return i},infoToolTipConfig:r}),t.DatasetNavigationPaneListItemController.updateMetadataValue(o,e,a.Text,(function(){return i}),null,null,null,null,null,r,n),s},s.addSpoFileName=function(i,o,r){var a=[],n=e.common.localize.get("WorkbookContextMenu_SpoFileName"),s=i.substring(i.lastIndexOf("/")+1);return a.push({name:"spoFileNameAndLink",type:e.common.models.ContextMenuItemMetadataType.Link,value:function(){return""},label:n.toLocaleUpperCase(),linkText:function(){return s},linkUrl:function(){return o},linkTitle:function(){return i},linkTarget:"_blank"}),t.DatasetNavigationPaneListItemController.updateMetadataValue(r,"spoFileNameAndLink",e.common.models.ContextMenuItemMetadataType.Link,(function(){return""}),!1,(function(){return s}),(function(){return o}),(function(){return i}),void 0,void 0,n.toLocaleUpperCase()),a},s})();t.WorkbookNavigationPaneListItemController=s})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.constants.nps,o=jsCommon.QueryStringUtil,r=(function(){function t(t,r){var a=this;if(this.appLoadedWaitInterval=3e4,this.services=r,this.scope=t,this.listener=function(e){return a.receiveMessage(e)},this.scope.initListener=function(){return a.services.$window.addEventListener("message",a.listener)},this.scope.$on("$destroy",(function(){a.destroyIframeListener()})),"undefined"!=typeof npsUrlOrigin&&(this.redirectRoot=npsUrlOrigin,this.redirectRoot)){var n=e.session.userInfo.puid,s=this.redirectRoot+i.renderPath,c={};c[i.languageParam]=this.services.localizationService.currentLanguageLocale,c[i.puidParam]=n;var l=this.redirectRoot+i.displayPath,d={};d[i.puidParam]=n,this.scope.renderUrl=o.addOrUpdateQueryStringToUrl(s,c);var p=o.addOrUpdateQueryStringToUrl(l,d);this.services.applicationOptions.isE2ERun||this.services.appMetadataService.getAppMetadata().then((function(){a.services.$timeout((function(){e.npsHttpService.showNpsDialog(p).then((function(t){if(t&&t.data){var i=t.data;if(i.display){if(a.services.fullScreen.fullScreenMode)return;a.services.telemetryService.logEvent(e.telemetry.NPSShowDialog),a.scope.connectToNps()}}}))}),a.appLoadedWaitInterval)}))}}return t.createOptions=function(){return{additionalServices:["$window","$timeout","localizationService","appMetadataService","applicationOptions","fullScreen","telemetryService"]}},t.prototype.destroyIframeListener=function(){this.services.$window.removeEventListener("message",this.listener),this.scope.closeNpsHostIframe()},t.prototype.receiveMessage=function(e){if(e&&e.origin&&!(this.redirectRoot.indexOf(e.origin)<0)){var t=e.data;t&&t.msgType&&(t.msgType===i.closeNpsDialog?this.destroyIframeListener():t.msgType===i.resizeNpsDialog&&this.scope.resizeNpsHostIframe())}},t})();t.NpsHostController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){var i=this;this.scope=e,this.services=t,this.scope.getApplicationLauncher=function(){return i.getApplicationLauncher()},this.scope.showAppLauncherContainer=!1,this.scope.loadingAppLauncher=!1,this.scope.loadingError=!1,this.scope.oldStyleAppLauncher=!0,this.scope.o365NavigationBarData=null}return e.createOptions=function(){return{additionalServices:["o365ApplicationLauncherService"]}},e.prototype.getApplicationLauncher=function(){var e=this;null!==this.scope.o365NavigationBarData||this.scope.loadingAppLauncher||(this.scope.loadingError=!1,this.scope.loadingAppLauncher=!0,this.services.o365ApplicationLauncherService.getApplicationLauncher().then((function(t){var i=$("<link rel='stylesheet' type='text/css' href='"+t.data.cssUrl+"'>");$("head").append(i),$.getScript(t.data.jsUrl,(function(){var i=$.parseJSON(t.data.navBarDataJson);e.scope.$applyAsync((function(){e.scope.oldStyleAppLauncher=i.FlightName.indexOf("ShellNewAppLauncher")===-1})),O365Shell.SetData(i),O365Shell.RenderAsync({launcher:"o365AppLauncherContent"},_.noop,_.noop)})),e.scope.o365NavigationBarData=t,e.scope.loadingAppLauncher=!1}),(function(t){e.scope.loadingAppLauncher=!1,e.scope.loadingError=!0})))},e})();e.O365ApplicationLauncherController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.DashboardUtils,o=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.scope.dashboardDataService=i.dashboardDataService,this.scope.pin=function(){return o.pin()},this.scope.cancel=function(){return o.cancel()},this.scope.saveAndContinue=function(){return o.saveAndContinue()},this.scope.isDashboardPinnable=function(e){return o.isDashboardPinnable(e)},this.scope.noPinnableDashboard=function(){return o.noPinnableDashboard()},this.scope.getDefaultSelectedDashboardId=function(){return o.getDefaultSelectedDashboardId()},this.scope.getSortedPinnableDashboards=function(){return o.getSortedPinnableDashboards()},this.scope.getDashboards=function(){return o.getDashboards()},this.scope.updateFormatting=function(){return o.updateFormatting()},this.scope.isLiveReport=this.services.pinTileService.isLiveReport,this.scope.pinButtonText=this.scope.isLiveReport?this.services.localizationService.get("PinLiveReport_PinLive"):this.services.localizationService.get("ReportContainer_Pin"),this.scope.viewModel.isPinned=!1,this.updateView();var r=this.scope.viewModel;r.useExistingDashboard=!0,this.services.userSettingsService.getUserSettings().then((function(t){r.useDashboardFormatting=null==t.tileDialogPreviewFormat||t.tileDialogPreviewFormat===e.contracts.TileDialogPreviewFormats.DashboardFormat,o.updateFormatting()})),this.scope.$watch("dashboardDataService.dashboards.length",(function(){o.updateView()}))}return t.createOptions=function(){return{additionalServices:["dashboardDataService","pinTileService","localizationService","userSettingsService"],scopedServiceRoot:!0}},t.prototype.updateView=function(){this.sortedPinnableDashboards=this.getSortedPinnableDashboards(),this.scope.viewModel.selectedDashboardId=this.getDefaultSelectedDashboardId()},t.prototype.pin=function(){this.scope.viewModel.isPinned=!0,this.services.pinTileService.onPinButtonClickedActions()},t.prototype.saveAndContinue=function(){this.scope.viewModel.needSaveReport&&this.services.pinTileService.onSaveAndContinueButtonClickedActions()},t.prototype.cancel=function(){this.services.pinTileService.hideDialog()},t.prototype.updateFormatting=function(){this.services.pinTileService.updateTile(this.scope.viewModel.useDashboardFormatting)},t.prototype.isDashboardPinnable=function(e){if(e.contract){var t=i.isWriteable(e.contract),o=this.services.dashboardDataService.activeDashboard;return this.services.pinTileService.isPinFromDashboard&&o?t&&e.id!==o.id:t}return!1},t.prototype.getDefaultSelectedDashboardId=function(){var e=this.services.dashboardDataService.activeDashboard;if(!this.services.pinTileService.isPinFromDashboard&&e&&this.isDashboardPinnable(e))return e.id.toString();var t=this.sortedPinnableDashboards;return t.length>0?t[0].id.toString():null},t.prototype.noPinnableDashboard=function(){return 0===this.sortedPinnableDashboards.length&&(this.scope.viewModel.useExistingDashboard=!1,!0)},t.prototype.getSortedPinnableDashboards=function(){var e=this.services.dashboardDataService.activeDashboard,t=this.services.dashboardDataService.dashboards,o=_.sortBy(_.filter(t,(function(e){return i.isWriteable(e.contract)})),(function(e){return e.displayName.toLowerCase()}));return this.services.pinTileService.isPinFromDashboard&&e&&_.pull(o,e),o},t.prototype.getDashboards=function(){return this.services.dashboardDataService.dashboards},t})();t.PinTileDialogController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.helpers.ContentPackAuthoringHelper,o=e.common.controllers.EmailsList,r=e.common.models.EmailsListModel,a=e.dialog.IntroduceAppDialogBuilder,n=e.common.contracts.Permissions,s=(function(){function t(t,i){var a=this;this.scope=t,this.services=i,this.element=this.services.$element,this.scope.setDefaultImage=function(){return a.setDefaultImage(!0)},this.scope.publishContentPack=function(){return a.publishContentPack()},this.scope.toggleDashboard=function(e){return a.toggleDashboard(e)},this.scope.toggleReport=function(e){return a.toggleReport(e)},this.scope.toggleWorkbook=function(e){return a.toggleWorkbook(e)},this.scope.enableUpdateButton=function(){return a.enableUpdateButton()},this.scope.onContentPackChanged=function(){return a.onContentPackChanged()},this.scope.cancelPublishContentPack=function(){return a.cancelPublishContentPack()},this.scope.validateImageUploaded=function(e){return a.validateImageUploaded(e)},this.scope.imageThumbView="",this.scope.isIconUpdated=!0,this.scope.isLegacyReport=function(e){return a.isLegacyReport(e)},this.scope.dashboardHasLegacyReport=function(e){return a.dashboardHasLegacyReport(e)},this.scope.canDashboardBeAdded=function(e){return a.canDashboardBeAdded(e)},this.scope.getWorkookPermissionsMessageType=function(){return a.getWorkookPermissionsMessageType()},this.scope.getLocalizedTemplatizeModelToolTip=function(){return a.getLocalizedTemplatizeModelToolTip()};var n=this.scope.viewModel;n.hasTitleValidationError=!1,n.hasNoItemsSelected=!1,n.hasDescriptionValidationError=!1,n.hasGroupsValidationError=!1,n.isPublishOrUpdateError=!1,n.hasImageValidationError=!1,n.hasTemplatePublishError=!1,n.providerKey="",n.emailsList=new r,n.userGroupHeader=new e.models.UserGroupHeaderModel,n.isTemplate=!1,this.getSettingsMetadata(),this.updateView(),this.clearContents();var s=this.services.navigation.contentPack;this.services.contentPackService.findContentPack(s).then((function(e){if(a.scope.updateContentPack=e,a.scope.updateContentPack){if(a.scope.$watch("viewModel.emailsList.isDirty",(function(e){e&&(n.isUpdateScenario=!e,n.isPublishOrUpdateError=!e)})),n.providerKey=a.scope.updateContentPack.providerContract.providerKey,n.publishButtonText=a.services.localizationService.get("PBI_Button_Label_Update"),n.headerText=a.services.localizationService.get("Publish_UpdateContentPack"),a.scope.updateContentPack.isSharedToEntireOrg)n.contentPackCreatedFor=!0;else{n.contentPackCreatedFor=!1,n.emailsList=new r;var t=a.scope.updateContentPack.providerContract;t.accessPermissions&&t.accessPermissions.adUserMetadataList?(n.emailsList.inputUserList=t.accessPermissions.adUserMetadataList,n.emailsList.inputUserList.forEach((function(e){e.userPrincipalName||(e.isSecurityGroup=!0)}))):n.emailsList.inputUserList=o.emailsToUsers(a.scope.updateContentPack.listOfGroupPrincipals)}n.titleText=a.scope.updateContentPack.displayText,n.descriptionText=a.scope.updateContentPack.description,a.scope.updateContentPack.iconUrl&&(a.scope.imageThumbView=jsCommon.Utility.urlCombine(clusterUri,a.scope.updateContentPack.iconUrl),a.scope.isIconUpdated=!1);for(var i=a.scope.updateContentPack.dashboardIds.length,s=0;s<i;s++)a.toggleDashboard(null,a.scope.updateContentPack.dashboardIds[s]);i=a.scope.updateContentPack.reportIds.length;for(var s=0;s<i;s++)a.toggleReport(a.scope.updateContentPack.reportIds[s],!0);i=a.scope.updateContentPack.modelIds.length;for(var s=0;s<i;s++)a.toggleModelByIds(a.scope.updateContentPack.modelIds[s]);i=a.scope.updateContentPack.workbookIds.length;for(var s=0;s<i;s++)a.toggleWorkbook(a.scope.updateContentPack.workbookIds[s],!0);a.scope.updateContentPack.providerContract.isDirty||(n.isUpdateScenario=!0)}else n.publishButtonText=a.services.localizationService.get("Publish_ContentPackPublishButton"),n.headerText=a.services.localizationService.get("Publish_CreateContentPack");a.scope.onFileSelect=function(e){var t=new FileReader;if(0!==e.length){a.scope.isIconUpdated=!0,a.scope.errorMessage="";var i=e[0];a.readAsDataUrl(i,t).then((function(e){a.scope.imageThumbView=e,a.enableUpdateButton(),n.hasImageValidationError=a.validateImageUploaded(a.scope.imageThumbView.length),n.imageValidationErrorText=a.services.localizationService.get("Publish_ImageSizeValidationError")}),(function(e){a.scope.errorMessage=e}))}},a.scope.$watchGroup([function(){return a.scope.dashboardContainer.dashboards.length},function(){return a.services.reportService.reports.length},function(){return a.services.workbookService.workbooks.length},function(){return a.services.modelService.lastUpdatedTimestamp}],(function(){a.updateView()})),a.scope.isPublishAllowed=function(){return!0},a.services.asyncFeatureSwitchService.getFeatureSwitches().then((function(e){a.scope.isPublishContentPackFeatureDisabled=!e.publishContentPackEnabled,a.scope.showTemplateUI=e.templatePublishEnabled||e.templatePublishFlightingWorkAroundEnabled,a.scope.updateContentPack&&a.scope.updateContentPack.providerContract&&4===a.scope.updateContentPack.providerContract.category&&(n.isTemplate=!0,a.scope.isPublishAllowed=function(){return!1})}),(function(){a.scope.isPublishContentPackFeatureDisabled=!0})),a.initAppIntroDialog()})),this.scope.$on("$destroy",(function(){a.clearContents()}))}return t.createOptions=function(){return{additionalServices:["$sce","asyncFeatureSwitchService","errorService","modalDialogService","modelConverter","navigation","promiseFactory","telemetryService","localizationService","$element","reportService","modelService","contentPackService","quota","groupService","workbookService","notificationToast","packageService","settingsMetadataService","conceptualModelSetting","$window"]}},t.prototype.initAppIntroDialog=function(){var t=this;this.services.conceptualModelSetting.isAppsEnabled()&&(this.introduceAppDialogBuilder=new a(this.services.modalDialogService),this.introduceAppDialogBuilder.show("introduceAppWhenCreateContentPack",{mode:0}).then((function(i){0===i&&t.services.$window.open(e.constants.pbiAppsLink,"_blank")})))},t.prototype.isUpdate=function(){return!_.isEmpty(this.scope.viewModel.providerKey)},t.prototype.getSettingsMetadata=function(){var e=this;this.services.settingsMetadataService.getSettings().then((function(t){e.settingsMetadata=t}),(function(){e.settingsMetadata=null})).finally((function(){e.scope.isTemplatingAllowed=function(){return e.isTemplatingAllowed()},4===e.scope.updateContentPack.providerContract.category&&(e.scope.viewModel.isTemplate=!0,e.scope.updateContentPack&&(e.scope.isPublishAllowed=function(){return e.isTemplatingAllowed()}))}))},t.prototype.getLocalizedTemplatizeModelToolTip=function(){return this.isTemplatingAllowed()?null:this.services.localizationService.get("PublishContentPack_TemplatizeModel_NotAllowed")},t.prototype.updateIsRemoteWorkbookSelected=function(){var e=this,t=_.find(this.scope.workbooks,(function(t){return t&&t.isSelected&&!e.services.packageService.isLocalWorkbook(t.contract.packageId)}));this.scope.isRemoteWorkbookSelected=void 0!==t,this.scope.workbooksWebUri=t?t.contract.webUri:void 0},t.prototype.isMyWorkspace=function(){return this.services.groupService.isMyWorkspace()},t.prototype.getWorkookPermissionsMessageType=function(){return this.isMyWorkspace()?0:2},t.prototype.updateView=function(){this.scope.dashboards=this.filteredDashboards,this.scope.reports=this.filteredReports,this.scope.models=this.filteredModels,this.services.asyncFeatureSwitchService.featureSwitches.excelWorkbooksInContentPackEnabled?this.scope.workbooks=this.filteredWorkbooks:this.scope.workbooks=[],this.scope.filteredReportResources=[].concat(this.scope.workbooks).concat(this.scope.reports),this.updateIsRemoteWorkbookSelected(),this.dashboardsWithExternalContent=[],this.getDashboardWithExternalSource()},Object.defineProperty(t.prototype,"filteredDashboards",{get:function(){return _.filter(this.scope.dashboardContainer.dashboards,(function(e){return(e.getPermissions()&n.Write)===n.Write&&(e.getPermissions()&n.ReShare)===n.ReShare}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredReports",{get:function(){return this.services.reportService.editableReports},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredModels",{get:function(){return this.services.modelService.editableModels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filteredWorkbooks",{get:function(){return this.services.workbookService.originalWorkbooks},enumerable:!0,configurable:!0}),t.prototype.switchToDashboardView=function(){var e=this;this.services.conceptualModelSetting.isListViewEnabled()?this.services.groupService.ensureGroupsInitialization().then((function(){var t=e.services.groupService.activeGroupObjectId;e.services.navigation.navigateToContentList(t)})):this.services.navigation.navigateToActiveDashboard()},t.prototype.cancelPublishContentPack=function(){this.clearContents(),this.services.navigation.navigateBack()},t.prototype.validateImageUploaded=function(e){return!(e<65e3)},t.prototype.clearContents=function(){var e=this.scope.viewModel;e.contentPackCreatedFor=!1,e.isUpdateScenario=!1,e.titleText="",e.descriptionText="",this.scope.setDefaultImage(!0);for(var t=0,i=this.scope.dashboards.length;t<i;t++){var o=this.scope.dashboards[t];o.isSelected=!1,o.isEnabled=!0}for(var t=0,i=this.scope.reports.length;t<i;t++){var r=this.scope.reports[t];r.isSelected=!1,r.isEnabled=!0,r.countOfLinkedAncestorsSelected=0}for(var t=0,i=this.scope.models.length;t<i;t++){var a=this.scope.models[t];a.isSelected=!1,a.isEnabled=!0,a.countOfLinkedAncestorsSelected=0}for(var t=0,i=this.scope.workbooks.length;t<i;t++){var n=this.scope.workbooks[t];n.isSelected=!1,n.isEnabled=!0,n.countOfLinkedAncestorsSelected=0}},t.prototype.enableUpdateButton=function(){this.scope.viewModel.isUpdateScenario=!1,this.scope.viewModel.isPublishOrUpdateError=!1,this.isTemplatingAllowed()||this.isUpdate()||(this.scope.viewModel.isTemplate=!1)},t.prototype.onContentPackChanged=function(){if(this.scope.updateContentPack){var e=this.scope.updateContentPack,t=this.scope.viewModel;this.scope.viewModel.isUpdateScenario=e.isSharedToEntireOrg===(t.contentPackCreatedFor===!0)&&e.displayText===t.titleText&&e.description===t.descriptionText&&e.iconUrl===this.scope.imageThumbView&&e.dashboardIds.sort().toString()===this.returnSelectedDashboardIds().sort().toString()&&e.reportIds.sort().toString()===this.returnSelectedResourceIds(this.scope.reports).sort().toString()&&e.modelIds.sort().toString()===this.returnSelectedResourceIds(this.scope.models).sort().toString()&&e.workbookIds.sort().toString()===this.returnSelectedResourceIds(this.scope.workbooks).sort().toString(),e.listOfGroupPrincipals&&t.groupsAddressesList&&(this.scope.viewModel.isUpdateScenario=this.scope.viewModel.isUpdateScenario&&e.listOfGroupPrincipals.sort().toString()===t.groupsAddressesList.sort().toString())}return this.scope.viewModel.isUpdateScenario},t.prototype.isLegacyReport=function(t){return!e.helpers.ReportUtility.IsReportSavedAsExploration(t.contract)},t.prototype.canDashboardBeAdded=function(e){return _.indexOf(this.dashboardsWithExternalContent,e)<0},t.prototype.getDashboardWithExternalSource=function(){if(!_.isEmpty(this.scope.dashboards))for(var e=_.map(this.scope.models,(function(e){return e.id})),t=_.map(this.scope.reports,(function(e){return e.id})),i=0;i<this.scope.dashboards.length;i++){if(!_.isEmpty(this.scope.dashboards[i].contract.modelIds)){var o=_.difference(this.scope.dashboards[i].contract.modelIds,e);_.isEmpty(o)||this.dashboardsWithExternalContent.push(this.scope.dashboards[i].id)}if(!_.isEmpty(this.scope.dashboards[i].contract.reportIds)){var r=_.difference(this.scope.dashboards[i].contract.reportIds,t);_.isEmpty(r)||this.dashboardsWithExternalContent.push(this.scope.dashboards[i].id)}}},t.prototype.dashboardHasLegacyReport=function(t){if(!t||!t.contract)return!1;for(var i=t.contract.reportIds,o=i?i.length:0,r=0;r<o;r++){var a=this.services.reportService.findReport(i[r]);if(a&&!e.helpers.ReportUtility.IsReportSavedAsExploration(a.contract))return!0}return!1},t.prototype.updateRelatedResources=function(t,i,o){for(var r=0,a=i;r<a.length;r++){var n=a[r];if(n.isSelected)if(o){if(t===e.common.models.ResourceType.Report&&n.isEnabled){var s=this.services.modelService.findModel(n.modelId);s.countOfLinkedAncestorsSelected--}n.countOfLinkedAncestorsSelected++,n.isEnabled=!o}else n.countOfLinkedAncestorsSelected--;0===n.countOfLinkedAncestorsSelected&&(n.isSelected=o,n.isEnabled=!o,o&&n.countOfLinkedAncestorsSelected++)}},t.prototype.toggleDashboard=function(t,i){if(t||(t=_.find(this.scope.dashboards,(function(e){return e.id===i})),t&&(t.isSelected=!0)),t){var o=_.filter(this.scope.reports,(function(e){return t.contract.reportIds.indexOf(e.id)!==-1}));this.updateRelatedResources(e.common.models.ResourceType.Report,o,t.isSelected);var r=_.filter(this.scope.models,(function(e){return t.contract.modelIds.indexOf(e.id)!==-1}));this.updateRelatedResources(e.common.models.ResourceType.Model,r,t.isSelected);var a=_.filter(this.scope.workbooks,(function(e){return t.contract.workbookIds.indexOf(e.id)!==-1}));this.updateRelatedResources(e.common.models.ResourceType.Workbook,a,t.isSelected),this.updateIsRemoteWorkbookSelected(),this.enableUpdateButton()}},t.prototype.toggleWorkbook=function(e,t){var i;t&&(i=_.find(this.scope.workbooks,(function(t){return t.id===e})),i&&(i.isSelected=!0)),this.enableUpdateButton(),this.updateIsRemoteWorkbookSelected()},t.prototype.toggleReport=function(t,i){var o;if(i){if(o=_.find(this.scope.reports,(function(e){return e.id===t})),o&&(o.isSelected=!0,!o.isEnabled))return}else if(this.scope.filteredReportResources&&this.scope.filteredReportResources[t]){var r=this.scope.filteredReportResources[t].id;o=_.find(this.scope.reports,(function(e){return e.id===r}))}if(o){var a=_.filter(this.scope.models,(function(e){return e.id===o.modelId}));this.updateRelatedResources(e.common.models.ResourceType.Model,a,o.isSelected)}this.enableUpdateButton()},t.prototype.toggleModelByIds=function(e){var t=_.find(this.scope.models,(function(t){return t.id===e}));t&&!t.isSelected&&(t.isSelected=!0),this.enableUpdateButton()},t.prototype.setDefaultImage=function(e){this.scope.isIconUpdated=!0,this.scope.viewModel.isDefaultImageUsed=e,this.scope.viewModel.hasImageValidationError=!1,this.scope.imageThumbView="",this.enableUpdateButton()},t.prototype.readAsDataUrl=function(e,t){if(void 0!==e){var i=this.services.promiseFactory.defer();return t.onload=function(){i.resolve(t.result)},t.onerror=function(){i.reject(t.error)},t.readAsDataURL(e),i.promise}},t.prototype.validateTitleSize=function(){return!(this.scope.viewModel.titleText&&this.scope.viewModel.titleText.length>t.TitleSizeLimit)},t.prototype.isTitleEmpty=function(){return!this.scope.viewModel.titleText||0===this.scope.viewModel.titleText.length;
},t.prototype.isDescriptionEmpty=function(){return!this.scope.viewModel.descriptionText||0===this.scope.viewModel.descriptionText.length},t.prototype.validateDescriptionSize=function(){return!(this.scope.viewModel.descriptionText&&this.scope.viewModel.descriptionText.length>t.DescriptionSizeLimit)},t.prototype.returnSelectedResourceIds=function(e){for(var t=[],i=e.length,o=0;o<i;o++)e[o].isSelected&&t.push(e[o].id);return t},t.prototype.returnSelectedDashboardIds=function(){for(var e=[],t=this.scope.dashboards,i=t.length,o=0;o<i;o++)t[o].isSelected&&e.push(t[o].id);return e},t.prototype.isTemplatingAllowed=function(){var e=this.scope.dashboards.filter((function(e){return e.isSelected===!0})),t=this.scope.reports.filter((function(e){return e.isSelected===!0})),o=this.scope.models.filter((function(e){return e.isSelected===!0})),r=this.scope.workbooks.filter((function(e){return e.isSelected===!0}));return i.isTemplatingAllowed(e,t,o,r,this.services.modelService,this.services.packageService,this.settingsMetadata)},t.prototype.publishContentPack=function(t){var i=this;this.scope.viewModel.hasValidationError=!1;var o=this.scope.viewModel,r=!!o.providerKey;if(!this.services.contentPackService.userHasPremiumLicense())return void this.services.contentPackService.displayLicenseErrorDialog(!1);if(!this.services.quota.checkQuotaExceeded(r?e.telemetry.QuotaCheckOperation.UpdateContentPack:e.telemetry.QuotaCheckOperation.PublishContentPack)){if(o.isSharedWithOrg=!1,o.hasTitleValidationError=!1,o.hasNoItemsSelected=!1,o.hasDescriptionValidationError=!1,o.hasGroupsValidationError=!1,o.hasTemplatePublishError=!1,o.contentPackCreatedFor===!0)o.isSharedWithOrg=!0,o.emailsList=null;else{if(!o.emailsList.validationTrigger())return void(o.hasGroupsValidationError=o.emailsList.hasValidationError);o.groupsAddressesList=o.emailsList.validEmailsList.concat(o.emailsList.validObjectIds);for(var a=0,n=o.groupsAddressesList.length;a<n;a++)o.groupsAddressesList[a]=o.groupsAddressesList[a].toLowerCase()}if(this.isTitleEmpty())return o.hasTitleValidationError=!0,void(o.titleValidationError=this.services.localizationService.get("PublishContentPack_EmptyTitle"));if(!this.validateTitleSize())return o.hasTitleValidationError=!0,void(o.titleValidationError=this.services.localizationService.get("Publish_TitleSizeExceeded"));if(this.isDescriptionEmpty())return o.hasDescriptionValidationError=!0,void(o.descriptionTextValidationError=this.services.localizationService.get("PublishContentPack_EmptyDescription"));if(!this.validateDescriptionSize())return o.hasDescriptionValidationError=!0,void(o.descriptionTextValidationError=this.services.localizationService.get("Publish_DescriptionSizeExceeded"));if(!o.hasImageValidationError){if(o.hasImageValidationError=!1,o.selectedDashboardIds=this.returnSelectedDashboardIds(),o.selectedReportIds=this.returnSelectedResourceIds(this.scope.reports),o.selectedDatasetIds=this.returnSelectedResourceIds(this.scope.models),o.selectedWorkbookIds=this.returnSelectedResourceIds(this.scope.workbooks),0===o.selectedDashboardIds.length&&0===o.selectedReportIds.length&&0===o.selectedDatasetIds.length&&0===o.selectedWorkbookIds.length)return o.hasNoItemsSelected=!0,void(o.itemsNotSelectedError=this.services.localizationService.get("PublishContentPack_NoItemsSelected"));o.isPublishInProgress=!0,o.isPublishCancelled=!0,r?this.services.contentPackService.findContentPackByGUID(o.providerKey).then((function(e){if(e)return!e.providerContract.isDirty&&i.onContentPackChanged()?(i.scope.viewModel.isPublishOrUpdateError=!0,i.scope.viewModel.publishOrUpdateError=i.services.localizationService.get("UpdateContentPack_NoChangesMade"),o.isPublishInProgress=!1,void(o.isPublishCancelled=!1)):void i.publishInternal(r)})):this.publishInternal(r)}}},t.prototype.publishInternal=function(t){var o=this,r=this.services.telemetryService,a=!1,n=this.services.groupService.isMyWorkspace(),s=this.scope.viewModel,c=r.startEvent(e.telemetry.DashboardContentPackPublish,t,s.selectedDashboardIds.length,s.selectedReportIds.length,s.selectedDatasetIds.length,s.selectedWorkbookIds.length,n,s.isSharedWithOrg?0:s.groupsAddressesList?s.groupsAddressesList.length:0,a),l=e.contentPackService.publishContentPack(s,this.scope.imageThumbView,null,this.scope.isIconUpdated,!1,c.event);l.then((function(i){c.resolve(),o.services.notificationToast.notify({title:o.services.localizationService.get("Publish_Success"),message:o.services.localizationService.format("Publish_SuccessMessage",[s.titleText]),notificationType:e.common.NotificationToastType.Success}),o.scope.viewModel.isPublishInProgress=o.scope.viewModel.isPublishCancelled=!1,o.switchToDashboardView(),o.services.contentPackService.loadContentPacks(),t&&o.services.contentPackService.setContentPackCleanForSession(s.providerKey)}),(function(t){var r=o.scope.viewModel;r.isPublishInProgress=r.isPublishCancelled=!1;var a=i.getPublishErrorFromResult(t,o.services.localizationService);if(a){switch(a.errorType){case 0:r.hasImageValidationError=!0,r.imageValidationErrorText=a.errorMessage;break;case 1:r.hasTemplatePublishError=!0,r.templatePublishErrorText=a.errorMessage;break;case 2:r.hasGroupsValidationError=!0,r.groupsValidationError=a.errorMessage}c.event.info.isUserError=!0,c.resolve()}else c.reject(e.errorDetailsHelper.getTelemetryErrorDetails(t.error,t.status)),o.services.errorService.error(o.services.localizationService.get("PublishContentPack_Failed_Desc"),"",{requestId:t.requestId,statusCode:t.status.toString(),activityId:t.activityId})}))},t})();s.DescriptionSizeLimit=2e3,s.TitleSizeLimit=200,t.PublishContentPackView=s})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){var i=this;this.scope=e,this.services=t,this.scope.hideDialog=function(){return i.hideDialog()},this.scope.tryIEDownloadQRCodeImage=function(){return i.tryIEDownloadQRCodeImage()},this.initialize()}return e.createOptions=function(){return{additionalServices:["qrCodeService"]}},e.prototype.initialize=function(){var e=this;this.services.qrCodeService.getQRCodeCanvas(this.scope.viewModel.url).then((function(t){e.scope.qrCodeCanvas=t,void 0!==e.scope.viewModel.subDisplayText?e.scope.qrCodeImageFileName=e.scope.viewModel.displayText+" - "+e.scope.viewModel.subDisplayText+".jpg":e.scope.qrCodeImageFileName=e.scope.viewModel.displayText+".jpg",e.scope.qrCodeImageDataUrl=e.scope.qrCodeCanvas.toDataURL("image/jpeg",1)}))},e.prototype.hideDialog=function(){this.services.qrCodeService.hideQRCodeDialog()},e.prototype.tryIEDownloadQRCodeImage=function(){if(this.scope.qrCodeCanvas.msToBlob){var e=this.scope.qrCodeCanvas.msToBlob();return window.navigator.msSaveBlob(e,this.scope.qrCodeImageFileName),!1}return!0},e})();e.QrCodeDialogController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){var i=this;this.scope=e,this.services=t,this.scope.hideDialog=function(){return i.hideDialog()}}return e.createOptions=function(){return{additionalServices:["qrCodeService"]}},e.prototype.hideDialog=function(){this.services.qrCodeService.hideQRProgressDialog()},e})();e.QRCodeProgressDialogController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.scope.viewModel={dashboardObjectId:this.services.navigation.currentDashboardGUID,isRequestActive:!1,splashMessage:this.services.localizationService.get("RequestDashboardAccess_SplashMessage")},this.scope.requestAccess=function(){return i.requestAccess()}}return t.createOptions=function(){return{additionalServices:["navigation","localizationService","modalDialogService","telemetryService","invitationService","dashboardService","groupService","errorService"]}},t.prototype.requestAccess=function(){var e=this,t=this.scope.$new(!0);t.viewModel={accessRequestedDescription:this.services.localizationService.get("RequestDashboardAccessModal_AccessRequestedDescription"),requestAccessDescription:this.services.localizationService.get("RequestDashboardAccessModal_RequestAccessDescription"),placeholderText:this.services.localizationService.get("RequestDashboardAccessModal_Placeholder"),message:""};var i=[new InJs.ModalDialogAction(this.services.localizationService.get("RequestDashboardAccessModal_SendButton"),function(i,o){e.scope.viewModel.isRequestActive=!0,t.closeDialog(),e.sendRequest(t.viewModel.message)}),new InJs.ModalDialogAction(this.services.localizationService.get("RequestDashboardAccessModal_CancelButton"),function(e,i){t.closeDialog()})],o={dialogName:this.services.localizationService.get("RequestDashboardAccessModal_RequestAccessTitle"),template:"<request-dashboard-access-modal></request-dashboard-access-modal>",dialogActions:i,scope:t};this.services.modalDialogService.showLegacyWebModalDialog(o)},t.prototype.sendRequest=function(t){var i=this,o=!1;t||(t="",o=!0);var r=this.services.telemetryService.startEvent(e.telemetry.DashboardRequestDashboardAccess,this.scope.viewModel.dashboardObjectId,t.length,o);this.services.invitationService.requestDashboardAccess(this.scope.viewModel.dashboardObjectId,t,r.event).then((function(e){r.resolve(),i.showConfirmationDialog()}),(function(t){var o=t.headers(e.common.PowerBIErrorHeader),a="RequestDashboardAccessInvalidRequest",n=o||a;r.reject({errorCode:n,errorSource:n!==a?e.telemetry.ErrorSource.User:e.telemetry.ErrorSource.PowerBI}),i.services.errorService.error(i.services.localizationService.get("RequestDashboardAccess_FailedToRequestDashboardAccess"),"RequestDashboardAccess_FailedToRequestDashboardAccess",{requestId:t.requestId,statusCode:t.status.toString()}),i.scope.viewModel.isRequestActive=!1}))},t.prototype.showConfirmationDialog=function(){var e=this,t=this.scope.$new(!0);t.message=this.services.localizationService.get("RequestDashboardAccessModal_AccessRequested");var i=[new InJs.ModalDialogAction(this.services.localizationService.get("RequestDashboardAccessModal_CloseButton"),function(i,o){t.closeDialog(),e.onConfirmationDialogClosed()})],o={dialogName:this.services.localizationService.get("RequestDashboardAccessModal_AccessRequestedTitle"),template:"<span>{{message}}</span>",scope:t,dialogActions:i,isDismissable:!1};this.services.modalDialogService.showLegacyWebModalDialog(o)},t.prototype.onConfirmationDialogClosed=function(){var e=this.services.dashboardService.dashboardContainerModel.visibleDashboards;e&&e.length>0?this.services.navigation.navigateToDashboardByGUID(e[0].objectId):this.services.navigation.navigateToGroupWelcome()},t})();t.RequestDashboardAccessController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.models.factory.DatasetsMenuFactory,r=jsCommon.EnumExtensions,a=e.common.dialogs.FeatureNotSupportedDialogBuilder,n=e.common.helpers.ModelConverterHelper,s=e.common.contracts.Permissions,c=e.common.contracts.PublishOrRefreshStatus,l=e.common.contracts.RealTimeMode,d=e.common.constants.TaskPaneCollapsiblePaneMode,p=(function(){function p(e,t){var i=this;this.mapDateObjects=function(e){return e.forEach((function(e){e.nextRefreshTime=i.convertRefreshTimeToJsDateTime(e.contract.nextRefreshTime)})),e},this.scope=e,this.services=t,e.predicate="name",e.reverse=!0,e.order=function(t){e.reverse=e.predicate===t&&!e.reverse,e.predicate=t},e.modelService=this.services.modelService,this.initialize()}return p.createOptions=function(){return{additionalServices:["analyzeInExcel","contentPackService","dashboardService","errorService","featureSwitchService","groupService","historyDialogService","insightsService","localizationService","modalDialogService","modelConverter","modelHttpService","modelService","navigation","ownership","packageService","realTimeModel","refreshService","quota","telemetryService","settingsMetadataService","overlayService","permissionService","conceptualModelSetting","taskPaneSliderService","lazy"]}},p.prototype.initialize=function(){var t=this;this.services.telemetryService.logEvent(e.telemetry.DashboardManageDatasetsLanding),this.modelDashboards={},this.streamingDatasetActions={},this.datasetMenuActions=this.createFileMenuActions(),this.isOrgApp=!1;var i=1;this.services.navigation.inManageStreamingDatasetView()&&(i=2,1===this.services.navigation.instantiationMode&&this.showStreamingDatasetGalleryPane()),this.setActiveTab(i),this.services.groupService.ensureGroupsInitialization().then((function(){t.services.groupService.activeGroup&&(t.activeGroupName=t.services.groupService.activeGroup.displayName)})),this.searchFilter=""},Object.defineProperty(p.prototype,"listViewEnabled",{get:function(){return this.services.conceptualModelSetting.isListViewEnabled()},enumerable:!0,configurable:!0}),p.prototype.onDestroy=function(){this.modalDialogPromise&&this.modalDialogPromise.pending&&this.modalDialogPromise.reject("ManageDatasetsController destroyed")},p.prototype.inDatasetsView=function(){var e=this.services.navigation;return e.inManageDatasetView()||e.inManageStreamingDatasetView()},p.prototype.isPackagePublishInProgress=function(e){return e===c.PublishInProgress},p.prototype.navigateToContentList=function(){this.services.navigation.navigateToContentList(this.services.groupService.activeGroupObjectId)},p.prototype.convertRefreshTimeToJsDateTime=function(e){var t=n.convertRefreshTimeToJsDateTime(e);return t.getFullYear()>3e3?this.services.localizationService.get("ManageDatasets_NextRefresh_NA"):t.toLocaleString()},p.prototype.datasetMenuActionSelected=function(e){switch(e.action){case 8:this.analyzeInExcel(this.activeModel);break;case 1:this.createReport(this.activeModel);break;case 7:case 16:this.delete(this.activeModelContract);break;case 2:case 11:case 12:this.getInsights(this.activeModelContract);break;case 3:this.granularSecurity(this.activeModelContract);break;case 5:this.refreshNow(this.activeModelContract);break;case 4:this.rename(this.activeModelContract);break;case 6:this.refreshSchedule(this.activeModelContract);break;case 10:this.navigateToSettingsPage(this.activeModelContract);break;case 9:this.personalizeDataset(this.activeModel);break;case 13:this.toggleRowState(this.activeModelIndex);break;case 15:this.showStreamingDatasetEditorPane(this.activeModel.id);break;case 14:this.showStreamingDatasetPushInfoPane(this.activeModel.id)}this.services.overlayService.hideAllDropdowns()},p.prototype.streamingDatasetActionSelected=function(e,t,i){this.setActiveModel(e,t),this.datasetMenuActionSelected(i)},p.prototype.getDashboardsForModel=function(e){return this.modelDashboards[e.id]||(this.modelDashboards[e.id]=_(this.services.dashboardService.dashboards).filter((function(t){return t.contract.modelIds&&t.contract.modelIds.indexOf(e.id)>=0})).map((function(e){return e.displayName})).value().join(this.services.localizationService.get("ListJoin_Separator"))),this.modelDashboards[e.id]},p.prototype.getStreamingDatasetActions=function(e){if(r.hasFlag(e.getPermissions(),s.All)){if(this.streamingDatasetActions[e.realTimeMode])return this.streamingDatasetActions[e.realTimeMode];var t=[];return t.push(15),t.push(16),e.realTimeMode===l.PersistAndCache&&t.push(1),e.realTimeMode!==l.PubNubCacheOnly&&t.push(14),this.streamingDatasetActions[e.realTimeMode]=o.customizeRowMenuActions(t,this.services.localizationService)}return[]},p.prototype.getModelType=function(t){return t.realTimeMode===l.PubNubCacheOnly?e.constants.streamingDatasetModelPubNub:this.services.localizationService.get("StreamingDataset_API")},p.prototype.navigateToGetData=function(){this.services.telemetryService.logEvent(e.telemetry.DashboardOpenGetDataPage,e.telemetry.OpenGetDataPageInteraction.NavigatorPaneAddDatasetButton),this.services.navigation.showGetDataSlider()},p.prototype.resetSearchOnEsc=function(e){27===e.which&&(this.searchFilter="")},p.prototype.setActiveTab=function(e){this.activeTab=e,this.placeholderText=1===this.activeTab?this.services.localizationService.get("ManageDataSets_PlaceholderSearchDatasets"):this.services.localizationService.get("ManageDataSets_PlaceholderSearchStreamingDatasets"),1===e?this.services.navigation.navigateToDatasets():this.services.navigation.navigateToStreamingDatasets(0)},p.prototype.showStreamingDatasetGalleryPane=function(){this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.CreateStreamingDataset)||(this.services.realTimeModel.setSelected(null),this.services.featureSwitchService.featureSwitches.realTimePubNubEnabled?this.services.taskPaneSliderService.expandPane(d.StreamingDatasetGallery):this.services.taskPaneSliderService.expandPane(d.StreamingDatasetEditor))},p.prototype.showOptions=function(e,t){this.setActiveModel(e,t),this.customizeMenuActions(this.activeModelContract,this.activeModelPackage)},p.prototype.toggleRowState=function(e){this.activePosition=this.activePosition===e?-1:e},p.prototype.setActiveModel=function(e,t){this.activeModel=e,this.activeModelIndex=t,this.activeModelContract=e.contract,this.activeModelPackage=this.services.packageService.findPackage(this.activeModelContract.packageId)},p.prototype.createReport=function(t){return null!=t.contract.packagePublishStatus&&t.contract.packagePublishStatus!==c.FinishedSuccessfully&&t.contract.packagePublishStatus!==c.RefreshInProgress&&t.contract.packagePublishStatus!==c.RefreshError?void(t.contract.packagePublishStatus===c.PublishError&&this.deleteModelOnPublishFailure(t.id)):(t.isNew=t.contract.isNew=!1,void(this.services.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.OpenDataset)||(r.hasFlag(t.getPermissions(),s.CopyOnWrite)?this.scope.$emit(e.constants.personalizeEventName,t.packageId):this.services.navigation.navigateToDatasetByDBName(t.dbName))))},p.prototype.deleteModelOnPublishFailure=function(e){var t=this;this.deleteItemOnPublishFailure(this.services.localizationService.get("NavigationPane_ModelPublishErrorTitle"),this.services.localizationService.get("NavigationPane_ModelPublishErrorContent"),(function(){t.services.modelService.deleteModel(e)}))},p.prototype.deleteItemOnPublishFailure=function(e,t,i){var o=this,r=this.services.errorService.control(),a=[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(e,t){r.hideDialog(),i()}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){r.hideDialog()})];r.showCustomDialog(e,$("<div/>").text(t),a,(function(e){e.parent().find('input[value="'+o.services.localizationService.get("ModalDialogButtonText_No")+'"]').focus()}),!0)},p.prototype.getInsights=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i;return __generator(this,(function(o){switch(o.label){case 0:return this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickInsights,t.contentProviderId),[4,this.services.lazy("insightsBootstrap")];case 1:return i=o.sent(),i.start(t.dbName,t.vsName,t.packageId,e.insights.constants.insightsSourceNavigationPane),[2]}}))}))},p.prototype.showStreamingDatasetEditorPane=function(e){this.services.realTimeModel.setSelected(e),this.services.taskPaneSliderService.expandPane(d.StreamingDatasetEditor)},p.prototype.granularSecurity=function(e){6===e.contentProviderId?this.cloudRlsNotSupportedDialog():this.services.navigation.showRowLevelSecuritySlider(e.id)},p.prototype.cloudRlsNotSupportedDialog=function(){this.modalDialogPromise=new a(this.services.modalDialogService).show("ModalDialog_CloudRlsUnSupportedTypeTitle","ModalDialog_CloudRlsUnSupportedTypeMessage","https://go.microsoft.com/fwlink/?LinkID=733530")},p.prototype.rename=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickRename,t.contentProviderId),this.services.settingsMetadataService.setSettings(4,t.dbName),this.services.taskPaneSliderService.expandPane(d.SettingsBlade,i.Medium)},p.prototype.refreshNow=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickRefreshNow,t.contentProviderId),this.services.refreshService.tryRefreshNow(this.services.telemetryService,this.services.errorService,t,"datasets")},p.prototype.refreshSchedule=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickScheduleRefresh,t.contentProviderId),this.services.navigation.showSettingsSlider("datasets",t.dbName)},p.prototype.navigateToSettingsPage=function(e){this.services.navigation.showSettingsSlider("datasets",e.dbName)},p.prototype.delete=function(i){this.services.telemetryService.logEvent(e.telemetry.DashboardDatasetClickDelete,i.contentProviderId);var o=i.id,r=i.packageId,a=this.services.modelService.findModel(o,r);a&&a.isUsedByContentPack?this.services.contentPackService.showDialogOnModelDeleteInContentPack(o):this.deleteModel(o,r,this.isOrgApp?t.DeleteContentPackMessageType.Dataset:null)},p.prototype.deleteModel=function(e,i,o){var r,a,n=this,s=this.services.modelService.findModel(e,i),c=this.services.errorService.control(),l=[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(t,o){c.hideDialog(),s&&s.realTimeMode?n.services.realTimeModel.deleteModel(e):n.services.modelService.deleteModel(e,i)}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){c.hideDialog()})];switch(o){case t.DeleteContentPackMessageType.Dataset:r=this.services.localizationService.get("Model_DeleteConfirmationTitle"),a=this.services.localizationService.get("Model_DeleteOrgAppContentPack");break;default:s&&s.realTimeMode?(r=this.services.localizationService.get("StreamingDatasetModel_DeleteConfirmationTitle"),a=this.services.localizationService.format("StreamingDatasetModel_DeleteConfirmationMessage",[s.displayName])):(r=this.services.localizationService.get("Model_DeleteConfirmationTitle"),a=this.services.localizationService.format("Model_DeleteConfirmationMessage",s?[s.displayName]:[]))}c.showCustomDialog(r,$("<div/>").text(a),l,(function(e){e.parent().find('input[value="'+n.services.localizationService.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)},p.prototype.customizeMenuActions=function(e,t){var i=this.services.featureSwitchService,a=this.services.localizationService,n=[],c=this.services.permissionService.getModelEffectivePermissions(e);if((c&s.CopyOnWrite)===s.CopyOnWrite&&(n.push(9),n.push(7),this.isOrgApp=!0),this.services.ownership.permissionsArePersonalized(c,t)&&(n.push(7),this.isOrgApp=!1),r.hasFlag(c,s.All)&&(this.isOrgApp=!1,n.push(10),n.push(4),n.push(7),e.onPremModelConnectionString||(e.directQueryMode?n.push(10):n.push(6)),n.push(5)),i){if(this.services.analyzeInExcel.isAnalyzeInExcelSupported(i,c)&&n.push(8),e.insightsSupported&&(r.hasFlag(c,s.Read)||this.services.ownership.permissionsArePersonalized(c,t))){var l=this.findInsightAction(e);n.push(l)}if(r.hasFlag(c,s.All)&&(6===e.contentProviderId||7===e.contentProviderId)&&!e.onPremModelConnectionString){var d=this.services.groupService.activeGroup;(d.isMyWorkspace||d.contract.isOwner||!d.contract.isReadOnly)&&n.push(3)}}n.push(13),this.isOrgApp||n.push(1),this.datasetMenuActions=o.customizeRowMenuActions(n,a)},p.prototype.findInsightAction=function(e){var t=this.services.insightsService.getInsightsStatus(e);switch(t){case 2:return 12;case 1:return 11;default:return 2}},p.prototype.analyzeInExcel=function(t){var i=this.services.modelService.findModel(t.id,t.packageId);i&&(this.services.telemetryService.logEvent(e.telemetry.DashboardAndReportsAnalyzeInExcel,"Dataset Navigation Pane List",i.contentProviderId,i.contract.modelFeatures,i.dbName),this.services.analyzeInExcel.startAnalyzeInExcel(i))},p.prototype.personalizeDataset=function(t){this.services.telemetryService.logEvent(e.telemetry.DashboardClickPersonalize,t.contentProviderId),this.scope.$emit(e.constants.personalizeEventName,t.packageId)},p.prototype.createFileMenuActions=function(){var e=this.services.localizationService;return o.rowMenuActions(e)},p.prototype.showStreamingDatasetPushInfoPane=function(t){this.services.telemetryService.logEvent(e.telemetry.RealTimeStreamingDatasetPushInfoPaneOpened),this.services.realTimeModel.setSelected(t),this.services.taskPaneSliderService.expandPane(d.StreamingDatasetPushInfo)},p})();t.ManageDatasetsController=p})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.helpers.ModelConverterHelper,o=(function(){function o(e,t){var i=this;this.scope=e,this.model=this.scope.viewModel,this.services=t,this.scope.isScheduledRefresh=function(e){return i.isScheduledRefresh(e)},this.initModalDialog(),this.modelRefreshHistories=[],this.packageRefreshHistories=[],this.errorService=this.services.errorService,this.datasetsService=this.services.datasetsService,this.modelHttpService=this.services.modelHttpService,this.telemetryService=this.services.telemetryService,this.promiseFactory=this.services.promiseFactory,this.getRefreshHistories(),this.scope.getSelectedHistories=function(e){return i.selectHistories(e)}}return o.createOptions=function(){return{additionalServices:["datasetsService","modelHttpService","telemetryService","errorService","localizationService","promiseFactory"]}},o.prototype.getRefreshHistories=function(){var t=this,i=this.promiseFactory.defer(),o=this.promiseFactory.defer(),r=this.telemetryService.startEvent(e.telemetry.DashboardGetRefreshHistory,e.telemetry.RefreshType.Models),a=this.telemetryService.startEvent(e.telemetry.DashboardGetRefreshHistory,e.telemetry.RefreshType.Packages);this.services.modelHttpService.getModelRefreshHistories(this.model.datasetModel.dataset.modelId.toString(),r.event).then((function(e){i.resolve(e),r.resolve()}),(function(e){i.resolve(e),r.reject()})),this.services.modelHttpService.getPackageRefreshHistories(this.model.datasetModel.dataset.contract.packageId.toString(),a.event).then((function(e){o.resolve(e),a.resolve()}),(function(e){o.resolve(e),a.reject()})),this.promiseFactory.all([i.promise,o.promise]).then((function(e){t.model.showSpinner=!1;var i=e[0],o=e[1];i.data||o.data||t.errorModalConfig(i,"HistoryDialog_ScheduledAndOneDriveRefreshHistoryError"),i.data&&!o.data&&(t.modelRefreshHistories=t.convertRefreshHistories(i.data),t.scope.refreshTypeSelected=0,t.errorModalConfig(o,"HistoryDialog_OneDriveRefreshHistoryError")),!i.data&&o.data&&(t.packageRefreshHistories=t.convertRefreshHistories(o.data),t.scope.refreshTypeSelected=1,t.errorModalConfig(i,"HistoryDialog_ScheduledRefreshHistoryError")),i.data&&o.data&&(t.modelRefreshHistories=t.convertRefreshHistories(i.data),t.packageRefreshHistories=t.convertRefreshHistories(o.data),i.data.length<=0&&o.data.length>0?t.scope.refreshTypeSelected=1:t.scope.refreshTypeSelected=0)}))},o.prototype.errorModalConfig=function(t,i){this.errorService.error(e.common.localize.get(i),i,{requestId:t.requestId,statusCode:t.status.toString(),displayLearnMoreHelpLink:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799819"})},o.prototype.selectHistories=function(e){return 0===e?this.modelRefreshHistories:1===e?this.packageRefreshHistories:void 0},o.prototype.initModalDialog=function(){var t=this;this.model.showModalDialog=!0,this.scope.dialogModel=new e.common.models.ModalDialogModel((!1),this.services.localizationService.get("TopNav_HelpMenu_AboutDialog_Close"),(!0),(!1),(!1),(!0)),this.scope.closeDialog=function(){return t.closeDialog()}},o.prototype.closeDialog=function(){var e=this;this.model.showModalDialog=!1,setTimeout((function(){e.model.showHistoryDialog=!1,e.scope.$apply()}),0)},o.prototype.isScheduledRefresh=function(t){return t.refreshType===e.common.contracts.RefreshType.Scheduled},o.prototype.convertRefreshHistories=function(o){var r=[];if(o)for(var a=o.length,n=0;n<a;n++){var s=o[n];r.push({id:s.id,refreshType:s.refreshType?s.refreshType:e.common.contracts.RefreshType.Scheduled,startTime:i.convertRefreshTimeToJsDateTime(s.startTime).toLocaleString(),endTime:s.endTime?i.convertRefreshTimeToJsDateTime(s.endTime).toLocaleString():"",isSuccessful:s.isSuccessful,friendlyErrorMessage:this.getFriendlyErrorMessage(s),details:t.SettingsDatasetController.convertErrorDetailsJson(s.serviceExceptionJson),status:this.getStatusMessage(s)})}return r},o.prototype.getFriendlyErrorMessage=function(e){return 4===e.status?this.services.localizationService.get("HistoryDialog_RefreshDisabledMessage"):t.SettingsDatasetController.getFriendlyErrorMessage(e.serviceExceptionJson)},o.prototype.getStatusMessage=function(e){var t=this.services.localizationService;if(o.isRefreshInProgress(e))return t.get("HistoryDialog_RefreshStatus_InProgress");if(o.isRefreshTimedOut(e))return t.get("HistoryDialog_RefreshStatus_TimedOut");switch(e.status){case 1:return t.get("HistoryDialog_RefreshStatus_Completed");case 4:return t.get("Disabled");case 2:return t.get("HistoryDialog_RefreshStatus_Failed");default:return""}},o.isRefreshInProgress=function(t){var o=i.convertRefreshTimeToJsDateTime(t.startTime);return!(t.endTime||!o)&&o.getTime()+e.constants.refreshHistoryDialogTimeoutValue>=Date.now()},o.isRefreshTimedOut=function(t){var o=i.convertRefreshTimeToJsDateTime(t.startTime);return!(t.endTime||!o)&&o.getTime()+e.constants.refreshHistoryDialogTimeoutValue<Date.now()},o})();t.HistoryDialogController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,e.canCloseAccount=this.canCloseAccount(),e.promptCloseAccount=function(){return i.promptCloseAccount()}}return t.createOptions=function(){return{additionalServices:["errorService","localizationService","telemetryService","userInfo","userMetadataHttpService"]}},t.prototype.canCloseAccount=function(){var t=this.services.userInfo;return!t.userHasPremiumPlan&&t.userMetadata.tenantMetadata.tenantType===e.common.contracts.TenantType.ViralTenant},t.prototype.promptCloseAccount=function(){var e=this,t=this.services.errorService.control(),i=this.services.localizationService;t.showPrompt(i.get("Settings_CloseAccount"),i.get("Settings_CloseAccount_AreYouSure"),[new InJs.ModalDialogAction(i.get("PBI_Button_Label_Close"),function(){e.closeAccount(),t.hideDialog()}),new InJs.ModalDialogAction(i.get("ModalDialogButtonText_Cancel"),function(){t.hideDialog()})])},t.prototype.closeAccount=function(){var t=this,i=this.services.telemetryService.startEvent(e.telemetry.DashboardCloseUserAccount,this.scope.reason,this.scope.userComment);this.services.userMetadataHttpService.closeUserAccount(i.event).then((function(){i.resolve(),e.LocalyticsService.afterDequeue((function(){location.href="/AccountClosed"}))}),(function(e){t.services.errorService.error(t.services.localizationService.get("GenericErrorDescription"),"GenericError",{requestId:e.requestId,statusCode:e.status.toString()}),i.reject()}))},t})();t.SettingsCloseAccountController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.models.ContentPackItems,o=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.services.localizationService.ensureLocalization((function(){return e.sectionTitle=i.services.localizationService.format("SettingsDashboard_Title",[e.viewModel.name])}));var o=e.viewModel;e.qnaEnabled=o.qnaEnabled,e.gravityEnabled=!!o.gravityEnabled,e.applyChanges=function(){return i.applyChanges()},e.discardChanges=function(){return i.discardChanges()},this.scope.onDataClassificationIdChanged=function(){return i.onDataClassificationIdChanged()},null==e.qnaEnabled&&(e.qnaEnabled=o.hasQnaSupportedModel),this.services.featureSwitchService.featureSwitches.dataClassificationEnabled&&this.services.dataClassificationService.getDataClassificationsAsync().then((function(t){i.scope.dataClassifications=t,i.scope.defaultDataClassification=_.find(t,(function(e){return e.default})),t.length>0&&(e.dataClassificationId=o.dataClassificationId||i.scope.defaultDataClassification.id);
}))}return t.createOptions=function(){return{additionalServices:["dashboardHttpService","errorService","localizationService","navigation","telemetryService","dashboardService","dataClassificationService","featureSwitchService"]}},t.prototype.applyChanges=function(){var t=this,o=this.scope,r=o.dashboardSettingsForm;if(r.$dirty){var a=o.viewModel,n=a.dashboardId,s=o.qnaEnabled,c=o.gravityEnabled,l=o.dataClassificationId,d=this.services.telemetryService.startEvent(e.telemetry.DashboardSaveDashboardSettings,!1,!1,!1,a.objectId),p=this.getUpdatedDashboardSetting();this.services.dashboardHttpService.updateDashboardSetting(n,p,d.event).then((function(){var o=t.services.dashboardService.dashboardContainerModel.findDashboard(n);if(o&&o.isUsedByContentPack&&t.services.rootScope.$emit(e.constants.contentPackDirtyShowNotification,o.id,i.Dashboard),t.scope.qnaEnabled!==a.qnaEnabled&&(a.qnaEnabled=s,t.services.dashboardService.setQnaEnabled(a.dashboardId,s),d.event.info.qnaEnabledUpdated=!0),t.scope.gravityEnabled!==a.gravityEnabled){a.gravityEnabled=c,d.event.info.gravityEnabledUpdated=!0;var r=t.services.dashboardService.dashboardContainerModel.findDashboard(a.dashboardId);r&&(r.contract.gravityEnabled=r.gravityEnabled=c)}if(t.scope.dataClassificationId!==a.dataClassificationId){a.dataClassificationId=l,d.event.info.dataClassificationUpdated=!0;var p=_.find(t.services.dashboardService.dashboards,(function(e){return e.id===a.dashboardId}));p.dataClassificationId=l}d.resolve(),t.services.navigation.navigateBack()}),(function(e){d.reject(),t.services.errorService.error(t.services.localizationService.get("SettingsDashboards_Error_FailedToSaveDashboards"),"SettingsDashboards_Error_FailedToSaveDashboards",{requestId:e.requestId,statusCode:e.status.toString()})}))}},t.prototype.discardChanges=function(){this.services.navigation.navigateBack()},t.prototype.getUpdatedDashboardSetting=function(){var e=this.scope.viewModel;return _.omit({qnaEnabled:this.scope.qnaEnabled!==e.qnaEnabled?this.scope.qnaEnabled:null,gravityEnabled:this.scope.gravityEnabled!==e.gravityEnabled?this.scope.gravityEnabled:null,dataClassificationId:this.scope.dataClassificationId!==e.dataClassificationId?this.scope.dataClassificationId:null},(function(e){return null===e}))},t.prototype.onDataClassificationIdChanged=function(){this.scope.isNonDefaultDataClassificationSelected=this.scope.dataClassificationId!==this.scope.defaultDataClassification.id},t})();t.SettingsDashboardController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){this.scope=t,this.services=i;var o=t.viewModel;t.onDashboardSelected=function(e){return i.navigation.showSettingsSlider("dashboards",e)},i.navigation.settingsId?o.currentDashboardId=i.navigation.settingsId:!o.currentDashboardId&&o.dashboards.length>0&&(o.currentDashboardId=_.sortBy(o.dashboards,(function(e){return e.name.toUpperCase()}))[0].objectId);var r=t.$on(e.common.constants.navigation.stateChangeSuccess,(function(){"dashboards"===i.navigation.settingsGroup&&(o.currentDashboardId=i.navigation.settingsId)}));t.$on("$destroy",(function(){r()}))}return t.createOptions=function(){return{additionalServices:["navigation"]}},t})();t.SettingsDashboardsController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i,o){var r=this;this.scope=t,this.services=i,this.settingsGroupsType=o;var a=this.scope.viewModel;this.scope.onDatasetSelected=function(e){return r.onDatasetSelected(e)},i.navigation.settingsId?a.currentDatasetId=this.getIdFromDbName(this.services.navigation.settingsId):!a.currentDatasetId&&this.scope.filteredModels.length>0&&(a.currentDatasetId=_.sortBy(this.scope.filteredModels,(function(e){return e.displayName.toUpperCase()}))[0].id);var n=this.scope.$on(e.common.constants.navigation.stateChangeSuccess,(function(){i.navigation.settingsGroup===r.settingsGroupsType&&(r.scope.viewModel.currentDatasetId=r.getIdFromDbName(r.services.navigation.settingsId))}));this.scope.$on("$destroy",(function(){n()}))}return t.createOptions=function(){return{additionalServices:["errorService","featureSwitchService","localizationService","modelService","navigation","telemetryService"]}},t.prototype.getIdFromDbName=function(e){var t=_.find(this.scope.viewModel.datasets,(function(t){return t.contract.dbName===e}));if(t)return t.modelId},t.prototype.onDatasetSelected=function(t){var i=this,o=_.find(this.scope.viewModel.datasets,(function(e){return e.modelId===i.scope.viewModel.currentDatasetId}));o&&(o.isDirty||o.isQnaDirty)?this.displayLeaveConfirmationModal(t):(this.setCurrentDataset(t),this.services.telemetryService.logEvent(e.telemetry.DashboardDataModelSelected,this.settingsGroupsType))},t.prototype.displayLeaveConfirmationModal=function(e){var t=this,i=this.services.errorService.control(),o=this.services.localizationService.get("SettingsDataset_DiscardChangesWarning_YesOption"),r=this.services.localizationService.get("SettingsDataset_DiscardChangesWarning_CancelOption"),a=[new InJs.ModalDialogAction(o,function(o,r){i.hideDialog(),t.setCurrentDataset(e)}),new InJs.ModalDialogAction(r,function(e,t){i.hideDialog()})],n=this.services.localizationService.get("SettingsDataset_DiscardChangesWarning_Title"),s=this.services.localizationService.get("datasets"===this.settingsGroupsType?"SettingsDataset_DiscardChangesWarning_DatasetMessage":"SettingsDataset_DiscardChangesWarning_WorkbookMessage");i.showCustomDialog(n,$("<div/>").text(s),a,(function(e){e.parent().find('input[value="'+r+'"]').focus()}),!0)},t.prototype.setCurrentDataset=function(e){this.services.navigation.showSettingsSlider(this.settingsGroupsType,e)},t})();t.SettingsDataModelsController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.contracts.admsGateway.DatabaseType,r=e.connectivity.models.DatasetParametersDialogModel,a=e.connectivity.helpers.ErrorConverterHelper,n=e.common.helpers.ModelConverterHelper,s=e.explore.util.ScriptVisualsUtil,c=e.common.contracts.StorageProviderType,l=e.common.contracts.ConnectionType,d=e.common.contracts.gateway.GatewayStatus,p=e.common.contracts.gateway.GatewayType;!(function(e){e[e.salesforce=9]="salesforce"})(i=t.ContentProviderIds||(t.ContentProviderIds={}));var u=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.model={},this.model.dataset=t.viewModel,this.scope.datasetPageReady=!1,this.scope.isPageActive=!0,this.scope.isFreemiumUser=!this.services.userInfo.isPremiumUser,this.scope.isHidden=!1,this.scope.editDatasource=function(e){return o.editDatasource(e)},this.scope.editStorageSource=function(){return o.editStorageSource()},this.scope.applyChanges=function(){return o.applyChanges()},this.scope.enableCortana=function(){return o.enableCortana()},this.scope.enableQna=function(){return o.enableQna()},this.scope.discardChanges=function(){return o.discardChanges()},this.scope.addRefreshTime=function(){return o.addRefreshTime()},this.scope.tryProAccount=function(){return o.tryProAccount()},this.scope.removeRefreshTime=function(e){return o.removeRefreshTime(e)},this.scope.canAddRefreshTime=function(){return o.canAddRefreshTime()},this.scope.shouldRefreshSettingsDisabled=function(){return o.shouldRefreshSettingsDisabled()},this.scope.shouldDatasourceCredentialsDisabled=function(){return o.shouldDatasourceCredentialsDisabled()},this.scope.shouldRefreshSettingsToggleDisabled=function(){return o.shouldRefreshSettingsToggleDisabled()},this.scope.updateStorageSourceRefresh=function(){return o.updateStorageSourceRefresh()},this.scope.shouldSettingsDatasetButtonDisable=function(){return o.shouldSettingsDatasetButtonDisable()},this.scope.shouldScheduleRefreshContainerDisabled=function(){return o.shouldScheduleRefreshContainerDisabled()},this.scope.shouldGatewaysContainerDisabled=function(){return o.shouldGatewaysContainerDisabled()},this.scope.shouldPackageRefreshSettingsToggleDisabled=function(){return o.shouldPackageRefreshSettingsToggleDisabled()},this.scope.shouldTakeoverContainerShow=function(){return o.shouldTakeoverContainerShow()},this.scope.refreshSettingsToggleMouseUp=function(){return o.refreshSettingsToggleChanged()},this.scope.getStorageSourceDisplayName=function(){return o.getStorageSourceDisplayName()},this.scope.showTakeoverDialog=function(){return o.showTakeoverDialog()},this.scope.isTakeoverStatusReady=!1,this.scope.testConnectionProgressing=function(e){return o.testConnectionProgressing(e)},this.scope.testConnectionFailed=function(e){return o.testConnectionFailed(e)},this.scope.testPackageConnectionProgressing=function(){return o.testPackageConnectionProgressing()},this.scope.testPackageConnectionFailed=function(){return o.testPackageConnectionFailed()},this.scope.updateOnPremGatewayOverride=function(e){return o.updateOnPremGatewayOverride(e)},this.scope.datasetParametersDialogParameters=new r,this.scope.authDialogParameters=new e.common.models.AuthDialogModel,this.scope.getTrustedHtml=function(e){return o.getTrustedHtml(e)},this.scope.showHistoryDialog=function(){return o.showHistoryDialog(o.model)},this.scope.historyDialogParameters=this.services.historyDialogService.historyDialogParameters,this.scope.applyGatewaySelection=function(){return o.applyGatewaySelection()},this.scope.discardGatewaySelection=function(){return o.discardGatewaySelection()},this.scope.enterpriseGatewayETLEnabled=this.services.featureSwitchService.featureSwitches.enterpriseGatewayETLEnabled,this.scope.storageRefreshSupported=void 0===this.scope.storageRefreshSupported||this.scope.storageRefreshSupported,this.scope.tryProAccountButtonText=this.services.userInfo.userFreeTrialExpired?this.services.localizationService.get("ExtendTrial_RequestExtensionButtonText"):this.services.localizationService.get("UpgradeAccount_TryfreeButton"),this.scope.updateAccountScheduleDataRefreshMessage=this.services.localizationService.format("UpgradeAccount_ScheduleDataRefreshMessage",[this.services.licenseHelperService.freeTrialPeriod]),this.scope.$on(e.common.constants.datasetShowAuthDialog,(function(e,t){return o.showAuthDialog(t)})),this.scope.$on(e.common.constants.datasetDatasourceUpdated,(function(e,t){return o.datasetDatasourceUpdated(t)})),this.services.modelService.addModelUpdateListener(this),this.scope.$on(e.common.constants.scopeDestroyEventName,(function(){o.services.modelService.removeModelUpdateListener(o),o.scope.isPageActive=!1})),this.scope.$on(e.common.constants.datasetShowParameterDialogAfterInvalidParameter,(function(e,t){return o.showParameterDialogWithInvalidParameterMessage(t)})),this.scope.$on(e.settings.constants.selectGatewayStatusReadyEventName,(function(e){return o.updateGatewayHeaderWarning()})),this.model.dataset.isDirty=!1,this.model.dataset.areDatasourcesDirty=!1,this.model.dataset.takenOver=this.services.groupService.activeGroup.isMyWorkspace,this.scope.firstTimeExperience=!1,this.scope.newGatewayIsAvailable=!1,this.scope.gatewayNoLongerSupported=!1,this.scope.refreshScheduleComplete=!1,this.scope.storageRefreshEnabledInitialValue=!1,this.scope.disableRefreshSection=!1,this.scope.disableDatasourcesSection=!1,this.scope.storageSourceFileNotFound=!1,this.scope.displayIcon=e.common.models.InlineMessageIcon.Info,this.scope.onPremGatewayDownloadLink=e.models.PowerBIOnPremGatewayModel.downloadLink,this.scope.hasRefreshSchedule=!0,this.scope.hasEditableDatasources=!0,this.scope.showHeaderMessage=!1,this.scope.viewModel.manageDataSourcesExpand=!1,this.scope.viewModel.gatewaysExpand=!1,this.scope.viewModel.gatewayExpand=!1,this.scope.viewModel.refreshSectionExpand=!this.model.dataset.takenOver,this.scope.viewModel.qnaSectionExpand=!1,this.scope.viewModel.manageStorageSourceExpand=!1,this.scope.viewModel.manageStorageRefreshExpand=!1;var a=this.model.dataset.contract,s=!n.onpremGatewayRequired(a)&&n.canScheduleRefresh(a);this.scope.selectGatewayModel=new e.settings.models.SelectGatewayModel(this.model.dataset.modelId,(!1),(!0),s),this.scope.$watch("viewModel.hasDatasourceWithWrongCredentials",(function(e,t){o.shrinkManageDataSourceInnerContainerFirstTimeExperience()&&(o.scope.viewModel.manageDataSourcesExpand=!1,o.scope.viewModel.refreshSectionExpand=!0)}),!0),this.initializeDataset(),this.initializeQna()}return t.createOptions=function(){return{additionalServices:["$sce","datasetsService","errorService","featureSwitchService","groupService","historyDialogService","licenseHelperService","localizationService","modelHttpService","modelService","navigation","refreshService","telemetryService","notificationToast","userInfo","promiseFactory","gatewaysMetadataService","gatewaysMetadataHttpService","conceptualSchemaProxy","dataProxy","modalDialogService","selectGatewayService"]}},t.areYouSureYouWantToLeaveThisDataset=function(e,i,o){var r=e.control(),a=i.get("SettingsDataset_DiscardChangesWarning_YesOption"),n=i.get("SettingsDataset_DiscardChangesWarning_CancelOption"),s=[new InJs.ModalDialogAction(a,function(e,i){r.hideDialog(),t.closeDataset(o)}),new InJs.ModalDialogAction(n,function(e,t){r.hideDialog()})],c=i.get("SettingsDataset_DiscardChangesWarning_Title"),l=i.get("SettingsDataset_DiscardChangesWarning_DatasetMessage");r.showCustomDialog(c,$("<div/>").text(l),s,(function(e){e.parent().find('input[value="'+n+'"]').focus()}),!0)},t.closeDataset=function(e){e.navigateBack()},t.prototype.onModelUpdated=function(e,t){var i=this.scope.viewModel&&this.scope.viewModel.contract;if(i&&i.packageId===t&&i.id===e){var o=this.services.modelService.findModel(i.id,i.packageId),r=o&&o.contract&&o.contract.nextRefreshTime;r&&r!==i.nextRefreshTime&&(i.nextRefreshTime=r,this.updateRefreshTime(i))}},t.prototype.initializeDataset=function(){var e=this.scope.viewModel.contract;e.refreshSchedule=this.services.modelService.getModelRefreshSchedule(this.model.dataset.modelId,this.model.dataset.packageId),this.contentProviderId=e.contentProviderId,this.scope.showDiscoverDatasourcesSpinner=!0,this.scope.showDiscoverStorageSourcesSpinner=!0,this.initializeStorageSource(e),this.initializeDataSources(e.directQueryMode),this.checkIfModelRefreshDisabledBySelectiveRefresh()},t.prototype.checkIfModelRefreshDisabledBySelectiveRefresh=function(){var t=this.services.featureSwitchService;if(t.featureSwitches.selectiveModelRefresh){var i=this.scope.viewModel&&this.scope.viewModel.contract;if(i){var o=this.services.modelService.findModel(i.id,i.packageId);o&&o.isRefreshDisabledDueToInactivity()&&(this.scope.showHeaderMessage=!0,this.scope.headerMessage=this.services.localizationService.get("SettingsDataSet_InactiveModelRefreshDisabled"),this.scope.headerLearnMoreLink=e.constants.configureScheduledRefreshLink)}}},t.prototype.initializeDataSources=function(e,t){e?this.retrieveModelForDirectQueryAndApplyToScope(t):this.retrieveModelForRefreshAndApplyToScope(t)},t.prototype.initializeStorageSource=function(e){this.scope.showStorageRefresh=this.isStorageRefreshAllowed(e),this.scope.showStorageConnection=this.isStorageCredentialAllowed(e),this.scope.showStorageRefresh||this.scope.showStorageConnection?(this.scope.showDiscoverStorageSourcesSpinner=!0,this.scope.storageRefreshEnabledInitialValue=e.isPackageRefreshEnabled,this.getStorageSourceForModel()):this.scope.showDiscoverStorageSourcesSpinner=!1},t.prototype.isSalesforceAllowed=function(e){return this.services.featureSwitchService.featureSwitches.salesforceAndOneDriveCredentialsEnabled&&"undefined"!=typeof e&&e.contentProviderId===i.salesforce},t.prototype.isStorageCredentialAllowed=function(e){return this.services.featureSwitchService.featureSwitches.salesforceAndOneDriveCredentialsEnabled&&"undefined"!=typeof e&&e.storageProviderType===c.OneDrive},t.prototype.isStorageRefreshAllowed=function(e){return this.services.featureSwitchService.featureSwitches.salesforceAndOneDriveCredentialsEnabled&&this.scope.storageRefreshSupported&&"undefined"!=typeof e&&(e.storageProviderType===c.OneDrive||e.storageProviderType===c.SharePoint)},t.prototype.retrieveModelForRefreshAndApplyToScope=function(e){var t=this;void 0===e&&(e=!1);var i=this.scope.viewModel.contract;this.updateLastTakeoverEmail(i,e),this.canModelShowDatasource(i)&&(this.scope.isOnPremGatewayRequired=n.onpremGatewayRequired(i),this.scope.isOnPremGatewayAllowed=n.onpremGatewayAllowed(i),this.scope.isFreemiumUser&&this.scope.isOnPremGatewayRequired&&i.refreshSchedule.executionTime?this.disableEntirePageParametered("UpgradeAccount_ScheduleOnPremDataRefreshMessage",!1,[this.services.licenseHelperService.freeTrialPeriod]):(this.initializeModelRefreshSettings(i),this.scope.disableDatasourcesSection=!1,this.services.datasetsService.migrateAdmsDatasources(this.model.dataset.modelId.toString(),null).then((function(e){if(e.data)for(var i=0,o=t.model.dataset.contract.refreshConnections;i<o.length;i++){var r=o[i];r.connectionType=l.DMTS}})).finally((function(){t.scope.isOnPremGatewayRequired?t.retrieveGateway():t.retrieveDatasourcesOnDataset()})))),this.scope.isHidden=i.isHidden,this.scope.datasetPageReady=!0},t.prototype.initializeModelRefreshSettings=function(e){var t=n.convertModelToDataset(e).refreshSettings;this.model.dataset.refreshSettings=t,t.refreshEnabled||"UTC"!==t.refreshTimeZoneId||!_.isEmpty(t.refreshTimesHourly)&&1!==t.refreshTimesHourly.length||this.setDefaultTimeZone(),this.model.dataset.parameters=e.parameters,this.scope.disableEntireRefreshPage=!1,this.scope.disableRefreshSection=!1,this.updateRefreshTime(e),this.watchForRefreshSettingsChanges()},t.prototype.watchForRefreshSettingsChanges=function(){var e=this;this.scope.$watch("viewModel.refreshSettings",(function(t,i){i!==t&&(e.model.dataset.isDirty=!0)}),!0)},t.prototype.canModelShowDatasource=function(e){if(!e)return this.disableEntirePage("SettingsDataset_DisableEntireRefreshPageErrorMessage_ModelNotSupported",!0),this.scope.isHidden=e.isHidden,this.scope.datasetPageReady=!0,!1;var t=this.isSalesforceAllowed(e),i=this.isStorageRefreshAllowed(e);return t?this.canModelShowDatasourceForSalesforce(e):i?this.canModelShowDatasourceForOneDrive(e):this.canModelShowDatasourceForDataMovement(e)},t.prototype.canModelShowDatasourceForSalesforce=function(e){return e.refreshSchedule.isRefreshable===!0||(this.disableEntirePage("SettingsDataset_DisableEntireRefreshPageErrorMessage_DataSourcesNotSupported",!0),!1)},t.prototype.canModelShowDatasourceForOneDrive=function(e){return e.onPremModelConnectionString?(this.disableRefreshSection("SettingsDataset_DisableEntireRefreshPageErrorMessage_OnPremAnalysisServicesScheduleInfo"),!1):e.isHidden||this.modelHasRefreshConnections(e)?!!this.modelSupportsRefresh(e)||(this.disableRefreshSection(),!1):(this.disableRefreshSection(),!1)},t.prototype.canModelShowDatasourceForDataMovement=function(e){return e.onPremModelConnectionString?(this.services.featureSwitchService.featureSwitches.directQueryScheduledRefresh?(this.initializeModelRefreshSettings(e),this.scope.disableDatasourcesSection=!0):this.disableRefreshSection("SettingsDataset_DisableEntireRefreshPageErrorMessage_OnPremAnalysisServicesScheduleInfo"),this.showDataSourcesStatus(),!1):e.isHidden||this.modelHasRefreshConnections(e)?!!this.modelSupportsRefresh(e)||(this.disableRefreshSection("SettingsDataset_DisableEntireRefreshPageErrorMessage_DataSourcesNotSupported",!0),!1):(this.disableRefreshSection("SettingsDataset_DisableEntireRefreshPageErrorMessage_DataSourcesHasNoConnection"),!1)},t.prototype.modelHasRefreshConnections=function(e){return e.refreshConnections&&e.refreshConnections.length>0},t.prototype.modelSupportsRefresh=function(t){var i=!!this.services.featureSwitchService.featureSwitches.directQueryScheduledRefresh;return!(!i||!e.common.models.SettingsDatasetModel.isDirectQueryOrOnPremModel(t))||t.refreshSchedule.isRefreshable&&t.isAllDataSourcesSupportedForRefresh},t.prototype.retrieveModelForDirectQueryAndApplyToScope=function(e){var t=this;void 0===e&&(e=!1),this.scope.isFreemiumUser&&this.disableEntirePage("SettingsDataset_DisableEntireRefreshPageErrorMessage_NeedProAccount");var i=this.scope.viewModel.contract,o=!!this.services.featureSwitchService.featureSwitches.directQueryScheduledRefresh;this.scope.hasRefreshSchedule=o,this.scope.isOnPremGatewayRequired=!1,this.scope.hasEditableDatasources=!1,this.scope.isHidden=i.isHidden,this.contentProviderId=i.contentProviderId,o&&this.watchForRefreshSettingsChanges(),this.model.dataset.parameters=i.parameters,this.updateLastTakeoverEmail(i,e).then((function(){t.model.dataset.takenOver?t.getDatasourcesForDirectQuery():(t.model.dataset.contract.refreshConnections&&t.model.dataset.contract.refreshConnections.length>0?(t.scope.hasEditableDatasources=!1,t.scope.isCloudDirectQuery=!0):t.disableEntirePage("SettingsDataset_DisableEntireRefreshPageErrorMessage_DatasetSettingsNotSupported"),t.scope.datasetPageReady=!0)}))},t.prototype.updateLastTakeoverEmail=function(t,i){var o=this,r=this.services.telemetryService,a=r.startEvent(e.telemetry.DashboardInitializeSettingsDatasetModel),n=this.services.promiseFactory.defer();return i?this.services.modelHttpService.getModel(this.scope.viewModel.modelId,null,a.event).then((function(e){o.model.dataset.contract.creatorUser=e.data.creatorUser,o.updateLastTakeoverEmailInternal(t),n.resolve(null)}),(function(e){o.services.datasetsService.displayOopsErrorAndEndTelemetry(r,o.services.errorService,"SettingsDataset_Error_FailedToLoadModelForRefresh",e,a),n.resolve(null)})):(this.updateLastTakeoverEmailInternal(t),n.resolve(null)),n.promise},t.prototype.updateLastTakeoverEmailInternal=function(t){t.creatorUser?(this.model.dataset.lastTakeoverEmailAddress=this.getEmailAddressForReceivingMail(t.creatorUser),this.model.dataset.takenOver=jsCommon.StringExtensions.equalIgnoreCase(t.creatorUser.emailAddress,e.session.UserInfoUtils.getUPN()),this.scope.isTakeoverStatusReady=!0):(this.model.dataset.lastTakeoverEmailAddress=void 0,this.model.dataset.takenOver=!0,this.scope.viewModel.refreshSectionExpand=!1)},t.prototype.getEmailAddressForReceivingMail=function(e){return _.isEmpty(e.emailAddress)?e.AlternateEmailAddress:e.emailAddress},t.prototype.retrieveGateway=function(){var t=this,i=this.services.datasetsService,o=this.services.telemetryService,r=this.services.errorService,a=o.startEvent(e.telemetry.DashboardRetrieveGateway,this.contentProviderId);this.services.gatewaysMetadataService.getPersonalGateway().then((function(i){t.scope.personalGateway=i,t.scope.personalGatewayAnnotation=e.settings.models.GatewayModelConverter.getGatewayAnnotation(t.scope.personalGateway),t.scope.authDialogParameters.personalGateway=t.scope.personalGateway,t.scope.personalGateway.gatewayStatus===d.NotInstalled?(t.scope.viewModel.gatewayExpand=!1,t.scope.viewModel.manageDataSourcesExpand=!1):t.scope.personalGateway.gatewayStatus===d.NotReachable&&(t.scope.viewModel.gatewayExpand=!0,t.scope.viewModel.manageDataSourcesExpand=!1),t.retrieveDatasourcesOnDataset()}),(function(e){i.displayOopsErrorAndEndTelemetry(o,r,"SettingsDataset_Error_FailedToRetrieveGateway",e,a)}))},t.prototype.getDatasourcesForDirectQuery=function(){var t=this,i=this.services.telemetryService,o=i.startEvent(e.telemetry.DashboardInitializeSettingsDatasetModel),r=this.services.errorService,a=this.services.datasetsService;this.services.gatewaysMetadataService.getModelDataSources(this.model.dataset.modelId).then((function(i){t.scope.showDiscoverDatasourcesSpinner=!1;var o=i;t.scope.isCloudDirectQuery=!0;for(var r=0;r<o.monikers.length;r++){var a=o.monikers[r],s=_.map(a.monikerDataSources,(function(e){return e.dataSourceId}));if(!_.every(s)){t.scope.isCloudDirectQuery=!1;break}var c=_.filter(o.datasources,(function(e){return s.indexOf(e.dataSourceId)>-1}));if(0===c.length||_.some(c,(function(e){return e.onPremGatewayRequired}))){t.scope.isCloudDirectQuery=!1;break}var l=_.map(c,(function(e){return e.gatewayId})),d=_.filter(o.gateways,(function(e){return l.indexOf(e.gatewayId)>-1}));if(_.any(d,(function(e){return e.gatewayName}))){t.scope.isCloudDirectQuery=!1;break}}t.scope.isCloudDirectQuery?(t.scope.hasEditableDatasources=!0,t.scope.viewModel.datasources=_.map(o.datasources,(function(e){return n.convertCloudDirectQueryDatasourceToDatasetDatasource(t.model.dataset.modelId,e)})),_.some(t.scope.viewModel.datasources,(function(t){return t.testConnectionState===e.common.models.TestConnectionState.Failed}))&&(t.scope.viewModel.manageDataSourcesExpand=!0)):(t.services.featureSwitchService.featureSwitches.directQueryScheduledRefresh||t.disableRefreshSection("SettingsDataset_DisableEntireRefreshPageErrorMessage_DatasetSettingsNotSupported"),t.showDataSourcesStatus()),t.scope.datasetPageReady=!0}),(function(n){if(n.error&&n.error.code){var s=e.helpers.PowerBIServiceExceptionErrorHelper.serverErrorPrefix+n.error.code;"ServerError_ModelHasNoPowerBIDMMoniker"===s?t.disableEntirePage(s,!1):a.displayOopsErrorAndEndTelemetry(i,r,"SettingsDataset_Error_FailedToLoadDatasources",n,o)}else a.displayOopsErrorAndEndTelemetry(i,r,"SettingsDataset_Error_FailedToLoadDatasources",n,o);t.scope.datasetPageReady=!0}))},t.prototype.retrieveDatasourcesOnDatasetForSalesforce=function(){var t=this,i=this.services.telemetryService,o=this.services.errorService,r=this.services.datasetsService;this.shrinkManageDataSourceInnerContainerFirstTimeExperience()&&(this.scope.viewModel.manageDataSourcesExpand=!1,this.scope.viewModel.refreshSectionExpand=!0);var n=this.getSalesforceDatasource(this.model.dataset),s=[n];this.model.dataset.datasources=s,n.testConnectionState=e.common.models.TestConnectionState.Progressing;var c=i.startEvent(e.telemetry.DashboardTestDataSourceConnection);r.testPackageCredentials(n.packageId,c.event).then((function(i){c.resolve(),t.scope.showDiscoverDatasourcesSpinner=!1,i.data?(n.oAuth2URL=i.data.oAuth2Endpoint,n.oAuth2Nonce=i.data.oAuth2Nonce,i.data.testConnectionResponse&&i.data.testConnectionResponse.testPassed?n.testConnectionState=e.common.models.TestConnectionState.Passed:(n.testConnectionState=e.common.models.TestConnectionState.Failed,n.testConnectionErrorMessage=a.convertTestPackageConnectionDetailsToErrorMessage(i.data.testConnectionResponse),t.scope.lastRefreshFailureMessage=t.services.localizationService.get("SettingsDataset_ManageDataSources_Warning_YouNeedToProvideCredentials"),t.scope.viewModel.manageDataSourcesExpand=!0)):(n.testConnectionState=e.common.models.TestConnectionState.Failed,t.scope.viewModel.manageDataSourcesExpand=!0)}),(function(e){r.displayOopsErrorAndEndTelemetry(i,o,"SettingsDataset_Error_FailedToTestConnection",e,c)}))},t.prototype.getStorageSourceForModel=function(){var t=this,i=this.services.telemetryService,o=this.services.errorService,r=this.services.datasetsService;if(this.model.dataset.contract.storageProviderType===c.OneDrive){var n=i.startEvent(e.telemetry.DashboardInitializeSettingsDatasetModel);this.model.dataset.storageSource={modelId:this.model.dataset.modelId,onpremGatewayRequired:!1,packageId:this.scope.viewModel.contract.packageId,name:this.model.dataset.name,credentialTypes:[e.common.contracts.gateway.CredentialType.OAuth2],testConnectionState:e.common.models.TestConnectionState.Progressing},r.testPackageCredentials(this.model.dataset.storageSource.packageId,n.event).then((function(i){n.resolve(),t.scope.storageSourceTraceDetails={activityId:i.activityId,requestId:i.requestId,errorCode:i.status.toString(),time:(new Date).toString(),version:e.build},t.scope.showDiscoverStorageSourcesSpinner=!1,t.model.dataset.storageSource.oAuth2URL=i.data.oAuth2Endpoint,t.model.dataset.storageSource.oAuth2Nonce=i.data.oAuth2Nonce,i.data&&i.data.testConnectionResponse&&i.data.testConnectionResponse.testPassed?t.model.dataset.storageSource.testConnectionState=e.common.models.TestConnectionState.Passed:(t.model.dataset.storageSource.testConnectionState=e.common.models.TestConnectionState.Failed,t.isFileNotFoundCode(i.data.testConnectionResponse)?t.disableStorageSourceUpdates():(t.model.dataset.storageSource.testConnectionErrorMessage=a.convertTestPackageConnectionDetailsToErrorMessage(i.data.testConnectionResponse),t.scope.viewModel.manageStorageSourceExpand=!0))}),(function(e){r.displayOopsErrorAndEndTelemetry(i,o,"SettingsDataset_Error_FailedToTestConnection",e,n)}))}else this.model.dataset.contract.storageProviderType===c.SharePoint&&(this.model.dataset.storageSource={modelId:this.model.dataset.modelId,onpremGatewayRequired:!1,packageId:this.scope.viewModel.contract.packageId,name:this.model.dataset.name,credentialTypes:[e.common.contracts.gateway.CredentialType.OAuth2],testConnectionState:e.common.models.TestConnectionState.Progressing},this.model.dataset.storageSource.testConnectionState=e.common.models.TestConnectionState.Passed,this.scope.showDiscoverStorageSourcesSpinner=!1)},t.prototype.hasDmtsPersonalGateway=function(){return this.scope.personalGateway&&this.scope.personalGateway.gatewayId>0},t.prototype.retrieveDatasourcesOnDataset=function(){this.scope.viewModel.contract.contentProviderId===i.salesforce?this.retrieveDatasourcesOnDatasetForSalesforce():this.retrieveDatasourcesOnDatasetForDataMovement()},t.prototype.retrieveDatasourcesOnDatasetForDataMovement=function(){var t=this,i=this.services.telemetryService,o=i.startEvent(e.telemetry.DashboardInitializeSettingsDatasetModel),r=this.services.errorService,s=this.services.datasetsService,c=this.services.gatewaysMetadataService;this.services.featureSwitchService.featureSwitches.isSovereignCloud||this.hasDmtsPersonalGateway()||n.shouldUseDMTS(this.model.dataset.contract.refreshConnections,null)?c.getModelDataSources(this.model.dataset.modelId).then((function(a){if(o.resolve(),t.scope.showDiscoverDatasourcesSpinner=!1,a){for(var s=t.services.selectGatewayService.getSelectedGateway(a),l=[],d=n.convertDMTSDiscoverDatasourcesResponseToDatasources(t.model.dataset.modelId,n.getEffectiveDatasourcesFromDiscoverDatasourceResponse(a,s?s.gatewayId:null)),u=function(e){var t=_.find(a.gateways,(function(t){return t.gatewayId===e.gatewayId})).gatewayType;t===p.Personal&&l.push(e)},v=0,h=d;v<h.length;v++){var g=h[v];u(g)}if(t.shrinkManageDataSourceInnerContainerFirstTimeExperience()&&(t.scope.viewModel.manageDataSourcesExpand=!1,t.scope.viewModel.refreshSectionExpand=!0),t.model.dataset.datasources=l,!_.isEmpty(l)){n.getDatasourceNames(l);for(var f=0,m=l;f<m.length;f++){var g=m[f];!(function(i){i.testConnectionState=e.common.models.TestConnectionState.Progressing,c.getDataSourceStatus(i.gatewayId,i.datasourceId).then((function(){i.testConnectionState=e.common.models.TestConnectionState.Passed}),(function(o){i.testConnectionState=e.common.models.TestConnectionState.Failed,t.scope.viewModel.manageDataSourcesExpand=!0,e.helpers.PowerBIServiceExceptionErrorHelper.GenerateErrorMessage(o.error).done((function(r){var a=[];if(r&&r.displayableErrorInfo)for(var n=0,s=r.displayableErrorInfo;n<s.length;n++){var c=s[n];a.push({key:c.errorInfoKey,value:c.errorInfoValue})}i.testConnectionErrorMessage=t.services.localizationService.get(e.helpers.PowerBIServiceExceptionErrorHelper.serverErrorPrefix+o.error.code),i.testConnectionErrorMessage+=JSON.stringify(a)}))}))})(g)}}}else c.displayOopsErrorAndEndTelemetry(i,r,"SettingsDataset_Error_FailedToLoadDatasources",o)}),(function(e){t.scope.showDiscoverDatasourcesSpinner=!1,c.displayOopsErrorAndEndTelemetry(i,r,"SettingsDataset_Error_FailedToLoadDatasources",o,e)})):c.getAdmsAggregatedDatasourcesForOneModel(this.model.dataset.modelId.toString(),!1).then((function(s){if(o.resolve(),t.scope.showDiscoverDatasourcesSpinner=!1,s){t.model.dataset.datasources=n.convertDiscoverAggregatedDatasourcesResponseToDatasources(t.model.dataset.modelId,s),t.shrinkManageDataSourceInnerContainerFirstTimeExperience()&&(t.scope.viewModel.manageDataSourcesExpand=!1,t.scope.viewModel.refreshSectionExpand=!0);var l=t.model.dataset.datasources;if(l){n.getDatasourceNames(l);for(var d=l.length,p=0;p<d;p++){var u=l[p];!(function(n){n.testConnectionState=e.common.models.TestConnectionState.Progressing;var s=i.startEvent(e.telemetry.DashboardTestDataSourceConnection);c.testAdmsDataSourceConnection(n.admsDatasourceId,n.modelId).then((function(i){
s.resolve(),i&&i.instanceTestConnectionResults&&i.instanceTestConnectionResults.testPassed?n.testConnectionState=e.common.models.TestConnectionState.Passed:(n.testConnectionState=e.common.models.TestConnectionState.Failed,n.testConnectionErrorMessage=a.convertDMTestConnectionResultToErrorMessage(i),t.scope.viewModel.manageDataSourcesExpand=!0)}),(function(e){c.displayOopsErrorAndEndTelemetry(i,r,"SettingsDataset_Error_FailedToTestConnection",o)}))})(u)}}}else c.displayOopsErrorAndEndTelemetry(i,r,"SettingsDataset_Error_FailedToLoadDatasources",o)}),(function(e){t.scope.showDiscoverDatasourcesSpinner=!1,s.displayOopsErrorAndEndTelemetry(i,r,"SettingsDataset_Error_FailedToLoadDatasources",e,o)}))},t.prototype.updateRefreshTime=function(i){this.scope.lastRefreshFailed=!1,this.scope.nextRefreshTime=e.common.localize.get("SettingsDataset_ScheduleRefresh_NextRefresh")+n.convertRefreshTimeToJsDateTime(i.nextRefreshTime).toString();var o=this.scope.viewModel.contract.refreshHistories;if(o&&0!==o.length){var r=o[0];if(4===r.status)return void(this.scope.nextRefreshTime="");if(r.isSuccessful||1===r.status){var a=n.convertRefreshTimeToJsDateTime(o[0].endTime);this.scope.lastRefreshStatus=e.common.localize.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshSucceeded",[""+a])}else if(r.endTime){this.scope.lastRefreshHistoryDetails=t.convertErrorDetailsJson(o[0].serviceExceptionJson),this.scope.lastRefreshFailureMessage=t.getFriendlyErrorMessage(o[0].serviceExceptionJson);var a=n.convertRefreshTimeToJsDateTime(o[0].endTime);this.scope.lastRefreshStatus=e.common.localize.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshFailed",[""+a]),this.scope.lastRefreshFailed=!0}else{var s=n.convertRefreshTimeToJsDateTime(o[0].startTime);s.getTime()+18e5>Date.now()?this.scope.lastRefreshStatus=e.common.localize.get("NavigationPane_RefreshInProgress"):this.scope.lastRefreshStatus=e.common.localize.format("SettingsDataset_ScheduleRefresh_FlyoutMessage_LastRefreshSucceeded",[""+a])}}},t.prototype.disableRefreshSection=function(e,t){void 0===t&&(t=!1);for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];e&&(this.scope.headerMessage=i&&i.length>0?this.services.localizationService.format(e,i):this.scope.headerMessage=this.services.localizationService.get(e)),this.scope.headerMessage&&(this.scope.showHeaderMessage=!0),this.scope.disableRefreshSection=!0,this.scope.disableDatasourcesSection=!0},t.prototype.disableEntirePageParametered=function(e,t){void 0===t&&(t=!1);for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.scope.disableEntireRefreshPage=!0,this.scope.showHeaderMessage=!0,i&&i.length>0?this.scope.headerMessage=this.services.localizationService.format(e,i):this.scope.headerMessage=this.services.localizationService.get(e),this.scope.disabledEntireRefreshPageShowLearnMoreLink=t},t.prototype.disableEntirePage=function(e,t){void 0===t&&(t=!1),this.scope.disableEntireRefreshPage=!0,this.scope.showHeaderMessage=!0,this.scope.headerMessage=this.services.localizationService.get(e),this.scope.disabledEntireRefreshPageShowLearnMoreLink=t},t.prototype.disableStorageSourceUpdates=function(){this.scope.storageSourceFileNotFound=!0,this.scope.displayIcon=e.common.models.InlineMessageIcon.Error,this.scope.showHeaderMessage=!0,this.scope.headerMessage=this.services.localizationService.get("SettingsDataset_OneDrive_FileNotFound"),this.scope.viewModel.manageStorageSourceExpand=!1,this.scope.viewModel.manageStorageRefreshExpand=!1},t.prototype.initializeQna=function(){var e=this,t=this.scope,i=t.viewModel.contract,o=this.services.featureSwitchService.featureSwitches;t.viewModel.isQnaDirty=!1;var r=!i.isHidden&&i.qnaSupported,a=o.cortanaEnabled!==!1&&(!i.directQueryMode||2===i.pushDataVersion||o.qnaSupportDQEnabled)&&(!i.onPremModelConnectionString||o.qnaSupportOnPremEnabled),n=i.directQueryMode&&2!==i.pushDataVersion&&o.qnaSupportDQEnabled||i.onPremModelConnectionString&&o.qnaSupportOnPremEnabled;r&&(a||n)?t.qna={showCortanaSetting:a,showOnPremiseSetting:n,cortanaEnabled:i.cortanaEnabled,powerBIQnaEnabled:i.powerBIQnaEnabled,apply:function(){return e.applyQnaSettings()},discard:function(){return e.discardChanges()}}:t.qna=null},t.prototype.applyQnaSettings=function(){var t=this.scope,i=t.qna,o=t.viewModel.contract,r=this.services;if(i.powerBIQnaEnabled!==o.powerBIQnaEnabled||i.cortanaEnabled!==o.cortanaEnabled){var a={};i.powerBIQnaEnabled!==o.powerBIQnaEnabled&&(a.powerBIQnaEnabled=i.powerBIQnaEnabled),i.cortanaEnabled!==o.cortanaEnabled&&(a.cortanaEnabled=i.cortanaEnabled),r.modelService.updateModelQnaFeatures(this.model.dataset.modelId,a).then((function(){o.powerBIQnaEnabled=i.powerBIQnaEnabled,o.cortanaEnabled=i.cortanaEnabled,t.viewModel.isQnaDirty=!1}),(function(){r.errorService.error(e.common.localize.get("SettingsGeneral_Error_FailedToSave"),"SettingsGeneral_Error_FailedToSave")}))}else t.viewModel.isQnaDirty=!1},t.prototype.editStorageSource=function(){if(this.model.dataset&&this.model.dataset.storageSource){var e=this.scope.authDialogParameters;e.isImportScenario=!1,e.providerId=this.contentProviderId,e.datasource=this.model.dataset.storageSource,e.dialogTitle=this.services.localizationService.format("AuthDialog_Configure",[this.model.dataset.name]),e.updatePackage=!0,e.showAuthDialog=!0,e.showModalDialog=!0}},t.prototype.editDatasource=function(e){if(this.model.dataset.takenOver){var t=this.scope.viewModel.datasources.indexOf(e);if(this.model.dataset.areDatasourcesDirty=!0,this.scope.authDialogParameters.datasource=e,this.model.dataset.contract.contentProviderId===i.salesforce&&(this.scope.authDialogParameters.updatePackage=!0),void 0===this.model.dataset.parameters||void 0!==this.model.dataset.parameters&&0===this.model.dataset.parameters.length)this.showAuthDialog({dsIndex:t});else{var o=this.scope.datasetParametersDialogParameters;o.isImportScenario=!1,o.providerIdentification?o.providerIdentification.providerId=this.contentProviderId:o.providerIdentification={providerId:this.contentProviderId},o.datasetModel={},o.datasetModel.dataset=this.model.dataset,o.dialogTitle=this.services.localizationService.format("DatasetParametersDialog_Configure",[this.model.dataset.name]),o.dsIndex=t,o.showDatasetParametersDialog=!0}}},t.prototype.showAuthDialog=function(e){var t=this.scope.authDialogParameters;t.isImportScenario=!1,t.showError=!1,t.selectedAuthenticationIndex=0,t.providerId=this.contentProviderId,t.datasource=this.model.dataset.datasources[e.dsIndex],t.dialogTitle=this.services.localizationService.format("AuthDialog_Configure",[this.model.dataset.name]),t.showAuthDialog=!0,t.showModalDialog=!0,t.validateParameters=!!e.validateParameters&&e.validateParameters},t.prototype.updateOnPremGatewayOverride=function(t){var i=this;this.services.telemetryService.logEvent(e.telemetry.DashboardForceScheduleRefreshUseITGW,t),this.services.datasetsService.updateModelOnPremisesGatewayOverride(this.model.dataset.modelId.toString(),t).then((function(e){i.retrieveModelForRefreshAndApplyToScope()}),(function(e){i.retrieveModelForRefreshAndApplyToScope()}))},t.prototype.showHistoryDialog=function(e){this.services.historyDialogService.showHistoryDialog(e)},t.prototype.datasetDatasourceUpdated=function(t){var i=this;this.scope.isCloudDirectQuery&&this.clearDataCaches(),this.services.localizationService.ensureLocalization((function(){i.services.notificationToast.notify({title:i.services.localizationService.format("SettingsDataset_Notification_DatasourceUpdated_Title",[t]),message:i.services.localizationService.format("SettingsDataset_Notification_DatasourceUpdated_Message",[t]),notificationType:e.common.NotificationToastType.Success})}))},t.prototype.clearDataCaches=function(){var e={dbName:this.model.dataset.contract.dbName,modelId:this.model.dataset.modelId,vsName:this.model.dataset.contract.vsName,schemaName:void 0};this.services.conceptualSchemaProxy.clearCache(),this.services.dataProxy.clearCache("dsr",[e])},t.prototype.showParameterDialogWithInvalidParameterMessage=function(e){var t=this;this.scope.$applyAsync((function(){t.scope.datasetParametersDialogParameters.showDatasetParametersDialog=!0,t.scope.datasetParametersDialogParameters.showSpinner=!1,t.scope.datasetParametersDialogParameters.showValidationError=!0,t.scope.datasetParametersDialogParameters.invalidParameterNameValuePairs=e,t.scope.authDialogParameters.showAuthDialog=!1,t.scope.authDialogParameters.showModalDialog=!1}))},t.prototype.applyChanges=function(){var t=this,i=this.validateApplyChanges();i!==!1&&(this.model.dataset.isDirty?(this.updateRefreshScheduleData(),this.scope.refreshScheduleComplete=!0):this.services.localizationService.ensureLocalization((function(){t.services.notificationToast.notify({title:t.services.localizationService.format("SettingsDataset_Notification_RefreshScheduleUpdated_Title",[t.model.dataset.name]),message:t.services.localizationService.format("SettingsDataset_Notification_RefreshScheduleUpdated_Message",[t.model.dataset.name]),notificationType:e.common.NotificationToastType.Success})})),this.model.dataset.areDatasourcesDirty=!1)},t.prototype.tryProAccount=function(){this.services.userInfo.userFreeTrialExpired?this.services.licenseHelperService.displayDialogToExtendTrial(e.telemetry.LicenseEnforcementOperation.Dataset):this.services.licenseHelperService.displayDialogToAcceptTrialTerms(e.telemetry.LicenseEnforcementOperation.Dataset)},t.prototype.validateApplyChanges=function(){var t=this,i=!0,o=this.model.dataset.refreshSettings.refreshFrequency,r=1440===o,a=10080===o;if(!r&&!a)return i;var s=r?e.common.constants.allWeekDays:n.convertDatasetWeekdaysToModelWeekdays(this.model.dataset.refreshSettings.refreshDays);r===!1&&0===s&&(i=!1,this.services.localizationService.ensureLocalization((function(){t.services.notificationToast.notify({title:t.services.localizationService.format("SettingsDataset_Notification_RefreshScheduleCannotBeUpdated_Title",[t.model.dataset.name]),message:t.services.localizationService.get("SettingsDataset_Notification_RefreshScheduleCannotBeUpdated_Message"),notificationType:e.common.NotificationToastType.Success})})));var c=this.model.dataset.refreshSettings.refreshTimesHourly;if(i&&!this.scope.isFreemiumUser&&c&&c.length>0){for(var l=c.length,d=0;d<l;d++){var p=c[d];if(void 0===p.refreshAmPmIndex||void 0===p.refreshHourIndex||void 0===p.refreshMinuteIndex)i=!1,p.isIncomplete=!0;else{p.isIncomplete=!1;for(var u=0;u<d;u++){var v=c[u];if(p.refreshAmPmIndex===v.refreshAmPmIndex&&p.refreshHourIndex===v.refreshHourIndex&&p.refreshMinuteIndex===v.refreshMinuteIndex){i=!1,p.isDuplicate=!0;break}p.isDuplicate=!1}}}i||this.services.localizationService.ensureLocalization((function(){t.services.notificationToast.notify({title:t.services.localizationService.format("SettingsDataset_Notification_RefreshScheduleCannotBeUpdated_Title",[t.model.dataset.name]),message:t.services.localizationService.get("SettingsDataset_Notification_RefreshScheduleCannotBeUpdatedTimeFormat_Message"),notificationType:e.common.NotificationToastType.Success})}))}return i},t.prototype.updateRefreshScheduleData=function(){var t=this,i=n.convertSettingModelToRefreshScheduleContract(this.model.dataset.refreshSettings,this.scope.isFreemiumUser),o=this.services.telemetryService,r=o.startEvent(e.telemetry.DashboardSettingsDatasetsSaveRefreshSettings,i.refreshEnabled,i.isDaily,i.weekDays,i.refreshNotificationEnabled,this.contentProviderId),a=this.services.errorService,s=this.services.datasetsService,c=this.services.refreshService;c.updateRefreshSchedule(this.model.dataset.modelId.toString(),i,r.event).then((function(i){r.resolve(),t.model.dataset.isDirty=!1,t.services.localizationService.ensureLocalization((function(){t.services.notificationToast.notify({title:t.services.localizationService.format("SettingsDataset_Notification_RefreshScheduleUpdated_Title",[t.model.dataset.name]),message:t.services.localizationService.format("SettingsDataset_Notification_RefreshScheduleUpdated_Message",[t.model.dataset.name]),notificationType:e.common.NotificationToastType.Success})}))}),(function(e){s.displayOopsErrorAndEndTelemetry(o,a,"SettingsDataset_Error_FailedToSaveRefreshSettings",e,r)}))},t.prototype.discardChanges=function(){this.model.dataset.isDirty||this.scope.viewModel.isQnaDirty?t.areYouSureYouWantToLeaveThisDataset(this.services.errorService,this.services.localizationService,this.services.navigation):t.closeDataset(this.services.navigation)},t.prototype.addRefreshTime=function(){this.shouldRefreshSettingsDisabled()||(void 0===this.model.dataset.refreshSettings.refreshTimesHourly&&(this.model.dataset.refreshSettings.refreshTimesHourly=[]),this.model.dataset.refreshSettings.refreshTimesHourly.push({}))},t.prototype.removeRefreshTime=function(e){if(!this.shouldRefreshSettingsDisabled()){var t=this.model.dataset.refreshSettings.refreshTimesHourly;if(!t||t.length<e)return;t.splice(e,1)}},t.prototype.canAddRefreshTime=function(){var t=this.model.dataset.refreshSettings.refreshTimesHourly;return!t||t.length<e.common.constants.maxRefreshTimeNumber},t.prototype.shouldRefreshSettingsToggleDisabled=function(){return!this.model.dataset.takenOver||this.model.dataset.hasDatasourceWithWrongCredentials&&!this.scope.selectGatewayModel.useEnterpriseGateway||this.scope.isOnPremGatewayRequired&&!this.scope.selectGatewayModel.useEnterpriseGateway&&this.scope.personalGateway&&!this.scope.personalGateway.gatewayAnnotation},t.prototype.shouldRefreshSettingsDisabled=function(){return this.shouldRefreshSettingsToggleDisabled()||!this.model.dataset.refreshSettings.refreshEnabled},t.prototype.shouldDatasourceCredentialsDisabled=function(){return!this.scope.viewModel.takenOver||this.scope.isOnPremGatewayAllowed&&(this.scope.isOnPremGatewayRequired&&this.scope.personalGateway&&this.scope.personalGateway.gatewayStatus===d.NotReachable||this.services.featureSwitchService.featureSwitches.enterpriseGatewayETLEnabled&&(this.scope.selectGatewayModel.useEnterpriseGateway||void 0===this.scope.selectGatewayModel.useEnterpriseGateway))},t.prototype.shouldSettingsDatasetButtonDisable=function(){return!this.model.dataset.isDirty&&!this.model.dataset.areDatasourcesDirty||this.shouldRefreshSettingsToggleDisabled()},t.prototype.updateStorageSourceRefresh=function(){if(this.scope.storageRefreshEnabledInitialValue!==this.scope.viewModel.contract.isPackageRefreshEnabled){if(this.shouldPackageRefreshSettingsToggleDisabled())return;this.scope.packageRefreshScheduleUpdateInProgress=!0;var t=this.scope.viewModel.contract.packageId,i=this.services.telemetryService.startEvent(e.telemetry.DashboardInitializeSettingsDatasetModel);this.scope.viewModel.contract.cloudRlsEnabled&&this.scope.viewModel.contract.isPackageRefreshEnabled&&!this.services.featureSwitchService.featureSwitches.cloudRlsRoleMembershipEnabled?this.confirmEnableStorageRefreshAndOverwriteRls(t,i):this.updatePackageRefreshEnabled(t,i),this.scope.packageRefreshScheduleUpdateInProgress=!1}},t.prototype.confirmEnableStorageRefreshAndOverwriteRls=function(t,i){var o=this,r=this.services.rootScope.$new(),a=this.services.localizationService.get("ModalDialogButtonText_Continue"),n=this.services.localizationService.get("ModalDialogButtonText_Cancel"),s=this.services.telemetryService,c=this.scope.viewModel.contract.id,l=[new InJs.ModalDialogAction(a,function(a,n){s.logEvent(e.telemetry.RowLevelSecurityDisableRLS,e.telemetry.DisableRLSSource.OneDriveRefreshEnabled,!0,c),o.services.modelHttpService.disableRlsModel(c,i.event).then((function(e){o.scope.viewModel.contract.cloudRlsEnabled=!1,o.services.modelService.updateContractModel(o.scope.viewModel.contract),o.updatePackageRefreshEnabled(t,i)}),(function(e){o.services.datasetsService.displayOopsErrorAndEndTelemetry(s,o.services.errorService,"SettingsDataset_Error_FailedToUpdatePackageRefreshSchedule",e,i)})),r.closeDialog()}),new InJs.ModalDialogAction(n,function(t,i){s.logEvent(e.telemetry.RowLevelSecurityDisableRLS,e.telemetry.DisableRLSSource.OneDriveRefreshEnabled,!1,c),o.scope.$applyAsync((function(){o.scope.viewModel.manageStorageRefreshExpand=!0,o.scope.viewModel.contract.isPackageRefreshEnabled=o.scope.storageRefreshEnabledInitialValue})),r.closeDialog()})],d=this.services.localizationService.get("SettingsDataset_RefreshStorageSource_OverwritingRlsWarning_Title"),p=this.services.localizationService.get("SettingsDataset_RefreshStorageSource_OverwritingRlsWarning_Message"),u={dialogName:d,isDismissable:!1,scope:r,template:"<custom-modal-dialog></custom-modal-dialog>",dialogCssClass:"customModalDialog",dialogActions:l,notificationType:jsCommon.ModalDialogNotificationType.SecurityWarning,htmlMessageText:p};this.services.modalDialogService.showLegacyWebModalDialog(u)},t.prototype.updatePackageRefreshEnabled=function(e,t){var i=this;this.services.datasetsService.updatePackageRefreshEnabled(e,this.scope.viewModel.contract.isPackageRefreshEnabled,t.event).then((function(e){t.resolve(),e?i.scope.storageRefreshEnabledInitialValue=i.scope.viewModel.contract.isPackageRefreshEnabled:(i.scope.viewModel.manageStorageRefreshExpand=!0,i.scope.viewModel.contract.isPackageRefreshEnabled=i.scope.storageRefreshEnabledInitialValue)}),(function(e){i.services.datasetsService.displayOopsErrorAndEndTelemetry(i.services.telemetryService,i.services.errorService,"SettingsDataset_Error_FailedToUpdatePackageRefreshSchedule",e,t)}))},t.prototype.shrinkManageDataSourceInnerContainerFirstTimeExperience=function(){return this.scope.firstTimeExperience&&this.scope.personalGateway.gatewayStatus===d.Live&&!this.model.dataset.hasDatasourceWithWrongCredentials},t.prototype.shouldScheduleRefreshContainerDisabled=function(){return!this.model.dataset.takenOver||this.scope.firstTimeExperience&&this.scope.isOnPremGatewayRequired&&this.scope.personalGateway.gatewayStatus!==d.Live&&!this.scope.selectGatewayModel.useEnterpriseGateway||this.scope.isOnPremGatewayRequired&&this.services.featureSwitchService.featureSwitches.enterpriseGatewayETLEnabled&&void 0===this.scope.selectGatewayModel.useEnterpriseGateway},t.prototype.shouldGatewaysContainerDisabled=function(){return!this.model.dataset.takenOver||this.scope.isOnPremGatewayRequired&&this.scope.selectGatewayModel.pgw&&this.scope.selectGatewayModel.pgw.gatewayStatus===e.common.contracts.gateway.GatewayStatus.NotInstalled&&void 0===this.scope.selectGatewayModel.enterpriseGateways},t.prototype.shouldPackageRefreshSettingsToggleDisabled=function(){return!this.dataSetHasStorageSource()||this.model.dataset.storageSource.testConnectionState!==e.common.models.TestConnectionState.Passed||this.scope.packageRefreshScheduleUpdateInProgress===!0},t.prototype.dataSetHasStorageSource=function(){return"undefined"!=typeof this.model&&"undefined"!=typeof this.model.dataset&&"undefined"!=typeof this.model.dataset.storageSource},t.prototype.refreshSettingsToggleChanged=function(){if(this.model&&this.model.dataset&&this.model.dataset.refreshSettings){var e=this.model.dataset;if(!e.refreshSettings.refreshEnabled){var t=e.hasRDataSource;return null===t||void 0===t?void this.popUserConsentDialogIfRequired(this.model):t?void this.confirmRefreshForRDataSource():void 0}}},t.prototype.confirmRefreshForRDataSource=function(){var e=this;this.shouldRefreshSettingsToggleDisabled()||s.confirmRefreshForRDataSource(this.services.errorService,this.services.localizationService,this.services.modalDialogService,this.services.rootScope.$new(),(function(){}),(function(){e.scope.viewModel.refreshSettings.refreshEnabled=!1,e.scope.$applyAsync()}))},t.prototype.popUserConsentDialogIfRequired=function(t){var i=this;if(this.model&&this.model.dataset&&this.model.dataset.modelId){var r=this.services.telemetryService,a=r.startEvent(e.telemetry.DashboardGetAggregatedDatasourcesForOneModel,t.contentProviderId),n=this.services.errorService,s=this.services.datasetsService,c=this.model.dataset.modelId.toString();this.services.gatewaysMetadataService.getAdmsAggregatedDatasourcesForOneModel(c,!1).then((function(t){a.resolve(),i.scope.showDiscoverDatasourcesSpinner=!1;var s=t;if(!s)return void i.services.gatewaysMetadataService.displayOopsErrorAndEndTelemetry(r,n,"SettingsDataset_Error_FailedToLoadDatasources",a);var c=_.some(s,(function(t){var i=t.discoverDataSourceEntry;return!!i.databaseType&&(i.databaseType.toString()===o.Extension.toString()&&i.extensionDatabaseType===e.common.constants.RDataSourceName)}));c&&i.confirmRefreshForRDataSource()}),(function(e){i.scope.showDiscoverDatasourcesSpinner=!1,s.displayOopsErrorAndEndTelemetry(r,n,"SettingsDataset_Error_FailedToLoadDatasources",e,a)}))}},t.prototype.shouldTakeoverContainerShow=function(){return!this.services.groupService.activeGroup.isMyWorkspace&&void 0!==this.model.dataset.lastTakeoverEmailAddress},t.prototype.getTrustedHtml=function(e){return this.services.$sce.trustAsHtml(e)},t.prototype.showTakeoverDialog=function(){var e=this,t=this.services.errorService,i=t.control(),o=[new InJs.ModalDialogAction(this.services.localizationService.get("TakeOver_Confirmation_TakeOverButton_Text"),function(o,r){e.onTakeoverConfirm(t),i.hideDialog()}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){i.hideDialog()})],r=this.services.localizationService.get("TakeOver_Confirmation_Title"),a=$("<div/>").append($("<p/>").text(this.services.localizationService.get("TakeOver_Confirmation_Message_Paragraph1"))).append($("<p/>").text(this.services.localizationService.get("TakeOver_Confirmation_Message_Paragraph2")));i.showCustomDialog(r,a,o,(function(t){t.parent().find('input[value="'+e.services.localizationService.get("ModalDialogButtonText_Cancel")+'"]').focus()}),!0)},t.prototype.onTakeoverConfirm=function(t){var i=this;this.scope.datasetPageReady=!1;var o=this.services.telemetryService,r=this.services.datasetsService;if(this.isModelETL(this.model.dataset.contract)){var a=o.startEvent(e.telemetry.SettingsDeleteAllDatasources);r.deleteAdmsAllDatasources(this.model.dataset.modelId.toString(),a.event).then((function(e){i.retrieveModelForRefreshAndApplyToScope(!0),a.resolve()}),(function(e){r.displayOopsErrorAndEndTelemetry(o,t,"SettingsDataset_Error_FailedToDeleteAllDatasources",e,a)}))}else{var n=o.startEvent(e.telemetry.SettingsTakeoverDatasources);r.takeoverDatasource(this.model.dataset.modelId,n.event).then((function(e){i.initializeDataSources(i.scope.isCloudDirectQuery,!0),n.resolve()}),(function(e){r.displayOopsErrorAndEndTelemetry(o,t,"SettingsDataset_Error_FailedToDeleteAllDatasources",e,n)}))}},t.prototype.isModelETL=function(e){return!e.directQueryMode&&!e.onPremModelConnectionString},t.prototype.getStorageSourceDisplayName=function(){return this.dataSetHasStorageSource()&&this.model.dataset.contract.storageProviderType===c.OneDrive?e.common.localize.get("GetData_OneDrivePersonal_Title"):this.dataSetHasStorageSource()&&this.model.dataset.contract.storageProviderType===c.SharePoint?e.common.localize.get("GetData_OneDriveBusiness_Title"):""},t.prototype.testConnectionProgressing=function(t){return t.testConnectionState===e.common.models.TestConnectionState.Progressing},t.prototype.testConnectionFailed=function(t){return t.testConnectionState===e.common.models.TestConnectionState.Failed},t.prototype.testPackageConnectionProgressing=function(){return!!this.dataSetHasStorageSource()&&this.model.dataset.storageSource.testConnectionState===e.common.models.TestConnectionState.Progressing},t.prototype.testPackageConnectionFailed=function(){return!!this.dataSetHasStorageSource()&&this.model.dataset.storageSource.testConnectionState===e.common.models.TestConnectionState.Failed},t.convertErrorDetailsJson=function(t){if(!t)return null;var i=JSON.parse(t),o=[];return e.helpers.PowerBIServiceExceptionErrorHelper.GenerateErrorMessage(i.error).done((function(e){e.displayableErrorInfo.forEach((function(e){o.push({Name:e.errorInfoKey,Value:e.errorInfoValue})}))})),o},t.getFriendlyErrorMessage=function(t){if(!t)return null;var i,o=JSON.parse(t);return i=e.helpers.PowerBIServiceExceptionErrorHelper.FormatWithNamedParameters(o.error.code,null)},t.prototype.setDefaultTimeZone=function(){var e=jsCommon.Utility.getLocalTimeZoneString(),t=this.model.dataset.refreshTimeZonesViewModel.filter((function(t){return t.key===e}));t.length>0?this.model.dataset.refreshSettings.refreshTimeZoneId=t[0].key:this.model.dataset.refreshSettings.refreshTimeZoneId="UTC"},t.prototype.isFileNotFoundCode=function(e){var t=["SharePointProviderUnableToGetFilesAndFolders","SharePointProviderUnableToGetFileProperties","SharePoint_ItemNotExist","SharePoint_FileNotFound","OneDriveProviderUnableToGetFileProperties"],i=t.indexOf(e.faultCode);return!(i<0)},t.prototype.getSalesforceDatasource=function(t){var i={packageId:t.contract.packageId,modelId:t.modelId,name:t.name,onpremGatewayRequired:!1,alreadyExecutedTestConnection:!1,credentialTypes:[e.common.contracts.gateway.CredentialType.OAuth2]};return i.displayName=n.getDatasourceDisplayName(i),i.fullName=n.getDatasourceDisplayName(i),i},t.prototype.applyGatewaySelection=function(){var t=this;this.services.gatewaysMetadataService.bindModelToGateway(this.model.dataset.modelId,this.scope.selectGatewayModel.selectedGatewayId).then((function(){t.scope.$broadcast(e.settings.constants.gatewaySelectionAppliedEventName),t.scope.selectGatewayModel.useEnterpriseGateway||t.retrieveDatasourcesOnDataset(),t.services.localizationService.ensureLocalization((function(){t.services.notificationToast.notify({title:t.services.localizationService.format("SettingsDataset_Notification_GatewayConnectionUpdated_Title",[t.model.dataset.name]),message:t.services.localizationService.format("SettingsDataset_Notification_GatewayConnectionUpdated_Message",[t.model.dataset.name]),notificationType:e.common.NotificationToastType.Success})}))}),(function(i){var o={requestId:i.requestId,statusCode:i.status.toString()};t.services.errorService.error(e.common.localize.get("SettingsGateways_Error_FailedToBind"),"SettingsGateways_Error_FailedToBind",o)}))},t.prototype.discardGatewaySelection=function(){this.scope.$broadcast(e.settings.constants.gatewaySelectionDiscardedEventName)},t.prototype.enableCortana=function(){this.scope.viewModel.isQnaDirty=!0,this.scope.qna.cortanaEnabled&&(this.scope.qna.powerBIQnaEnabled=!0)},t.prototype.enableQna=function(){this.scope.viewModel.isQnaDirty=!0,this.scope.qna.powerBIQnaEnabled||(this.scope.qna.cortanaEnabled=!1)},t.prototype.updateGatewayHeaderWarning=function(){if(this.services.featureSwitchService.featureSwitches.enterpriseGatewayETLEnabled){var t=this.services.localizationService,i=this.getPGWStatus(),o=e.common.contracts.gateway.GatewayStatus;if(this.isBoundToGateway()){if(this.isBoundToEnterpriseGateway())switch(this.getEGWStatus()){case e.connectivity.models.GatewayStatus.NotReachable:var r=this.getSelectedEnterpriseGateway();return void(0===this.getAvaialableEnterpriseGatewayCount()?this.scope.selectGatewayModel.isCloudScheduleRefresh?this.setGatewayWarning(t.format("EGWOffline_Cloud_Message",[this.getGatewayName(r),this.getGatewayAdminName(r)])):i===o.NotInstalled?this.setGatewayWarning(t.format("PGWNotInstalled_EGWOffline_Message_1",[this.getGatewayName(r)]),t.get("PGWNotInstalled_EGWOffline_Message_2"),t.format("PGWNotInstalled_EGWOffline_Message_3",[this.getGatewayAdminName(r)])):i===o.Live?this.setGatewayWarning(t.format("EGWOffline_OnPrem_Message",[this.getGatewayName(r),this.getGatewayAdminName(r)])):i===o.NotReachable&&this.setGatewayWarning(t.format("EGWOffline_PGWOfflineMessage",[this.getGatewayName(r),this.getGatewayAdminName(r)])):this.scope.selectGatewayModel.isCloudScheduleRefresh?this.setGatewayWarning(t.format("EGWOffline_OtherGatewayAvailable_Cloud_Message",[this.getGatewayName(r),this.getGatewayAdminName(r)])):i===o.NotInstalled?this.setGatewayWarning(t.format("EGWOffline_OtherGatewayAvailable_PGWNotInstalled_Message_1",[this.getGatewayName(r)]),t.get("EGWOffline_OtherGatewayAvailable_PGWNotInstalled_Message_2"),t.format("EGWOffline_OtherGatewayAvailable_PGWNotInstalled_Message_3",[this.getGatewayAdminName(r)])):i===o.Live?this.setGatewayWarning(t.format("EGWOffline_OtherGatewayAvailable_OnPrem_Message",[this.getGatewayName(r),this.getGatewayAdminName(r)])):i===o.NotReachable&&this.setGatewayWarning(t.format("EGWOffline_PGWOfflineMessage_OtherGatewayAvailable",[this.getGatewayName(r),this.getGatewayAdminName(r)])))}else if(!this.scope.selectGatewayModel.isCloudScheduleRefresh)switch(i){case o.NotReachable:return 0===this.getAvaialableEnterpriseGatewayCount()?void this.setGatewayWarning(t.get("PGWOffline_Message")):void this.setGatewayWarning(t.get("PGWOffline_EGWAvailable_Message"))}}else if(this.scope.selectGatewayModel.egwAccessLost)return void(this.scope.selectGatewayModel.isCloudScheduleRefresh?this.setGatewayWarning(t.get("EGWAccessLost_Cloud_Message")):this.setGatewayWarning(t.get("EGWAccessLost_OnPrem_Message")));this.clearGatewayWarning()}},t.prototype.setGatewayWarning=function(t,i,o){void 0===i&&(i=null),void 0===o&&(o=null),this.scope.viewModel.gatewaysExpand=!0,this.scope.headerMessage=t,this.scope.headerLink=i,this.scope.headerGatewayWarning=o,this.scope.showInstallPGWLink=null!=i,this.scope.showHeaderMessage=!0,this.scope.isGatewayWarning=!0,this.scope.displayIcon=e.common.models.InlineMessageIcon.Warning},t.prototype.clearGatewayWarning=function(){this.scope.isGatewayWarning&&(this.scope.headerMessage="",this.scope.headerLink=null,this.scope.headerGatewayWarning=null,this.scope.showHeaderMessage=!1,this.scope.isGatewayWarning=!1,this.scope.showInstallPGWLink=!1,this.scope.displayIcon=e.common.models.InlineMessageIcon.Info)},t.prototype.getGatewayName=function(e){return e?e.displayName:""},t.prototype.getGatewayAdminName=function(e){return e&&e.gatewayAnnotation.gatewayContactInformation&&0!==e.gatewayAnnotation.gatewayContactInformation.length?e.gatewayAnnotation.gatewayContactInformation[0]:""},t.prototype.isBoundToGateway=function(){return this.scope.selectGatewayModel.selectedGatewayId!==-1},t.prototype.isBoundToEnterpriseGateway=function(){return this.scope.selectGatewayModel.useEnterpriseGateway},t.prototype.getPGWStatus=function(){return this.scope.selectGatewayModel.pgw.gatewayStatus},t.prototype.getEGWStatus=function(){var t=this.getSelectedEnterpriseGateway();return t?t.status:e.connectivity.models.GatewayStatus.Unknown},t.prototype.getAvaialableEnterpriseGatewayCount=function(){for(var t=0,i=0,o=this.scope.selectGatewayModel.enterpriseGateways;i<o.length;i++){var r=o[i];r.status===e.connectivity.models.GatewayStatus.Live&&t++}return t},t.prototype.getSelectedEnterpriseGateway=function(){var e=this;return _.find(this.scope.selectGatewayModel.enterpriseGateways,(function(t){return t.id===e.scope.selectGatewayModel.selectedGatewayId}))},t.prototype.showGatewayStatus=function(e){return this.services.gatewaysMetadataService.getGatewayStatus(e.gatewayId)},t.prototype.showDataSourcesStatus=function(){var e=this;this.services.gatewaysMetadataService.getModelDataSources(this.scope.viewModel.modelId).then((function(t){var i=e.services.selectGatewayService.getSelectedGateway(t);if(i){var o=n.getEffectiveDatasourcesFromDiscoverDatasourceResponse(t,i.gatewayId),r=o.length,a=0,s=0;if(0===r)return void(e.scope.gatewayStatusMessage=e.services.localizationService.format("SettingsDataset_NoDataSourceStatusMessage",[i.gatewayName]));for(var c=0,l=o;c<l.length;c++){var d=l[c];e.services.gatewaysMetadataService.getDataSourceStatus(i.gatewayId,d.dataSourceId).then((function(){a++,r===a?e.scope.gatewayStatusMessage=e.services.localizationService.format("SettingsDataset_GatewayStatusMessage",[i.gatewayName,e.services.localizationService.get("Gateways_Status_Online_Datasource_Online")]):r===a+s&&(e.scope.gatewayStatusMessage=e.services.localizationService.format("SettingsDataset_GatewayStatusMessage",[i.gatewayName,e.services.localizationService.get("Gateways_Status_Online_Datasource_Offline")]))}),(function(t){s++,r===s?e.showGatewayStatus(i).then((function(t){e.scope.gatewayStatusMessage=e.services.localizationService.format("SettingsDataset_GatewayStatusMessage",[i.gatewayName,e.services.localizationService.get("Gateways_Status_Online_Datasource_All_Offline")]);
}),(function(t){t.error.code.match("DM_GWPipeline_Client_GatewayUnreachable")?e.scope.gatewayStatusMessage=e.services.localizationService.format("SettingsDataset_GatewayStatusMessage",[i.gatewayName,e.services.localizationService.get("Gateways_Status_Offline")]):e.scope.gatewayStatusMessage=e.services.localizationService.format("SettingsDataset_GatewayDataSourceStatusMessage",[i.gatewayName,e.services.localizationService.get("Gateways_Status_Offline")])})):r===a+s&&(e.scope.gatewayStatusMessage=e.services.localizationService.format("SettingsDataset_GatewayStatusMessage",[i.gatewayName,e.services.localizationService.get("Gateways_Status_Online_Datasource_Offline")]))}))}}}))},t})();t.SettingsDatasetController=u})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.helpers.ModelConverterHelper,o=10,r=300,a=(function(){function a(e,t){var a=this;this.scope=e,this.services=t,e.modelSupportsQna=i.getIsQnaSupported(e.viewModel.contract,this.services.featureSwitchService.featureSwitches),e.sectionExpanded=!1,e.maxQuestions=o,e.maxUtteranceLength=r,this.generateQuestionsFromViewModel(),e.deleteQuestion=function(e){return a.deleteQuestion(e)},e.addQuestion=function(){return a.addQuestion()},e.onChange=function(e){return a.onChange(e)},e.applyChanges=function(){return a.applyChanges()},e.discardChanges=function(){return a.discardChanges()},e.isDirty=!1,t.localizationService.ensureLocalization((function(){e.inputAriaLabel=t.localizationService.get("SettingsDataset_FeaturedQuestions_FeaturedQuestionInputLabel")}))}return a.createOptions=function(){return{additionalServices:["errorService","featureSwitchService","localizationService","modelService","navigation"]}},a.prototype.deleteQuestion=function(e){var t=this.scope;t.isDirty=!0,t.questions.splice(e,1),this.checkForValid()},a.prototype.addQuestion=function(){var e=this.scope;e.isDirty=!0;var t={utterance:"",validationMessage:null,isValid:!1};e.questions.push(t),this.onChange(t),e.focusOnLastInput&&this.services.timeout((function(){return e.focusOnLastInput()}),0)},a.prototype.onChange=function(e){if(this.scope.isDirty=!0,!e||_.isEmpty(e.utterance)){var t=this.services.localizationService;t.ensureLocalization((function(){e.validationMessage=t.get("SettingsDataset_FeaturedQuestions_EmptyError")})),e.isValid=!1}else e.validationMessage=null,e.isValid=!0;this.checkForValid()},a.prototype.applyChanges=function(){var t=this,i=this.scope,o=_.map(i.questions,(function(e,t){return{utterance:e.utterance,order:t}}));this.services.modelService.updateFeaturedQuestions(i.viewModel.modelId,o).then((function(){i.isDirty=!1;var e=i.viewModel;e.contract.featuredQuestions=o,t.services.modelService.updateContractModel(t.scope.viewModel.contract)}),(function(){t.services.errorService.error(e.common.localize.get("SettingsGeneral_Error_FailedToSave"),"SettingsGeneral_Error_FailedToSave")}))},a.prototype.discardChanges=function(){this.generateQuestionsFromViewModel(),this.scope.isDirty?t.SettingsDatasetController.areYouSureYouWantToLeaveThisDataset(this.services.errorService,this.services.localizationService,this.services.navigation):t.SettingsDatasetController.closeDataset(this.services.navigation),this.scope.isDirty=!1},a.prototype.checkForValid=function(){var e=this.scope;e.isValid=_.all(e.questions,(function(e){return e.isValid}))},a.prototype.generateQuestionsFromViewModel=function(){var e=this.scope;e.questions=_(e.viewModel.contract.featuredQuestions).sortBy((function(e){return e.order})).map((function(e){return{utterance:e.utterance||"",validationMessage:null,isValid:!0}})).value();for(var t=0,i=e.questions;t<i.length;t++){var o=i[t];this.onChange(o)}},a})();t.SettingsDatasetFeaturedQuestionsController=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.Permissions,o=(function(e){function o(t,o){var r;return t.filteredModels=_.filter(o.modelService.getModelContracts(),(function(e){return(e.permissions&i.Write)===i.Write&&!e.isHidden})),r=e.call(this,t,o,"datasets")||this,t.$watch((function(){return o.modelService.lastUpdatedTimestamp}),(function(){r.updateView()})),r}return __extends(o,e),o.createOptions=function(){return t.SettingsDataModelsController.createOptions()},o.prototype.updateView=function(){this.scope.filteredModels=_.filter(this.services.modelService.getModelContracts(),(function(e){return(e.permissions&i.Write)===i.Write&&!e.isHidden}));for(var e=0;e<this.scope.filteredModels.length;e++)if(this.scope.filteredModels[e].id===this.scope.viewModel.currentDatasetId)return;this.scope.viewModel.currentDatasetId=null},o})(t.SettingsDataModelsController);t.SettingsDatasetsController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,e.isDirty=!1,e.esriSettings={esriVisualEnabled:e.viewModel.esriVisualEnabled},e.applyChanges=function(){return i.applyChanges()},e.discardChanges=function(){return i.discardChanges()},e.onSettingChange=function(){return e.isDirty=!0},e.esriVisualDisallowed=!this.services.featureSwitchService.featureSwitches.esriVisualEnabled}return t.createOptions=function(){return{additionalServices:["navigation","telemetryService","userSettingsService","featureSwitchService","trustedVisual","visualConsent"]}},t.prototype.applyChanges=function(){var t=this;this.scope.viewModel.esriVisualEnabled===this.scope.esriSettings.esriVisualEnabled?this.services.navigation.navigateBack():this.services.visualConsent.setConsent(e.visualHost.EsriVisual,this.scope.esriSettings.esriVisualEnabled).then((function(e){t.scope.viewModel.esriVisualEnabled=e,t.services.navigation.navigateBack()}))},t.prototype.discardChanges=function(){this.services.navigation.navigateBack()},t})();t.SettingsEsriController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,t.subGroups=[],e.common.localize.ensureLocalization((function(){o.services.featureSwitchService.featureSwitches.previewConceptualModel&&o.addSubGroup(new e.models.GeneralSubGroup(e.models.SettingsGeneralSubgroupType.Preview,e.common.localize.get("Settings_PreviewFeatures"))),o.addSubGroup(new e.models.GeneralSubGroup(e.models.SettingsGeneralSubgroupType.Privacy,e.common.localize.get("SettingsGeneral_Privacy_Title"))),o.addSubGroup(new e.models.GeneralSubGroup(e.models.SettingsGeneralSubgroupType.Language,e.common.localize.get("SettingsGeneral_Language_Title"))),o.services.featureSwitchService.featureSwitches.closeAccountEnabled&&o.addSubGroup(new e.models.GeneralSubGroup(e.models.SettingsGeneralSubgroupType.CloseAccount,e.common.localize.get("Settings_CloseAccount"))),o.addSubGroup(new e.models.GeneralSubGroup(e.models.SettingsGeneralSubgroupType.Plugins,e.common.localize.get("SettingsGeneral_Plugins_Title"))),o.services.featureSwitchService.featureSwitches.esriEnabled&&o.addSubGroup(new e.models.GeneralSubGroup(e.models.SettingsGeneralSubgroupType.Esri,e.common.localize.get("SettingsGeneral_Esri")))})),t.onSubgroupSelected=function(e){return o.onSubgroupSelected(e)};var r=this.services.navigation.settingsId;if(r){r=r.charAt(0).toUpperCase()+r.slice(1);var a=e.models.SettingsGeneralSubgroupType[r];t.viewModel.selectedSubgroupType=a?a:e.models.SettingsGeneralSubgroupType.Privacy}else t.viewModel.selectedSubgroupType||(t.viewModel.selectedSubgroupType=e.models.SettingsGeneralSubgroupType.Privacy)}return t.createOptions=function(){return{additionalServices:["featureSwitchService","navigation"]}},t.prototype.onSubgroupSelected=function(t){var i=e.models.SettingsGeneralSubgroupType[t];this.services.navigation.showSettingsSlider("general",i.charAt(0).toLowerCase()+i.slice(1)),this.scope.viewModel.selectedSubgroupType=t},t.prototype.getSelectedSubgroupType=function(){return this.scope.viewModel.selectedSubgroupType},t.prototype.addSubGroup=function(e){this.scope.subGroups.push(e)},t})();t.SettingsGeneralController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.scope.supportedLanguages=e.common.models.SettingsViewModelFactory.createSupportedLanguagesModel(),this.scope.supportedLanguages.unshift({name:i.localizationService.get("SettingsLanguage_Default"),code:e.constants.defaultBrowserLanguageCode,lcid:null}),this.scope.isLoading=!1,this.scope.applyChanges=function(){return o.applyChanges()},this.scope.discardChanges=function(){return o.discardChanges()};for(var r=this.scope.viewModel.preferredLanguage||e.constants.defaultBrowserLanguageCode,a=0,n=this.scope.supportedLanguages;a<n.length;a++){var s=n[a];if(s.code===r){this.scope.currentLanguage=this.originalLanguage=s;break}}}return t.createOptions=function(){return{additionalServices:["$window","localizationService","telemetryService","userSettingsService"]}},t.prototype.applyChanges=function(){var t=this;if(this.scope.languageSettingsForm.$dirty){var i=this.scope.currentLanguage.code===e.constants.defaultBrowserLanguageCode?"":this.scope.currentLanguage.code,o=this.services.telemetryService.startEvent(e.telemetry.LocaleSaveLocaleSetting,this.scope.currentLanguage.code);this.scope.isLoading=!0,this.services.userSettingsService.updateLanguageSetting(i,o).then((function(){t.originalLanguage=t.scope.currentLanguage,t.scope.isLoading=!1,t.services.$window.location.reload(!0)}))}},t.prototype.discardChanges=function(){this.scope.currentLanguage=this.originalLanguage},t})();t.SettingsLanguageController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(i,o){var r=this;this.scope=i,this.services=o,i.viewModel=i.viewModel||{developerMode:e.localStorageService.getData(t.DeveloperModeEnabledKey)},i.pluginsSettings={developerMode:i.viewModel.developerMode},i.applyChanges=function(){return r.applyChanges()}}return t.createOptions=function(){return{additionalServices:["telemetryService","userSettingsService"]}},t.prototype.applyChanges=function(){e.localStorageService.setData(t.DeveloperModeEnabledKey,this.scope.pluginsSettings.developerMode),this.services.telemetryService.logEvent(e.telemetry.DeveloperVisualEnabledChanged,this.scope.pluginsSettings.developerMode)},t})();i.DeveloperModeEnabledKey="DEVELOPER_MODE_ENABLED",t.SettingsPluginsController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,e.isDirty=!1,e.privacySettings={allowQnaDataCollection:e.viewModel.allowQnaDataCollection},e.applyChanges=function(){return i.applyChanges()},e.discardChanges=function(){return i.discardChanges()},e.onSettingChange=function(){return e.isDirty=!0}}return t.createOptions=function(){return{additionalServices:["navigation","telemetryService","userSettingsService"]}},t.prototype.applyChanges=function(){var t=this;if(this.scope.viewModel.allowQnaDataCollection===this.scope.privacySettings.allowQnaDataCollection)this.services.navigation.navigateBack();else{var i=this.services.telemetryService.startEvent(e.telemetry.PrivacySaveSettingsModel);this.services.userSettingsService.updateAllowQnaDataCollection(this.scope.privacySettings.allowQnaDataCollection,i).then((function(e){t.scope.viewModel.allowQnaDataCollection=e,t.services.navigation.navigateBack()}))}},t.prototype.discardChanges=function(){this.services.navigation.navigateBack()},t})();t.SettingsPrivacyController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){}return e})();e.SettingsPublishedContentController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,t.onSettingsGroupSelected=function(e){return o.onSettingsGroupSelected(e)},t.settingsGroups=this.getSettingsGroups(),t.isLoading=!0;var r=t.$on(e.common.constants.navigation.stateChangeSuccess,(function(){return o.handleStateChange()}));this.handleStateChange(),t.$on("$destroy",(function(){r()})),i.settingsMetadataService.getSettings().then((function(e){t.viewModel=i.modelConverter.convertSettingsMetadata(e),t.isLoading=!1}),(function(){i.errorService.error(e.common.localize.get("SettingsGeneral_Error_FailedToLoad"),"SettingsGeneral_Error_FailedToLoad"),i.navigation.navigateBack()}))}return t.createOptions=function(){return{additionalServices:["errorService","navigation","modelConverter","settingsMetadataService","permissionService","telemetryService","featureSwitchService"]}},t.prototype.handleStateChange=function(){this.scope.currentSettingsGroup=this.services.navigation.settingsGroup},t.prototype.onSettingsGroupSelected=function(t){this.services.navigation.showSettingsSlider(t),this.scope.currentSettingsGroup!==t&&this.services.telemetryService.logEvent(e.telemetry.DashboardSettingGroupChanged,this.scope.currentSettingsGroup,t)},t.prototype.getSettingsGroups=function(){var t=this,i=[],o=e.common.localize;return o.ensureLocalization((function(){i.push(new e.models.SettingsGroup("general",o.get("SettingsGroupsNames_General"))),t.services.permissionService.isActiveWorkspaceIsReadOnly||(i.push(new e.models.SettingsGroup("dashboards",o.get("SettingsGroupsNames_Dashboards"))),i.push(new e.models.SettingsGroup("datasets",o.get("SettingsGroupsNames_Datasets"))),i.push(new e.models.SettingsGroup("workbooks",o.get("SettingsGroupsNames_Workbooks"))),i.push(new e.models.SettingsGroup("alerts",o.get("SettingsGroupsNames_Alerts"))),t.services.featureSwitchService.featureSwitches.emailSubscriptionEnabled&&i.push(new e.models.SettingsGroup("communications",o.get("SettingsGroupsNames_Subscriptions"))))})),i},t})();t.SettingsViewerController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(t){function i(e,o){for(var r,a=_.filter(o.workbookService.workbooks,(function(e){return i.filterWorkbooks(e,o.packageService)})),n=[],s=0;s<a.length;s++){var c=a[s],l=o.modelService.findModel(c.modelId,c.packageId);l&&n.push(l.contract)}return e.filteredModels=n,e.storageRefreshSupported=!1,r=t.call(this,e,o,"workbooks")||this}return __extends(i,t),i.createOptions=function(){var t=e.SettingsDataModelsController.createOptions();return t.additionalServices=t.additionalServices.concat("workbookService").concat("packageService"),t},i.filterWorkbooks=function(e,t){return t.isRefreshNowEnabledForWorkbook(e)},i})(e.SettingsDataModelsController);e.SettingsWorkbooksController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.controllers.EmailsList,o=e.common.models.EmailsListModel,r=e.common.contracts.Permissions,a=(function(){function t(i,o){var r=this;this.scope=i,this.services=o,this.navigation=o.navigation;var a=this.services.dashboardDataService;this.isInContentListViewEquivalent()?this.scope.activeDashboard=this.services.shareSliderService.shareDashboard:this.scope.activeDashboard=a.sharingDashboard=a.sharingDashboard||a.activeDashboard,this.scope.switchToDashboardView=function(){return r.switchToDashboardView()},this.scope.shareEmail=function(){return r.shareEmail()},this.scope.cancelShare=function(){return r.cancelShare()},this.scope.isNotPermitted=function(){return t.isNotPermitted(r.scope.activeDashboard)},this.scope.sharedWithUsers=function(e){return r.sharedWithUsers(e)},this.scope.cancelInvite=function(e){return r.cancelInvite(e)},this.scope.stopSharing=function(e,t){return r.stopSharing(e,t)},this.scope.isOwner=function(){return t.isOwner(r.scope.activeDashboard)},this.scope.sharingPermissionsItemSelected=function(e){return r.onSharingPermissionsItemSelected(e)},this.scope.validateInputTag=function(e){return r.validateInputTags()},this.scope.resetValidation=function(){return r.validateInputTags()},this.scope.grantAccess=function(e){return r.grantAccess(e)},this.scope.denyAccess=function(e){return r.denyAccess(e)},this.scope.anyRequests=function(){return r.scope.viewModel.requestingUsers&&r.scope.viewModel.requestingUsers.length>0},this.scope.approveAll=function(){return r.approveAll()},this.scope.navigateToManagePermissions=function(){return r.navigateToManagePermissions()};var n=this.scope.activeDashboard.objectId;this.scope.getDashboardUrl=function(){return r.services.invitationService.getSharedDashboardLink(n,!1)},this.scope.featureSwitchPermissionCenterEnabled=this.services.featureSwitchService.featureSwitches.permissionCenterEnabled,this.scope.shouldShowPermissionsWarning=function(){return r.shouldShowPermissionsWarning(r.scope.activeDashboard)},this.scope.getWorkookPermissionsMessageType=function(){return r.getWorkookPermissionsMessageType(r.scope.activeDashboard)},this.setWorkbookTileWebUri(this.scope.activeDashboard),this.getDashboardUsersAndCreateSummaryText(),this.services.telemetryService.logEvent(e.telemetry.DashboardOpenShareDialog);var s=this.scope.$watch("viewModel",(function(e){r.initializeViewModel(e)})),c=this.scope.$on(e.constants.hideTaskPaneSliderOnClickEventName,(function(e){return r.closePaneAndUpdateState()}));this.scope.$on("$destroy",(function(){s(),c()})),this.scope.requestsClick=function(){r.scope.anyRequests()&&r.sharedWithUsers(!0)}}return t.createOptions=function(){return{additionalServices:["$location","dashboardDataService","domainHelperService","errorService","featureSwitchService","groupService","invitationService","licenseEnforcementService","localizationService","modelConverter","navigation","notificationToast","packageService","promiseFactory","telemetryService","userInfo","visualPlugin","shareSliderService","dashboardDataService","contentList","taskPaneSliderService"]}},t.prototype.initializeViewModel=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i,r=this;return __generator(this,(function(a){switch(a.label){case 0:return t?(t.isUserListChanged=!1,t.isEmailBeingSent=!1,t.showSecurityGroupUpgradeAccount=!1,t.messageText="",t.emailsList=new o,t.inviteSelected=!0,t.sharedWithSelected=!1,i=t,[4,this.proContentAlertMessage(this.scope.activeDashboard)]):[2];case 1:return i.proContentAlertMessage=a.sent(),t.notifyViaEmail=!0,this.scope.viewModel.emailValidationError=this.scope.viewModel.emailValidationWarning="",this.services.localizationService.ensureLocalization((function(){t.placeholderMessage=r.services.localizationService.get("Sharing_MessagePlaceholderText"),t.defaultText=r.services.localizationService.get("Sharing_DefaultEmailText"),t.enterEmailText=r.services.localizationService.get("Sharing_AddEmailText")})),this.resetChangedUserList(e.models.SharingUserList.Default),[2]}}))}))},t.validateDashboardPermission=function(e,t){return e&&(e.contract.permissions&t)===t},t.isOwner=function(e){return t.validateDashboardPermission(e,r.All)},t.isNotPermitted=function(e){return!t.validateDashboardPermission(e,r.ReShare)},t.prototype.proContentAlertMessage=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e,i;return __generator(this,(function(o){switch(o.label){case 0:return this.services.featureSwitchService.featureSwitches.pseudoLocEnabled?[2,this.services.localizationService.get("UpgradeAccount_ShareDashboardWarnMessageV2")]:[3,1];case 1:return i=t,i?[4,this.services.licenseEnforcementService.dashboardHasProFeatures(t.contract)]:[3,3];case 2:i=o.sent()||this.dashboardContainsRScriptTiles(t),o.label=3;case 3:if(e=i)return[2,this.services.localizationService.get("UpgradeAccount_ShareDashboardWarnMessage")];o.label=4;case 4:return[2]}}))}))},t.prototype.dashboardContainsRScriptTiles=function(t){if(t.tiles)for(var i=0,o=t.tiles;i<o.length;i++){var r=o[i],a=e.dataServices.TileUtils.getVisualType(r.config);if(a){var n=this.services.visualPlugin.capabilities(a);if(n&&n.dataViewMappings&&e.ScriptResultUtil.findScriptResultMapping(n.dataViewMappings))return!0}}return!1},t.prototype.getRemoteWorkbookTile=function(e){var t=this,i=void 0;return e&&e.tiles&&(i=_.find(e.tiles,(function(e){return!!(e&&e.workbook&&e.workbook.contract)&&!t.services.packageService.isLocalWorkbook(e.workbook.contract.packageId)}))),i},t.prototype.shouldShowPermissionsWarning=function(e){return void 0!==this.getRemoteWorkbookTile(e)||!t.isOwner(e)&&this.containsWorkbookTile(e)},t.prototype.containsWorkbookTile=function(e){var t=void 0;return e.tiles&&(t=_.find(e.tiles,(function(e){return e&&e.workbook}))),void 0!==t},t.prototype.isMyWorkspace=function(){return this.services.groupService.isMyWorkspace()},t.prototype.getWorkookPermissionsMessageType=function(e){return this.isMyWorkspace()?t.isOwner(e)?0:1:2},t.prototype.setWorkbookTileWebUri=function(e){var t=this.getRemoteWorkbookTile(e);void 0!==t&&(this.scope.workbookWebUri=t.workbook.webUri)},t.prototype.markIsExternalInvitation=function(e){this.services.domainHelperService.emailIsInVerifiedDomain(e.sentToEmailAddress).then((function(t){e.isExternalUser=!t}),(function(){e.isExternalUser=!1}))},t.prototype.markIsExternalUser=function(e){this.services.domainHelperService.emailIsInVerifiedDomain(e.emailAddress).then((function(t){e.isExternalUser=!t}),(function(){e.isExternalUser=!1}))},t.prototype.onSharingPermissionsItemSelected=function(t){switch(t.action){case e.models.SharingOptions.StopSharing:this.stopSharing(t.id,t.kind);break;case e.models.SharingOptions.ReadOnly:this.editPermissions(t.id,t.kind,r.Read);break;case e.models.SharingOptions.ReadReshare:this.editPermissions(t.id,t.kind,r.ReadReshare)}},t.prototype.createSharingSummary=function(){var e,i=this.scope.viewModel;return i.owner?t.isOwner(this.scope.activeDashboard)?null==i.sharedUsers?e:e=0===i.sharedUsers.length?this.services.localizationService.get("Sharing_OnlyWithYou"):1===i.sharedUsers.length?this.services.localizationService.format("Sharing_SharedWithOne",[i.sharedUsers[0].fullName]):this.services.localizationService.format("Sharing_SharedWithMoreThanOne",[i.sharedUsers[0].fullName,(i.sharedUsers.length-1).toString()]):e=this.services.localizationService.format("Sharing_DashboardOwner",[i.owner.fullName]):e},t.prototype.createRequestsSummary=function(){var e=null,i=this.scope.viewModel;if(!i.owner||!t.isOwner(this.scope.activeDashboard)||!i.requestingUsers||0===i.requestingUsers.length)return e;var o=i.requestingUsers[0].fullName;return 1===i.requestingUsers.length?this.services.localizationService.format("Sharing_OneUserHasRequestedAccess",[o]):2===i.requestingUsers.length?this.services.localizationService.format("Sharing_TwoUsersHaveRequestedAccess",[o]):this.services.localizationService.format("Sharing_ThreeOrMoreUsersHaveRequestedAccess",[o,i.requestingUsers.length-1])},t.prototype.resetChangedUserList=function(e){this.scope.viewModel.selectedList=e,this.scope.viewModel.removedUserId=-1,this.scope.viewModel.removedUserKind=void 0,this.scope.viewModel.allowReshare=!0},t.prototype.validateMessageSize=function(){return!(this.scope.viewModel.messageText.length>t.MessageSizeLimit)||(this.services.notificationToast.notify({title:this.services.localizationService.get("Sharing_InvalidEntry"),message:this.services.localizationService.get("Sharing_MessageSizeExceeded"),notificationType:e.common.NotificationToastType.Alert}),!1)},t.prototype.switchToDashboardView=function(){this.isInContentListViewEquivalent()||this.navigation.navigateToDashboardByGUID(this.scope.activeDashboard.objectId)},t.prototype.shareEmail=function(){var t=this;if(this.scope.viewModel.emailsList.validationTrigger()&&this.validateMessageSize()){var i=this.scope.viewModel.emailsList.validObjectIds,o=this.scope.viewModel.emailsList.validEmailsList,r=!this.scope.isOwner(),a=this.services.telemetryService,n=a.startEvent(e.telemetry.DashboardSendShareInvitation);this.validateInputTags().then((function(s){var c=t.scope.viewModel.messageText,l=!1;_.isEmpty(c)?(l=!0,c=t.scope.viewModel.defaultText):c=t.scope.viewModel.messageText;var d=a.startChildEvent(n.event,e.telemetry.DashboardInviteDashboardUsers,o.length,i.length,c.length,l,r,t.scope.viewModel.allowReshare,t.scope.activeDashboard.objectId,t.scope.viewModel.notifyViaEmail,s.externalEmailCount);t.scope.viewModel.isEmailBeingSent=!0,t.services.invitationService.sendInvitation(t.scope.activeDashboard.id,o,i,c,t.scope.viewModel.allowReshare,t.scope.viewModel.notifyViaEmail,d.event).then((function(){d.resolve(),t.notifySharingSuccess("Sharing_SendEmailSuccess"),t.scope.viewModel.isEmailBeingSent=!1,t.scope.viewModel.emailsList.inputUserList=[],n.resolve(),t.scope.viewModel.notifyViaEmail?t.switchToDashboardView():t.sharedWithUsers(!0),t.closePaneAndUpdateState()}),(function(i){var o;if(i.status===e.HttpStatusCode.RequestEntityTooLarge)t.displayShareEmailLimitExceededError(parseInt(i.headers.ActualInvitationEmailCount,10));else{t.notifySharingFailure("Sharing_FailedToInvitedUsers"),t.scope.viewModel.isEmailBeingSent=!1;var r=i.headers(e.common.PowerBIErrorHeader);r===e.constants.DashboardSharingSecurityGroupRequirePro&&(t.scope.viewModel.showSecurityGroupUpgradeAccount=!0,o=r),r===e.constants.DashboardInvitationUnsupportedGroup&&(t.displayShareToUnifiedGroupError(),o=r)}var a={errorCode:i.status+"",errorSource:o?e.telemetry.ErrorSource.User:e.telemetry.ErrorSource.PowerBI};d.reject(a),n.reject(a)}))}),(function(i){null!==i?(n.reject({errorCode:i.errorReason,errorSource:e.telemetry.ErrorSource.User}),t.services.telemetryService.logEvent(i.errorTelemetryEvent)):n.reject({errorCode:"UnknownSystemError",errorSource:e.telemetry.ErrorSource.PowerBI}),t.notifySharingFailure("Sharing_FailedToInvitedUsers")}))}},t.prototype.cancelShare=function(){this.closePaneAndUpdateState()},t.prototype.validateInputTags=function(){var t=this;this.scope.viewModel.emailValidationError=this.scope.viewModel.emailValidationWarning="",this.scope.viewModel.showSecurityGroupUpgradeAccount=!1;var i=this.services.promiseFactory.defer();return this.services.domainHelperService.getVerifiedDomains().then((function(o){var r={},a={},n=null,s="",c=0;if(t.scope.viewModel&&t.scope.viewModel.emailsList){for(var l=t.scope.viewModel.emailsList.inputUserList,d=!1,p=0,u=l;p<u.length;p++){var v=u[p];if(v.userPrincipalName){var h=v.userPrincipalName.split("@"),g=h[1].toLowerCase();o.verifiedDomains[g.toUpperCase()]||(r[g]=g,c++),o.blockedDomains[g.toUpperCase()]&&(a[g]=g)}v.isSecurityGroup&&!t.services.userInfo.isPremiumUser&&(d=!0)}var f="",m=0;for(var b in r)m++,f+=b+", ";var y="",S=0;for(var C in a)S++,y+=C+", ";d&&(t.scope.viewModel.showSecurityGroupUpgradeAccount=!0),_.endsWith(f,", ")&&(f=f.substring(0,f.length-2)),_.endsWith(y,", ")&&(y=y.substring(0,y.length-2)),t.services.featureSwitchService.featureSwitches.externalSharingEnabled?S>0?(t.scope.viewModel.emailValidationError=t.services.localizationService.format("Sharing_BlockedDomains",[y]),n=e.telemetry.DashboardSharingWithBlockedDomain,s=y):m>0&&t.displaySharingToExternalUserWarning(f):m>0&&(t.scope.viewModel.emailValidationError=t.services.localizationService.format("Sharing_EmailDomainNotInTenant",[f]),n=e.telemetry.DashboardSharingWithInvalidDomain,s=f)}t.scope.viewModel.hasValidationError?i.reject({errorReason:s,errorTelemetryEvent:n}):i.resolve({externalEmailCount:c})}),(function(e){i.reject(null)})),i.promise},t.prototype.displayShareEmailLimitExceededError=function(t){this.scope.viewModel.emailValidationError=this.services.localizationService.get("Sharing_EmailAddressExceeded").replace("{{maxEmails}}",i.MaxAllowedEmailAddresses.toString());var o=this.services.telemetryService;o.logEvent(e.telemetry.DashboardSharingEmailAddressExceededLimit,t)},t.prototype.displayShareToUnifiedGroupError=function(){this.scope.viewModel.emailValidationError=this.services.localizationService.get("DashboardInvitationUnsupportedGroup");var t=this.services.telemetryService;t.logEvent(e.telemetry.DashboardSharingEmailAddressUnsupportedGroup)},t.prototype.displaySharingToExternalUserWarning=function(e){this.scope.viewModel.emailValidationWarning=this.services.localizationService.format("Sharing_ExternalOrganization",[e])},t.prototype.getListOfDashboardUsers=function(){var i=this,o=this.services.telemetryService.startEvent(e.telemetry.DashboardLoadDashboardUsers),a=this.services.promiseFactory.defer();return this.scope.activeDashboard&&this.services.invitationService.getDashboardAccess(this.scope.activeDashboard.id,o.event).then((function(n){var s,c,l=i.scope.viewModel,d=i.services.modelConverter;!n.data||n.data instanceof Array?(s=n.data,c=[]):(s=n.data.accesses,c=n.data.requests);var p=d.convertDashboardAccessInfoArray(s||[]);p.map((function(e){return i.markIsExternalUser(e)}));var u=d.convertDashboardAccessInfoArray(c||[]);if(l.owner=_.filter(p,(function(e){return e.permissions===r.All}))[0],l.sharedUsers=_.filter(p,(function(e){return e.permissions!==r.All})),l.requestingUsers=u,i.navigation.currentInviteObjectId){var v=parseInt(i.navigation.currentInviteId,10),h=e.contracts.DashboardAccessInfoKind.User,g=_.filter(l.requestingUsers,(function(e){return e.id===v&&e.kind===h}));if(g&&g.length>0){var f=g[0];i.scope.viewModel.emailsList.inputUserList.push({isSecurityGroup:!1,displayName:f.fullName,userPrincipalName:null,objectId:i.navigation.currentInviteObjectId,objectType:e.common.contracts.ADUserMetaDataObjectType.User})}}t.isOwner(i.scope.activeDashboard)?i.services.invitationService.getInvitedUsers(i.scope.activeDashboard.id,o.event).then((function(e){var t=i.scope.viewModel;t.invitedUsers=d.convertDashboardInvitation(e.data),t.invitedUsers.map((function(e){return i.markIsExternalInvitation(e)})),o.resolve(),a.resolve({})}),(function(e){o.reject(),i.services.localizationService.ensureLocalization((function(){i.services.errorService.error(i.services.localizationService.get("Sharing_FailedToLoadInvitedUsers"),"Sharing_FailedToLoadInvitedUsers",{requestId:e.requestId,statusCode:e.status.toString()}),a.reject({})}))})):a.resolve({})}),(function(e){i.services.localizationService.ensureLocalization((function(){i.services.errorService.error(i.services.localizationService.get("Sharing_FailedToLoadUsers"),"Sharing_FailedToLoadUsers",{requestId:e.requestId,statusCode:e.status.toString()}),a.reject({})}))})),a},t.prototype.getDashboardUsersAndCreateSummaryText=function(){var e=this;this.getListOfDashboardUsers().promise.then((function(){e.scope.viewModel.summaryText=e.createSharingSummary(),e.scope.viewModel.requestsSummaryText=e.createRequestsSummary()}),_.noop)},t.prototype.sharedWithUsers=function(e){e?this.getDashboardUsersAndCreateSummaryText():this.validateInputTags(),this.scope.viewModel.inviteSelected=!e,this.scope.viewModel.sharedWithSelected=e},t.prototype.cancelInvite=function(t){var i=this;if(this.scope.activeDashboard){var o=this.services.telemetryService.startEvent(e.telemetry.DashboardLoadDashboardUsers);this.services.invitationService.cancelInvitation(t,this.scope.activeDashboard.id,o.event).then((function(t){o.resolve(),i.sharedWithUsers(!0),i.resetChangedUserList(e.models.SharingUserList.Default)}),(function(e){o.reject(),i.services.localizationService.ensureLocalization((function(){i.services.errorService.error(i.services.localizationService.get("Sharing_FailedToCancelInvitation"),"Sharing_FailedToCancelInvitation",{requestId:e.requestId,statusCode:e.status.toString()})}))})),this.resetChangedUserList(e.models.SharingUserList.InvitedUsers)}},t.prototype.stopSharing=function(t,i){var o=this;if(this.scope.activeDashboard){var a=this.services.telemetryService.startEvent(e.telemetry.DashboardDeleteDashboardUser),n={dashboardId:this.scope.activeDashboard.id,id:t,kind:i,permissions:r.None,emailAddress:null,familyName:null,givenName:null,isOwner:!1,sentToEmailAddress:null};this.scope.viewModel.removedUserId=t,this.scope.viewModel.removedUserKind=i,this.services.invitationService.deleteDashboardAccess(n,a.event).then((function(t){a.resolve(),o.sharedWithUsers(!0),o.resetChangedUserList(e.models.SharingUserList.Default);
}),(function(t){o.services.localizationService.ensureLocalization((function(){o.services.errorService.error(o.services.localizationService.get("Sharing_FailedToDeleteDashboardUser"),"Sharing_FailedToDeleteDashboardUser",{requestId:t.requestId,statusCode:t.status.toString()}),a.reject()})),o.resetChangedUserList(e.models.SharingUserList.SharedUsers)}))}},t.prototype.editPermissions=function(t,i,o){var r=this;if(this.scope.activeDashboard){var a=this.services.telemetryService.startEvent(e.telemetry.DashboardEditDashboardPermissions,this.scope.activeDashboard.objectId,o),n={dashboardId:this.scope.activeDashboard.id,id:t,kind:i,permissions:o,emailAddress:null,familyName:null,givenName:null,isOwner:!1,sentToEmailAddress:null};this.services.invitationService.editDashboardAccess(n,a.event).then((function(t){a.resolve(),r.sharedWithUsers(!0),r.resetChangedUserList(e.models.SharingUserList.Default)}),(function(e){r.services.errorService.error(r.services.localizationService.get("Sharing_FailedToEditPermissions"),"Sharing_FailedToEditPermissions",{requestId:e.requestId,statusCode:e.status.toString()}),a.reject()})),this.resetChangedUserList(e.models.SharingUserList.SharedUsers)}},t.prototype.grantAccess=function(t){for(var i=this,o=this.services.telemetryService.startEvent(e.telemetry.DashboardSendShareInvitation),r=!0,a=this.scope.viewModel.defaultText,n=t.map((function(e){return e.emailAddress})),s=[],c=!1,l=!1,d=!0,p=this.services.telemetryService.startChildEvent(o.event,e.telemetry.DashboardInviteDashboardUsers,n.length,s.length,a.length,r,c,l,this.scope.activeDashboard.objectId,d,0),u=0,v=t;u<v.length;u++){var h=v[u];h.isPerformingAccessRequest=!0}this.services.invitationService.sendInvitation(this.scope.activeDashboard.id,n,s,a,l,d,p.event).then((function(){o.resolve(),i.notifySharingSuccess("Sharing_AccessHasBeenGranted"),i.scope.viewModel.isEmailBeingSent=!1,i.scope.viewModel.emailsList.inputUserList=[],p.resolve(),t.forEach((function(t){_.remove(i.scope.viewModel.requestingUsers,(function(e){return e.id===t.id&&e.kind===t.kind})),t.permissions=e.common.contracts.Permissions.Read,i.scope.viewModel.sharedUsers.push(t)})),i.getDashboardUsersAndCreateSummaryText()}),(function(){p.reject(),i.notifySharingFailure("Sharing_GrantAccessFailed")})).finally((function(){t.forEach((function(e){e.isPerformingAccessRequest=!1}))}))},t.prototype.denyAccess=function(t){var i=this,o=this.services.telemetryService.startEvent(e.telemetry.DashboardDeleteDashboardAccessRequest,this.scope.activeDashboard.objectId,t.kind,t.id);t.isPerformingAccessRequest=!0,this.services.invitationService.deleteDashboardAccessRequest(this.scope.activeDashboard.id,t.kind,t.id,o.event).then((function(){o.resolve(),i.notifySharingSuccess("Sharing_AccessRequestRemoved"),_.remove(i.scope.viewModel.requestingUsers,(function(e){return e.id===t.id&&e.kind===t.kind})),i.getDashboardUsersAndCreateSummaryText()}),(function(){o.reject(),i.notifySharingFailure("Sharing_AccessRequestRemovalFailed")})).finally((function(){t.isPerformingAccessRequest=!1}))},t.prototype.notifySharingSuccess=function(t){this.services.notificationToast.notify({title:this.services.localizationService.get("Sharing_Success"),message:this.services.localizationService.get(t),notificationType:e.common.NotificationToastType.Share})},t.prototype.notifySharingFailure=function(t){this.services.notificationToast.notify({title:this.services.localizationService.get("Sharing_Failure"),message:this.services.localizationService.get(t),notificationType:e.common.NotificationToastType.Error})},t.prototype.approveAll=function(){var e=this.scope.viewModel.requestingUsers.slice();this.grantAccess(e)},t.prototype.navigateToManagePermissions=function(){this.navigation.navigateToManagePermissions(1,this.scope.activeDashboard.objectId)},t.prototype.closePaneAndUpdateState=function(){this.services.taskPaneSliderService.collapsePane(),this.services.dashboardDataService.sharingDashboard=null,this.isInContentListViewEquivalent()?this.services.contentList.tileSelectionOff(this.services.shareSliderService.shareDashboard):this.navigation.inSharingView()&&this.navigation.navigateToDashboardByGUID(this.navigation.currentDashboardGUID)},t.prototype.isInContentListViewEquivalent=function(){return this.navigation.inContentListView()||this.navigation.inFavoritesView()||this.navigation.inRecentlyViewedView()||this.navigation.inSharedWithMeView()},t})();a.MessageSizeLimit=4e3,t.ShareView=a})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.common.constants.TaskPaneCollapsiblePaneMode,r=(function(){function e(e,t){var i=this;this.scope=e,this.services=t,this.scope.isPaneExpanded=function(){return i.isPaneExpanded()},this.services.taskPaneSliderService.registerPaneVisibilityChangeObserver((function(e,t,o,r){return i.updatePaneVisibility(e,t,o,r)})),this.services.taskPaneSliderService.registerPaneVisibilityChangeObserver((function(e,t,o,r){return i.updatePaneVisibility(e,t,o,r)}))}return e.createOptions=function(){return{additionalServices:["taskPaneSliderService"]}},e.prototype.updatePaneVisibility=function(e,t,r,a){var n=this.scope.viewModel;n.collapsiblePane.isExpanded=e,n.collapsiblePane.expandedWidth=r||i.Large,n.previousMode=this.scope.viewModel.collapsiblePaneMode,n.collapsiblePaneMode=t||o.Default,n.parameters=a||{}},e.prototype.isPaneExpanded=function(){return this.services.taskPaneSliderService.isPaneExpanded()},e.prototype.expandCollapsiblePane=function(){var e=this.scope.viewModel;this.updatePaneVisibility(!0,e.collapsiblePaneMode,e.collapsiblePaneWidth,e.parameters)},e.prototype.hideTaskPaneSlider=function(){this.updatePaneVisibility(!1,o.Default,i.Large)},e})();t.TaskPaneSliderController=r})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.dataServices.models.ContentPackItems,r=e.common.helpers.ModelConverterHelper,a=e.explore.contracts.SingleVisualConfig,n=e.common.constants.TaskPaneCollapsiblePaneMode,s=e.models.factory.TileOptionsFactory,c=e.dataServices.contracts.TileType,l=e.dataServices.TileUtils,d=(function(){function t(t,i){var o=this;this.tileSaved=!1,this.scope=t,this.services=i;var r=this.services.dashboardDataService.selectedDashboardTile.tileModel;t.back=function(){return o.back()},t.closeTileEditorWithoutSaving=function(){return o.cancel()},t.restoreDefaults=function(){return o.restoreDefaults()},t.showTechnicalDetailsDialog=function(){return o.showTechnicalDetailsDialog()},t.saveChangesAndExit=function(){return o.save()},t.setCustomLinkChanged=function(){return o.setCustomLinkChanged()},t.setDynamicImageForWorkbookTile=function(){return t.workbookService.setModelDynamicImageUrl(r.workbook)},t.showLastRefreshTimeChanged=function(){return o.showLastRefreshTimeChanged()},t.toggleDisplayTitle=function(){return o.toggleDisplayTitle()},t.viewModel=new e.models.TileEditorModel(r,this.services.featureSwitchService,this.services.explorationSerializer,this.services.visualPlugin,this.services.workbookService),t.workbookService=i.workbookService,t.tileEditorHeaderPaneTitle=function(){return o.tileEditorHeaderPaneTitle()},t.activateHeaderTab=function(e){return o.activateHeaderTab(e)},this.setDisplayTitle();var a=t.viewModel.tile;a&&a.realTime&&this.saveRealTimeTileContext();var n=a.action;n.openInSameTab=!!n.openInSameTab||!1,t.hasCustomLink=n.action===e.constants.openUrlActionName,t.isSavedRealTimeTile=!!a.realTime&&!a.isTemporary,t.isSavedRealTimeTile&&(t.headerTabs=s.getRealTimeTileEditHeaderTabs(i.localizationService),t.activeHeaderTab=t.headerTabs[0]),t.tileModel=r,t.selectedModel=i.modelService.findModel(r.contract.modelId),t.$watchGroup([function(){return r.hasTitle()},function(){return r.hasSubtitle()}],(function(){a.invalidateLayout()}));var c=t.$on("$destroy",(function(){var e=o.scope.viewModel;o.tileSaved||e.tile.isTemporary||!e.isDirty()||e.undoChanges(),c()}))}return t.createOptions=function(){return{additionalServices:["dashboardService","dashboardDataService","dashboardHttpService","errorService","explorationSerializer","featureSwitchService","localizationService","modelService","telemetryService","workbookService","visualPlugin","taskPaneSliderService"],scopedDependencies:["pinVisual","visualQueryGenerator"],scopedServiceRoot:!0}},t.prototype.showTechnicalDetailsDialog=function(){var t=this.services.errorService.control(),i=[new InJs.ModalDialogAction(this.services.localizationService.get("PBI_Button_Label_Close"),function(e,i){t.hideDialog()})],o=$("<div/>"),r='<a href="'+jsCommon.PowerBIDefaultHelpPage+'" target="_blank">'+this.services.localizationService.get("TileEditor_TechnicalDetails_SupportPage")+"</a>";o.append($("<div/>").html(this.services.localizationService.format("TileEditor_TechnicalDetails_Description",[r]))),this.addTileDetails(o),e.session.userInfo&&e.session.userInfo.uoid&&o.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_UserObjectId"),e.session.userInfo.uoid));var a=this.services.dashboardDataService.activeDashboard;a&&o.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_DashboardId"),a.id.toString())),this.addPackageDetails(o),this.addModelDetails(o),t.showCustomDialog(this.services.localizationService.get("TileEditor_TechnicalDetails_Title"),o,i,null,!0)},t.prototype.activateHeaderTab=function(e){this.scope.activeHeaderTab=e},t.prototype.cancel=function(){var e=this.scope.viewModel.tile;e.isTemporary?this.services.dashboardService.removeTemporaryTile(e):(this.scope.viewModel.undoChanges(),e.realTime&&this.restoreRealTimeTileContext()),this.services.taskPaneSliderService.collapsePane()},t.prototype.back=function(){var e=this.scope.viewModel.tile;if(e.isTemporary){var t=e.realTime?n.RealTimeBlade:n.TileGallery;this.services.taskPaneSliderService.expandPane(t,i.Large)}},t.prototype.restoreDefaults=function(){this.scope.viewModel.restoreDefaults(),this.scope.hasCustomLink=!1,this.scope.viewModel.tile.action.action===e.constants.openUrlActionName&&(this.scope.viewModel.tile.action.action=null),this.setDisplayTitle()},t.prototype.save=function(){var e=this.scope.viewModel;if(e.isValid()){var t=e.tile;t.isTemporary?(t.isSelected=!1,this.saveNewTile()):this.saveExistingTile()}},t.prototype.saveNewTile=function(){var t=this.scope.viewModel,i=this.getPinTileTelemetryEvent();t.updateModelContract(),this.tileSaved=!0,this.services.dashboardService.saveTemporaryTile(t.tile,i),this.scope.$emit(e.constants.hideTileEditorEventName)},t.prototype.saveExistingTile=function(){var t=this,i=this.scope.viewModel,r=i.tile.contract,a=i.originalContract;if(!i.isDirty())return void this.scope.$emit(e.constants.hideTileEditorEventName);i.updateModelContract();var n=this.services.telemetryService.startEvent(e.telemetry.DashboardEditTileProperties,!1,r.displayText!==a.displayText,r.subDisplayText!==a.subDisplayText,r.action!==a.action,r.config!==a.config);this.services.dashboardHttpService.updateTile(a,r,n.event).then((function(){n.resolve(),t.tileSaved=!0,t.scope.$emit(e.constants.hideTileEditorEventName);var i=t.services.dashboardDataService.activeDashboard;i&&i.isUsedByContentPack&&t.services.rootScope.$emit(e.constants.contentPackDirtyShowNotification,i.id,o.Dashboard)}),(function(i){i.status===e.HttpStatusCode.Unauthorized?(n.event.info.readOnlyTileEdited=!0,n.resolve()):n.reject(),t.services.errorService.error(t.services.localizationService.get("TileEditor_UpdateFailed"),"TileEditor_UpdateFailed",{requestId:i.requestId,statusCode:i.status.toString()})}))},t.prototype.setCustomLinkChanged=function(){var t=this.scope.viewModel;this.scope.hasCustomLink?(t.setAction(e.constants.openUrlActionName),t.tile.action.openInSameTab=!1):t.setAction(null)},t.prototype.setDisplayTitle=function(){var e=this.scope,t=e.viewModel,i=t.tile.config,o=i&&!!i.hideTitle,r=t.titleRequired||!!t.tile.getDisplayText();e.displayTitle=!o&&r},t.prototype.showLastRefreshTimeChanged=function(){var e=this.scope.viewModel.tile.config;e&&e.lastRefreshTimeEnabled&&!this.scope.displayTitle&&(this.scope.displayTitle=!0,this.toggleDisplayTitle())},t.prototype.toggleDisplayTitle=function(){this.scope.viewModel.tile.config=this.scope.viewModel.tile.config||{},this.scope.viewModel.tile.config.hideTitle=!this.scope.displayTitle},t.prototype.tileEditorHeaderPaneTitle=function(){var e=this.services.localizationService,t=e.get("TileEditor_PaneTitle_Details"),i=this.scope.viewModel.tile,o=i.config&&i.config.widget;if(null==o||!i.isTemporary)return t;switch(o.id){case 1:return e.get("TileEditorPane_WebContentTitle");case 2:return e.get("TileEditorPane_ImageWidgetTitle");case 3:return e.get("TileEditorPane_TextboxTitle");case 4:return e.get("TileEditorPane_VideoWidgetTitle");default:return t}},t.prototype.getPinTileTelemetryEvent=function(){var t=this.scope.viewModel,i=t.tile.config,o=e.dataServices.TileUtils.getVisualType(i)||"",r=i&&i.widget?i.widget.name:"",a=t.tile.realTime;a&&(o=a.visual&&a.visual.type,r=c[c.realTime]);var n=this.services.telemetryService.startEvent(e.telemetry.DashboardPinTile,o,e.telemetry.PinTileSource.Widget,"",!1,"",!1,r,!1);return n},t.prototype.saveRealTimeTileContext=function(){var e=this.scope.viewModel.tile.realTime;this.restoreContext={singleVisualConfig:a.clone(e.singleVisualConfig),dataWindow:e.config.dataWindow}},t.prototype.restoreRealTimeTileContext=function(){var e=this.scope.viewModel.tile,t=e.realTime;if(t.singleVisualConfig&&this.restoreContext){t.hideVisual&&(t.hideVisual=!1);var i=this.services;l.UpdateRealTimeTile(e,this.restoreContext.singleVisualConfig,this.restoreContext.dataWindow,this.scope.selectedModel,t.schema,i.pinVisual,i.visualPlugin,i.visualQueryGenerator,i.telemetryService)}},t.prototype.addPackageDetails=function(e){var t=this.scope.tileModel;if(t&&t.contract.tilePackage){var i=t.contract.tilePackage;e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_PakageId"),i.id.toString())),i.lastRefreshTime&&(e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_PakageLastRefreshTime"),r.convertRefreshTimeToJsDateTime(i.lastRefreshTime).toLocaleString())),null!=i.publishOrRefreshStatus&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_PakageLastRefreshStatus"),i.publishOrRefreshStatus.toString()))),i.NextRefreshTime&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_PakageNextRefreshTime"),r.convertRefreshTimeToJsDateTime(i.NextRefreshTime).toLocaleString())),i.contentProviderId&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_PakageContentProviderId"),i.contentProviderId.toString()))}},t.prototype.addModelDetails=function(e){var t=this.scope.selectedModel;t&&(e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelId"),t.id.toString())),e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelLastRefreshTime"),t.lastRefreshTimeInLocaleString)),null!=t.contract.lastRefreshStatus&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelLastRefreshStatus"),t.contract.lastRefreshStatus.toString())),t.contract.nextRefreshTime&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelNextRefreshTime"),r.convertRefreshTimeToJsDateTime(t.contract.nextRefreshTime).toLocaleString())),t.contract.lastTimeAModelChangeWasDetectedInTheCluster&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelLastTimeAModelChangeWasDetectedInTheCluster"),r.convertRefreshTimeToJsDateTime(t.contract.lastTimeAModelChangeWasDetectedInTheCluster).toLocaleString())),t.contract.onPremModelConnectionString&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelOnPremModelConnectionString"),t.contract.onPremModelConnectionString)),null!=t.contract.forcedRLS&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelForcedRLS"),String(t.contract.forcedRLS))),null!=t.contract.directQueryMode&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelDirectQueryMode"),String(t.contract.directQueryMode))),null!=t.contract.isRefreshedByContentProvider&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ModelIsRefreshedByContentProvider"),String(t.contract.isRefreshedByContentProvider))))},t.prototype.addTileDetails=function(e){var t=this.scope.tileModel;e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_TileId"),t.id.toString()));var i=t.contract;if(i){i.errorCode&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ErrorCode"),i.errorCode.toString()));var o=i.queryResultError;o&&(e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ErrorId"),o.id.toString())),e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ErrorType"),o.type.toString())),e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ErrorDetail"),o.errorDetail)),e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_ErrorRequestActivityId"),o.rootActivityId))),i.queryHash&&e.append(InJs.InfoNavUtility.constructErrorField(this.services.localizationService.get("TileEditor_TechnicalDetails_QueryHash"),i.queryHash.toString()))}},t})();t.TileEditorController=d})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.models.TileFactory,o=e.dataServices.contracts.TileType,r=2,a=2,n=(function(){function t(e,t){this.scope=e,this.services=t,this.tileGroups=i.getTileGalleryGroups(),this.clearOutTemporaryTile()}return t.createOptions=function(){return{additionalServices:["modelConverter","telemetryService","dashboardService","taskPaneSliderService"]}},t.prototype.closeTileGalleryPane=function(){this.selectedTile=null,this.services.taskPaneSliderService.collapsePane()},t.prototype.select=function(e){this.selectedTile=e},t.prototype.next=function(){var t=this.services,i=t.modelConverter.convertTile(this.selectedTile.defaultTileContract),n=e.dataServices.ContractUtils.getMasterLayoutPosition(i.contract);n.width=n.width||r,n.height=n.height||a;var s=o[i.type];t.telemetryService.logEvent(e.telemetry.DashboardWidgetSelected,s);var c={tile:i.contract,parentEvent:null,isTemporaryTile:!0,showNotification:!1};this.services.dashboardService.pinTileWithoutNotification(c)},t.prototype.clearOutTemporaryTile=function(){var e=this.services.dashboardService.getSelectedDashboardTile(),t=e&&e.tileModel;t&&t.isTemporary&&this.services.dashboardService.removeTemporaryTile(t)},t})();t.TileGalleryController=n})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=jsCommon.JsonExtensions,r=e.explore.services,a=e.dataServices.contracts.TileType,n=jsCommon.Trace,s=(function(){function t(e,t){var a=this;this.tileRefreshRetryCount=0,this.scope=e,this.services=t,this.scope.viewModel.updateVisualInteractivityOptions("true"===e.allowInteractivity),this.onViewModelChanged();var s=e.$watch("viewModel",(function(){return a.onViewModelChanged()}));e.$on(i.visualReady,(function(e){a.onVisualDataChanged(e)})),e.$on(i.scopeDestroyEventName,(function(){s()}));var c=this.scope.viewModel.getThemeName();if(this.themeLoaded=!c||this.services.themeService.isThemeLoaded(c),!this.themeLoaded){var l=this.services.resourcePackagesService.getAllPackages();r.loadRegisteredResourceAsDecodedString(this.services.promiseFactory,this.services.resourceLoader,l,c).then((function(e){if(e){var t=o.tryParseJSON(e,void 0,!0);t?a.services.themeService.addCustomTheme(c,t):n.error("Theme JSON could not be parsed",!0)}else n.error("Theme was not loaded",!0)})).catch((function(e){n.error("Error loading theme - "+e,!0)})).finally((function(){a.themeLoaded=!0,a.scope.$applyAsync()}))}}return t.createOptions=function(){return{additionalServices:["dataProxy","localizationService","modelConverter","telemetryService","visualPlugin","modelService","featureSwitchService","promiseFactory","resourcePackagesService","themeService"],scopedDependencies:["resourceLoader"]}},t.prototype.readyToRender=function(){return!this.scope.viewModel.isLoading&&this.themeLoaded},t.prototype.onViewModelChanged=function(){var t=this,i=this.scope,o=i.viewModel;if(o){this.initTileData();var r=o.contract,a=this.services.modelService.findModel(r.modelId,r.packageId),n=!!r.queryResultError,s=this.services.featureSwitchService.featureSwitches.selectiveRefreshEnabled,c=s&&!n&&o.isDataStale(a?a.lastRefreshEpochTime:void 0);this.shouldRefreshData(n,c)&&(this.tileRefreshRetryCount++,o.isLoading=!o.tileData.data,this.scope.$emit(e.constants.refreshTileData,o.contract.modelId),o.setDataLoadEventDelegate((function(){return t.services.telemetryService.startEvent(e.telemetry.DashboardLoadTileData,o.contract.id,o.contract.modelId)}))),o.setDependencies(this.services.dataProxy),e.tileDataRefreshWorker(this.scope,this.services.modelConverter,o),o.errorText=o.errorText||this.services.localizationService.get("Tile_ErrorText"),o.onErrorDelegate=function(){return t.onErrorChanged()};var l=o.visual&&o.visual.type;i.allowDeferredRendering=l&&!this.services.visualPlugin.isLightWeightRenderingVisual(l),o.onErrorDelegate(),o.shouldBeIncludedInTelemetryMeasurement=!(!o.tileData||!o.tileData.data||n)}},t.prototype.onErrorChanged=function(){var t=this.scope.viewModel;t&&t.isError?(this.services.telemetryService.logEvent(e.telemetry.DashboardTileError,a[a.composite],t.errorText),this.scope.$emit(i.tileErrorEventName,t.errorText,t.errorDetails)):this.scope.$emit(i.clearTileErrorEventName)},t.prototype.shouldRefreshData=function(e,i){if(this.tileRefreshRetryCount>=t.tileRefreshRetryMaxCount)return!1;if(e)return!1;var o=this.scope.viewModel;return!!o.tileData&&(!!o.requiresData()&&(!o.tileData.data||i))},t.prototype.initTileData=function(){var e=this.scope.viewModel;if(!e.tileData){var t=this.services;try{e.tileData=t.modelConverter.convertTileData(e.contract)}catch(i){e.isError=!0,e.errorText=t.localizationService.get("Tile_DsrParseErrorText")}}},t.prototype.onVisualDataChanged=function(e){e.stopPropagation();var t=this.scope.viewModel;this.scope.$emit(i.tileVisualLoadedEventName,t.contract.id)},t})();s.tileRefreshRetryMaxCount=1,t.CompositeTileController=s})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.constants,r=e.common.models.CollapsiblePaneExpandedWidth,a=e.dataServices.models.DashboardTileModel,n=jsCommon.EnumExtensions,s=e.common.contracts.Permissions,c=e.telemetry.PinTileSource,l=e.common.constants.TaskPaneCollapsiblePaneMode,d=e.dataServices.contracts.TileType,p=e.dataServices.TileUtils;!(function(e){e[e.delete=0]="delete",e[e.edit=1]="edit",e[e.inFocus=2]="inFocus"})(i=t.tileActions||(t.tileActions={}));var u=7,v=6,h=(function(){function t(t,i){var r=this;this.scope=t,this.services=i;var n=this.scope.viewModel;this.isHovered=!1,this.scope.isTileError=!1,this.scope.optionsMenuVisible=!1,t.inFocusState=i.inFocusService.getInFocusState(n),this.scope.model=new a(n),this.scope.editTile=function(e){return r.editTile(e)},this.scope.deleteTile=function(){return r.deleteTile()},this.scope.openTile=function(e,t){return r.openTile(e,t)},this.scope.showAlertsEditor=function(e){return r.showAlertsEditor(e)},this.scope.setOptionsMenuVisibility=function(e,t){return r.setOptionsMenuVisibility(e,t)},this.scope.pinTileFromDashboard=function(e){return r.pinTileFromDashboard(e)},this.scope.inFocusTile=function(e,t){return r.inFocusTile(e,t)},this.scope.isInsightsSupported=function(){return r.isInsightsSupported()},this.scope.openNotifications=function(e){return r.openNotifications(e)},this.scope.isReadOnly=function(){return r.isReadOnly()},this.scope.isNonActionable=function(){return r.isNonActionable()},this.scope.displayDashboardTileOptionsMenuVisible=function(){return r.displayDashboardTileOptionsMenuVisible()},this.scope.displayDashboardTileOpenOptions=function(){return r.displayDashboardTileOpenOptions()},this.scope.setHover=function(e){return r.setHover(e)},this.scope.displayDashboardTileShowIcon=function(){return r.displayDashboardTileShowIcon()},this.scope.inEditMobileLayoutMode=function(){return r.inEditMobileLayoutMode()},this.scope.viewportContextSelector=this.scope.viewportContextSelector||o.dashboardSelector;var s=n.contract;n.setDatasetModelAndPackageInfo(this.services.modelService.findModel(s.modelId,s.packageId),this.services.packageService.findPackage(s.packageId)),this.scope.getOpenActionType=function(){return r.getOpenActionType()},this.scope.getOpenActionDescriptionText=function(){return r.getOpenActionDescriptionText()};var c=this.services.rootScope.$on(e.constants.setDashboardTileOptionsMenuVisibility,(function(e,t){r.updateOptionsMenu(e,t)}));this.scope.isModelTile=n&&n.model&&n.contract&&!n.contract.config,this.scope.isWorkbookTile=n&&n.workbook&&n.contract&&"number"==typeof n.contract.workbookId,this.scope.shouldShowPinButton=function(){return r.shouldShowPinButton()},this.scope.shouldShowAlertsButton=function(){return r.shouldShowAlertsButton()},this.scope.shouldShowInfocusButton=function(){return r.shouldShowInfocusButton()},this.scope.exportVisualData=function(e){return r.exportVisualData(e)},this.setCanExportVisualData(),this.updateReportModel(n),this.isReportTile()&&this.setReportTileContext(n),this.scope.$on(o.scopeDestroyEventName,(function(){c()})),this.setInViewPort()}return t.createOptions=function(){return{additionalServices:["pinTileService","contentProviderHttpService","telemetryService","inFocusService","featureSwitchService","localizationService","reportService","modelService","packageService","workbookService","modelConverter","errorService","visualPlugin","userNotificationInfo","userNotificationTileFilterService","groupService","navigation","dashboardDataService","userInfo","dashboardService","auditing","platformCapabilities","taskPaneSliderService"],scopedDependencies:["exportData"]}},t.prototype.setInViewPort=function(){var t=this.scope.viewModel,i=e.dataServices.ContractUtils.getMasterLayoutPosition(t.contract);i&&(this.scope.inViewport=i.x+i.width<=u&&i.y+i.height<=v)},t.prototype.isReadOnly=function(){return!this.scope.canEdit||this.scope.disableInteractions},t.prototype.isNonActionable=function(){var e=this.scope.viewModel;return!e||!e.action||!e.action.action||this.scope.disableInteractions},t.prototype.setHover=function(e){this.isHovered=e},t.prototype.displayDashboardTileOpenOptions=function(){var e=this.scope.viewModel,t=this.services.platformCapabilities.supportsMouseover;return this.scope.inViewport&&(this.isHovered||!t)&&e&&!this.scope.optionsMenuVisible&&!e.isTemporary&&!this.scope.disableInteractions&&!this.inEditMobileLayoutMode()},t.prototype.displayDashboardTileOptionsMenuVisible=function(){return this.scope.optionsMenuVisible&&!this.scope.disableInteractions},t.prototype.displayDashboardTileShowIcon=function(){return this.scope.disableInteractions},t.prototype.inEditMobileLayoutMode=function(){return this.services.dashboardDataService.InEditMobileLayoutMode},t.prototype.isReportTile=function(){var e=this.scope.viewModel;return e&&null!=e.reportTile},t.prototype.setCanExportVisualData=function(){var e=this,t=this.services.exportData,i=this.scope.viewModel;if(i.type!==d.composite)return void(this.scope.canExport=t.canExportTileData(i));var o=this.scope.$watch("viewModel.composite.tileData",(function(r){r&&(e.scope.canExport=t.canExportTileData(i),o())}))},t.prototype.exportVisualData=function(t){t.stopPropagation();var i=this.services,o=this.scope.viewModel,r=p.getVisualType(o.config);this.scope.optionsMenuVisible=!1;var a=this.services.userInfo.isPremiumUser,n=o.contract&&o.contract.id,s=i.telemetryService.startEvent(e.telemetry.EXExportVisualData,r,e.telemetry.ExportVisualSource.Dashboard,!1,0,a,!1,0);this.services.exportData.exportTileDataToCsv(this.scope.viewModel).then((function(e){s.event.info.isPartialResult=e.isPartialResult,s.resolve()}),(function(e){s.reject({errorCode:e.error.toString()})})),this.services.auditing.auditEvent(n,e.common.contracts.AuditEntityType.Tile,e.common.contracts.AuditActivityType.exportDashboardTile)},t.prototype.shouldShowPinButtonForWorkbookTile=function(){var e=this.scope.viewModel,t=this.scope.isWorkbookTile&&e.config&&!e.config.workbookTile,i=!1;if(e.workbook&&e.workbook.contract){var o=this.services.workbookService.findWorkbook(e.workbook.contract.workbookId,e.workbook.contract.packageId);i=!o||!o.isOwner()}return!t&&!i},t.prototype.shouldShowPinButton=function(){var e=this.scope.viewModel,t=null!==this.scope.isModelTile&&this.scope.isModelTile;return!t&&!this.scope.isTileError&&(!e.workbook||this.shouldShowPinButtonForWorkbookTile())},t.prototype.updateReportModel=function(e){e&&e.report&&(e.report=this.services.reportService.findReport(e.report.id))},t.prototype.setReportTileContext=function(e){if(this.scope.isTileError=e.reportTile.isError,e.report&&e.action.action===o.openReportActionName){var t=this.services.reportService.findReport(e.report.id);t||this.services.reportService.addReport(e.report);var i=this.services.modelService.findModel(e.report.modelId);i||this.services.modelService.addContractModel(e.contractsModel)}},t.prototype.getOpenActionType=function(){var e=this.scope.viewModel;return e.action.action===this.tileActionCache?this.tileActionTypeCache:(this.updateTileActionProperties(),this.tileActionTypeCache)},t.prototype.getOpenActionDescriptionText=function(){var e=this.scope.viewModel;return e.action.action===this.tileActionCache&&null!=this.tileActionDescriptionCache?this.tileActionDescriptionCache:(this.updateTileActionProperties(),this.tileActionDescriptionCache)},t.prototype.updateTileActionProperties=function(){var e=this.scope.viewModel;this.tileActionCache=e.action.action,this.updateTileActionType(),this.updateTileActionText()},t.prototype.updateTileActionType=function(){var t=this.scope.viewModel;t.action.action===e.constants.openUrlActionName?this.tileActionTypeCache=0:t.action.action===o.openQnAActionName?this.tileActionTypeCache=1:t.action.action===o.openReportActionName&&!this.scope.isModelTile&&t.report?this.tileActionTypeCache=2:t.action.action===o.openReportActionName&&!t.report&&this.scope.isModelTile?this.tileActionTypeCache=4:t.action.action===o.openReportActionName&&(t.report||this.scope.isModelTile)?this.tileActionTypeCache=2:t.action.action===o.openWorkbookActionName&&t.workbook&&(this.tileActionTypeCache=3)},t.prototype.updateTileActionText=function(){var t=this.scope.viewModel;if(t.action.action===e.constants.openUrlActionName)this.tileActionDescriptionCache=t.action.targetUrl;else if(t.action.action===o.openQnAActionName)this.tileActionDescriptionCache=t.utterance;else if(t.action.action!==o.openReportActionName||this.scope.isModelTile)if(t.action.action===o.openReportActionName||t.action.action===e.constants.openInFocusTileActionName||t.action.action===o.openInsightsActionName){var i=null;t.contractsModel&&(i=this.services.modelService.findModel(t.contractsModel.id,t.contractsModel.packageId)),
this.tileActionDescriptionCache=i?i.displayName:""}else if(t.action.action===o.openWorkbookActionName){var r=t.contract&&t.contract.workbookId,a=this.services.workbookService.findWorkbook(r);this.tileActionDescriptionCache=a?a.displayName:""}else t.action.action||(this.tileActionDescriptionCache=this.services.localizationService.get("TileMenuOption_NoAction"));else{var n=t.report&&t.report.objectId,s=this.services.reportService.findReportByGUID(n);this.tileActionDescriptionCache=s?s.displayName:""}},t.prototype.updateOptionsMenu=function(e,t){t!==this.scope.model.tileModel.id&&(this.scope.optionsMenuVisible=!1)},t.prototype.setOptionsMenuVisibility=function(t,i){i.stopPropagation(),this.scope.optionsMenuVisible=t,this.services.rootScope.$emit(e.constants.setDashboardTileOptionsMenuVisibility,this.scope.model.tileModel.id)},t.prototype.openTile=function(t,i){var o=this.scope.model.tileModel,r=o&&o.composite&&o.composite.isError;if(this.scope.disableInteractions||this.inEditMobileLayoutMode())return i&&i.preventDefault&&i.preventDefault(),!1;if(!t&&r)return!1;if(!t&&this.isReportTile())return!1;if(this.scope.optionsMenuVisible=!1,this.scope.isTileElementChanging())return!1;if(o.isLoading)return!1;if(i)try{var a=i,n=$(a.target||a.srcElement);if(n.is("a")&&!n.hasClass("dashboardTileLayout"))return!1}catch(e){}return this.scope.$emit(e.constants.openTileEventName,o),i&&i.stopPropagation&&i.stopPropagation(),!0},t.prototype.editTile=function(t){t&&t.stopPropagation&&t.stopPropagation(),this.scope.optionsMenuVisible=!1,this.scope.$emit(e.constants.showTileEditorEventName,this.scope.model)},t.prototype.deleteTile=function(){this.scope.optionsMenuVisible=!1,this.scope.$emit(e.constants.hideTileEditorEventName),this.scope.$emit(t.Events.DeleteTile),this.scope.$emit(e.constants.removeTileEventName,this.scope.model.tileModel)},t.prototype.pinTileFromDashboard=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i,o,r,a,n,s,l,d;return __generator(this,(function(p){switch(p.label){case 0:return t.stopPropagation(),this.scope.optionsMenuVisible=!1,i=this.services.contentProviderHttpService.getBuiltInContentProviders(),o=this.scope.model.tileModel,r=o.model&&o.model.contentProviderId,a=e.common.findContentProviderName(i,r),n=o.contract.resourcePackageIds,s=!!(n&&n.length>0),l=o.config&&o.config.widget?o.config.widget.name:"",d=this.services.telemetryService.startEvent(e.telemetry.DashboardPinTile,o.composite?o.composite.visual.type:void 0,c.Dashboard,"",!1,a,s,l,!1),[4,this.services.pinTileService.showPinVisualFromDashboardDialog(o,d)];case 1:return[2,p.sent()]}}))}))},t.prototype.inFocusTile=function(e,t){e.stopPropagation(),this.scope.optionsMenuVisible=!1;var i=this.scope.model.tileModel;this.services.dashboardService.selectDashboardTile(this.scope.model);var o=i.objectId,r=i.contract.originalTileObjectId,a=this.services.groupService.activeGroupObjectId,n=this.services.dashboardDataService.activeDashboard.objectId,s=this.services.dashboardDataService.activeDashboard.contract.originalDashboardObjectId;t?this.services.navigation.showInsightsInFocusMode(o,r,n,a):this.services.navigation.showInFocusMode(o,r,n,s,a)},t.prototype.isInsightsSupported=function(){var e=this.scope.viewModel,t=e.datasetModel;return!e.workbook&&!e.realTime&&t&&!t.isHidden&&t.contract.insightsSupported&&n.hasFlag(t.getPermissions(),s.Read)},t.prototype.showAlertsEditor=function(e){e&&e.stopPropagation&&e.stopPropagation(),this.scope.optionsMenuVisible=!1,this.services.dashboardService.selectDashboardTile(this.scope.model),this.services.taskPaneSliderService.expandPane(l.AlertsEditor,r.Small)},t.prototype.shouldShowAlertsButton=function(){var t=this.scope.viewModel.datasetModel;if(!t||!this.services.dashboardService.isAlertingEnabled())return!1;var i=this.scope.viewModel;if(i.type===d.realTime)return!1;var o=p.getVisualType(i.config);return o===e.visuals.plugins.card.name||o===e.visuals.plugins.gauge.name||o===e.visuals.plugins.kpi.name},t.prototype.shouldShowInfocusButton=function(){return 1===this.scope.inFocusState&&this.services.dashboardService.isInFocusModeEnabled()},t.prototype.openNotifications=function(t){t&&t.stopPropagation&&t.stopPropagation();var i=this.scope.viewModel.contract.id,o=this.services.userNotificationInfo.userNotifications.notifications,r=_.filter(this.services.userNotificationTileFilterService.filterNotifications(o,i),(function(e){return!e.seen}));if(!_.isEmpty(r))for(var a=0,n=r;a<n.length;a++){var s=n[a];s.message.filterProperties&&s.message.filterProperties.UserDataAlertRuleId&&this.services.telemetryService.logEvent(e.telemetry.DataAlertsTileBadgeClicked,parseInt(s.message.filterProperties.UserDataAlertRuleId,10))}this.services.userNotificationTileFilterService.tileId=i,this.services.userNotificationInfo.showPane=!0},t})();h.Events={DeleteTile:"DeleteTile"},t.DashboardTileController=h})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.scope=e,this.element=t}return e})();e.ImageTileController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.scope=e,this.element=t}return e})();e.ModelTileController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e){var t=this;this.scope=e,this.scope.openTile=function(){return t.openTile()}}return t.prototype.openTile=function(){var t=this.scope.viewModel;this.scope.$emit(e.constants.openProviderTileEventName,t)},t})();t.ProviderTileController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common,o=e.explore.util.ExplorationTrustedVisualUtil,r=jsCommon.JsonExtensions,a=e.dataServices.contracts.TileType,n=e.explore.ScopeUtils,s=e.dataServices.models.TileFactory,c=e.explore.FilterUtils,l=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,n.defineDataSourcesOnScopeLegacy(this.scope,this.services.dataSources);var r=this.services.viewModeState;r.setMode(0);var a=this.scope.$on(e.constants.populateDashboardWithReportTiles,(function(){o.populateReportTiles()}));this.services.undoRedo.setHandler({rollback:function(){},takeSnapshot:function(){return null}}),this.scope.$on("$destroy",(function(){a()})),this.populateReportTiles();var s={showAppBar:!1,showTaskPane:!1,showVisualizationPane:!1,showNavContentPane:!0,visualContainerOptions:{showMenu:!1,showPin:!1,showContextMenu:!1,disablePin:!1,hideHeader:!0},showBackButtonOnAppBar:!1};this.services.explorationCapabilities.setCapabilities(s)}return t.createOptions=function(){return{scopedDependencies:["dataSources","viewModeState","undoRedo","selection","visualPlugin","explorationNavigation","explorationCapabilities","resourceLoader","shell"],scopedServiceRoot:!0,additionalServices:["conceptualSchemaProxy","promiseFactory","localizationService","modelService","reportService","modelConverter","pinTileService","reportTileService","resourcePackagesService","explorationSerializer","featureSwitchService","visualPlugin","telemetryService","trustedVisual","themeService"]}},t.prototype.reloadTrustedVisuals=function(t){_.isEmpty(t)||(this.services.visualPlugin.ensureTrustedVisualPlugins(t),this.services.rootScope.$emit(e.constants.reloadEmptyVisuals,{visualTypes:t.map((function(e){return e.name}))}))},t.prototype.populateExploration=function(e,i,r,a,n){var s=this;this.setDataSources(e,i);var c={withData:!0,withQuery:!0},l=this.services.explorationSerializer.deepCopyExploration(i,c),d=this.services.pinTileService.mapCanvasSize(l,r);this.applySectionParameterFilters(d,r,a,n);var p=t.getReferencedResourcePackages(d,r);this.resolveExploration(p,d,r),o.acquireTrustedVisuals(i,this.services.trustedVisual).then((function(e){return s.reloadTrustedVisuals(e)}))},t.prototype.resolveExploration=function(t,i,o){if(_.isEmpty(t))this.resolveExplorationWithoutResourcePackage(i,o);else{var r=this.scope.viewModel;this.services.telemetryService.logEvent(e.telemetry.DashboardRegisterAndLoadResourcePackagesForReportTiles,t.length,r&&r.contract?r.contract.id:-1,!0),this.resolveExplorationWithResourcePackages(t,i,o)}},t.prototype.applySectionParameterFilters=function(t,i,o,r){if(t&&t.sections){var a=e.explore.SectionUtils.findSectionIndexForSectionId(t,i),n=null!=a&&t.sections[a];if(n){c.mergeExplorationSectionFilters(t,n);var s=e.explore.PodUtils.findPodIndexForPodName(t,o),l=null!=s&&t.pods[s];c.applySectionParameterFilters(n,l,r)}}},t.prototype.resolveExplorationWithResourcePackages=function(e,t,i){var o=this;this.services.resourcePackagesService.registerPackages(e),this.services.visualPlugin.ensurePlugins(e,!1).finally((function(){o.resolveExplorationWithoutResourcePackage(t,i)}))},t.prototype.populateReportTiles=function(){var e=this,t=this.scope.viewModel;if(t.isError=!1,t&&t.contract){var i=t.contract;if(!i||i.type!==a.report)return;var o=this.services.modelConverter.convertTileConfig(i),r=i.reportId,n=this.services.reportService.findReport(r),s=i.sectionId;if(!n)return void this.setErrorText();var c=this.services.modelService.findModel(n.modelId,n.packageId);this.services.reportTileService.getExploration(r,s).then((function(t){return e.initializeExplorationTheme(t)})).then((function(t){var i=o&&o.reportTile&&o.reportTile.sectionId,r=t.sections;if(null==s&&null!=i&&null!=r&&i<r.length){var a=t.sections[i];if(!a)return void e.setErrorText();s=a.id}var n=null,l=null;if(o&&o.reportTile&&(n=o.reportTile.pod,o.reportTile.filters)){var d=[];l=e.services.explorationSerializer.deserializeFilterCollection(o.reportTile.filters,d,!1)}e.populateExploration(c.contract,t,s,n,l)}),(function(){return e.setErrorText()}))}},t.prototype.initializeExplorationTheme=function(t){var o=this;if(t&&t.theme){if(i.isLegacyThemeName(t.theme))return this.services.promiseFactory.resolve(t);this.scope.themeName=t.theme;var a=e.explore.services.loadRegisteredResourceAsDecodedString(this.services.promiseFactory,this.services.resourceLoader,t.resourcePackages,t.theme);return a.then((function(e){if(e){var i=r.tryParseJSON(e);i&&o.services.themeService.addCustomTheme(t.theme,i)}return t})).catch((function(){return t}))}return this.services.promiseFactory.resolve(t)},t.prototype.resolveExplorationWithoutResourcePackage=function(t,i){var o=this.scope.viewModel,r=t.sections,a=r.length,n=[];this.services.explorationNavigation.loadExploration(t);for(var c=0;c<a;c++)r[c].crossHighlight=void 0,n[c]={contract:r[c],selected:!0,displayName:r[c].displayName};if(void 0===i)return void this.setErrorText();var l=e.explore.SectionUtils.findSectionById(t,i);if(!l)return void this.setErrorText();this.services.explorationNavigation.goto(l);for(var d=new e.explore.viewModels.ExploreCanvas(l),p=jsCommon.ArrayExtensions.createWithId(),u=l.visualContainers.length,c=0;c<u;c++){var v=e.explore.viewModels.ViewModelFactory.convertVisualContainer(t,d.contract,l.visualContainers[c],0);v.allowDeferredRendering=!0,v.options=this.services.explorationCapabilities.getCapabilities().visualContainerOptions,p.push(v)}d.visualContainers=p,o.exploration={contract:t,exploreCanvas:d,sections:n},o.isLoading=s.isTileLoading(o.contract)},t.prototype.setDataSources=function(t,i){var o=i.dataSources.withId(t.id);if(!o){var r=e.explore.constants.DefaultSchemaName;if(o={type:e.common.constants.dsrDataReaderType,id:t.id,name:e.explore.constants.DefaultSchemaName,dsr:{schemaName:e.explore.constants.DefaultSchemaName,vsName:t.vsName,dbName:t.dbName,modelId:t.id}},i.dataSources.push(o),this.services.featureSwitchService.featureSwitches.reportMeasures){var a=e.explore.constants.ExplorationSchemaName;i.dataSources.push({type:e.explore.dataReaderPlugins.ExplorationDataReaderType,id:i.id,name:a,extends:r,exploration:{schemaName:a,extends:r,getModelExtensions:function(){return i.modelExtensions}}})}}var n=i.dataSources;this.services.dataSources.set(n)},t.prototype.setErrorText=function(){var e=this.scope.viewModel;e.isError=!0,e.errorText=this.services.localizationService.get("ReportTile_DataUnavailable")},t.getReferencedResourcePackages=function(e,i){var o=t.getReferencedVisualsInSection(e,i);if(!_.isEmpty(o))return _.filter(e.resourcePackages,(function(e){return 0===e.type&&o[e.name]}))},t.getReferencedVisualsInSection=function(e,t){var i=e.sections,o={};if(_.isEmpty(i))return o;for(var r=0,a=i;r<a.length;r++){var n=a[r];if(n.id===t){_.map(n.visualContainers,(function(e){var t=e&&e.config&&e.config.singleVisual&&e.config.singleVisual.visualType;_.isEmpty(t)||(o[t]=!0)}));break}}return o},t})();t.ReportTileController=l})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.scope=e,this.element=t}return e})();e.SsrsTileController=t})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.UrlUtils,o=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.scope.workbookTileUrl=this.workbookTileUrl,this.scope.workbookTileImageUrl=this.workbookTileImageUrl,this.scope.useLiveEwaControl=!!this.services.featureSwitchService.featureSwitches.liveWorkbookTiles;var o=this.scope.$watch("viewModel.tileModel.size",(function(){return i.services.workbookService.setModelDynamicImageUrl(i.scope.viewModel)}),!0),r=this.scope.$watch("viewModel",(function(){return i.services.workbookService.setModelDynamicImageUrl(i.scope.viewModel)}));this.scope.$on("$destroy",(function(){o(),r()})),this.initWorkbookTile()}return t.createOptions=function(){return{additionalServices:["$sce","workbookService","featureSwitchService"]}},t.prototype.constructWorkbookWopiUrl=function(e,t){if(this.scope.viewModel.contract.$config.workbookTile){var i=e.replace(/ExcelJs.ashx/i,"xlEmbed.aspx");return i=i+"&access_token="+t+"&item="+this.scope.viewModel.contract.$config.workbookTile.item+"&action=embedView"}return""},t.prototype.shouldPreparePreviewImage=function(){return!this.scope.viewModel.previewImageUrl&&!this.scope.viewModel.image&&!this.scope.viewModel.hasImages()},t.prototype.initWorkbookTile=function(){var t=this;this.scope.viewModel.isLoading=!0,this.shouldPreparePreviewImage()&&this.services.workbookService.getWorkbookTilePreviewImageUrl(this.scope.viewModel.contract).then((function(i){var o=i.indexOf("?")===-1?"?":"&";t.scope.viewModel.previewImageUrl=i+o+(new Date).getTime(),t.services.workbookService.setModelDynamicImageUrl(t.scope.viewModel),t.scope.onTileImageReady((function(i){t.scope.viewModel.isLoading=!1;var o=e.dataServices.ContractUtils.getMasterLayoutPosition(t.scope.viewModel.contract);o.width=Math.min(e.common.models.gridLayoutConstants.gridDefaultCols,e.common.GridLayoutConstants.getDefaultColSpanFromWidth(i.width)),o.height=Math.min(e.common.models.gridLayoutConstants.gridMaxRowSpan,e.common.GridLayoutConstants.getDefaultRowSpanFromHeight(i.height))}))})),this.scope.useLiveEwaControl&&this.services.workbookService.getWorkbookEmbedAccessData(this.scope.viewModel.contract.workbookId,this.scope.viewModel.contract.packageId).then((function(e){if(e&&i.isValidHttpUrl(e.url)){var o=t.constructWorkbookWopiUrl(e.url,e.accessToken);t.scope.workbookTileUrl=t.services.$sce.trustAsResourceUrl(o)}}))},t})();t.WorkbookTileController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.constants,o=e.dataServices.models.Tile,r=e.models.factory.TileOptionsFactory,a=e.dataServices.TileUtils,n=e.dataServices.contracts.TileType,s=(function(){function t(t,o){var r=this;this.scope=t,this.services=o,this.model=t.viewModel,this.tileId="tile"+this.model.id,this.updateTileHref(),this.scope.hasWarning=function(){return r.hasWarning()},this.scope.shouldShowTileVisual=function(){return r.shouldShowTileVisual()},this.scope.$watchCollection("viewModel.action",(function(){return r.updateTileHref()}));var a=this.services.rootScope.$on(i.reportDeletedEventName,(function(e,t){r.model.report&&r.model.report.id===t&&(r.model.report=null)}));this.scope.$on(e.common.constants.scopeDestroyEventName,(function(){a()})),this.updateModelTileHeaderSize(),this.scope.$root.$on(e.common.constants.needStrategySwapEventName,(function(){r.updateModelTileHeaderSize()})),this.scope.$on(e.common.constants.tileErrorEventName,(function(t,i,o){r.scope.isError=!0,r.scope.errorText=i,r.scope.errorDetails=o||{message:r.scope.errorText,displayableErrorInfo:[]},r.model.resetTileErrors=function(){r.scope.isError=!1},r.scope.$emit(e.constants.dashboardTileErrorEventName,r.model,r.scope.errorDetails)})),this.scope.$on(e.common.constants.clearTileErrorEventName,(function(t){var i=r.scope.errorDetails;r.scope.isError&&i&&r.scope.$emit(e.constants.removeDashboardTileErrorEventName,r.model,i),r.model.resetTileErrors&&r.model.resetTileErrors()})),this.services.rootScope.$on(e.constants.rowLevelSecurityAccessDeniedEventName,(function(e,t){r.model.composite&&_.find(t,(function(e){return r.scope.viewModel.contract.modelId===e}))&&(r.scope.isError=!0,r.scope.errorText=r.services.localizationService.get("Tile_RLS_NoAccess"),r.model.composite.tileData.data=null,r.model.resetTileErrors=function(){r.scope.isError=!1})})),this.scope.getUnseenCount=function(){return r.getUnseenCount()},this.scope.getIcons=function(){return r.getIcons()},this.scope.getWebContentIcon=function(){return r.getWebContentIcon()},this.scope.onIconClick=function(e,t){return r.onIconClick(e,t)}}return t.createOptions=function(){return{additionalServices:["localizationService","userInfo","visualPlugin","dashboardDataService","modelService","userNotificationInfo","featureSwitchService","userNotificationTileFilterService","tileDisplay","errorService","gridLayout"],scopedDependencies:["scriptVisuals"]}},t.prototype.updateTileHref=function(){this.model.intraDomainNavigationParameters=null;var t=this.model.action;t.action===e.constants.openUrlActionName&&o.isValidUrl(t.targetUrl)?this.scope.$emit(e.constants.updateTileHrefEventName,this.model,t.targetUrl):this.model.href=void 0},t.prototype.hasLostReportConnection=function(){var t="bingSocial",i=this.scope.viewModel,o=i.action;return i.type===n.composite&&o&&!(o.action&&o.action===e.common.constants.openQnAActionName)&&(!o.action||o.action===e.common.constants.openReportActionName&&!i.report)&&i.contract.name!==t&&!i.config.widget},t.prototype.hasWarning=function(){var e=this.services.visualPlugin,t=this.services.userInfo,i=this.scope.viewModel;if(this.scope.isError&&this.services.tileDisplay.isVisualSupportedInErrorState(i)){var o=i.composite;return this.scope.warning={tooltip:this.services.localizationService.format("DashboardAppBar_TileError_ErrorTooltip",[o.errorText])},!0}if(a.tileContainsScriptVisuals(this.scope.viewModel,e)){if(this.services.scriptVisuals.shouldBlockScriptVisual()){var r=t&&!Array.isArray(t)&&t.isPremiumUser;return this.scope.warning={tooltip:r&&this.services.localizationService.get("Tile_RVis_RefreshDisabled")||this.services.localizationService.get("Tile_RVis_RefreshDisabledForNonPro")},!0}}else{if(this.hasLostReportConnection())return this.scope.warning={tooltip:this.services.localizationService.get("Tile_LoseReportConnection")},!0;if(this.scope.viewModel.errorCode)return this.scope.warning={tooltip:this.model.details.getErrorLocId(this.model.errorCode,this.services.localizationService)},!0}return!1},t.prototype.getUnseenCount=function(){var e=this.scope.viewModel.contract.id,t=this.services.userNotificationInfo;if(!e||!t||!t.userNotifications||_.isEmpty(t.userNotifications.notifications))return 0;var i=t.userNotifications.notifications,o=_.filter(this.services.userNotificationTileFilterService.filterNotifications(i,e),(function(e){return!e.seen}));return o.length},t.prototype.onIconClick=function(e,t){t.stopPropagation();var i=this.scope;switch(e.action){case 0:this.scope.headerClickTarget({event:t,openNotification:!0});break;case 2:this.services.tileDisplay.onErrorIconClicked({message:e.tooltip()});break;case 1:this.services.tileDisplay.onErrorIconClicked({isError:i.isError,errorTitle:i.errorText,errorDetails:i.errorDetails,message:e.tooltip()})}},t.prototype.getIcons=function(){var t=this;if(this.icons)return this.icons;var i={badgeTextSetter:this.getUnseenCount.bind(this),localizationService:this.services.localizationService,showNotifications:function(){return t.getUnseenCount()>0},showWarning:this.hasWarning.bind(this),showWebContent:function(){var e=t.scope.viewModel;return e&&e.type===n.iframe&&!e.isTemporary&&e.hasTitle()},showRealTime:function(){var e=t.scope.viewModel;return e&&e.type===n.realTime},warningToolTipSetter:function(){return t.scope.warning&&t.scope.warning.tooltip}};return this.icons=r.getDashboardTileIcons(i),i.showWarning()&&this.scope.$emit(e.constants.dashboardTileErrorEventName,this.model,{message:i.warningToolTipSetter(),displayableErrorInfo:[]}),this.icons},t.prototype.getWebContentIcon=function(){return _.find(this.getIcons(),(function(e){return 2===e.action}))},t.prototype.shouldShowTileVisual=function(){return!!this.services.tileDisplay.shouldShowTileVisual(this.scope.viewModel)&&(!this.scope.isError||this.services.tileDisplay.isVisualSupportedInErrorState(this.scope.viewModel))},t.prototype.updateModelTileHeaderSize=function(){var e=1;this.services.gridLayout.strategy.isDynamic()||this.services.dashboardDataService.InEditMobileLayoutMode?e=2:this.scope.largeHeader&&(e=0),this.model.setTileHeaderSize(e)},t})();t.Tile=s})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.scope.loadUserMetadata=function(){return i.loadUserMetadata()},this.scope.loadUserMetadata()}return t.createOptions=function(){return{additionalServices:["groupService","featureSwitchService","userInfo"]}},t.prototype.loadUserMetadata=function(){this.scope.viewModel.userName=e.session.UserInfoUtils.getFullName(),this.services.groupService.activeGroup?(this.scope.viewModel.activeGroup=this.services.groupService.activeGroup,this.scope.viewModel.isMyWorkspace=this.scope.viewModel.activeGroup.isMyWorkspace):this.scope.viewModel.isMyWorkspace=!0,this.scope.viewModel.isPremiumUser=this.services.userInfo.isPremiumUser,this.scope.viewModel.userHasFreeTrial=this.services.userInfo.userHasFreeTrial,this.scope.viewModel.userHasPremiumPlan=this.services.userInfo.userHasPremiumPlan},t})();t.UserGroupHeaderController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t){this.scope=t,t.userName=e.session.UserInfoUtils.getFullName()}return t})();t.UserInfoController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i,this.scope.editContentPack=function(e){return o.editContentPack(e)},this.scope.deleteContentPack=function(e){return o.deleteContentPack(e)},this.services.contentPackService.getContentPacksForCurrentGroup().then((function(e){o.scope.contentPacks=_.filter(e,(function(e){return!o.services.contentPackService.isApp(e)}))})),this.scope.userGroupHeader=new e.models.UserGroupHeaderModel}return t.createOptions=function(){return{additionalServices:["navigation","contentPackService"]}},t.prototype.editContentPack=function(e){this.services.navigation.showPublishContentPackSlider(e)},t.prototype.deleteContentPack=function(e){var t=this;this.services.contentPackService.deleteContentPack(e).then((function(i){i&&_.remove(t.scope.contentPacks,(function(t){return t.providerContract.providerKey===e}))}))},t})();t.ViewContentPack=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t){var i=this;this.scope=t,this.scope.onYesClick=function(){return i.scope.viewModel.onButtonClick(e.models.WarningBarResult.Yes)},this.scope.onNoClick=function(){return i.scope.viewModel.onButtonClick(e.models.WarningBarResult.No)},this.scope.onFixItClick=function(){return i.scope.viewModel.onButtonClick(e.models.WarningBarResult.FixIt)}}return t})();t.WarningBarController=i})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.helpers.ModelConverterHelper,r=e.dataServices.constants.workbook,a="WorkbookAppBar_DataRefreshNotSupported_LocalFile_Tooltip",n="WorkbookAppBar_DataRefreshNotSupported_SharedWorkbooks_Tooltip",s="WorkbookAppBar_DataRefreshNotSupported_NoModel_Tooltip",c="WorkbookAppBar_DataRefreshNotSupported_PowerPivotVersion_Tooltip",l="WorkbookAppBar_DataRefreshNotSupported";!(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure",e[e.NotSupported=2]="NotSupported",e[e.MissingData=3]="MissingData"})(i=t.DataRefreshStatus||(t.DataRefreshStatus={}));var d;!(function(e){e[e.Supported=0]="Supported",e[e.NotSupportedNotOwned=1]="NotSupportedNotOwned",e[e.NotSupportedLocalWorkbook=2]="NotSupportedLocalWorkbook",e[e.NotSupportedNoModel=3]="NotSupportedNoModel",e[e.NotSupportedPowerPivotOldVersion=4]="NotSupportedPowerPivotOldVersion"})(d||(d={}));var p;!(function(e){e[e.Supported=0]="Supported",e[e.NotSupportedNotOwned=1]="NotSupportedNotOwned",e[e.NotSupportedLocalWorkbook=2]="NotSupportedLocalWorkbook",e[e.NotSupportedNotLoaded=3]="NotSupportedNotLoaded",e[e.StatusNotKnown=4]="StatusNotKnown"})(p||(p={}));var u=(function(){function t(e,t){var i=this;this.scope=e,this.services=t,this.model=this.scope.viewModel,this.services.localizationService.ensureLocalization((function(){i.bindMenuActions()}))}return t.createOptions=function(){return{additionalServices:["localizationService","featureSwitchService","modelService","historyDialogService","packageService","telemetryService"]}},t.prototype.isEditEnabled=function(){return this.model.workbook&&this.getEditSupportedStatus(this.model.workbook)===p.Supported},t.prototype.isWorkbookLoaded=function(){return this.model&&this.model.workbookLoaded},t.prototype.bindMenuActions=function(){var e=this,i=this.scope,o=t.WorkbookAppBarActions;i.editMenuActions=[{text:this.services.localizationService.get("WorkbookAppBar_EditInExcel"),description:this.services.localizationService.get("WorkbookAppBar_EditInExcelDescription"),action:o.EditInExcel,itemClass:"editInExcel",type:DropDownMenuItemType.Item},{text:this.services.localizationService.get("WorkbookAppBar_EditInExcelOnline"),description:this.services.localizationService.get("WorkbookAppBar_EditInExcelOnlineDescription"),action:o.EditInExcelOnline,itemClass:"editInExcelOnline",type:DropDownMenuItemType.Item}],i.dataMenuActions=[{text:this.services.localizationService.get("WorkbookAppBar_Calculate"),description:this.services.localizationService.get("WorkbookAppBar_CalculateDetails"),action:o.Calculate,itemClass:"calculate",type:DropDownMenuItemType.Item}],i.editMenuActionSelected=function(t){return e.onEditMenuActionSelected(t)},i.dataMenuActionSelected=function(t){return e.onDataMenuActionSelected(t)},i.pinClicked=function(){return e.pinClicked()},i.reloadClicked=function(){return e.reloadClicked()},i.isPinToDashboardEnabled=function(){return e.isPinToDashboardEnabled()},i.getPinButtonTooltipLocId=function(){return e.getPinButtonTooltipLocId()},i.isWorkbookLoaded=function(){return e.isWorkbookLoaded()},i.isEditEnabled=function(){return e.isEditEnabled()},i.getEditButtonTooltipLocId=function(){return e.getEditButtonTooltipLocId()},i.getRefreshDataStatus=function(){return e.updateLastRefreshInformationAndGetStatus()}},t.prototype.onEditMenuActionSelected=function(e){var i=t.WorkbookAppBarActions;switch(e.action){case i.EditInExcelOnline:this.EditInExcelOnline();break;case i.EditInExcel:this.EditInExcel()}},t.prototype.onDataMenuActionSelected=function(e){var i=t.WorkbookAppBarActions;switch(e.action){case i.Calculate:this.CalculateClicked()}},t.prototype.CalculateClicked=function(){this.services.telemetryService.logEvent(e.telemetry.DashboardCalculateWorkbook),this.scope.$emit(t.Events.CalculateWorkbookClicked)},t.prototype.EditInExcelOnline=function(){this.scope.$emit(t.Events.EditInExcelOnlineClicked)},t.prototype.EditInExcel=function(){this.scope.$emit(t.Events.EditInExcelClicked)},t.prototype.pinClicked=function(){this.scope.$emit(t.Events.PinClicked)},t.prototype.reloadClicked=function(){this.services.telemetryService.logEvent(e.telemetry.DashboardReloadWorkbook),this.scope.$emit(t.Events.ReloadClicked)},t.prototype.getDataRefreshSupportStatus=function(e){return e.isOwner()?e.contract.modelId?e.contract.isPowerPivotVersionSupportsRefresh?d.Supported:d.NotSupportedPowerPivotOldVersion:d.NotSupportedNoModel:d.NotSupportedNotOwned},t.prototype.getEditSupportedStatus=function(e){return this.model.workbookLoaded&&e.isEditable()?p.Supported:this.model.workbookLoaded?e.isOwner()?this.services.packageService.isLocalWorkbook(e.packageId)?p.NotSupportedLocalWorkbook:p.StatusNotKnown:p.NotSupportedNotOwned:p.NotSupportedNotLoaded},t.prototype.isPinToDashboardEnabled=function(){return this.model.workbook.isOwner()&&this.isWorkbookLoaded()},t.prototype.getPinButtonTooltipLocId=function(){return this.model.workbookLoaded?this.model.workbook.isOwner()?this.model.workbookChanged?"WorkbookAppBar_PinTooltip_Disabled_WorkbookChanged":this.model.workbookRangeSelected?"WorkbookAppBar_PinTooltip_Enabled":"WorkbookAppBar_PinTooltip_Disabled_NoSelection":"WorkbookAppBar_PinTooltip_NotOwner":""},t.prototype.getEditButtonTooltipLocId=function(){var e,t=this.getEditSupportedStatus(this.model.workbook);switch(t){case p.Supported:e="";break;case p.NotSupportedNotLoaded:e="";break;case p.NotSupportedLocalWorkbook:e="WorkbookAppBar_EditToolTip_NotEditable_Local";break;case p.NotSupportedNotOwned:e="WorkbookAppBar_EditToolTip_NotEditable_NotOwned";break;case p.StatusNotKnown:e=""}return e},t.prototype.updateLastRefreshInformationAndGetStatus=function(){if(!this.model||!this.model.workbook)return i.MissingData;var t=this.getDataRefreshSupportStatus(this.model.workbook);if(t!==d.Supported){var o=void 0;switch(t){case d.NotSupportedLocalWorkbook:o=a;break;case d.NotSupportedNotOwned:o=n;break;case d.NotSupportedNoModel:o=s;break;case d.NotSupportedPowerPivotOldVersion:o=c;break;default:o=""}return this.scope.refreshNotSupportedTooltip={tooltipLocalizeDescription:o,tooltipArrowPosition:e.common.ArrowPosition.arrowTopLeft},this.scope.refreshInformationText=this.services.localizationService.get(l),i.NotSupported}var r=this.services.modelService.findModel(this.model.workbook.modelId,this.model.workbook.packageId);return r?this.getLastRefreshText(r.contract):i.MissingData},t.prototype.getLastRefreshText=function(t){var r,a,n=this;if(t.lastRefreshStatus===e.common.contracts.PublishOrRefreshStatus.RefreshError){r=this.services.localizationService.get("WorkbookAppBar_LastDataRefreshFailed"),a=i.Failure;var s={};s.dataset=o.convertModelToDataset(t),this.scope.showRefreshHistory=function(){return n.services.historyDialogService.showHistoryDialog(s)}}else if(t.lastRefreshStatus===e.common.contracts.PublishOrRefreshStatus.PublishError)a=i.MissingData,r="";else{var c=o.convertRefreshTimeToJsDateTime(t.lastRefreshTime);a=i.Success,r=this.services.localizationService.format("WorkbookAppBar_LastDataRefreshSucceded",[""+c.toLocaleString()])}return this.scope.refreshInformationText=r,a},t})();u.WorkbookAppBarActions={Calculate:"Calculate",EditInExcel:"EditInExcel",EditInExcelOnline:"EditInExcelOnline",Pin:"Pin",Reload:"Reload"},u.Events={PinClicked:r.pinClickedEventName,EditInExcelOnlineClicked:r.editInExcelOnlineClickedEventName,EditInExcelClicked:r.editInExcelClickedEventName,CalculateWorkbookClicked:r.calculateWorkbookClickedEventName,ReloadClicked:r.reloadExcelWorkbookEventName},t.WorkbookAppBarController=u})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.EwaNamedItemType,o=e.dataServices.contracts.TileType,r=e.dataServices.constants,a=(function(){
function e(e,t,i){this.workbook=e,this.range=t,this.promiseFactory=i}return e.prototype.getTileData=function(){return this.getTileDataDeferred=this.promiseFactory.defer(),this.verifyIntersections(0),this.getTileDataDeferred.promise},e.prototype.verifyIntersections=function(e){var t=this,o=this.workbook.getNamedItems();if(e>=o.getCount()){var r={elementName:this.range.getAddressA1(),elementRange:this.range.getAddressA1(),smartSelection:!1,sheetName:this.range.getSheet().getName()};return void this.getTileDataDeferred.resolve(r)}var a=o.getItem(e),n=a.getNamedItemType();return n!==i.NamedRange&&n!==i.Table&&n!==i.PivotTable?void this.verifyIntersections(e+1):void a.getRefersToRangeAsync((function(e){return t.verifyNamedItemIntersection(e)}),e)},e.prototype.verifyNamedItemIntersection=function(e){var t=e.getReturnValue(),i=e.getUserContext();if(this.rangesIntersect(this.range,t)){var o={elementName:this.workbook.getNamedItems().getItem(i).getName(),elementRange:t.getAddressA1(),smartSelection:!0,namedItemType:this.workbook.getNamedItems().getItem(i).getNamedItemType(),sheetName:this.workbook.getActiveSheet().getName()};return void this.getTileDataDeferred.resolve(o)}this.verifyIntersections(i+1)},e.prototype.rangesIntersect=function(e,t){return null!=e&&null!=t&&(e.getSheet()===t.getSheet()&&e.getRow()===t.getRow()&&e.getRowCount()===t.getRowCount()&&e.getColumn()===t.getColumn()&&e.getColumnCount()===t.getColumnCount())},e})(),n=(function(){function e(e,t,i){this.workbook=e,this.item=t,this.promiseFactory=i}return e.prototype.getTileData=function(){var e=this,t=this.promiseFactory.defer(),o=this.item.getNamedItemType();if(o===i.NamedRange||o===i.Table||o===i.PivotTable)this.item.getRefersToRangeAsync((function(i){var r=i.getReturnValue(),a={elementName:e.item.getName(),elementRange:r.getAddressA1(),smartSelection:!1,namedItemType:o,sheetName:r.getSheet().getName()};t.resolve(a)}),void 0);else{var r={elementName:this.item.getName(),elementRange:this.workbook.getActiveSheet().getRange(0,0,1,1).getAddressA1(),smartSelection:!1,namedItemType:o,sheetName:this.workbook.getActiveSheet().getName()};t.resolve(r)}return t.promise},e})(),s=(function(){function i(t,o){var r=this;this.scope=t,this.services=o,this.scope.appBarArgs={selection:null},this.resetSelectionArgs(),this.unsubscribeList=[],this.subscribeToAppBarEvents(),this.setWorkbookAppBarIfNeeded(),this.scope.isEmbeddedWorkbookReady=!1,this.scope.embeddedWorkbookFailed=!1,this.scope.isEmbeddedWorkbookDataReady=!1,this.scope.dismissToast=function(){e.models.WorkbookContainer.DiscoverabilityToastDismissed=!0;var t=r.services.telemetryService.startEvent(e.telemetry.DashboardWorkbookPinabilityShown);r.services.tutorialDataStore.setKey(i.WorkbookPinToastShown,!0,t),r.scope.viewModel.showDiscoverabilityToast=!1},this.scope.showPinDashboardDialog=function(){return r.showPinDashboardDialog()};var a;this.services.groupService.groupSwitchPromise().then((function(){r.services.workbookService.ensureWorkbookInitialization().then((function(){r.navigateToWorkbookPage(),a=r.scope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,t,i,o,a){return r.handleStateChange(t,i,o,a)}))}))})),this.scope.$on("$destroy",(function(){r.unsubscribeToAppBarEvents(),a&&a()}))}return i.createOptions=function(){return{additionalServices:["$rootScope","$window","applicationOptions","contentProviderHttpService","dashboardHttpService","dashboardService","errorService","featureSwitchService","groupService","localizationService","modelConverter","mostRecentlyUsedService","navigation","notificationToast","packageService","permissionService","pinTileService","promiseFactory","telemetryService","tutorialDataStore","workbookService"]}},i.prototype.handleStateChange=function(t,i,o,r){t.name===e.common.constants.navigation.states.workbook&&this.navigateToWorkbookPage()},i.prototype.resetSelectionArgs=function(){this.scope.appBarArgs.selection=void 0},i.prototype.navigateToWorkbookPage=function(){var t,i=this.services.navigation.currentWorkbookURLIdentifier;if(t=this.services.workbookService.findWorkbookByEtagHash(i),t||(t=this.services.workbookService.findWorkbookByUniqueId(i)),!t)return this.services.mostRecentlyUsedService.removeMRU(i),e.helpers.ArtifactNotFoundHelper.showArtifactDoesNotExistDialog("ArtifactKind_Workbook",this.services.errorService,this.services.localizationService,this.services.telemetryService),void this.services.navigation.navigateToContentListOrActiveDashboard();this.scope.$emit(r.workbook.bindToExcelWorkbookEventName,t),this.services.mostRecentlyUsedService.updateMRU(e.models.MRUArtifactType.Workbooks,t.uniqueId,t.displayName,t.getPermissions());var o=this.services.navigation.currentWorkbookActiveSelection;this.onLoadExcelWorkbook(t,o)},i.prototype.subscribeToAppBarEvents=function(){var i=this,o=this.scope,r=o.$on(t.WorkbookAppBarController.Events.PinClicked,(function(e){return i.pinButtonResponse()}));this.unsubscribeList.push(r);var a=o.$on(t.WorkbookAppBarController.Events.EditInExcelOnlineClicked,(function(e){return i.openWorkbookInExcelOnline()}));this.unsubscribeList.push(a);var n=o.$on(t.WorkbookAppBarController.Events.EditInExcelClicked,(function(e){return i.openWorkbookInExcel()}));this.unsubscribeList.push(n);var s=this.services.rootScope.$on(e.constants.groupSwitchedEventName,(function(){return i.setWorkbookAppBarIfNeeded()}));this.unsubscribeList.push(s);var c=this.services.rootScope.$on(t.WorkbookAppBarController.Events.CalculateWorkbookClicked,(function(){return i.calculateWorkbook()}));this.unsubscribeList.push(c);var l=this.services.rootScope.$on(t.WorkbookAppBarController.Events.ReloadClicked,(function(){return i.onLoadExcelWorkbook(i.scope.viewModel.workbook,null)}));this.unsubscribeList.push(l)},i.prototype.unsubscribeToAppBarEvents=function(){var e=-1,t=this.unsubscribeList.length;if(t){for(e=t;t;)this.unsubscribeList[--t]();this.unsubscribeList.splice(0,e)}},i.prototype.embedWorkbook=function(t,o,r){var a=this,n=this.scope.viewModel.workbook.contract,s=!!n.modelId;this.services.workbookService.embedWorkbook(n.etagHash,this.scope.getEwaTargetWindow(),t.url,t.accessToken,t.accessTokenTtl,this.services.packageService.getWorkbookStorageProvider(n.packageId),this.services.packageService.getWorkbookContentProvider(n.packageId),n.permissions,s,o).then((function(t){a.scope.isEmbeddedWorkbookReady=!0,t.ewaControl&&(e.models.WorkbookContainer.DiscoverabilityToastDismissed=a.services.tutorialDataStore.hasKey(i.WorkbookPinToastShown),a.scope.viewModel.showDiscoverabilityToast=a.scope.workbookAppBarIncluded,a.onEwaApplicationReady(t)),r.resolve()}),(function(){r.reject(),a.scope.viewModel.workbook=null,a.scope.embeddedWorkbookFailed=!0}))},i.prototype.onWopiDataError=function(t,i){var o=this.services.$window,r=this.services.telemetryService,a=this.services.navigation;this.services.errorService.error(this.services.localizationService.get("Workbook_FailToEmbedWorkbookMessage"),"Workbook_FailToEmbedWorkbook",{title:this.services.localizationService.get("Workbook_FailToEmbedWorkbookTitle"),dismissCallback:function(n){"openInXL"===n&&(r.logChildEvent(i,e.telemetry.DashboardWorkbookViewedExternallyDueToAnError,t.contract.etagHash),o.open(t.viewUrl,"_blank")),a.navigateBack()},dialogOptions:[{label:this.services.localizationService.get("Workbook_FailToEmbedWorkbookActionOpenInExcel"),resultValue:"openInXL"},{label:this.services.localizationService.get("PowerViewError_Close"),resultValue:"close"}]})},i.prototype.ensureExpressionApplied=function(e){var t=this,i=this.services.promiseFactory.defer();return this.services.timeout((function(){var o=e();t.services.timeout((function(){i.resolve(o)}),0,!1)})),i.promise},i.prototype.getWopiAccessData=function(e,t){return this.services.workbookService.getWorkbookEmbedAccessData(e.id,e.packageId,t)},i.prototype.loadExcelWorkbook=function(t,i){var o=this,r=this.services.telemetryService,a=r.startEvent(e.telemetry.DashboardViewWorkbook,t.contract.etagHash,t.getPermissions(),this.services.packageService.getWorkbookStorageProvider(t.packageId),this.services.packageService.getWorkbookContentProvider(t.packageId));this.getWopiAccessData(t,a.event).then((function(e){o.ensureExpressionApplied((function(){o.scope.isEmbeddedWorkbookDataReady=!0})).then((function(){o.embedWorkbook(e,i,a)}))}),(function(){o.onWopiDataError(t,a.event),o.scope.viewModel.workbook=null,a.reject()}))},i.prototype.setWorkbookAppBarIfNeeded=function(){this.scope.workbookAppBarIncluded=!this.services.permissionService.isActiveWorkspaceIsReadOnly},i.prototype.calculateWorkbook=function(){this.workbook.recalcAsync()},i.prototype.onLoadExcelWorkbook=function(e,t){var i=this;this.resetSelectionArgs(),this.scope.viewModel.workbook=e,this.scope.viewModel.workbookRangeSelected=!1,this.scope.viewModel.workbookChanged=!1,this.scope.viewModel.workbookLoaded=!1,this.scope.viewModel.loadedWorkbookOrdinal=e.contract.etagOrdinal,this.workbook=null,this.scope.isEmbeddedWorkbookDataReady=!1,this.scope.isEmbeddedWorkbookReady=!1,this.scope.embeddedWorkbookFailed=!1,this.anyWorkbookChangesOccurred=!1,this.ensureExpressionApplied((function(){})).then((function(){i.loadExcelWorkbook(e,t)}))},i.prototype.openWorkbookInExcel=function(){this.services.$window.open("ms-excel:ofe|u|"+this.scope.viewModel.workbook.contract.sourceFilePath,"_self")},i.prototype.openWorkbookInExcelOnline=function(){this.services.$window.open(this.scope.viewModel.workbook.editUrl,"_blank")},i.prototype.showPinDashboardDialog=function(){var t=this;this.scope.appBarArgs.selection&&this.scope.appBarArgs.selection.getTileData().then((function(i){var a={item:i.elementName,itemType:i.namedItemType,hideGridlines:!1,hideRowAndColumnHeaders:!0,allowTyping:!1,activeSelection:i.elementRange,keepOriginalContentSize:r.workbook.defaultKeepOriginalContentSize,sheetName:i.sheetName.replace(/\'/g,"''")},n={version:e.dataServices.constants.upgrader.TileConfigVersion,workbookTile:a},s={action:e.common.constants.openWorkbookActionName},c=n.workbookTile.item,l=t.scope.viewModel.workbook,d=e.dataServices.ContractUtils.createMasterLayoutConfig({width:e.common.GridLayoutConstants.gridItemMediumLandscapeColSpan,height:e.common.GridLayoutConstants.gridItemMediumLandscapeRowSpan}),p={type:o.workbook,workbookId:t.scope.viewModel.workbook.id,packageId:t.scope.viewModel.workbook.contract.packageId,displayText:t.services.workbookService.getDefaultTileTitle(n.workbookTile,l.contract.displayName),subDisplayText:t.services.workbookService.getDefaultTileSubtitle(c),config:JSON.stringify(n),$config:n,action:JSON.stringify(s),layoutConfig:JSON.stringify(d),$layoutConfig:d};t.services.modelConverter.resolveTilePackage(p,t.services.packageService.packages);var u=t.services.packageService.getWorkbookContentProvider(l.packageId),v=e.common.findContentProviderName(t.services.contentProviderHttpService.getBuiltInContentProviders(),u),h=void 0!==i.namedItemType?i.namedItemType:-1,g=t.services.telemetryService.startEvent(e.telemetry.DashboardPinWorkbookTile,"",e.telemetry.PinTileSource.Workbook,"",!1,v,i.smartSelection,h,t.services.packageService.getWorkbookStorageProvider(l.packageId));t.services.pinTileService.showPinVisualDialog(void 0,void 0,void 0,t.scope.viewModel.workbook.contract,g,p)}))},i.prototype.onEwaApplicationReady=function(e){var t=this;this.resetSelectionArgs();var i=e.ewaControl;this.workbook=i.getActiveWorkbook(),i.add_activeSelectionChanged((function(e){return t.onWorkbookSelectionChange(e)})),i.add_workbookChanged((function(e){return t.onWorkbookChanged(e)})),this.scope.viewModel.workbookLoaded=!0,this.scope.appBarArgs.selection=new a(this.workbook,i.getActiveWorkbook().getActiveSelection(),this.services.promiseFactory)},i.prototype.onWorkbookSelectionChange=function(e){var t=this;if(this.scope.viewModel.workbookRangeSelected=!0,0===e.getSelectionType()){var i=e;this.scope.$applyAsync((function(){return t.scope.appBarArgs.selection=new a(t.workbook,i.getRange(),t.services.promiseFactory)}))}else if(1===e.getSelectionType()){var o=e;this.scope.$applyAsync((function(){return t.scope.appBarArgs.selection=new n(t.workbook,o.getNamedItem(),t.services.promiseFactory)}))}},i.prototype.onWorkbookChanged=function(t){var i=this.scope.viewModel;!this.anyWorkbookChangesOccurred&&i.workbookRangeSelected&&(this.services.telemetryService.logEvent(e.telemetry.DashboardWorkbookEditedInPowerBICausedPinBlock),this.anyWorkbookChangesOccurred=!0),i.workbookChanged||(i.workbookChanged=!0,this.scope.$digest())},i.prototype.pinButtonResponse=function(){if(this.scope.viewModel.workbookChanged)this.services.pinTileService.pinTileScenario=0,this.showPinDashboardDialog();else if(this.scope.viewModel.workbookRangeSelected||this.services.applicationOptions.isE2ERun)this.services.pinTileService.pinTileScenario=2,this.showPinDashboardDialog();else{this.services.pinTileService.pinTileScenario=1;var e=this.services.localizationService.get("PinTile_RangeNotSelected"),t=this.services.localizationService.get("PinTile_RangeNotSelected_Title");this.services.errorService.infoCustom(t,e)}},i})();s.WorkbookPinToastShown="workbookPinToastShown",t.WorkbookContainerController=s})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t){var i=this;this.restrict="A",this.scope={backgroundImage:"@"},this.link=function(t,o,r){o.css({opacity:"0"});var a=!0;t.$watch("backgroundImage",(function(n){if(!_.isEmpty(n)){var s=o.visible()&&"visible"===document.visibilityState&&"false"!==r.backgroundAnimation,c=$("<img/>");c.one("error",(function(){$(i).remove();var o=i.localizationService.get("Tile_ErrorText");t.$emit(e.common.constants.tileErrorEventName,o)})).attr("src",n),s?c.one("load",(function(){var e=o;return a?(a=!1,e.css({"background-image":"url("+n+")"}),void e.velocity({opacity:"1"},1e3)):void e.velocity({opacity:"1"}).velocity("transition.slideLeftBigOut",500,(function(){e.css({"background-image":"url("+n+")"}),e.velocity("transition.slideRightBigIn",500)}))})).attr("src",n):o.css({"background-image":"url("+n+")",opacity:"1"})}}))},this.localizationService=t}return t})();t.BackgroundImage=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/collapsiblePane.html",this.transclude=!0,this.replace=!0,this.scope={viewModel:"=",isExpanderHidden:"="},this.controller=e.common.createController(e.controllers.CollapsiblePaneController)}return t})();t.CollapsiblePane=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t){var i=this;this.restrict="E",this.templateUrl="views/contentProviderDialog.html",this.replace=!0,this.scope={viewModel:"="},this.link=function(t,o,r){var a=o.find("iframe.contentProviderDialogFrame");t.loadContentProviderFrame=function(o){var r=a.parent();a.remove(),a=o,r.append(a);var n=a[0].contentWindow?a[0].contentWindow:a[0].contentDocument?a[0].contentDocument.defaultView:null;n&&(a[0].onload=function(){i.$timeout((function(){return t.$emit(e.constants.configPageLoadedEventName)}),0)})},t.$on(e.common.constants.scopeDestroyEventName,(function(){o.closest(".sliderContentView").find("input.sourceFilterBox").select()}))},this.controller=e.common.createController(e.controllers.ContentProviderController),this.$timeout=t}return t})();t.ContentProvider=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.replace=!0,this.templateUrl="views/contentProviderLocalFile.html",this.scope={selectedFile:"=",isUpdateFromElementFlow:"=",elementToUpdate:"=?"},this.controller=e.common.createController(e.controllers.ContentProviderLocalFileController)}return t})();t.ContentProviderLocalFile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderChildTile.html",this.replace=!0,this.scope={viewModel:"="}}return e})();e.ContentProviderChildTile=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.ContentProviderConfigurationUIStyle,o=(function(){function t(i,o,r,a,n,s){var c=this;this.restrict="E",this.replace=!0,this.templateUrl="views/contentProviderDialog.html",this.scope={},this.controller=e.common.createController(e.controllers.ContentProviderController),this.link=function(i,o){var r=o.find(".loading"),a=o.find("iframe.contentProviderDialogFrame");c.contentProviderAuthenticationInfoCache={},i.hideLoadingUI=function(){r.hide()},i.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,t,o,r,a){o.providerName||i.unloadContentProviderFrame(!0)}));var n=c.rootScopeService.$on(e.common.constants.contentProviderStoreConnectEventName,(function(t,n){c.currentContentProviderTile=n,c.windowService.clearInterval(c.authenticationDialogClosingDetectInterval),n.customConfigurationHandler?(c.windowService[e.common.constants.contentProviderStoreCustomConfigurationService]&&(c.windowService[e.common.constants.contentProviderStoreCustomConfigurationService].configData=void 0),i.customConfigurationHandler=n.customConfigurationHandler):n.authenticationInitializationInProgress?n.authenticationInitializationDeferred.promise.then((function(e){c.showLoginDialog(i,n)})):n.authentication&&n.authentication.oAuth?c.showLoginDialog(i,n):c.connect(o,r,a,i,n)}));i.getAuthenticationInfoByContentProviderName=function(e){return c.contentProviderAuthenticationInfoCache[e]},i.unloadContentProviderFrame=function(r){o.hasClass(t.VisibleCSSClassName)&&(i.hideLoadNotification(),o.removeClass(t.VisibleCSSClassName),c.connectedTile=null,a.remove(),i.$emit(e.common.constants.contentProviderStoreConfigurationUIVisibilityChangedEventName,!1),r||c.navigation.showGetDataSlider(c.navigation.categoryName,"",2))},i.loadContentProviderFrame=function(t,n){n?(i.showLoadNotification(),o.addClass("modalDialog")):o.removeClass("modalDialog"),i.$emit(e.common.constants.contentProviderStoreConfigurationUIVisibilityChangedEventName,!0,n),a.remove(),a=t,o.append(a),n&&a.show();var s=a[0].contentWindow?a[0].contentWindow:a[0].contentDocument?a[0].contentDocument.defaultView:null;s&&(a[0].onload=function(){n||r.hide(),a.show()})};var s=c.rootScopeService.$on(e.common.constants.contentProviderStoreAuthorizationCodePostbackEventName,(function(e,t){c.windowService.clearInterval(c.authenticationDialogClosingDetectInterval),c.contentProviderTileWaitingForAuthentication&&c.contentProviderTileWaitingForAuthentication.providerName===c.navigation.providerName&&(c.contentProviderAuthenticationInfoCache[c.currentContentProviderTile.providerName]={endpoint:c.currentContentProviderTile.authentication.oAuth.oAuthEndpoint,authCode:t},c.connect(o,r,a,i,c.currentContentProviderTile))})),l=c.rootScopeService.$on(e.common.constants.contentProviderStoreCustomConfigurationPostbackEventName,(function(e,t){i.customConfigurationHandler=void 0,t?c.connect(o,r,a,i,c.currentContentProviderTile):c.navigation.showGetDataSlider(c.navigation.categoryName,"",2)}));i.$on(e.common.constants.scopeDestroyEventName,(function(){i.hideLoadNotification(),o.closest(".landingController").find("input.ng-pristine").select(),n(),s(),l()}))},this.ngTimeoutService=i,this.windowService=o,this.rootScopeService=r,this.navigation=n,this.localizationService=a,this.contentProviderService=s}return t.prototype.showLoginDialog=function(t,i){var o=this,r=e.common.errorService.control(),a=[new InJs.ModalDialogAction(this.localizationService.get("GetData_OK"),function(e,t){r.hideDialog(),o.navigation.showGetDataSlider(o.navigation.categoryName,"",2)})];if(i.authentication.oAuth.oAuthEndpoint){this.contentProviderTileWaitingForAuthentication=this.currentContentProviderTile;var n=this.windowService;n.$parentScope=t,this.authWindow=e.common.popupWindowService.open(i.authentication.oAuth.oAuthEndpoint,550,530),this.authenticationDialogClosingDetectInterval=this.windowService.setInterval((function(){try{o.authWindow&&!o.authWindow.closed||(o.windowService.clearInterval(o.authenticationDialogClosingDetectInterval),o.contentProviderTileWaitingForAuthentication.providerName===o.navigation.providerName&&o.navigation.showGetDataSlider(o.navigation.categoryName,"",2),o.contentProviderTileWaitingForAuthentication=null)}catch(e){}}),100)}else{var s=this.localizationService.get("GetData_AuthenticationError_Title"),c=this.localizationService.get("GetData_UnableToRetrieveTheAuthenticationEndpoint");r.showCustomDialog(s,InJs.DomFactory.div().text(c),a,void 0,!0)}},t.prototype.connect=function(o,r,a,n,s){if(this.connectedTile!==s)switch(this.connectedTile=s,o.addClass(t.VisibleCSSClassName),r.show(),a.hide(),s.contract.configurationUIstyle){case i.DirectConnect:var c=this.contentProviderService.getDataAccessInfo(s.contract);c&&n.$emit(e.constants.dataSourceAccessInfoGeneratedEventName,c,s.contract,!0);break;case i.FullScreen:n.initConfigurationPage(s.contract);break;case i.ModalDialog:n.initConfigurationPage(s.contract,!0)}},t})();o.VisibleCSSClassName="visible",t.ContentProviderConfiguration=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderEventTile.html",this.replace=!0,this.scope={viewModel:"="},this.link=function(e,t,i){var o=JSON.parse(e.viewModel.contract.providerConfig),r=o.eventName;e.handleClick=function(){r&&e.$root.$emit(r)}}}return e})();e.ContentProviderEventTile=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderLinkTile.html",this.replace=!0,this.scope={viewModel:"="},this.link=function(e,t,i){var o=JSON.parse(e.viewModel.contract.providerConfig);e.href=o.FWLink}}return e})();e.ContentProviderLinkTile=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=".xlsx,.xlsm,.pbix,.csv",o=(function(){function t(t,o,r){var a=this;this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderLocalFileTile.html",this.replace=!0,this.scope={viewModel:"="},this.link=function(t,o,r){t.chooseFile=function(){var o=a.promiseFactory.defer();o.promise.then((function(i){t.$emit(e.common.constants.localFileSelectedEventName,i)})),a.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.GetData)||a.localFileService.chooseLocalFile(o,i)}},this.localFileService=t,this.quota=o,this.promiseFactory=r}return t})();t.ContentProviderLocalFileTile=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderNormalTile.html",this.replace=!0,this.scope={viewModel:"="}}return e})();e.ContentProviderNormalTile=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.controllers.contentProviderStore.ContentProviderSplashState,o=(function(){function t(t,o){var r=this;this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderSplash.html",this.replace=!0,this.controller=e.common.createController(e.controllers.contentProviderStore.ContentProviderSplashController),this.link=function(t,o,a){var n=t.$eval(a.screenState);n?(t.screenState=n,n===i.GroupWelcome&&r.telemetryService.logEvent(e.telemetry.DashboardGetDataSplash,e.telemetry.GetDataSplashState.GroupWelcome)):r.navigation.categoryName===e.constants.navigation.getDataWelcome?(t.screenState=i.Welcome,r.telemetryService.logEvent(e.telemetry.DashboardGetDataSplash,e.telemetry.GetDataSplashState.Welcome)):(t.screenState=i.GetData,r.telemetryService.logEvent(e.telemetry.DashboardGetDataSplash,e.telemetry.GetDataSplashState.GetData))},this.telemetryService=t,this.navigation=o}return t})();t.ContentProviderSplash=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderStore.html",this.scope={activeDashboard:"=activeDashboard"},this.replace=!0,this.controller=e.common.createController(e.controllers.contentProviderStore.ContentProviderStoreController)}return t})();t.ContentProviderStore=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderTileBody.html",this.replace=!0}return e})();e.ContentProviderTileBody=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.ContentProviderConfigurationUIStyle,o=e.controllers.contentProviderStore.contentProviderConstants,r=e.common.utils.DateFormatter,a=(function(){function t(t,a,n,s,c,l,d,p,u,v,h,g){var f=this;this.contentProviderService=v,this.rtl=h,this.windowMetrics=g,this.restrict="E",this.templateUrl="views/contentProviderStore/contentProviderTileBrowser.html",this.replace=!0,this.scope={tiles:"=",selectedContentProviderTile:"=",navigateToCategory:"=",hasContentProviderLoaded:"=",isSplashState:"="},this.link=function(t,a,n){var s,c,l,d=0,p=0,u=[],v=a.find(".detailPane"),h=v.find(".accordion"),g=v.find(".detailPaneArrow"),m="resize.contentProvider";t.contentProviderLoadingMessage=e.common.localize.get("Contentprovider_Loading_Message"),t.selectedChildContentProvider=null,t.getPublishMetaData=function(e){return f.localizationService.format("GetData_PublishedBy",[e])},t.getLocalizedValue=function(e){return f.localizationService.get(e)},t.getPrettyDate=function(e){return r.getPrettyRelativeDate(e,f.localizationService)},t.tilesByProviderName=_.indexBy(t.tiles,"providerName"),t.clearSelection=function(){t.selectedContentProviderTile=null},t.navigateToTile=function(i,r){var a=t.tiles[i],n=o.categoryEnumToNameMap[a.clientCategory],s=a.providerName;if(f.telemetryService.logEvent(e.telemetry.DashboardGetDataProviderSelect,n,s),a.contract.disabledInArchivedContent===!0&&f.viralTenantMergeHelperService.viewingDataFromMergedViralTenant())return void f.viralTenantMergeHelperService.displayFeatureDisabledErrorMessage("ArchivedContent_ErrorMessageOneDrivePro");if(r){var c=0;f.navigation.providerName&&(c=2),f.navigation.showGetDataSlider(n,s,c)}},t.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,i,o,r,n){t.updateSelectedContentProviderTile(),n.categoryName===o.categoryName||o.providerName||a.scrollTop(0)})),t.updateSelectedContentProviderTile=function(){var e=f.navigation.providerName,i=_.find(t.tiles,(function(t){return t.providerName===e}));i?t.selectTile(i):(t.hideDetailPane(),t.clearSelection())},t.selectChildTile=function(e){t.selectedChildContentProvider=e},t.selectTile=function(e){var o=_.findIndex(t.tiles,e),r=s[o],n=angular.element(r),l=e.contract.configurationUIstyle<=i.DirectConnect;if(t.selectedContentProviderTile=e,e.disableDetailPane)f.connectToContentProvider(t,!1);else if(l&&n){var p=n.find(".tileContent"),m=u.indexOf(r),b=(Math.floor(m/d)+1)*d-1;b>=u.length&&(b=u.length-1);var y=v.height(),S=!1;if(b===c&&v.hasClass("visible")||(v.removeClass("visible").detach(),v.insertAfter(u[b]),v.offset(),v.addClass("visible"),S=!0),f.openDetailPane(t,a,n,e,p,v,h,y,S),n.length>0){var C=n.offset().left,w=v.offset().left,I=n.width(),D=(I-g.outerWidth())/2;if(f.rtl&&f.rtl.isRtlLayout){var M=f.windowMetrics.windowWidth;C=C+I-M,w=w+v.width()-M,D*=-1}var T=C-w+D;g.css("transform","translateX("+T+"px)")}c=b}},t.closeDetailPane=function(){f.navigation.showGetDataSlider(f.navigation.categoryName,"",2),t.hideDetailPane()},t.hideDetailPane=function(){var e=a.find(".detailPane");e.hasClass("visible")&&(e.removeClass("visible"),e.detach())},t.childConnect=function(){f.childConnect(t,!0)},t.connect=function(){f.connectToContentProvider(t,!0)};var b=t.$root.$on(e.common.constants.contentProviderStoreTileListRefreshEventName,(function(e,i,o){t.currentCategory=i,l=o?new RegExp("\\b"+o,"i"):null,t.hideDetailPane(),l?(t.tiles=_.sortBy(t.tiles,(function(e){return e.title.toLowerCase()})),t.clearSelection()):t.tiles=_.sortBy(t.tiles,(function(e){return[e.sortPriority,e.title.toLowerCase()]})),f.timeoutService((function(){S(),l||t.updateSelectedContentProviderTile()}))}));t.$on(e.common.constants.scopeDestroyEventName,(function(){angular.element(f.windowService).off(m)})),angular.element(f.windowService).on(m,(function(){S()}));var y=function(e){var o=!1;return l?(o=null!==e.title.match(l),!o&&e.searchKeywords&&(o=null!==e.searchKeywords.match(l)),!o||e.contract.configurationUIstyle!==i.FWLink&&e.contract.configurationUIstyle!==i.Event||(o=!1)):o=e.clientCategory===t.currentCategory,o&&(f.updateTileAuthorization(e),f.updateChildAuthorization(e)),o},S=function(){s=a.find(".tile"),u=[],t.visibleTiles=[];var e=!1;if(s.length>0){for(var i=0,o=s.length;i<o;i++){var r=t.tiles[i],n=angular.element(s[i]);y(r)?(r.visible=!0,n.addClass("visible"),t.visibleTiles.push(r),u.push(s[i]),e=!0):(r.visible=!1,n.removeClass("visible"))}var c=angular.element(s[0]);if(d=Math.floor(a.width()/c.outerWidth(!0)),d>0){var h=c.outerWidth(!0)*d-parseInt(c.css("margin-right"),0);v.css("width",h)}p!==d&&t.selectedContentProviderTile&&v.hasClass("visible")&&t.selectTile(t.selectedContentProviderTile),p=d}t.showNoSearchResultText=!e&&null!==l};t.$on(e.common.constants.scopeDestroyEventName,(function(){b()}))},this.timeoutService=t,this.windowService=a,this.navigation=n,this.telemetryService=s,this.localizationService=c,this.viralTenantMergeHelperService=l,this.userInfoService=d,this.licenseHelperService=p,this.quota=u}return t.prototype.handleAutoRedirect=function(t,i){if(i.autoRedirectUrlParams){for(var o=i.autoRedirectUrlParams.split("&"),r=jsCommon.QueryStringUtil.parseQueryString(),a=!1,n=0,s=o;n<s.length;n++){var c=s[n];if(r[c]){a=!0;break}}a&&t.connect()}else this.navigation.stateService.params[e.common.constants.navigation.getDataForceConnect]&&t.connect()},t.prototype.openDetailPane=function(e,i,o,r,a,n,s,c,l){var d=this;this.timeoutService((function(){var a=n.find(".accordion"),s=a.height()+106;(c!==s||l)&&n.animate({height:s},250,(function(){o.length>0&&i.animate({scrollTop:o.position().top+o.height()+n.height()-i.height()-t.detailPaneScrollingOffset},250),d.handleAutoRedirect(e,r)}))}))},t.prototype.updateChildAuthorization=function(e){if(this.tileHasChildItems(e))for(var t=0,i=e.tileGrouping.groupingChildItems;t<i.length;t++){var o=i[t];this.updateTileAuthorization(o)}},t.prototype.updateTileAuthorization=function(t){if(t.authentication&&t.authentication.oAuth&&t.authenticationInitializationInProgress&&!t.authentication.oAuth.oAuthEndpoint){var i=e.common.httpService.powerbiRequestOptions();i.telemetryDescription="GetAuthorization: "+t.contract.providerName,e.common.httpService.get(t.authentication.oAuth.endpointRetrievalAPI,i).then((function(e){t.authenticationInitializationInProgress=!1,t.authentication.oAuth.oAuthEndpoint=e.data,t.authenticationInitializationDeferred.resolve(e.data)}),(function(e){t.authenticationInitializationInProgress=!1,t.authenticationInitializationDeferred.resolve("")}))}else t.authenticationInitializationInProgress=!1},t.prototype.tileHasChildItems=function(e){return e.tileGrouping&&e.tileGrouping.groupingChildItems&&e.tileGrouping.groupingChildItems.length>0},t.prototype.childConnect=function(e,t){e.selectedContentProviderTile=e.selectedChildContentProvider,this.connectToContentProvider(e,!0)},t.prototype.connectToContentProvider=function(t,i){var r=this;this.localizationService.ensureLocalization((function(){var a=!1,n=!1,s=o.categoryEnumToNameMap[t.selectedContentProviderTile.clientCategory],c=t.selectedContentProviderTile.providerName,l=t.selectedContentProviderTile;
if(l.usePBIDesktop)return t.closeDetailPane(),r.windowService.open(e.constants.downloadPBIDesktopLink,e.constants.targetValueBlank),void r.telemetryService.logEvent(e.telemetry.DashboardGetDataProviderAccordionConnect,s,c,a,n);if(r.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.GetData)&&(n=!0),!n){var d=l.contract;r.contentProviderService.upgradeRequiredToConnect(d)?(a=!0,r.contentProviderService.displayFeatureDisabledDialog(d)):(t.$root.$emit(e.common.constants.contentProviderStoreConnectEventName,t.selectedContentProviderTile),i&&t.hideDetailPane())}r.telemetryService.logEvent(e.telemetry.DashboardGetDataProviderAccordionConnect,s,c,a,n)}))},t})();a.detailPaneScrollingOffset=39,t.ContentProviderTileBrowser=a})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/contentProviderStore/customConfigHandlers/sharePointUrlModal.html"}return e})();e.SharePointUrlModal=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(e){e[e.left=0]="left",e[e.right=1]="right"})(i||(i={}));var o=(function(){function t(){this.controller=e.common.createController(r),this.restrict="A",this.scope={context:"=",arrowDirection:"=?",showContextMenu:"=?"}}return t})();t.ContextMenu=o;var r=(function(){function e(t,o){var r=this;this.scope=t,this.services=o,this.element=this.services.$element,this.rtl=this.services.rtl,this.windowMetrics=this.services.windowMetrics,this.rtl&&this.rtl.isRtlLayout&&(t.arrowDirection=e.rightArrowDirection),this.arrowDirection=t.arrowDirection?i[t.arrowDirection]:i.left,this.scope.contextMenuStyle=e.contextMenuInactiveStyle,this.scope.close=function(){return r.hideDialog()},t.$on("$destroy",(function(){return r.dispose()})),$(window).on("resize",(function(){return r.blurAnchor()})),$(window).on(jsCommon.DOMConstants.keyDownEventName,(function(e){return r.keyDownHideDialog(e)})),$(window).on(jsCommon.DOMConstants.mouseDownEventName,(function(e){return r.mouseDownHideDialog(e)})),angular.isUndefined(t.showContextMenu)?this.element.bind(jsCommon.DOMConstants.mouseClickEventName,(function(e){return r.showDialog(e)})):this.scope.$watch((function(){return r.scope.showContextMenu}),(function(t,i){t&&!i&&r.scope.contextMenuStyle===e.contextMenuInactiveStyle?r.showDialog():!t&&i&&r.scope.contextMenuStyle===e.contextMenuActiveStyle&&r.hideDialog()}))}return e.createOptions=function(){return{additionalServices:["$element","$templateCache","rtl","windowMetrics"]}},e.prototype.clickOutsideContextMenu=function(t){var i=t.pageX,o=t.pageY;if(this.contextMenuElement&&this.scope.contextMenuStyle===e.contextMenuActiveStyle){var r=this.contextMenuElement.offset(),a=r.left,n=r.top,s=a+this.contextMenuElement.width(),c=n+this.contextMenuElement.height();return a>i||i>s||n>o||o>c}return!1},e.prototype.blurAnchor=function(){this.element.is(":focus")&&this.element.blur()},e.prototype.dispose=function(){this.contextMenuElement&&this.contextMenuElement.remove(),$(window).off("resize",this.blurAnchor),$(window).off(jsCommon.DOMConstants.keyDownEventName,this.keyDownHideDialog),$(window).off(jsCommon.DOMConstants.mouseDownEventName,this.mouseDownHideDialog)},e.prototype.showDialog=function(t){var o=this;t&&(t.preventDefault(),t.stopPropagation()),this.contextMenuElement||(this.template=angular.element(this.services.$templateCache.get("views/contextMenu.html")),this.contextMenuElement=this.services.compile(this.template)(this.scope),this.arrowElement=this.contextMenuElement.find(e.arrowSelector),$("body").append(this.contextMenuElement));var r=this.element.offset();this.services.timeout((function(){switch(o.arrowDirection){case i.left:r.left+=o.element.width()+e.arrowWidth+e.positionOffset.left,r.top-=o.contextMenuElement.height()/2-o.element.height()/2-e.positionOffset.top;break;case i.right:var t=o.contextMenuElement.width();if(r.left-=t+e.arrowWidth+e.positionOffset.left,r.top-=o.contextMenuElement.height()/2-o.element.height()/2-e.positionOffset.top,o.rtl&&o.rtl.isRtlLayout){var a=o.windowMetrics.windowWidth-(r.left+t);r.left=null,o.contextMenuElement.css("right",a)}}r.top=o.adjustPositionTop(r),o.contextMenuElement.css(r),o.scope.contextMenuStyle=e.contextMenuActiveStyle,o.scope.showContextMenu=!0}))},e.prototype.adjustPositionTop=function(t){var i=0,o=i+$(document).height()-this.contextMenuElement.height();return t.top<i?(this.arrowElement.css({top:t.top+this.contextMenuElement.height()/2-i+e.arrowPositionOffset.top}),i):t.top>o?(this.arrowElement.css({top:t.top+this.contextMenuElement.height()/2-o+e.arrowPositionOffset.top}),o):(this.arrowElement.removeAttr("style"),t.top)},e.prototype.hideDialog=function(){this.contextMenuElement&&(this.scope.contextMenuStyle=e.contextMenuInactiveStyle,this.scope.showContextMenu=!1)},e.prototype.mouseDownHideDialog=function(e){var t=this;this.clickOutsideContextMenu(e)&&this.scope.$apply((function(){t.hideDialog()}))},e.prototype.keyDownHideDialog=function(t){var i=this;this.scope.contextMenuStyle===e.contextMenuActiveStyle&&27===t.keyCode&&this.scope.$apply((function(){i.hideDialog()}))},e})();r.arrowPositionOffset={left:0,top:-10},r.arrowWidth=17,r.positionOffset={left:-22,top:0},r.contextMenuActiveStyle="active",r.contextMenuInactiveStyle="inactive",r.arrowSelector=".wrapper .arrow",r.rightArrowDirection="right"})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i="custom",o=(function(){function t(t){var o=this;this.$timeout=t,this.require=["ngModel","?^customValidatorSynchronizer"],this.restrict="A",this.link=function(t,r,a,n){function s(e){d.$setValidity(i,u.validate(e)),p&&p.synchronizeValidation()}var c,l,d=n[0],p=n[1],u=t.$eval(a.customValidator);p&&(l=p.registerValidator((function(){d.$error[i]&&d.$setValidity(i,u.validate(d.$viewValue))}))),t.$watch(a.ngModel,(function(e,t){(e||t)&&(c?o.$timeout.cancel(c):d.$setValidity(i,!0),u.delay>0?c=o.$timeout((function(){c=null,s(e)}),u.delay):s(e))})),t.$on(e.common.constants.scopeDestroyEventName,(function(){l&&l(),c&&o.$timeout.cancel(c)}))}}return t})();t.CustomValidator=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.controller=e.common.createController(e.controllers.CustomValidatorSynchronizerController),this.restrict="A"}return t})();t.CustomValidatorSynchronizer=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.AppUtils,o=e.common.models,r=e.helpers.DashboardTelemetryHelper,a=e.services.FullScreenFitStyle,n=(function(){function t(n,s,c,l,d,p,u){var v=this;this.telemetryService=n,this.gridLayout=s,this.userActivityContextService=c,this.appService=l,this.packageService=d,this.timeout=p,this.groupService=u,this.restrict="E",this.templateUrl="views/dashboard.html",this.replace=!0,this.scope={viewModel:"=",displayLayout:"<",mobileLayout:"<?",inEditMobileLayoutMode:"<?",isGroupTransitionDelayed:"<",enableStrategySwap:"<?"},this.controller=e.common.createController(e.controllers.DashboardController),this.link=function(n,s,c){function l(){var e=s.find(".dashboardTile.selected");if(e.length>0){var t=s.offset(),i=e.offset();s.animate({scrollTop:i.top-t.top+s.scrollTop(),scrollLeft:i.left-t.left+s.scrollLeft()})}}var d=-1,p=!1,u=!0;v.telemetryHelper=new r(v.telemetryService,v.userActivityContextService,v.timeout,n),n.disablePointerEvents="true"===c.disablePointerEvents,n.scaleDashboard=function(e){var i=n.gridLayoutContainer.containerWidth+t.TileContainerPixelPadding,o=n.gridLayoutContainer.containerHeight,r=s.parent().width(),a=s.parent().height(),c=t.calculateDashboardScaleFactor(i,o,r,a,e);if(!(c<=0)){var l={transform:"scale("+c+")",width:i+"px",height:e?a/c+"px":o+"px"};s.css(l).addClass(t.DashboardFitToScreenCSSClass)}},n.$watch("fullScreen.fitStyle",(function(e){switch(e){case a.FitToContent:n.scaleDashboard();break;case a.FitToWidth:n.scaleDashboard(!0);break;case a.None:s.removeAttr("style").removeClass(t.DashboardFitToScreenCSSClass)}})),n.$watch("viewModel",(function(e,r){if(e&&r&&e.id!==r.id){e.gridLayoutService=r.gridLayoutService,e.gridLayoutService.strategy=new o.DefaultGridLayoutStrategy,e.gridLayoutService.displayLayout=0;var a=e.tiles;if(a)for(var c=0,l=a;c<l.length;c++){var h=l[c];h.gridLayoutContext&&h.gridLayoutContext.setActiveLayout(0),h.invalidateLayout()}}if(e){var g=null;v.appService&&e.contract&&(g=i.getDashboardAppGUID(e,v.appService,v.packageService)),v.telemetryHelper.recordOpenDashboardEvent(e,g,v.groupService.activeGroupObjectId),v.gridLayout&&(e.gridLayoutService=v.gridLayout);var f=n.displayLayout||0;e.currentDisplayLayout=f}p=!0,window.clearTimeout(d),s.scrollTop(0).scrollLeft(0).addClass(t.TransitioningCSSClass),u||s.css("opacity","0")})),n.$watch("viewModel.isLoaded",(function(t,i){var o=v.doesModelContainsTilesByLayout(n.viewModel,n.displayLayout);t&&!i&&o&&n.$emit(e.constants.dashboardTileRepeatFinishedEvent)})),n.onDestroy=function(){v.telemetryHelper.forceResolve()},n.$on(e.constants.dashboardTileRepeatFinishedEvent,(function(){n.fullScreen.fitStyle===a.FitToContent&&n.scaleDashboard(),l(),p&&(u||s.velocity(t.DashboardVelocityUITransitionType,t.DashboardTransitionDurationMs),d=window.setTimeout((function(){s.removeClass(t.TransitioningCSSClass)}),2e3),p=!1,n.$emit(e.common.constants.domLayoutChangedEvent))}))}}return t.calculateDashboardScaleFactor=function(e,t,i,o,r){var a=i/e;if(r)return a;var n=o/t;return a<n?a:n},t.prototype.doesModelContainsTilesByLayout=function(e,t){return e&&(!e.tiles||void 0===t||0===_.filter(e.tiles,(function(e){return e.hasLayoutPosition(t)})).length)},t})();n.TransitioningCSSClass="transitioning",n.DashboardTransitionDurationMs=150,n.DashboardVelocityUITransitionType="transition.fadeIn",n.TileContainerPixelPadding=40,n.DashboardFitToScreenCSSClass="fitToScreen",t.Dashboard=n})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.constants,o=(function(){function t(){this.restrict="E",this.templateUrl="views/dashboardContainer.html",this.replace=!0,this.scope={viewModel:"=",collapsiblePaneMode:"=",isActive:"="},this.controller=e.common.createController(e.controllers.DashboardContainerController),this.link=function(e,t,o){var r=e.rootScope.$on(i.inFocusEnterEvent,(function(){t.hide()})),a=e.rootScope.$on(i.inFocusExitEvent,(function(){t.show()})),n=e.$on("$destroy",(function(){r(),a(),n()}))}}return t})();t.DashboardContainer=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.replace=!0,this.controller=e.common.createController(e.controllers.DevToolsViewController),this.templateUrl="views/devToolsView.html"}return t})();t.DevToolsView=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/excelUploadFormat.html",this.replace=!0,this.controller=e.common.createController(e.controllers.ExcelUploadFormatController)}return t})();t.ExcelUploadFormat=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.replace=!0,this.scope={viewModel:"=",canvasOptions:"<",explorationContainerOptions:"<"},this.controller=e.common.createController(e.controllers.ExplorationContainerController),this.templateUrl="views/explorationContainer.html"}return t})();t.ExplorationContainer=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=jsCommon.DOMConstants,i=(function(){function e(e){var i=this;this.restrict="A",this.scope={flyoutToggle:"="},this.link=function(e,o,r){function a(t){var i=$(t.target).parents().addBack().is(o);i||(e.flyoutToggle=!1,e.$applyAsync())}e.$watch("flyoutToggle",(function(e,o){e!==o&&e===!0?i.$window.on(t.mouseDownEventName,a):e!==o&&e===!1&&i.$window.off(t.mouseDownEventName,a)}))},this.$window=$(e)}return e})();e.FlyoutToggle=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.replace=!0,this.templateUrl="views/historyDialogView.html",this.scope={viewModel:"="},this.controller=e.common.createController(e.controllers.HistoryDialogController)}return t})();t.HistoryDialog=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=300,o=20,r=(function(){function t(t){var r=this;this.promiseFactory=t,this.restrict="A",this.templateUrl="views/inFocus.html",this.scope={canEdit:"="},this.controller=e.common.createController(e.controllers.InFocusController),this.link=function(e,t){e.performTransitionAnimation=function(e){var t=$.Deferred();0===$(".inFocusTransition.begin").length&&$('<div class="inFocusTransition begin"></div>').insertAfter($("[in-focus]"));var i=$(".dashboardTile[data-id="+e+"]");if(0===i.length)return t.resolve(),t;var o=i.offset(),r=o.top,a=o.left,n=i.width(),s=i.height();return $(".inFocusTransition.begin").velocity({opacity:1,top:0,left:0,width:"100%",height:"100%"},{duration:250,begin:function(){$(".begin").css({top:r,left:a,width:n,height:s})},complete:function(){t.resolve()}}),t},e.clearTransitionAnimation=function(){var e=r.promiseFactory.defer();return $(".inFocusTransition.begin").velocity({opacity:0},{duration:350,complete:function(){$(".inFocusTransition.begin").css({width:0,height:0}),e.resolve(null)}}),e.promise};var a=function(t){var i=e.viewModel.inFocusTile,r=i&&i.realTime;if(r){var a=e.onResizeViewport||t;if(a){var n=a.width-2*o,s=a.height-2*o;if(!(n<=0||s<=0)){var c={width:n,height:s};i.calculateLayout(c),i.applyLayout()}}}},n=_.throttle(a,i);e.handleResize=function(e,t){n({width:e,height:t})}}}return t})();t.InFocus=r})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/insights/insights.html",this.scope={activeDashboard:"=activeDashboard"},this.replace=!0,this.controller=e.common.createController(e.controllers.insights.InsightsController)}return t})();t.Insights=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.replace=!0,this.transclude=!0,this.controller=e.common.createController(e.controllers.LandingContainer),this.templateUrl="views/landingContainer.html",this.controllerAs="$ctrl"}return t})();t.LandingContainer=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=".xlsx,.xlsm,.pbix,.csv",o=(function(){function t(t,o,r,a){var n=this;this.localizationService=t,this.errorService=o,this.applicationOptions=r,this.timeoutService=a,this.restrict="E",this.templateUrl="views/localFileBrowser.html",this.replace=!0,this.link=function(t,o,r){t.fileDialogFilter=i,n.input=o.find(".browseFileInput"),n.input.val(""),n.input.focus(),n.input.bind("change",(function(){return n.onFileSelected(t)})),n.input.bind("click",(function(e){e.stopPropagation()})),t.$on(e.common.constants.chooseLocalFileEventName,(function(e,i){t.fileDialogFilter=i,n.timeoutService((function(){return n.selectFile(t)}))}))}}return t.prototype.onFileSelected=function(t){var i,o=this.input[0];o.files&&(i=o.files[0]),t.$emit(e.common.constants.localFileSelectedEventName,i)},t.prototype.selectFile=function(e){this.input.val("");try{this.applicationOptions.isE2ERun||this.input.click()}catch(e){var t=this.errorService.control();t.showCustomDialog(this.localizationService.get("GetData_FileCannotBeUploadedTitle"),angular.element("<div/>").text(this.localizationService.get("GetData_FileCannotBeUploadedText")),[new InJs.ModalDialogAction(this.localizationService.get("GetData_OK"),function(e,i){t.hideDialog()})],(function(e){e.parent().find('input[type="button"]').focus()}),!0)}},t})();t.LocalFileBrowser=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/manageStorageView.html",this.scope={viewModel:"=",dashboardContainer:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.ManageStorageView)}return t})();t.ManageStorageView=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/navigationBar.html",this.transclude=!0,this.replace=!0,this.scope={currentDashboard:"=",currentReport:"=",currentWorkbook:"="},this.controller=e.common.createController(e.controllers.NavigationBarController)}return t})();t.NavigationBar=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/navigationPane.html",this.replace=!0,this.controllerAs="$ctrl",this.scope={viewModel:"=",currentReport:"=",currentWorkbook:"="},this.link=function(t,i,o){var r=i.find(".searchBox input"),a=function(e,t){if(e&&e.length>0&&!e.visible()){var o=i.find(".scrollRegion"),r=o.scrollTop();o.scrollTop(r+t)}};i.find(".searchBox i.glyphicon").click((function(){t.isPaneExpanded=!0,t.$digest(),window.setTimeout((function(){r.focus()}),250)})),i.find(".scrollRegion").on(jsCommon.DOMConstants.scrollEventName,(function(o){var r=i.find("li.active");r.length>0&&t.$broadcast(e.constants.navPaneScrollEventName,r)})),t.$root.$on(e.constants.scrollNavPaneToActiveDashboardEventName,(function(e,t){setTimeout((function(){var e=i.find(".dashboardList li.selected");a(e,e.offset().top-$(window).height()/2)}),0)})),t.$on(e.constants.scrollToNavPaneListItemEventName,(function(e,t){var o=0,r=i.find(".scrollRegion"),n=r.offset(),s=t.offset(),c=t.outerHeight();s.top<n.top?o=s.top-n.top:s.top+c>n.top+r.height()&&(o=s.top+c-n.top-r.height()),a(t,o)})),t.updateWindowIfNeeded=function(){window.setTimeout((function(){$(window).trigger("resize")}),50)}},this.controller=e.common.createController(e.controllers.NavigationPaneController)}return t})();t.NavigationPane=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(){this.restrict="E",this.templateUrl="views/navigationPaneListItem.html",this.replace=!0,this.scope={newStyle:"<",viewModel:"=",selected:"=?"},this.link=function(e,i,o){t.NavigationPaneListItem.link(e,i,o)},this.controller=e.common.createController(e.controllers.DashboardNavigationPaneListItemController)}return i})();t.DashboardNavigationPaneListItem=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(){this.restrict="E",this.templateUrl="views/navigationPaneListItem.html",this.replace=!0,this.scope={newStyle:"<",viewModel:"=",selected:"=?"},this.link=function(e,i,o){t.NavigationPaneListItem.link(e,i,o)},this.controller=e.common.createController(e.controllers.DatasetNavigationPaneListItemController)}return i})();t.DatasetNavigationPaneListItem=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(){this.restrict="E",this.templateUrl="views/groupNavigationPaneListItem.html",this.replace=!0,this.scope={viewModel:"=",selected:"=?"},this.link=function(e,i,o){t.NavigationPaneListItem.link(e,i,o)},this.controller=e.common.createController(e.controllers.GroupNavigationPaneListItemController)}return i})();t.GroupNavigationPaneListItem=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){}return t.link=function(t,i,o){t.showContextMenuIfEnabled=function(){t.$emit(e.constants.scrollToNavPaneListItemEventName,i),t.showContextMenu=t.isContextMenuEnabled()},t.$on(e.constants.navPaneScrollEventName,(function(e,o){t.showContextMenu&&o.length>0&&o[0]===i[0]&&t.$apply((function(){t.showContextMenu=!1}))}))},t})();t.NavigationPaneListItem=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(){this.restrict="E",this.templateUrl="views/navigationPaneListItem.html",this.replace=!0,this.scope={newStyle:"<",viewModel:"=",selected:"=?"},this.link=function(e,i,o){t.NavigationPaneListItem.link(e,i,o)},this.controller=e.common.createController(e.controllers.ReportNavigationPaneListItemController)}return i})();t.ReportNavigationPaneListItem=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(){this.restrict="E",this.templateUrl="views/navigationPaneListItem.html",this.replace=!0,this.scope={newStyle:"<",viewModel:"=",selected:"=?"},this.link=function(e,i,o){t.NavigationPaneListItem.link(e,i,o)},this.controller=e.common.createController(e.controllers.WorkbookNavigationPaneListItemController)}return i})();t.WorkbookNavigationPaneListItem=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/npsHost.html",this.replace=!0,this.scope={},this.link=function(e,t,i){var o='<iframe name="npsFrame" id="npsFrame" sandbox="allow-same-origin allow-scripts allow-popups allow-forms" src="{{npsUrl}}"></iframe>',r=function(){var e=t.find("iframe#npsFrame");e&&e.remove()};e.closeNpsHostIframe=function(){t.removeClass("npsActive"),r()},e.resizeNpsHostIframe=function(){$("#npsFrame").addClass("short")},e.connectToNps=function(){e.initListener(),r();var i=$(o.replace("{{npsUrl}}",e.renderUrl));t.append(i),$("#npsFrame").load((function(){t.addClass("npsActive")}))}},this.controller=e.common.createController(e.controllers.NpsHostController)}return t})();t.NpsHost=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.restrict="E",this.templateUrl="views/loadNotificationDialog.html",this.replace=!0,this.scope={message:"="},this.scope=e}return e})();e.LoadNotificationDialog=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/o365ApplicationLauncher.html",this.replace=!0,this.scope={},this.link=function(e,t,i){var o=t.find(".o365AppLauncherContainer"),r=!1;t.mousedown((function(){r=!0})),t.bind("click",(function(t){e.showAppLauncherContainer?(o.removeClass("fadein"),o.addClass("fadeout")):(e.getApplicationLauncher(),o.removeClass("fadeout"),o.addClass("fadein"),o.focus()),e.showAppLauncherContainer=!e.showAppLauncherContainer,r=!1})),o.on("blur",(function(t){r?r=!1:(o.removeClass("fadein"),o.addClass("fadeout"),e.showAppLauncherContainer=!1)}))},this.controller=e.common.createController(e.controllers.O365ApplicationLauncherController)}return t})();t.O365ApplicationLauncher=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="A",this.scope={onLoad:"&",onError:"&?"},this.link=function(t,i){i.on("load",(function(){t.$applyAsync((function(){t.onLoad()}))})),t.onError&&i.on("error",(function(){t.$applyAsync((function(){t.onError()}))})),t.$on(e.common.constants.scopeDestroyEventName,(function(){i.off()}))}}return t})();t.OnLoad=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t){var i=this;this.restrict="E",this.templateUrl="views/pinTileDialog.html",this.replace=!0,this.controller=e.common.createController(e.controllers.PinTileDialogController),this.link=function(e,t,o){i.$timeout((function(){t.find('input[type="text"]').focus(),$(".inputReportTitle").keypress((function(e){if(13===e.keyCode){var t=$(".saveAndContinueBtn");t.prop("disabled")||t.click()}})),$(".inputDashboardTitle").keypress((function(e){if(13===e.keyCode){var t=$(".pinTile");t.prop("disabled")||t.click()}})),$(".newDashRadio").click((function(e){$(".inputDashboardTitle").focus()}))}),500),i.$timeout((function(){var e=t.find(".tilePreviewFrame .dashboardTile");e.length>0&&e.fadeIn(300)}))},this.$timeout=t}return t})();t.PinTileDialog=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=jsCommon.BrowserUtils,o=e.common.constants,r="@media print {{0}{ {1} }}",a="explore-canvas-printer",n="dashboard-printer",s=(function(){function t(e,t,i,r){var s=this;this.restrict="A",this.link=function(e,t,i){if(i.disablePrint===(!0).toString())return t.removeAttr(a),void t.removeAttr(n);var r=s.rootScope,c=r.$on(o.enterPrintModeEvent,(function(i){i.stopPropagation(),s.insertPrintStylingInDOM(e,t)})),l=r.$on(o.exitPrintModeEvent,(function(e){e.stopPropagation(),s.removePrintStylingFromDOM(t)})),d=e.$on("$destroy",(function(){c(),l(),s.removePrintStylingFromDOM(t),d()}))},this.rootScope=e,this.compileService=t,this.featureSwitchService=i,this.localizationService=r}return t.getPrintTargetViewPort=function(t){var o={width:e.constants.defaultPortraitPrintWidth,height:e.constants.defaultPortraitPrintHeight},r=t.width(),a=t.height();if(r>a&&(o.width=e.constants.defaultLandscapePrintWidth,o.height=e.constants.defaultLandscapePrintHeight),i.isChrome()){var n=t.parent();o.width=n.width(),o.height=n.height()}return o},t.calculateScaleFactor=function(e,t,i){var o=t.width/e.width,r=t.height/e.height;return i?Math.max(o,r):Math.min(o,r)},t.prototype.calculateStyle=function(e,t){return null},t.prototype.getStyleString=function(e){for(var t=Object.keys(e),i="",o=0,r=t.length;o<r;o++){var a=t[o];i=i+a+":"+e[a]+"; "}return i},t.prototype.insertPrintStylingInDOM=function(e,t){var i=this;if(null!=this.printContainerSelector){if(this.featureSwitchService.featureSwitches.printingEnabled===!1)return this.printMediaQueryElement||this.localizationService.ensureLocalization((function(){var e=i.localizationService.get("PrintingIsDisabledForThisTenantMessage"),t=$("<div>").addClass("errorTitle").text(e),o=$("<div>").attr("id","printDisabledOverlay").append(t);i.printMediaQueryElement=o,$("body").append(i.printMediaQueryElement)})),void t.hide();this.printMediaQueryElement||(this.printMediaQueryElement=$("<style></style>").attr("type","text/css"),$("body").append(this.printMediaQueryElement));var o=this.calculateStyle(t,e),a=this.getStyleString(o),n=jsCommon.StringExtensions.format(r,this.printContainerSelector,a);this.printMediaQueryElement.html(n)}},t.prototype.removePrintStylingFromDOM=function(e){this.printMediaQueryElement&&(this.printMediaQueryElement.remove(),this.printMediaQueryElement=void 0),this.featureSwitchService.featureSwitches.printingEnabled===!1&&e.show()},t})();t.BasePrinter=s})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=40,i=(function(i){function o(){var e=i.apply(this,arguments)||this;return e.printContainerSelector="[dashboard-printer]",e}return __extends(o,i),o.prototype.calculateStyle=function(i,o){var r=o.gridLayoutContainer.containerWidth+t,a=o.gridLayoutContainer.containerHeight,n=e.BasePrinter.getPrintTargetViewPort(i),s=e.BasePrinter.calculateScaleFactor({width:r,height:a},n);return s<=0?{}:{transform:"scale("+s+") !important","-webkit-transform":"scale("+s+") !important",width:r+"px !important",height:a+"px !important",overflow:"visible !important"}},o})(e.BasePrinter);e.DashboardPrinter=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=40,i=(function(i){function o(){var e=i.apply(this,arguments)||this;return e.printContainerSelector="[explore-canvas-printer]",e}return __extends(o,i),o.prototype.calculateStyle=function(i,o){var r=i.width()+t,a=i.height(),n=e.BasePrinter.getPrintTargetViewPort(i),s=i.find(".visualContainer");if(s.length>0){var c=0,l=0;s.each((function(e,t){var i=$(t),o=i.position(),r=Math.max(0,o.left),a=Math.max(0,o.top);c=Math.max(c,r+i.width()),l=Math.max(l,a+i.height())}));var d=e.BasePrinter.calculateScaleFactor({width:r,height:a},{width:c,height:l},!0);r*=d,a*=d}var p=e.BasePrinter.calculateScaleFactor({width:r,height:a},n),u=r*p,v=a*p,h=(n.width-u)/2,g=(n.height-v)/2;return{width:r+"px !important",height:a+"px !important",transform:"translate("+h+"px, "+g+"px) scale("+p+") !important","-webkit-transform":"translate("+h+"px, "+g+"px) scale("+p+") !important","transform-origin":"left top !important","-webkit-transform-origin":"left top !important",left:"auto !important",top:"auto !important",right:"auto !important",bottom:"auto !important"}},o})(e.BasePrinter);e.ExploreCanvasPrinter=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/publishContentPackView.html",this.scope={viewModel:"=",dashboardContainer:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.PublishContentPackView)}return t})();t.PublishContentPackView=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/qrCodeDialog.html",this.replace=!0,this.controller=e.common.createController(e.controllers.QrCodeDialogController)}return t})();t.QrCodeDialog=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/qrCodeProgressDialog.html",this.replace=!0,this.controller=e.common.createController(e.controllers.QRCodeProgressDialogController)}return t})();t.QrCodeProgressDialog=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/requestDashboardAccess.html",this.scope={viewModel:"=?"},this.controller=e.common.createController(e.controllers.RequestDashboardAccessController)}return t})();t.RequestDashboardAccess=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/requestDashboardAccessModal.html",this.replace=!0}return e})();e.RequestDashboardAccessModal=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.controller=e.common.createController(e.controllers.ManageDatasetsController),this.restrict="E",this.bindToController=!0,this.controllerAs="$ctrl",this.scope={},this.templateUrl="views/settings/manageDatasets.html",this.link=function(e,t,i,o){window.setTimeout((function(){var e=t.find(".manageDatasetsPane .search input");e.focus()}),100)}}return t})();t.ManageDatasets=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/settings/refreshStatusView.html",this.replace=!0}return e})();e.RefreshStatus=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/settings/refreshWelcomeView.html",this.replace=!0}return e})();e.RefreshWelcome=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsCloseAccountView.html",this.scope={},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsCloseAccountController)}return t})();t.SettingsCloseAccount=i})(t=e.directives||(e.directives={}));
})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsDashboardView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsDashboardController)}return t})();t.SettingsDashboard=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsDashboardsView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsDashboardsController)}return t})();t.SettingsDashboards=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsDatasetView.html",this.scope={viewModel:"=",storageRefreshSupported:"=?"},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsDatasetController)}return t})();t.SettingsDataset=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsDatasetFeaturedQuestionsView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsDatasetFeaturedQuestionsController),this.link=function(e,t,i){e.focusOnLastInput=function(){t.find('input[type="text"]').last().focus()}}}return t})();t.SettingsDatasetFeaturedQuestions=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsDatasetsView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsDatasetsController)}return t})();t.SettingsDatasets=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsEsriView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsEsriController)}return t})();t.SettingsEsri=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsGeneralView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsGeneralController)}return t})();t.SettingsGeneral=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsPluginsView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsPluginsController)}return t})();t.SettingsPlugins=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsPrivacyView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsPrivacyController)}return t})();t.SettingsPrivacy=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsPublishedContentView.html",this.scope={},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsPublishedContentController)}return t})();t.SettingsPublishedContent=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsLanguageView.html",this.scope={viewModel:"="},this.controller=e.common.createController(e.controllers.SettingsLanguageController)}return t})();t.SettingsLanguage=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsViewerView.html",this.scope={},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsViewerController)}return t})();t.SettingsViewer=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/settings/settingsDatasetsView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.SettingsWorkbooksController)}return t})();t.SettingsWorkbooks=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/shareView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.ShareView)}return t})();t.ShareView=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/taskPaneSliderView.html",this.replace=!0,this.controller=e.common.createController(e.controllers.TaskPaneSliderController)}return t})();t.TaskPaneSlider=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.models.TileFactory,o=(function(){function t(t){var o=this;this.controller=e.common.createController(e.controllers.TileEditorController),this.replace=!0,this.restrict="E",this.scope={},this.templateUrl="views/tileEditor.html",this.link=function(e,t){var r=e.viewModel.tile.config;if(r&&r.widget){var a=i.getTileTemplate(r.widget.id),n=o.$compile(a)(e);t.find(".widgetEditorContent").append(n)}var s=!1;t.find("input").keyup((function(t){if(!(27!==t.keyCode&&13!==t.keyCode||s)){s=!0,t.target.blur(),27===t.keyCode?e.closeTileEditorWithoutSaving():13===t.keyCode&&e.saveChangesAndExit();try{e.$apply()}catch(e){}t.target.focus(),s=!1}})),window.setTimeout((function(){var e=t.find(".displayText");e.is(":disabled")?t.find(".pbi-input input").first().focus():e.focus()}),500)},this.$compile=t}return t})();t.TileEditor=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.controller=e.common.createController(e.controllers.TileGalleryController),this.restrict="E",this.bindToController=!0,this.controllerAs="$ctrl",this.scope={},this.templateUrl="views/tileGallery.html"}return t})();t.TileGallery=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/tiles/compositeTile.html",this.replace=!0,this.scope={viewModel:"=",allowInteractivity:"@"},this.controllerAs="$ctrl",this.controller=e.common.createController(e.controllers.CompositeTileController)}return t})();t.CompositeTile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=e.dataServices.constants,r=(function(){function t(){this.restrict="E",this.templateUrl="views/tiles/dashboardTile.html",this.replace=!0,this.scope={viewModel:"=",canEdit:"=",disableInteractions:"=?",addTileToMobileView:"&?",removeTileFromMobileView:"&?",viewportContextSelector:"<?"},this.link=function(r,a,n){var s=r.viewModel.report;s&&a.attr("data-report-id",s.id),r.disableInteractions="true"===n.disableInteractions,r.disablePointerEvents="true"===n.disablePointerEvents||r.disableInteractions,r.onceInViewport=function(){r.inViewport=!0},r.$on(e.controllers.DashboardTileController.Events.DeleteTile,(function(e,t){e.stopPropagation&&e.stopPropagation(),a.hide()}));var c=r.$root.$on(o.deleteModelStartedEventName,(function(e,t){var i=r.viewModel.datasetModel;i&&i.id===t&&a.hide()})),l=r.$root.$on(o.deleteModelFailedEventName,(function(e,t){var i=r.viewModel.datasetModel;i&&i.id===t&&a.show()}));r.$watch("canEdit",(function(e,i){var o=e?"false":"true";a.attr(t.DragResizeDisabledAttr,o)})),r.isTileElementChanging=function(){return a.hasClass("changing")};var d=r.viewModel,p=a.find(".tileContent")[0],u=function(e){r.openTile(!1,e)&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)};d&&!d.reportTile&&p&&p.addEventListener("click",u,!0),r.$on(i.scopeDestroyEventName,(function(){p&&p.removeEventListener("click",u,!0),l(),c()}))},this.controller=e.common.createController(e.controllers.DashboardTileController)}return t})();r.DragResizeDisabledAttr="drag-resize-disabled",t.DashboardTile=r})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i,o){var r=this;this.restrict="E",this.replace=!0,this.scope={viewModel:"="},this.templateUrl="views/tiles/iframeTile.html",this.link=function(t,i){function o(e){a.postMessage({embedCode:e},"*")}var a,n=!1;if(t.iframeSource=embeddedWebContentIframeSource,!r.networkAvailability.isNetworkAvailable()){var s=r.localizationService.get("Tile_ErrorText");return void t.$emit(e.common.constants.tileErrorEventName,s)}var c=function(e){e.data&&e.data.iframeLoaded&&(a=i.find("iframe").first()[0].contentWindow,a&&e.source===a&&(n=!0,o(t.viewModel.embedCode),r.$window.removeEventListener(jsCommon.DOMConstants.messageEventName,c)))};r.$window.addEventListener(jsCommon.DOMConstants.messageEventName,c),t.$watch("viewModel.embedCode",(function(e){n&&o(e)}))},this.$window=t,this.networkAvailability=i,this.localizationService=o}return t})();t.IframeTile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/tiles/imageTile.html",this.replace=!0,this.scope={viewModel:"="}}return e})();e.ImageTile=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/tiles/modelTile.html",this.replace=!0,this.scope={viewModel:"="},this.link=function(t){t.imageUrl=e.dataServices.constants.modelPlaceholderImageUrl}}return t})();t.ModelTile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/tiles/reportTile.html",this.replace=!0,this.scope={viewModel:"="},this.controller=e.common.createController(e.controllers.ReportTileController)}return t})();t.ReportTile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/tiles/ssrsTile.html",this.replace=!0,this.scope={viewModel:"="}}return e})();e.SsrsTile=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/tiles/tile.html",this.replace=!0,this.scope={viewModel:"=",headerClickTarget:"&"},this.controller=e.common.createController(e.controllers.Tile),this.link=function(e,t,i){e.disablePointerEvents="true"===i.disablePointerEvents,e.largeHeader=i.hasOwnProperty("largeHeader"),e.allowInteractivity=i.allowInteractivity,e.largeHeader&&e.viewModel.setTileHeaderSize(0)}}return t})();t.Tile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/tiles/workbookTile.html",this.replace=!0,this.scope={viewModel:"=",title:"="},this.controller=e.common.createController(e.controllers.WorkbookTileController),this.link=function(e,t,i){e.onTileImageReady=function(e){t.find("img.internalWorkbookTileImage").load((function(t){e(t.currentTarget)}))}}}return t})();t.WorkbookTile=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){var e=this;this.restrict="E",this.templateUrl="views/usageBarView.html",this.replace=!0,this.scope={usageBarModel:"=",viewModel:"="},this.link=function(t,i,o){t.$watch("usageBarModel.selfUsageInPercent",(function(){e.updateBar(t,i)})),t.$watch("usageBarModel.otherUsageInPercent",(function(){e.updateBar(t,i)}))}}return e.prototype.updateBar=function(e,t){var i=e.usageBarModel.selfUsageInPercent,o=e.usageBarModel.otherUsageInPercent,r=t.find(".usageBar"),a=t.find(".legends"),n=r.outerWidth(!0),s=n*i,c=n*o,l=r.children();r.hasClass("threebars")&&r.removeClass("threebars"),r.hasClass("twobars")&&r.removeClass("twobars"),r.hasClass("onebar")&&r.removeClass("onebar"),a.hasClass("threebars")&&a.removeClass("threebars"),a.hasClass("twobars")&&a.removeClass("twobars"),i+o<=1?($(l[0]).css("width",s+"px"),$(l[1]).css("width",c+"px"),$(l[2]).css("width",n-s-c+"px"),r.addClass("threebars"),a.addClass("threebars")):i>1?($(l[0]).css("width",n+"px"),$(l[1]).css("width","0px"),$(l[2]).css("width","0px"),r.addClass("onebar"),a.addClass("twobars")):($(l[0]).css("width",s+"px"),$(l[1]).css("width",n-s+"px"),$(l[2]).css("width","0px"),r.addClass("twobars"),a.addClass("twobars"))},e})();e.UsageBar=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t,i,o,r){var a=this;this.restrict="E",this.templateUrl="views/usageBarMenuItemView.html",this.replace=!0,this.scope={text:"=?",usageDescription:"=?",labelClass:"=?"},this.link=function(e,t,i){a.updateBar(e,t),e.$watchGroup([function(){return a.quota.quotaLimitInMB},function(){return a.modelService.lastUpdatedTimestamp},function(){return a.workbookService.lastUpdatedTimestamp}],(function(){a.updateBar(e,t)})),e.$watch((function(){return a.groupService.activeGroup}),(function(){a.updateBar(e,t)}))},this.quota=e,this.modelService=t,this.workbookService=i,this.groupService=o,this.featureSwitchService=r}return e.prototype.updateBar=function(t,i){var o=this.quota.getUsageBarMenuItemViewModel();t.text=o.text,t.usageDescription=o.usageDescription;var r=o.usageInMB/o.quotaLimitInMB,a=i.find(".usageBar"),n=a.outerWidth(!0),s=n*r,c=a.children();a.hasClass(e.onebarClass)&&a.removeClass(e.onebarClass),a.hasClass(e.twobarsClass)&&a.removeClass(e.twobarsClass),r<=1?($(c[0]).css("width",s+"px"),$(c[1]).css("width",n-s+"px"),a.addClass(e.twobarsClass)):($(c[0]).css("width",n+"px"),$(c[1]).css("width","0px"),a.addClass(e.onebarClass))},e})();t.onebarClass="onebar",t.twobarsClass="twobars",e.UsageBarMenuItem=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/userGroupHeaderView.html",this.scope={viewModel:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.UserGroupHeaderController)}return t})();t.UserGroupHeader=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.replace=!0,this.transclude=!0,this.controller=e.common.createController(e.controllers.UserInfoController),this.template='<div ng-transclude class="userInfo"></div>'}return t})();t.UserInfoContainer=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/viewContentPack.html",this.scope={},this.replace=!0,this.controller=e.common.createController(e.controllers.ViewContentPack)}return t})();t.ViewContentPack=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/warningBar.html",this.replace=!0,this.scope={viewModel:"="},this.controller=e.common.createController(e.controllers.WarningBarController)}return t})();t.WarningBar=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/waterMarkMessage.html",this.scope={config:"="}}return e})();e.WaterMarkMessage=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.replace=!0,this.templateUrl="views/workbookAppBar.html",this.scope={viewModel:"="},this.controller=e.common.createController(e.controllers.WorkbookAppBarController)}return t})();t.WorkbookAppBar=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/workbookContainer.html",this.replace=!0,this.scope={viewModel:"="},this.controller=e.common.createController(e.controllers.WorkbookContainerController),this.link=function(e,t,i){e.getEwaTargetWindow=function(){var e=t.find("iframe.workbookEWAIsolation")[0];return e.contentWindow}}}return t})();t.WorkbookContainer=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.replace=!0,this.templateUrl="views/workbookDiscoverabilityToast.html"}return e})();e.WorkbookDiscoverabilityToast=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){function i(t,i,o,r){o.ensureLocalization((function(){var a=o.get(t),n=o.format("ArtifactDoesNotExistTitleFormat",[a]),s=o.get("ArtifactDoesNotExistMessage");r.logEvent(e.telemetry.ArtifactNotFound,t);var c={label:o.get("PBI_Button_Label_OK"),resultValue:"ok",cssClass:"primary"};i.error(s,"artifactNotFound",{title:n,dialogOptions:[c],isDismissable:!0,showAdditionalErrorInfo:!1})}))}t.showArtifactDoesNotExistDialog=i})(i=t.ArtifactNotFoundHelper||(t.ArtifactNotFoundHelper={}))})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){}return t.HasUnsupportedExploreVisuals=function(e,t){var i=!1;if(e){var o=e.sections;if(o)for(var r=0,a=o.length;r<a;r++){var n=o[r],s=n.visualContainers;if(s)for(var c=0,l=s.length;c<l;c++){var d=s[c],p=d.config.singleVisual.visualType;if(p&&!t.getPlugin(p)){if(e.resourcePackages&&e.resourcePackages.some((function(e){return e.name===p})))continue;i=!0;break}}}}return i},t.IsReportSavedAsExploration=function(e){return e.hasExploration||!e.reportUrl},t.getSlideIndex=function(e,t){if(e&&e.reportSlides)for(var i=e.reportSlides,o=i.length,r=0;r<o;++r){var a=i[r];if(a.name===t)return r}return-1},t.getSlideName=function(e,t){if(void 0!==t&&"number"==typeof t&&e&&e.reportSlides&&e.reportSlides.length>t){var i=e.reportSlides,o=i[t];return o.name}return null},t.shouldDisplayErrorAsNotificationBar=function(t){return t===e.DMTS_NoGatewayWithAllDatasourcesToBindError||t===e.DMTS_MultipleGatewaysWithAllDatasourcesToBindError||t===e.DMTS_DatasourceHasNoCredentialError||t===e.DM_GWPipeline_Client_GatewayUnreachable||t===e.DMTS_UserLostPermissionToDatasourceError||t===e.DMTS_UserNotFoundInADGraphError||t===e.DM_GWPipeline_Gateway_DataSourceConnectionError||t===e.DM_GWPipeline_Gateway_DataSourceAccessError||t===e.DM_GWPipeline_Gateway_ImpersonationError||t===e.DM_GWPipeline_Gateway_InvalidMashupConnectionString||t===e.DM_GWPipeline_Gateway_DatabaseLoginError||t===e.DM_GWPipeline_Gateway_SqlTimeoutException||t===e.DM_GWPipeline_Gateway_AdomdTimeoutException||t===e.DM_GWPipeline_Gateway_InvalidObjectNameException||t===e.DM_GWPipeline_Gateway_ConnectionBrokenException||t===e.DM_GWPipeline_Gateway_MemoryError||t===e.DM_GWPipeline_Gateway_MissingStructureError||t===e.DM_GWPipeline_Gateway_UnprocessedStructureError||t===e.DM_GWPipeline_Gateway_ModelLoadError||t===e.DM_GWPipeline_Gateway_CancellationError||t===e.DM_GWPipeline_Gateway_QueryExecutionError||t===e.DM_GWPipeline_Gateway_RecalculationRequiredError||t===e.DM_GWPipeline_Gateway_AdomdConnectError||t===e.DM_GWPipeline_Gateway_MashupDataAccessError||t===e.RS_CannotRetrieveModel||t===e.RS_AccessDeniedDueToRLSGroup||t===e.RS_AccessDenied},t})();t.ReportUtility=i})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=2e3,i=(function(){function e(e,t){this.newQueryResultUpdates=[],this.explorationId=e,this.explorationProxy=t}return e.prototype.onNewQueryCacheResultAvailable=function(e){var i=this;this.newQueryResultUpdates.push(e),1===this.newQueryResultUpdates.length&&setTimeout((function(){var e={visualQueryResults:_.map(i.newQueryResultUpdates,(function(e){var t={visualContainerId:e.visualContainerId,query:e.query,dataTransforms:e.dataTransforms};return t}))};i.explorationProxy.saveVisualContainerQueries(i.explorationId,e),i.newQueryResultUpdates=[]}),t)},e})();e.VisualContainerQueryUpdater=i})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){var e=this;this.reports=[],this.dashboards=[],this.tiles=[],this.models=[],this.isReportExpanded=!0,this.isDashboardExpanded=!1,this.isTileExpanded=!1,this.onCuratedContentExpanded=function(t){e.openOneAtTime(t)}}return Object.defineProperty(e.prototype,"dashboardCount",{get:function(){return this.dashboards.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileCount",{get:function(){return this.tiles.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reportCount",{get:function(){return this.reports.length},enumerable:!0,configurable:!0}),e.prototype.addModels=function(e){e=e||[];for(var t=0;t<e.length;t++)this.models.push(e[t])},e.prototype.addReports=function(e){e=e||[];for(var t=0;t<e.length;t++)e[t].reportUrl&&this.reports.push(e[t])},e.prototype.addDashboards=function(e){e=e||[];for(var t=0;t<e.length;t++)this.dashboards.push(e[t])},e.prototype.addTiles=function(e){e=e||[];for(var t=0;t<e.length;t++)this.tiles.push(e[t])},e.prototype.openOneAtTime=function(e){"report"===e?(this.isReportExpanded=!this.isReportExpanded,this.isReportExpanded&&(this.isDashboardExpanded=!1,this.isTileExpanded=!1)):"dashboard"===e?(this.isDashboardExpanded=!this.isDashboardExpanded,this.isDashboardExpanded&&(this.isReportExpanded=!1,this.isTileExpanded=!1)):"tile"===e&&(this.isTileExpanded=!this.isTileExpanded,this.isTileExpanded&&(this.isReportExpanded=!1,this.isDashboardExpanded=!1))},e})();e.ActivityPaneCuratedContentModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(){this._connectionOptionsTag=-1}return Object.defineProperty(i.prototype,"connectionOptionsTag",{get:function(){return this._connectionOptionsTag},enumerable:!0,configurable:!0}),i.prototype.onPackageSelectionChange=function(e){this.packageSelectionEvent=e},i.prototype.updatePackagesData=function(e){if(e){var t=-1,i=null;this.packageItems&&(t=this.packageItems.selectedIndex,i=this.packageItems.selectedItem),this.packageModels=[],this.activityPaneData=e.activityPaneData,this.packageItems=this.initializePackageNames(i),t!==-1?this.packageItems.selectedIndex=t:this.packageItems.itemsCount>0&&(this.packageItems.selectedIndex=0)}},i.prototype.initializePackageNames=function(i){var o=this,r=[];if(this.activityPaneData.length>0){r=this.activityPaneData.map((function(e){return new t.ComboBoxItem(e.packageName,e.packageId)})),this.packageItems||(this.packageItems=new t.ComboBoxModel),this.packageItems.clearItems(),r.sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}));for(var a=0;a<r.length;a++)this.packageItems.addItem(r[a]);this.packageItems.selectedIndex===-1&&this.packageItems.itemsCount>0&&(this.packageItems.selectedIndex=0),this.packageItems.addSeparator(),this.packageItems.addItem(new t.ComboBoxItem(e.common.localize.get("ActivityPane_ConnectionOptionsText"),this.connectionOptionsTag,t.ComboBoxItemType.Text,(!1))),i=i||this.packageItems.selectedItem,this.populateSelectedPackageModels(i)}return this.packageItems.onClickEvent=function(e){return o.onPackageItemSelected(e)},this.packageItems.onDropDownEvent=function(){return o.onPackageItemSelected()},this.packageItems},i.prototype.onPackageItemSelected=function(e){e=e||this.packageItems.selectedItem,this.populateSelectedPackageModels(e),this.packageSelectionEvent&&this.packageSelectionEvent(e)},i.prototype.populateSelectedPackageModels=function(t){if(t.tag!==this.connectionOptionsTag)for(var i=this.activityPaneData,o=0;o<i.length;o++){var r=i[o];if(r.packageId===t.tag){if(!r.models)return;if(this.packageModels=[],1===r.models.length){var a=r.models[0];this.packageModels[0]={modelId:a.id,modelName:e.common.localize.get("ActivityPane_Explore")}}else for(var n=0;n<r.models.length;n++){var a=r.models[n];this.packageModels[n]={modelId:a.id,modelName:e.common.localize.get("ActivityPane_Explore")+" "+a.displayName}}break}}},i})();t.ActivityPaneDataPackagesModel=i;var o=(function(){function e(e,t){this.modelId=e,this.modelName=t}return e})();t.ActivityPanePackageModel=o})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.contract=e}return e})();e.ActivityPaneModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(e,i,o,r){this.localizationService=r,this.alerts=e?e:[],this.tileName=i.getDisplayText(),this.measureName=o,this.tileModel=i,this.moreOptionsMenu=[{action:0,text:r.get("AlertsPane_Collapse"),type:DropDownMenuItemType.Item}],this.operatorOptions=[{label:r.get("AlertsPane_GreaterThanOperator"),value:0},{label:r.get("AlertsPane_LessThanOperator"),value:1}],this.frequencyOptions=[{label:"AlertsPane_NotificationFrequencyDay",value:0},{label:"AlertsPane_NotificationFrequencyHour",value:1}],this.alertFailureMessages=[{message:r.get("AlertsPane_CreateError"),value:t.AlertFailureState.Create},{message:r.get("AlertsPane_UpdateError"),value:t.AlertFailureState.Update},{message:r.get("AlertsPane_DeleteError"),value:t.AlertFailureState.Delete}]}return i.prototype.addNewEmptyAlert=function(e){var i=this.tileModel.getDisplayText();if(i){var o=t.factory.AlertsModelFactory.createEmptyAlert(i,this.measureName,this.localizationService.format("AlertsPane_AlertsForTile",[i]),e);this.alerts.unshift(o)}},i.prototype.isValid=function(){return _.every(this.alerts,(function(t){return t.title.length<=e.constants.alertTitleMaxLength&&t.title.length>0&&jQuery.isNumeric(t.thresholdValue)}))},i})();t.AlertsEditorModel=i})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.None=0]="None",e[e.Create=1]="Create",e[e.Update=2]="Update",e[e.Delete=3]="Delete"})(t=e.AlertFailureState||(e.AlertFailureState={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.Text=1]="Text",e[e.Separator=2]="Separator"})(t=e.ComboBoxItemType||(e.ComboBoxItemType={}));var i=(function(){function e(e,i,o,r){this._name=e,this._tag=i,this._type=o||t.Text,this._selectable="undefined"==typeof r||r}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this._tag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectable",{get:function(){return this._selectable},enumerable:!0,configurable:!0}),e})();e.ComboBoxItem=i;var o=(function(){function e(){this._items=[],this._dialogVisible=!1,this._selectedIndex=-1,this._separatorTag=-9}return Object.defineProperty(e.prototype,"separatorTag",{get:function(){return this._separatorTag},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._dialogVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedItem",{get:function(){return this._items[this._selectedIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){this._selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsCount",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onClickEvent",{set:function(e){this._onClickEvent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDropDownEvent",{set:function(e){this._onDropDownEvent=e},enumerable:!0,configurable:!0}),e.prototype.clearItems=function(){this._items=[]},e.prototype.addItem=function(e){this._items.push(e)},e.prototype.addSeparator=function(){this._items.push(new i("",(-9),t.Separator,(!1)))},e.prototype.collapse=function(){this._dialogVisible=!1},e.prototype.toggle=function(e){this._dialogVisible||this._onDropDownEvent&&this._onDropDownEvent(),this._dialogVisible=!this._dialogVisible,e.stopPropagation()},e})();e.ComboBoxModel=o})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.ContentProviderStoreModel=t})(t=e.contentProviderStore||(e.contentProviderStore={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function i(i){var o=this;this.contract=i,this.contentProviderDialogModel=new e.common.models.ModalDialogModel((!1),"Ok",(!0),(!0),(!0),(!1)),this.sharePane=new t.ShareViewModel,this.manageStoragePane=new t.ManageStorageViewModel,this.manageEmbedPane=new t.ManageEmbedViewModel,this.publishPane=new t.PublishContentPackViewModel,this.temporaryDashboardMap=null,this.accessRequestInfo={dashboardObjectId:""},this.viewMode=0,e.common.localize.ensureLocalization((function(){o.contentProviderDialogModel.confirmButtonText=e.common.localize.get("DashboardContainer_Ok")}))}return Object.defineProperty(i.prototype,"dashboards",{get:function(){return this._dashboards},set:function(e){this._dashboards=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visibleDashboards",{get:function(){return _.filter(this._dashboards,(function(e){return!e.isHidden}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"models",{get:function(){return this.contract.models},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isPhonePortraitViewMode",{get:function(){return 1===this.viewMode},enumerable:!0,configurable:!0}),i.prototype.cacheTemporaryDashBoardMapping=function(e,t){this.temporaryDashboardMap={temporaryId:e,resolvedId:t}},i.prototype.calculateLayout=function(){if(this._dashboards)for(var e=0,t=this._dashboards;e<t.length;e++){var i=t[e];i.calculateLayout()}},i.prototype.applyLayout=function(e){if(this._dashboards)for(var t=0,i=this._dashboards;t<i.length;t++){var o=i[t];o.applyLayout()}},i.prototype.findDashboard=function(e){return this.dashboards[this.getDashboardIndex(e)]},i.prototype.findDashboardByGUID=function(e){var t=this.dashboards;this.temporaryDashboardMap&&this.temporaryDashboardMap.resolvedId&&this.temporaryDashboardMap.temporaryId&&this.temporaryDashboardMap.temporaryId===e&&(e=this.temporaryDashboardMap.resolvedId);for(var i=0,o=t.length;i<o;i++)if(t[i].objectId===e)return t[i]},i.prototype.getDashboardIndex=function(e){for(var t=this.dashboards,i=0,o=t.length;i<o;i++)if(t[i].id===e)return i;return-1},i})();t.DashboardContainer=i})(t=e.models||(e.models={}));
})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.ImportData=0]="ImportData",e[e.ViewExcel=1]="ViewExcel"})(t=e.UploadFormat||(e.UploadFormat={}));var i;!(function(e){e[e.Local=0]="Local",e[e.OneDrive=1]="OneDrive",e[e.DropBox=2]="DropBox",e[e.OneDrivePro=3]="OneDrivePro",e[e.SharePoint=4]="SharePoint"})(i=e.HostType||(e.HostType={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.EmailsListModel,o=(function(){function t(e){this.isAdmin=!(!e||!e.contract)&&e.contract.isOwner,this.groupName=e?e.displayName:"",this.groupId="",this.emailsList=new i,this.displayMemberList=[],this.originalDisplayMemberList=[],this.invalidEmailAddressesErrorMessage="",this.notExitingEmailAddressesErrorMessage="",this.privacyOption=e&&e.contract&&e.contract.isPublic?0:1,this.accessControlOption=e&&e.contract&&e.contract.isReadOnly?1:0,this.isCapacityEnabled=e&&e.contract&&!!e.contract.capacityObjectId,this.capacity=e&&e.capacity,this.initPrivacyOptions(),this.initAccessControlOptions(),this.initMemberRoleOptions()}return t.prototype.initPrivacyOptions=function(){this.privacyOptions=[{key:0,value:e.common.localize.get("GroupEditor_PrivacyOptions_Public")},{key:1,value:e.common.localize.get("GroupEditor_PrivacyOptions_Private")}]},t.prototype.initAccessControlOptions=function(){this.accessControlOptions=[{key:0,value:e.common.localize.get("GroupEditor_AccessControlOptions_ReadWrite")},{key:1,value:e.common.localize.get("GroupEditor_AccessControlOptions_ReadOnly")}]},t.prototype.initMemberRoleOptions=function(){this.groupMemberRoleOptions=[{key:1,value:e.common.localize.get("GroupEditor_RoleOptions_Admin")},{key:0,value:e.common.localize.get("GroupEditor_RoleOptions_Member")}]},t})();t.GroupEditorModel=o})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t){var i=this;this.contextMenuItemList=[],t&&t.metadata&&(t.metadata.contextMenuItemList.forEach((function(e){i.contextMenuItemList.push(e)})),this.contextMenuSeparatorPosition=t.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),t.isOwner||t.isPublic?this.contextMenuItemList.push({linkType:e.common.contracts.GroupLinkType.EditGroup}):this.contextMenuItemList.push({linkType:e.common.contracts.GroupLinkType.ViewGroup}),this.contextMenuItemList.push({linkType:e.common.contracts.GroupLinkType.LeaveGroup})}return t})();t.GroupMetadata=i})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.contracts.ContentTileType,o=(function(){function o(o){this.contract=o,o&&(this.aadGroupId=o.objectId,this.displayName=o.displayName,this.metadata=new t.GroupMetadata(o),this.capacity=o.capacityObjectId&&{id:o.capacityObjectId,name:o.capacityName}),this.isMyWorkspace=!1,this.lastViewedDashboard=-1,this.lastOwnershipFilter=e.models.OwnershipFilterMenuFilter.AllContent,this.contentTileType=i.Workspace}return o.prototype.getPermissions=function(){},o})();t.Group=o})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.showHistoryDialog=!1,this.showSpinner=!1}return e})();e.HistoryDialogModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.InsightsModel=t})(t=e.insights||(e.insights={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.models.CollapsiblePaneModel,o=e.common.constants.TaskPaneCollapsiblePaneMode,r=(function(){function e(e){this.collapsiblePaneMode=o.Default,this.contract=e,this.showDashboardName=!1,this.collapsiblePane=new i,this.notificationPane=new i,this.showNotificationPane=!1}return e.prototype.calculateLayout=function(){this.dashboardContainer.calculateLayout(),this.reportContainer.calculateLayout()},e.prototype.applyLayout=function(){this.dashboardContainer.applyLayout(),this.reportContainer.applyLayout()},e})();t.LandingContainer=r})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.UsageBarModel=t;var i=(function(){function e(){this.ownedByMeSelected=!0}return e})();e.ManageStorageViewModel=i})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(i){function o(e,t,i,o,r,a,n){return new f(e,t,i,o,r,a,n)}var r=e.common.constants,a=e.common.contracts,n=a.ContentProviderCategory,s=jsCommon.DateExtensions,c=e.common.helpers.ModelConverterHelper,l=e.common.models.ReportContainer,d=e.dataServices.constants,p=e.dataServices.models.Dashboard,u=e.common.controllers.EmailsList,v=e.common.models.EmailsListModel,h=jsCommon.JsonExtensions,g=jsCommon.EnumExtensions;i.createModelConverter=o;var f=(function(){function o(e,t,i,o,r,a,n){this.telemetryService=e,this.errorService=t,this.visualPlugins=i,this.promiseFactory=o,this.geolocationService=r,this.dataServiceModelConverter=a,this.localizationService=n}return o.prototype.setModelMerger=function(e){this.modelMerger=e},o.prototype.convertAppPublishModel=function(t){var i=this.convertContentPack(t);if(i){var o=this.dataServiceModelConverter.convertAppModelBase(t),r=__assign({url:e.helpers.UrlHelper.getAppUrl(t.providerKey),displayName:t.displayText,objectId:t.providerKey,contentTileType:a.ContentTileType.PublishedOrgApp,emailsList:new v,publishAsTemplate:t.category===n.OrganizationalTemplateApp,getPermissions:function(){return a.Permissions.Read|a.Permissions.CopyOnWrite}},i,o);return r.emailsList.inputUserList=u.emailsToUsers(t.accessPermissions.listOfGroupsOrPrincipals),r}},o.prototype.convertLandingContainer=function(t){var o=new i.LandingContainer(t);return o.dashboardContainer=this.convertDashboardContainer(t.dashboardContainer),o.reportContainer=this.convertReportContainer(t.reportContainer),o.workbookContainer=this.convertWorkbookContainer(t.workbookContainer),o.qnaContainer=this.convertQnaContainer(t.qnaContainer),o.explorationContainer=e.explore.viewModels.ViewModelFactory.createExplorationContainer(),o},o.prototype.convertLandingContainerShallow=function(t){var o=new i.LandingContainer(t);return o.dashboardContainer=this.convertDashboardContainerShallow(t.dashboardContainer),o.reportContainer=this.convertReportContainerShallow(t.reportContainer),o.explorationContainer=e.explore.viewModels.ViewModelFactory.createExplorationContainer(),o},o.prototype.convertReportContainerShallow=function(e){var t=new l(e);return t},o.prototype.convertReportContainer=function(e){var t=this.convertReportContainerShallow(e);return this.fillReportContainerChildren(t,e),t},o.prototype.fillReportContainerChildren=function(e,t){t&&(e.report=this.convertReport(t),this.fillReport(e.report,t))},o.prototype.fillReport=function(e,t){this.dataServiceModelConverter.fillReport(e,t)},o.prototype.fillModel=function(e,t){this.dataServiceModelConverter.fillModel(e,t)},o.prototype.convertReport=function(e){return this.dataServiceModelConverter.convertReport(e)},o.prototype.convertPackage=function(e){return this.dataServiceModelConverter.convertPackage(e)},o.prototype.convertQnaContainerShallow=function(e){var t=new i.QnaContainer(e);return t},o.prototype.convertQnaContainer=function(e){var t=this,i=this.convertQnaContainerShallow(e);return e.models&&(i.models=e.models.map((function(e){return t.convertModel(e)}))),i},o.prototype.convertWorkbookContainerShallow=function(e){var t=new i.WorkbookContainer(e);return t},o.prototype.convertWorkbookContainer=function(e){var t=this.convertWorkbookContainerShallow(e);return this.fillWorkbookContainerChildren(t,e),t},o.prototype.fillWorkbookContainerChildren=function(e,t){t&&(e.workbook=this.convertWorkbook(t))},o.prototype.convertWorkbook=function(e){return this.dataServiceModelConverter.convertWorkbook(e)},o.prototype.convertWorkbookShallow=function(e){return this.dataServiceModelConverter.convertWorkbookShallow(e)},o.prototype.convertModel=function(e){return this.dataServiceModelConverter.convertModel(e)},o.prototype.convertAppDataset=function(e){return this.dataServiceModelConverter.convertAppDataset(e)},o.prototype.convertContentPack=function(e){var t=this.dataServiceModelConverter.convertContentPackBase(e);if(e){var i=__assign({publishedTo:this.findPublishedTo(e.accessPermissions),isDirty:e.isDirty,listOfGroupPrincipals:e.accessPermissions.listOfGroupsOrPrincipals,isSharedToEntireOrg:e.accessPermissions.isSharedToEntireOrganization},t);return i}},o.prototype.findPublishedTo=function(e){if(e.isSharedToEntireOrganization)return this.localizationService.get("GetData_MyOrganization");var t=this.localizationService.get("PowerBI_Semicolon_Delimiter");if(e.adUserMetadataList)return _.map(e.adUserMetadataList,(function(e){return e.displayName||e.userPrincipalName})).join(t);var i=e.listOfGroupsOrPrincipals;return i.join(t)},o.prototype.convertReportShallow=function(e){return this.dataServiceModelConverter.convertReportShallow(e)},o.prototype.convertModelShallow=function(e){return this.dataServiceModelConverter.convertModelShallow(e)},o.prototype.convertPackageShallow=function(e){return this.dataServiceModelConverter.convertPackageShallow(e)},o.prototype.convertDashboardContainerShallow=function(e){var t=new i.DashboardContainer(e);return t.activeViewMode=e.activeViewMode,t.userId=e.userId,t.accessRequestInfo=e.accessRequestInfo,t},o.prototype.fillDashboardContainerDashboard=function(e,t){var i=this;if(t.dashboards&&1===t.dashboards.length){var o=t.packages||[],r=t.dashboards[0];r.tiles&&r.tiles.map((function(e){i.resolveTilePackage(e,o)}))}},o.prototype.setDashboardIsSample=function(t,i){t.resetSampleFields();var o=_.chain(i).filter((function(e){return e.contentProviderId===d.samplesContentProviderId})).map((function(e){return e.id})).value(),a=i.filter((function(e){return Object.keys(r.generatedSamplesContentProvidersMap).map((function(e){return parseInt(e,10)})).indexOf(e.contentProviderId)>=0})),n=t.contract.packageIds;if(n)for(var s=0;s<n.length;s++){var c=n[s];if(o.indexOf(c)>=0){t.isSharedSample=!0,t.isSample=!0,t.sampleProviderName=e.constants.samplesContentProviderName;break}for(var l=0,p=a.length;l<p;++l){var u=a[l];if(u.id===c){t.isSample=!0,t.sampleProviderName=this.getSampleProviderName(u.contentProviderId);break}}}},o.prototype.setDashboardHasOnPremiseModel=function(t,i){t.hasOnPremiseModel=!1;var o=_.chain(i).filter((function(t){return t.vsName===e.common.constants.onPremiseVSName})).map((function(e){return e.id})).value(),r=t.contract.modelIds;if(r)for(var a=0;a<r.length;a++){var n=r[a];if(o.indexOf(n)>=0){t.hasOnPremiseModel=!0;break}}},o.prototype.setDashboardHasUpdate=function(e,t){e.hasUpdate=!1;var i=_.find(t,(function(t){return t.id===e.contract.originalPackageId}));i&&i.latestVersion&&i.version!==i.latestVersion&&(e.hasUpdate=!0)},o.prototype.setDashboardsHasUpdate=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];o.hasUpdate=!0}},o.prototype.getSampleProviderName=function(e){var t=r.generatedSamplesContentProvidersMap[e];return t?t:"Unknown Sample"},o.prototype.fillDashboardContainerDashboards=function(e,t){t.dashboards&&(e.userId=t.userId,this.fillDashboardContainerDashboardsFromBasicDashboardContainer(e,t))},o.prototype.fillDashboardContainerDashboardsFromBasicDashboardContainer=function(e,t){var i=this;if(t.dashboards){var o=t.reports||[],r=t.workbooks||[],a=t.models||[],n=t.packages||[];e.dashboards=t.dashboards.map((function(e){var s=i.convertDashboard(e,a,o,r);return i.setDashboardIsSample(s,n),i.setDashboardHasOnPremiseModel(s,a),i.setDashboardHasUpdate(s,n),e.id===t.activeDashboardId&&s.contract.tiles&&s.contract.tiles.map((function(e){i.resolveTilePackage(e,n)})),s}))}},o.prototype.updateDashboardContainerContract=function(e,t){this.updateDashboardContainerContractFromBasicDashboardContainer(e,t),e.groups=t.groups,e.userId=t.userId,e.previousTenantId=t.previousTenantId},o.prototype.updateDashboardsReportContract=function(e,t){t.reportIds.splice(e,1)},o.prototype.removeDashboardsWorkbookContract=function(e,t){t.workbookIds.splice(e,1)},o.prototype.updateDashboardContainerContractFromBasicDashboardContainer=function(e,t){var i=t.dashboards;void 0===t.activeDashboardId&&i&&i.length>0&&(t.activeDashboardId=i[0].id),this.modelMerger.mergeModelContentProviderId(t.models,t.packages),e.dashboards=i,e.activeDashboardId=t.activeDashboardId,e.models=t.models,e.reports=t.reports,e.workbooks=t.workbooks,e.packages=t.packages},o.prototype.resolveTilePackage=function(e,t){this.dataServiceModelConverter.resolveTilePackage(e,t)},o.prototype.getTileModel=function(e,t){return this.dataServiceModelConverter.getTileModel(e,t)},o.prototype.getTileReport=function(e,t){return this.dataServiceModelConverter.getTileReport(e,t)},o.prototype.getTileWorkbook=function(e,t,i){return this.dataServiceModelConverter.getTileWorkbook(e,t,i)},o.prototype.fillDashboardContainerDashboardsShallow=function(e,t){var i=this;t.dashboards&&(e.dashboards=t.dashboards.map((function(e){return i.convertDashboardShallow(e)})))},o.prototype.convertDashboardContainer=function(e){var t=this.convertDashboardContainerShallow(e);return this.fillDashboardContainerDashboards(t,e),e.activityPane&&(t.activityPane=this.convertActivityPane(e.activityPane)),t},o.prototype.convertActivityPane=function(e){var t=this,i=this.convertActivityPaneShallow(e);return e.contentProviders||(i.contentProviders=e.contentProviders.map((function(e){return t.convertContentProvider(e)}))),i},o.prototype.convertActivityPaneShallow=function(e){var t=new i.ActivityPaneModel(e);return t},o.prototype.convertContentProvider=function(t){if(!t)return null;var o=new i.ProviderTileModel(t);return o.backgroundImageUrl=e.build+t.iconUrl,o.displayText=t.displayText,o},o.prototype.convertContentProviderContractToContentProviderTileModel=function(e){var t=null;if(e){var i=this.promiseFactory.defer();e.authentication||i.resolve(""),t={contract:e,id:e.id,title:e.displayText,category:e.category,clientCategory:c.getContentProviderClientCategory(e),providerName:e.providerName,iconUrl:e.iconUrl?jsCommon.Utility.urlCombine(clusterUri,e.iconUrl):null,iconCSSClass:e.iconCSSClass,descriptionLocalizationKey:e.description,learnMoreUrl:e.learnMoreUrl,searchKeywords:e.searchKeywords,publisher:e.publisher,publishDate:e.publishDate,emailAddress:null,emailAddressAsLink:null,visible:!1,disableDetailPane:e.disableDetailPane,sortPriority:null!==e.sortPriority&&void 0!==e.sortPriority?e.sortPriority:r.contentProviderStoreTileMaxSortPriority,authentication:e.authentication,authenticationInitializationDeferred:i,authenticationInitializationInProgress:!0,finePrint:e.finePrint,autoRedirectUrlParams:e.autoRedirectUrlParams,customConfigurationHandler:e.customConfigurationHandler,tileGrouping:null,usePBIDesktop:e.usePBIDesktop}}return t},o.prototype.convertContentProviderContractToContentProviderTileModelWithGrouping=function(e){var t=null;return e&&(t={contract:e,id:e.id,title:e.grouping.groupingName,category:e.category,clientCategory:c.getContentProviderClientCategory(e),providerName:e.providerName,iconUrl:e.iconUrl?jsCommon.Utility.urlCombine(clusterUri,e.iconUrl):null,iconCSSClass:e.iconCSSClass,descriptionLocalizationKey:e.grouping.groupingDescription,learnMoreUrl:e.learnMoreUrl,searchKeywords:e.searchKeywords||"",publisher:e.publisher,publishDate:null,emailAddress:null,emailAddressAsLink:null,visible:!1,disableDetailPane:e.disableDetailPane,sortPriority:null!==e.sortPriority&&void 0!==e.sortPriority?e.sortPriority:r.contentProviderStoreTileMaxSortPriority,authentication:null,authenticationInitializationDeferred:null,authenticationInitializationInProgress:!1,finePrint:e.finePrint,autoRedirectUrlParams:null,customConfigurationHandler:null,tileGrouping:{groupingChildItems:[]}}),t},o.prototype.groupContentProviderTileModels=function(e){for(var t,i,o=[],a={},n=[],s=0,c=e;s<c.length;s++){var l=c[s];l.contract.grouping&&l.contract.grouping.groupingName&&l.contract.grouping.groupingName.length>0?(t=l.contract.grouping.groupingName,a[t]||(i=this.convertContentProviderContractToContentProviderTileModelWithGrouping(l.contract),a[t]=i,n.push(t),o.push(i)),i=a[t],i.searchKeywords=i.searchKeywords.concat(" ",l.searchKeywords||""," ",l.title.toLowerCase()),l.sortPriority=l.contract.grouping.groupingIndex,jQuery.isNumeric(l.sortPriority)||(l.sortPriority=r.contentProviderStoreTileMaxSortPriority),i.tileGrouping.groupingChildItems.push(l)):o.push(l)}return o},o.prototype.convertDashboardShallow=function(e){var t=new p(e);return this.modelMerger.mergeDashboardShallow(t,e),t},o.prototype.convertDashboard=function(e,t,i,o){return this.dataServiceModelConverter.convertDashboard(e,t,i,o)},o.prototype.fillDashboardChildren=function(e,t,i,o){return this.dataServiceModelConverter.fillDashboardChildren(e,t,i,o)},o.prototype.convertTileShallow=function(e,t,i){return this.dataServiceModelConverter.convertTileShallow(e,t,i)},o.prototype.convertSpecificTileShallow=function(e,t){return this.dataServiceModelConverter.convertSpecificTileShallow(e,t)},o.prototype.convertTile=function(e,t,i,o){return this.dataServiceModelConverter.convertTile(e,t,i,o)},o.prototype.convertCompositeTile=function(e){return this.dataServiceModelConverter.convertCompositeTile(e)},o.prototype.convertTileData=function(e){return this.dataServiceModelConverter.convertTileData(e)},o.prototype.convertImageTile=function(e){return this.dataServiceModelConverter.convertImageTile(e)},o.prototype.convertWorkbookTile=function(e,t,i){return this.dataServiceModelConverter.convertWorkbookTile(e,t,i)},o.prototype.convertReportTile=function(e){return this.dataServiceModelConverter.convertReportTile(e)},o.prototype.convertModelTile=function(e){return this.dataServiceModelConverter.convertModelTile(e)},o.prototype.convertIframeTile=function(e){return this.dataServiceModelConverter.convertIframeTile(e)},o.prototype.convertSsrsTile=function(e){return this.dataServiceModelConverter.convertSsrsTile(e)},o.prototype.convertRealTimeTile=function(e){return this.dataServiceModelConverter.convertRealTimeTile(e)},o.prototype.convertTileConfig=function(e){return this.dataServiceModelConverter.convertTileConfig(e)},o.prototype.convertTileAction=function(e){return this.dataServiceModelConverter.convertTileAction(e)},o.prototype.convertUserSettings=function(e){var t=new i.UserSettings(e);return t.allowQnaDataCollection=null==e.allowQnaDataCollection||e.allowQnaDataCollection,t.tileDialogPreviewFormat=e.tileDialogPreviewFormat,t.preferredLanguage=e.preferredLanguage,t.extendedSettings=h.tryParseJSON(e.extendedSettings),t.esriVisualEnabled=null!=e.esriVisualEnabled&&e.esriVisualEnabled,t},o.prototype.convertReportSlide=function(e){return this.dataServiceModelConverter.convertReportSlide(e)},o.prototype.convertSettingsMetadata=function(e){return{dashboards:this.convertSettingsDashboards(e.dashboards),general:this.convertSettingsGeneral(e.userSettings),datasets:this.convertSettingsDatasets(e.datasetModels||[]),workbooks:this.convertSettingsDatasets(e.workbookModels||[])}},o.prototype.convertSettingsCommunications=function(e,t){if(e){for(var i=[],o=0,r=e;o<r.length;o++){var a=r[o],n=_.map(a.subscriptions,(function(e){return{id:e.id}}));i.push({dashboardInfo:a.dashboardInfo,reportInfo:a.reportInfo,subscriptions:n})}var s=[{predicateName:"displayName",allowSorting:!0,displayName:this.localizationService.get("SettingsCommunication_Name_ColumnTitle")},{predicateName:"actions",allowSorting:!1,displayName:this.localizationService.get("SettingsCommunication_Actions_ColumnTitle")},{predicateName:"count",allowSorting:!0,displayName:this.localizationService.get("SettingsCommunication_Overview_ColumnTitle")}];return{subscriptions:i,workspaceName:t,columnsHeader:s}}},o.prototype.convertSettingsDashboards=function(e){var t=this;return{dashboards:_.map(e,(function(e){return t.convertSettingsDashboard(e)}))}},o.prototype.convertSettingsDashboard=function(e){return{dashboardId:e.id,hasQnaSupportedModel:e.hasQnaSupportedModel,name:e.displayName,objectId:e.objectId,qnaEnabled:e.qnaEnabled,gravityEnabled:e.gravityEnabled,dataClassificationId:e.dataClassificationId}},o.prototype.convertSettingsEsri=function(e){return{esriVisualEnabled:null!=e.esriVisualEnabled&&e.esriVisualEnabled}},o.prototype.convertSettingsGeneral=function(e){return{privacy:this.convertSettingsPrivacy(e),language:this.convertSettingsLanguage(e),esri:this.convertSettingsEsri(e)}},o.prototype.convertSettingsPrivacy=function(e){return{allowQnaDataCollection:null==e.allowQnaDataCollection||e.allowQnaDataCollection}},o.prototype.convertSettingsLanguage=function(e){return{preferredLanguage:e.preferredLanguage}},o.prototype.convertSettingsDatasets=function(e){var t=this;return{datasets:_.map(e,(function(e){return t.convertSettingsDataset(e)}))}},o.prototype.convertSettingsDataset=function(e){return e&&!e.contentProviderId&&e.packageContentProviderId&&(e.contentProviderId=e.packageContentProviderId),c.convertModelToDataset(e)},o.prototype.getImageUrl=function(e){return this.dataServiceModelConverter.getImageUrl(e)},o.prototype.getSsrsImageUrl=function(e){return this.dataServiceModelConverter.getSsrsImageUrl(e)},o.prototype.convertDashboardInvitation=function(e){var t=this,i=[];return null==e||""===e.toString()?[]:i=e.map((function(e){return t.convertToUserInvitation(e)}))},o.prototype.convertToUserInvitation=function(e){var t=new i.UserInvitationModel;return t.dashboardId=e.dashboardId,t.id=e.id,t.permissions=e.permissions,t.sentToEmailAddress=e.sentToEmailAddress,t},o.prototype.convertDashboardAccessInfoArray=function(e){var t=this;return null==e||_.isEmpty(e.toString())?[]:_.map(e,(function(e){return t.convertDashboardAccessInfo(e)}))},o.prototype.convertDashboardAccessInfo=function(e){var t=new i.DashboardAccessInfoModel;return t.emailAddress=e.emailAddress,t.id=e.id,t.kind=e.kind,t.permissions=e.permissions,t.givenName=e.givenName,t.familyName=e.familyName,t.fullName=e.givenName,e.familyName?t.fullName=t.fullName+" "+e.familyName:_.isEmpty(t.fullName)&&(t.fullName=t.emailAddress),t},o.prototype.convertCuratedContent=function(e,t){if(!e)return null;var o=[],r=[],a=[],n=[],s=new i.ActivityPaneCuratedContentModel,c=e.activityPaneData;t||c&&c.length>0&&(t=new i.ComboBoxItem(c[0].packageName,c[0].packageId));var l=_.filter(c,(function(e){return e.packageId===t.tag}));return l&&1===l.length&&(l[0].models&&(n=l[0].models),l[0].reports&&(o=l[0].reports),l[0].dashboards&&(r=l[0].dashboards),l[0].tiles&&(a=l[0].tiles),s.packageId=l[0].packageId),s.addModels(n),s.addReports(o),s.addDashboards(r),s.addTiles(a),s},o.prototype.convertEmbedToEmbeddedResource=function(t,i){var o;switch(t.embedType){case e.explore.contracts.EmbedType.Static:o="ManageEmbed_EmbedType_Snapshot";break;case e.explore.contracts.EmbedType.Interactive:o="ManageEmbed_EmbedType_Live";break;default:o="ManageEmbed_EmbedType_Unknown"}var r=t.disabled?"ManageEmbed_Status_Blocked":"ManageEmbed_Status_Active";i.model&&i.model.cloudRlsEnabled&&(r="ManageEmbed_Status_NotSupported");var a=null,n=null;return t.embedType===e.explore.contracts.EmbedType.Interactive&&t.createDate&&(n=jsCommon.DateExtensions.parseUtcDate(t.createDate),n&&(a=n.toLocaleString())),{contract:t,associatedReport:i,statusLocalizationKey:r,status:"",embedTypeLocalizationKey:o,embedType:"",dateCreated:a,dateCreatedSortable:n}},o.prototype.convertAlertsEditorPane=function(e,i,o){return{contract:e,title:e.title,tileName:i.getDisplayText(),measureName:o,thresholdValue:e.rule.condition.compareToAValue.value.toString(),enabled:e.enabled,operator:e.rule.condition.compareToAValue.operator,frequency:e.notificationSetting.frequency,emailNotificationEnabled:g.hasFlag(e.notificationSetting.carrierType,2),isExpanded:!1,isNew:!1,alertFailureState:t.AlertFailureState.None}},o.prototype.convertAlertModelToContract=function(e,t,i){var o=e.contract;return{id:o?o.id:null,rule:i,modelId:t.contract.modelId,tileId:t.id,notificationSetting:{carrierType:e.emailNotificationEnabled?3:1,frequency:e.frequency},enabled:e.enabled,title:e.title,dashboard:o?o.dashboard:null,group:o?o.group:null,tile:o?o.tile:null,createdDateTimeUtc:o?o.createdDateTimeUtc:null,alertQueryFilters:[]}},o.prototype.convertSettingsAlerts=function(e,t){var i=moment(t.createdDateTimeUtc.toLocaleString()+"Z").toDate();return{contract:t,alertCreatedDate:s.GetFullDateWithTime(e,i),alertTitle:t.title,dashboardName:t.dashboard?t.dashboard.displayName:null,enabled:t.enabled}},o})()})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=jsCommon.EnumExtensions,r=e.explore.viewModels,a=e.common.contracts.Permissions,n=e.dataServices.models.RealTimeModel,s=e.data.SemanticFilter,c=e.dataServices.TileDefaultSizesUtils,l=e.dataServices.TileUtils,d="glyphicon",p="glyph-mini",u="pbi-glyph-tvmonitor",v="pbi-glyph-phone";!(function(t){function i(e,t,i,o,r,a,n,s,c){var l=[];return y(s,o,r)&&l.push({text:e.get("Duplicate_Dashboard"),action:0,type:DropDownMenuItemType.Item}),t.featureSwitches.printingEnabled!==!1&&l.push({text:e.get("Print_Dashboard"),action:1,type:DropDownMenuItemType.Item}),a.disableDashboardRefresh||m(s)&&l.push({text:e.get("Refresh_Dashboard"),action:2,type:DropDownMenuItemType.Item}),a.disableSetFeaturedDashboard||!c||n.isListViewEnabled()||c.inAppView()||(i.isOnHomeDashboard(c.currentDashboardGUID)?l.push({text:e.get("NavigationPane_DisableFeaturedDashboard"),action:7,type:DropDownMenuItemType.Item}):l.push({text:e.get("SetFeaturedDashboardButton"),action:3,type:DropDownMenuItemType.Item})),b(s)&&l.push({text:e.get("ContentTileOptions_Settings"),action:6,type:DropDownMenuItemType.Item}),l}function r(e){var t=[];return t.push({text:e.get("Dashboard_Authoring_Web"),action:4,type:DropDownMenuItemType.Item,hasGlyph:!0,iconClass:[d,p,u].join(" "),checked:!0}),t.push({text:e.get("Dashboard_Authoring_Phone"),action:5,type:DropDownMenuItemType.Item,hasGlyph:!0,iconClass:[d,p,v].join(" ")}),t}function s(e,t){return{dashboardPane:h(e,t),mobileDashboard:e}}function h(e,t){return void 0===t&&(t=!0),{dashboard:e,isPaneExpanded:t}}function g(e){for(var t=1,i=[],o=1,r=1,a=0,n=e;a<n.length;a++){var s=n[a];i.push(l.createDefaultPhoneByTile(o,r,s)),o+=c.getRowSpan(s,t)}return i}function f(){var t={name:"",columns:[],mode:e.common.contracts.RealTimeMode.CacheOnly},i=new n(null,t);return i.isNew=!0,i}function m(e){return!!e}function b(e){return e&&(o.hasFlag(e.getPermissions(),a.All)||o.hasFlag(e.getPermissions(),a.ReadWrite))}function y(e,t,i){return e&&e.canEdit&&!t.isActiveWorkspaceIsReadOnly&&!i.fullScreenMode&&o.hasFlag(e.getPermissions(),a.ReShare)}t.createDashboardMenuItems=i,t.createAuthoringDashboardMenuItems=r,t.createDashboardEditMobileDisplay=s,t.createDashboardPane=h,t.createDefaultPhonePositions=g,t.createDefaultRealTimeModel=f})(i=t.modelFactory||(t.modelFactory={}));var h;!(function(t){function i(e,t,i){return{canvas:a(e,i),taskPane:{isPaneExpanded:!1},visualizationPane:{sections:[],activeSection:0,pagePaneSections:[],activePageSection:0,isPaneExpanded:!1,visualPluginFilter:function(e){var i=t.tryGetFilterPropertyIdentifier(e.capabilities);return!i}},showVisualEnabled:!1,inFocusTile:null,dashboardText:"",displayText:"",subDisplayText:"",source:"",pinVisualText:"",saveVisualText:"",editVisualText:"",getRelatedInsightsText:"",workbook:null,realTime:null,showInsightsPane:!1,showPreviousVisualButton:!1}}function o(e,t){var i=[];return i.push({text:e.get("InFocus_GenerateQrCode"),action:0,type:DropDownMenuItemType.Item}),t&&i.push({text:e.get("ExportData_MenuItem"),action:1,type:DropDownMenuItemType.Item}),i}function a(e,t){var i={id:0,config:{},layouts:jsCommon.ArrayExtensions.extendWithId([{id:t,position:c()}])},o={visual:{visualContainer:r.ViewModelFactory.convertVisualContainerStandalone(i,t)},exploration:n(e)},a=o.visual.visualContainer;return a.overridePosition=c(),a.allowDeferredRendering=!0,a.hostServices={deleteVisualRelationships:_.noop,getFilters:function(){var t=[],i=a.contract.filters||[];i=i.concat(e.filters||[]);for(var o=0,r=i;o<r.length;o++){var n=r[o],c=n.filter;c&&t.push(c)}return{dataFilter:s.merge(t),highlightFilter:null}},getVisualRelationshipFilterAction:function(){return 0},selectDataPoint:function(){},setVisualRelationshipFilterAction:_.noop,clearHighlight:function(){}},o}function n(t){var i={width:t.size.width,height:t.size.height,dataSources:e.explore.contracts.createDataSourceArray(),sections:[t]};return e.explore.viewModels.ViewModelFactory.convertExploration(i,0)}function c(){return{x:0,y:0,width:1024,height:768}}t.createInFocus=i,t.createInFocusMenuItems=o})(h=t.inFocusViewModelFactory||(t.inFocusViewModelFactory={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i){return new a(e,t,i)}var o=e.common.helpers.ModelConverterHelper,r=e.dataServices.ContractUtils;t.createModelMerger=i;var a=(function(){function e(e,t,i){this.permissionService=i,this.modelConverter=e,this.dataServiceModelMerger=t}return e.prototype.mergeDashboard=function(e,t,i,o,r){this.dataServiceModelMerger.mergeDashboard(e,t,i,o,r)},e.prototype.mergeDashboardShallow=function(e,t){this.dataServiceModelMerger.mergeDashboardShallow(e,t)},e.prototype.mergeDashboardOwnerInfo=function(e,t){this.dataServiceModelMerger.mergeDashboardOwnerInfo(e,t)},e.prototype.mergeDashboardTiles=function(e,t){this.dataServiceModelMerger.mergeDashboardTiles(e,t)},e.prototype.mergeTileShallow=function(e,t,i,o){this.dataServiceModelMerger.mergeTileShallow(e,t,i,o)},e.prototype.mergeTile=function(e,t,i,o,r,a){this.dataServiceModelMerger.mergeTile(e,t,i,o,r,a)},e.prototype.mergeResourceWithIdArrays=function(e,t){for(var i=e.slice(0),o=0;o<e.length;o++){var r=e[o];_.filter(t,(function(e){return e.id===r.id})).length>0&&i.splice(i.indexOf(r),1)}return i.concat(t)},e.prototype.mergeModelContentProviderId=function(e,t){if(e)for(var i=0;i<e.length;i++){var o=e[i];o.contentProviderId=o.contentProviderId||r.findContentProviderId(t,o.packageId)}},e.prototype.mergeReport=function(e,t){var i=this;if(e&&t&&(e.contract=t,e.id=t.id||e.id,e.objectId=t.objectId||e.objectId,e.modelId=t.modelId||e.modelId,e.reportUrl=t.reportUrl||e.reportUrl,e.packagePublishStatus=t.packagePublishStatus||e.packagePublishStatus,e.name=t.name||e.name,e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,e.fileName=t.fileName||e.fileName,e.packageId=t.packageId||e.packageId,e.packageVersion=t.packageVersion||e.packageVersion,e.contentProviderId=t.contentProviderId||e.contentProviderId,e.getPermissionsCallback=function(){return i.permissionService.getReportEffectivePermissions(t)},jsCommon.ArrayExtensions.clear(e.reportSlides),t.reportSlides))for(var o=0,r=t.reportSlides.length;o<r;o++)e.reportSlides.push(this.modelConverter.convertReportSlide(t.reportSlides))},e.prototype.mergeModel=function(e,t){var i=this;e&&t&&(e.contract=t,e.id=t.id||e.id,e.isNew=t.isNew||e.isNew,e.getPermissionsCallback=function(){return i.permissionService.getModelEffectivePermissions(t)},e.name=t.name||e.name,e.displayName=t.displayName||e.displayName,e.description=t.description||e.description,e.fileName=t.fileName||e.fileName,e.packageId=t.packageId||e.packageId,e.packageVersion=t.packageVersion||e.packageVersion,e.contentProviderId=t.contentProviderId||e.contentProviderId,e.qnaSupported=t.qnaSupported,e.packagePublishStatus=null!=t.packagePublishStatus?t.packagePublishStatus:e.packagePublishStatus,e.isRefreshInProgress=t.currentRefreshStartingTime&&o.convertRefreshTimeToJsDateTime(t.currentRefreshStartingTime).getTime()+18e5>Date.now(),e.cloudRlsEnabled=t.cloudRlsEnabled)},e.prototype.mergeWorkbook=function(e,t){this.dataServiceModelMerger.mergeWorkbook(e,t)},e.prototype.mergePackage=function(e,t){this.dataServiceModelMerger.mergePackage(e,t)},e})()})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;
!(function(t){var i=e.common.contracts.Permissions,o=(function(){function o(e){this.source=e,this.isNameEditable=!1,this.metadata=[],this.actions=[],this.icon=t.NavigationPaneListItemIcon.None}return o.getDashboardPermissionString=function(t){var o;return e.common.localize.ensureLocalization((function(){switch(t){case i.All:o=e.common.localize.get("DashboardContextMenu_AllPermissionMessage");break;case i.None:o=e.common.localize.get("DashboardContextMenu_NonePermissionMessage");break;case i.Read:o=e.common.localize.get("DashboardContextMenu_ReadPermissionMessage");break;case i.ReadReshare:o=e.common.localize.get("DashboardContextMenu_ReadResharePermissionMessage");break;case i.ReadWrite:o=e.common.localize.get("DashboardContextMenu_ReadWritePermissionMessage");break;case i.ReShare:o=e.common.localize.get("DashboardContextMenu_ReSharePermissionMessage");break;case i.Write:o=e.common.localize.get("DashboardContextMenu_WritePermissionMessage");break;default:o=e.common.localize.get("DashboardContextMenu_UnknownPermissionMessage")}})),o},o})();t.DashboardNavigationPaneListItemModel=o})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function t(t){this.source=t,this.isNameEditable=!1,this.metadata=[],this.actions=[],this.icon=e.NavigationPaneListItemIcon.None}return t})();e.DatasetNavigationPaneListItemModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function t(t){this.source=t,this.isNameEditable=!1,this.metadata=this.getGroupMetadata(t),this.actions=this.getGroupActions(t),t.isMyWorkspace?this.icon=e.NavigationPaneListItemIcon.User:this.icon=e.NavigationPaneListItemIcon.Group}return t.prototype.getGroupMetadata=function(e){var t=[];return t},t.prototype.getGroupActions=function(e){var t=[];return t.push({text:"'"+e.displayName+"' 1",action:function(){}}),t.push({text:"'"+e.displayName+"' 2",action:function(){}}),t.push({text:"'"+e.displayName+"' 3",action:function(){}}),t},t})();e.GroupNavigationPaneListItemModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.None=0]="None",e[e.Shared=1]="Shared",e[e.ReadOnly=2]="ReadOnly",e[e.Group=3]="Group",e[e.User=4]="User",e[e.Workbook=5]="Workbook"})(t=e.NavigationPaneListItemIcon||(e.NavigationPaneListItemIcon={}));var i=(function(){function e(){}return e})();e.NavigationPaneListItemModel=i})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function t(t){this.source=t,this.isNameEditable=!1,this.metadata=[],this.actions=[],this.icon=e.NavigationPaneListItemIcon.None}return t})();e.ReportNavigationPaneListItemModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function t(t){this.source=t,this.isNameEditable=!1,this.metadata=[],this.actions=[],this.icon=e.NavigationPaneListItemIcon.Workbook}return t})();e.WorkbookNavigationPaneListItemModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.dashboardTile=e,this.reportTile=e,this.workbookTile=e,this.hasTileFormatting=!0}return e})();e.PinTileDialogModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){})(t=e.PowerBICompanionModel||(e.PowerBICompanionModel={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){})(t=e.PowerBIConnectorModel||(e.PowerBIConnectorModel={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){})(t=e.PowerBIOnPremGatewayModel||(e.PowerBIOnPremGatewayModel={}))})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){e&&(this.isDefaultImageUsed=!e.icon),this.contentPackCreatedFor=!1}return e})();e.PublishContentPackViewModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.QrCodeDialogModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.RequestDashboardAccess=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.RequestDashboardAccessModal=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e[e.Privacy=0]="Privacy",e[e.CloseAccount=1]="CloseAccount",e[e.Language=2]="Language",e[e.Plugins=3]="Plugins",e[e.Preview=4]="Preview",e[e.Esri=5]="Esri"})(t=e.SettingsGeneralSubgroupType||(e.SettingsGeneralSubgroupType={}));var i=(function(){function e(e,t){this.type=e,this.name=t}return e})();e.GeneralSubGroup=i})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){this.type=e,this.name=t}return e})();e.SettingsGroup=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i,o=e.common.contracts.Permissions;!(function(e){e[e.Default=0]="Default",e[e.SharedUsers=1]="SharedUsers",e[e.InvitedUsers=2]="InvitedUsers",e[e.RequestingUsers=3]="RequestingUsers"})(i=t.SharingUserList||(t.SharingUserList={}));var r;!(function(e){e[e.ReadOnly=0]="ReadOnly",e[e.ReadReshare=1]="ReadReshare",e[e.StopSharing=2]="StopSharing"})(r=t.SharingOptions||(t.SharingOptions={}));var a=(function(){function e(){}return e})();t.UserInvitationModel=a;var n=(function(){function t(){}return Object.defineProperty(t.prototype,"permissionsDisplayText",{get:function(){if((this.permissions&o.Read)===o.Read)return(this.permissions&o.Write)===o.Write?e.common.localize.get("Sharing_PermissionDisplay_CanEdit"):e.common.localize.get("Sharing_PermissionDisplay_CanView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isExternalUser",{get:function(){return this._isExternalUser},set:function(e){this._isExternalUser=e,this.allowedActions=void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sharingPermissionsOptions",{get:function(){if(this.allowedActions)return this.allowedActions;var t=[{text:e.common.localize.get("Sharing_PermissionOptions_StopSharing"),action:r.StopSharing,id:this.id,type:DropDownMenuItemType.Item,kind:this.kind}];return(this.permissions&o.ReShare)===o.ReShare?t.push({text:e.common.localize.get("Sharing_PermissionOptions_DisableReshares"),action:r.ReadOnly,id:this.id,type:DropDownMenuItemType.Item,kind:this.kind}):this.isExternalUser||t.push({text:e.common.localize.get("Sharing_PermissionOptions_EnableReshares"),action:r.ReadReshare,id:this.id,type:DropDownMenuItemType.Item,kind:this.kind}),this.allowedActions=t,this.allowedActions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emailAddressAsLink",{get:function(){return"mailto:"+this.emailAddress},enumerable:!0,configurable:!0}),t})();t.DashboardAccessInfoModel=n;var s=(function(){function e(){this.allowReshare=!0}return Object.defineProperty(e.prototype,"hasValidationError",{get:function(){return!_.isEmpty(this.emailValidationError)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasValidationWarning",{get:function(){return!_.isEmpty(this.emailValidationWarning)},enumerable:!0,configurable:!0}),e})();t.ShareViewModel=s})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.constants,o=e.dataServices.models.Tile,r=(function(){function t(e,t,i,o,r){this.titleRequired=!1,this.tile=e,this.explorationSerializer=i,this.featureSwitchService=t,this.visualPlugin=o,this.originalContract=angular.copy(e.contract),this.initialize(r)}return t.prototype.initialize=function(e){var t=this.tile;this.workbookService=e;var i=t.composite;if(i)this.defaultTitle=i.config.heading1,this.defaultSubtitle=i.config.heading3,t.displayText=null==t.displayText?this.defaultTitle:t.displayText,t.subDisplayText=null==t.subDisplayText?this.defaultSubtitle:t.subDisplayText;else if(t.reportTile)this.defaultTitle=t.displayText,this.defaultSubtitle=t.subDisplayText;else if(t.workbook){if(t.config&&t.config.workbookTile){var o=t.config.workbookTile.item,r=e.findWorkbook(t.contract.workbookId).contract.displayName;this.defaultTitle=e.getDefaultTileTitle(t.config.workbookTile,r),this.defaultSubtitle=e.getDefaultTileSubtitle(o)}else this.defaultTitle=t.displayText,this.defaultSubtitle=t.subDisplayText;this.titleRequired=!0}this.defaultTitle=this.defaultTitle||"",this.defaultSubtitle=this.defaultSubtitle||"",null==t.displayText&&(t.displayText=this.defaultTitle,t.subDisplayText=this.defaultSubtitle),this.hasTitle=t.hasTitle(),this.canAddOrRemoveCustomLink=!(!t.config||!t.config.widget)||!t.reportTile},Object.defineProperty(t.prototype,"hasLastRefreshTime",{get:function(){return!!this.tile.contractsModel&&!this.tile.realTime},enumerable:!0,configurable:!0}),t.prototype.isCustomLinkValid=function(){var t=this.tile.action;return t.action!==e.constants.openUrlActionName||o.isValidUrl(t.targetUrl)},t.prototype.isDirty=function(){var e=this.tile,t=this.originalContract,i=e.action,o=t.$action,r=!1;return i&&o&&(r=i.action!==o.action||!!i.openInSameTab!=!!o.openInSameTab||i.targetUrl!==o.targetUrl),e.displayText!==t.displayText||e.subDisplayText!==t.subDisplayText||r||!_.isEqual(e.config,t.$config)||!(!(e.workbook&&t.$config&&t.$config.workbookTile)||_.isEqual(e.workbook.keepOriginalContentSize,t.$config.workbookTile.keepOriginalContentSize))},t.prototype.isTitleValid=function(){var e=this.tile.config;return!(this.titleRequired||this.tile.subDisplayText||e&&e.lastRefreshTimeEnabled)||!!this.tile.displayText},t.prototype.isValid=function(){return this.isTitleValid()&&this.isCustomLinkValid()},t.prototype.canRestoreDefaults=function(){var e=this.tile,t=!1;e.workbook&&(t=!!e.workbook.keepOriginalContentSize);var i=!1;return e.config&&e.config.lastRefreshTimeEnabled&&(i=e.config.lastRefreshTimeEnabled===!0),e.displayText!==this.defaultTitle||e.subDisplayText!==this.defaultSubtitle||t||i||!_.isEmpty(e.action.targetUrl)||this.tile.action.openInSameTab===!0},t.prototype.restoreDefaults=function(){var e=this.tile;e.displayText=this.defaultTitle,e.subDisplayText=this.defaultSubtitle;var t=this.tile.action;t.openInSameTab=!1,t.targetUrl=null,t.originalAction&&(t.action=t.originalAction),e.workbook&&this.setKeepOriginalSizeProperty(i.workbook.defaultKeepOriginalContentSize);var o=e.config;o&&(o.lastRefreshTimeEnabled&&(o.lastRefreshTimeEnabled=!1),o.hideTitle&&(o.hideTitle=!1))},t.prototype.setAction=function(e){var t=this.tile.action;e?(t.originalAction||(t.originalAction=t.action),t.action=e):(t.action=t.originalAction||null,delete t.originalAction)},t.prototype.undoChanges=function(){var e=this.tile,t=this.originalContract;this.hasTitle!==e.hasTitle()&&e.invalidateLayout(),e.contract=t,e.displayText=t.displayText,e.subDisplayText=t.subDisplayText,e.action=t.$action,e.config=t.$config,this.tile.workbook&&t.$config.workbookTile&&this.setKeepOriginalSizeProperty(t.$config.workbookTile.keepOriginalContentSize)},t.prototype.updateModelContract=function(){var t=this.tile,i=t.contract;i.displayText=t.displayText,i.subDisplayText=t.subDisplayText;var o=t.action;i.$action=o,i.action=JSON.stringify(o);var r=t.config;t.workbook&&r.workbookTile&&(r.workbookTile.keepOriginalContentSize=t.workbook.keepOriginalContentSize),i.$config=r,i.config=e.dataServices.models.TileFactory.serializeTileConfig(r,this.explorationSerializer,this.visualPlugin,this.featureSwitchService.featureSwitches.visualContainerTileConfig)},t.prototype.setKeepOriginalSizeProperty=function(e){this.tile.workbook.keepOriginalContentSize=e,this.workbookService.setModelDynamicImageUrl(this.tile.workbook)},t})();t.TileEditorModel=r})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.contract=e}return e})();e.ProviderTileModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,n,s,c){return t.isE2ERun?{itemKeys:[],items:{}}:window.initialDashboardContainer&&jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(window.initialDashboardContainer.previousTenantId)?s.isListViewEnabled()?a.createTutorialModel(o,s,c,n):e.displayPremiumUserFirstTimeExperience?{itemKeys:["DataCapacityLimit","GetDataOnPremisesDataSources","CreateGroup","CreateContentPacks"],items:{DataCapacityLimit:{title:o.get("TutorialPopup_DataCapacityLimitTitle"),text:"<div class='data-capacity-limit'>"+o.get("TutorialPopup_DataCapacityLimitText")+" <a target='_blank' href='https://go.microsoft.com/fwlink/?LinkId=616908'>"+o.get("LearnMore")+"</a></div>",buttonLabel:o.get("TutorialPopup_GotIt"),canShow:function(){return $(".topNavRight #settingsMenuBtn").length>0},attachTo:function(){return $(".topNavRight #settingsMenuBtn")},offset:r.dataCapacityLimit},GetDataOnPremisesDataSources:{title:o.get("TutorialPopup_OnPremisesDataSourcesTitle"),text:"<div class='onpremises-datasources'>"+o.get("TutorialPopup_OnPremisesDataSourcesText")+" <a target='_blank' href='https://go.microsoft.com/fwlink/?LinkId=616911'>"+o.get("LearnMore")+"</a></div>",buttonLabel:o.get("TutorialPopup_GotIt"),canShow:function(){return $(".navigationPane .getDataBtn").length>0},attachTo:function(){return $(".navigationPane").hasClass("isCollapsed")?$(".navigationPane .getDataBtn .getDataIcon"):$(".navigationPane .getDataBtn")},offset:r.dataOnPremises},CreateGroup:{title:o.get("TutorialPopup_CreateGroupTitle"),text:"<div class='create-group'>"+o.get("TutorialPopup_CreateGroupText")+" <a target='_blank' href='https://go.microsoft.com/fwlink/?LinkId=616912'>"+o.get("LearnMore")+"</a></div>",buttonLabel:o.get("TutorialPopup_GotIt"),canShow:function(){return $(".navigationPane .addButton").length>0},attachTo:function(){return $(".navigationPane .addButton")},offset:r.createGroup},CreateContentPacks:{title:o.get("TutorialPopup_CreateContentPacksTitle"),text:"<div class='create-content-packs'>"+o.get("TutorialPopup_CreateContentPacksText")+" <a target='_blank' href='https://go.microsoft.com/fwlink/?LinkId=616913'>"+o.get("LearnMore")+"</a></div>",buttonLabel:o.get("TutorialPopup_GotIt"),canShow:function(){return $(".sliderContentView.contentProviderStore .navigation .categoryContainer .category").length>0},attachTo:function(){return $(".sliderContentView.contentProviderStore .navigation .categoryContainer .category")},offset:r.createContentPacks}}}:{itemKeys:["FindContent"],items:{ConnectData:{title:o.get("TutorialPopup_ConnectDataTitle"),text:o.get("TutorialPopup_ConnectDataText"),buttonLabel:o.get("TutorialPopup_GotIt"),canShow:function(){return $(".navigationPane .getDataBtn").length>0},attachTo:function(){return $(".navigationPane").hasClass("isCollapsed")?$(".navigationPane .getDataBtn .getDataIcon"):$(".navigationPane .getDataBtn")},offset:r.connectData},FindContent:{title:o.get("TutorialPopup_FindContentTitle"),text:o.get("TutorialPopup_FindContentText"),buttonLabel:o.get("TutorialPopup_GotIt"),canShow:function(){return $(".navPaneListItemName .textLabel.new").length>0},attachTo:function(){return $(".navigationPane").hasClass("isCollapsed")?$(".navigationPane .expanderBtn"):$(".navPaneListItemName .textLabel.new").eq(0).closest("li")},offset:r.findContent}}}:{itemKeys:["WelcomeToNewPowerBI","ViewArchivedContent"],items:{WelcomeToNewPowerBI:{title:"<div class='archived-content'>"+o.get("TutorialPopup_WelcomeArchivedContentTitle")+"</div>",text:"<div class='archived-content'>"+o.get("TutorialPopup_WelcomeArchivedContentParagraphOne")+"<br/><br/>"+o.get("TutorialPopup_WelcomeArchivedContentParagraphTwo")+"<br/><br/ >"+o.get("TutorialPopup_WelcomeArchivedContentGoingForward")+"</div><div class='archived-content-caption archived-content-caption-title archived-content-caption-left'>"+o.get("TutorialPopup_ArchivedContentTitle")+"</div><div class='archived-content-caption archived-content-caption-left'>"+o.get("TutorialPopup_ArchivedContentText")+"<br/><br/></div><div class='tenant-merge-picture'></div><div class='archived-content-caption archived-content-caption-title archived-content-caption-right'>"+o.get("TutorialPopup_ForYourOrganizationTitle")+"</div><div class='archived-content-caption archived-content-caption-right'>"+o.get("TutorialPopup_ForYourOrganizationText")+"</div><div class='archived-content-learn-more'><a target='_blank' href='https://go.microsoft.com/fwlink/?LinkId=615080'>"+o.get("TutorialPopup_WelcomeArchivedContentLearnMoreLinkText")+"</a></div>",buttonLabel:o.get("TutorialPopup_GotIt")+'<i class="check ms-Icon ms-Icon--check get-data-icon archived-content"></i>',modalButtonClassOverride:"archived-content-override",canShow:function(){return 0===$(".loading.intro").length},attachTo:function(){return $("body")},modal:!0},ViewArchivedContent:{title:o.get("TutorialPopup_ViewArchivedContentTitle"),text:o.get("TutorialPopup_ViewArchivedContentText"),buttonLabel:o.get("TutorialPopup_GotIt"),canShow:function(){return $(".navigationPane .viewArchivedContent").length>0},attachTo:function(){return $(".navigationPane").hasClass("isCollapsed")?$(".navigationPane .expanderBtn"):$(".navigationPane .viewArchivedContent")},offset:r.connectData}}}}function i(e){var t="GroupCapacitySettings";return{itemKeys:[t],items:{GroupCapacitySettings:{title:e.get("TutorialPopup_GroupCapacitySettingsTitle"),text:e.get("TutorialPopup_GroupCapacitySettingsText"),buttonLabel:e.get("TutorialPopup_GotIt"),canShow:function(){return $(".advanced").length>0},attachTo:function(){return $(".advanced")},iconClass:"pbi-glyph-gear",offset:r.groupCapacitySettings,dataStoreKey:t}}}}function o(e){var t="WelcomeToCapacity",i=$("<div>");$("<div>").addClass("list-view-navigation-header").text(e.get("TutorialPopup_AddedToCapacity")).appendTo(i),$("<div>").addClass("list-view-navigation-title").text(e.get("TutorialPopup_WelcomeToCapacityTitle")).appendTo(i);var o=$("<div>");$("<div>").addClass("tutorial-capacity-picture").appendTo(o);var r='<div class="tutorial-capacity-text">'+e.get("TutorialPopup_WelcomeToCapacityText")+"<ul><li>"+e.get("TutorialPopup_WelcomeToCapacityText1")+"</li><li>"+e.get("TutorialPopup_WelcomeToCapacityText2")+"</li></ul></div>";return $(r).appendTo(o),{itemKeys:[t],items:{WelcomeToCapacity:{title:i.html(),text:o.html(),buttonLabel:e.get("TutorialPopup_GotIt"),modalButtonClassOverride:"tutorial-capacity-button-override",canShow:function(){return 0===$(".loading.intro").length},attachTo:function(){return $("body")},modal:!0,customClass:"list-view-navigation-container",overlayOptions:0,dataStoreKey:t}}}}var r;!(function(e){e.connectData={top:0,left:-25},e.home={top:-15,left:-15},e.findContent={top:0,left:-25},e.dataCapacityLimit={top:-10,left:0},e.dataOnPremises={top:10,left:0},e.createGroup={top:0,left:-25},e.createContentPacks={top:0,left:-25},e.insights={top:-10,left:0},e.groupCapacitySettings={top:-25,left:-5}})(r=e.tutorialPopupOffset||(e.tutorialPopupOffset={}));var a;!(function(t){function i(e){var t=".navigationPaneV2 "+e;return $(".navigationPaneV2").hasClass("isExpanded")||$(".navigationPaneV2 .expanderBtn").click(),$(t)}function o(e){switch(e){case p:return"pbi-glyph-favoritestar";case u:return"pbi-glyph-mru";case v:return"pbi-glyph-my-apps";case h:return"pbi-glyph-shared";case g:return"pbi-glyph-collections";case f:return"pbi-glyph-user";case m:return"pbi-glyph-getdata";case b:return"pbi-glyph-gear";default:return""}}function r(t,i){return t===m?i.isRtlLayout?e.Direction.RightBottomForRtl:e.Direction.LeftBottom:t===b?e.Direction.Top:i.isRtlLayout?e.Direction.RightTopForRtl:e.Direction.LeftTop}function a(e,t){var i=$("<div>");$("<div>").addClass("list-view-navigation-header").text(e.get("TutorialPopup_PowerBIPreview")).appendTo(i),$("<div>").addClass("list-view-navigation-title").text(e.get("TutorialPopup_ListViewNavigationPreviewTitle")).appendTo(i);var o=$("<div>");return $("<div>").addClass("tutorial-nav-model-picture").appendTo(o),$("<div>").addClass("list-view-navigation-text").text(e.get("TutorialPopup_ListViewNavigationPreviewText")).appendTo(o),{title:i.html(),text:o.html(),buttonLabel:e.get("TutorialPopup_TakeAQuickTourButtonText"),modalButtonClassOverride:"list-view-navigation-button-override",canShow:function(){return 0===$(".loading.intro").length},attachTo:function(){return $("body")},modal:!0,customClass:"list-view-navigation-container",cancelText:e.get("TutorialPopup_SkipTutorial"),overlayOptions:0,dataStoreKey:d,onButtonClick:function(){return t.resetToMyWorkspace()}}}function n(t,o,r,a,n){var s="."+t[0].toLowerCase()+t.slice(1,t.length),l=function(){return i(s)},d=c(t,l,o,r,a,n);return t===v&&(d.learnMoreText=o.get("LearnMore"),d.learnMoreUrl=e.constants.pbiAppsLink),d}function s(e,t,i,o){var r="#"+e[0].toLowerCase()+e.slice(1,e.length),a=function(){return $(".topNavRight "+r)},n=c(e,a,t,i,void 0,o);return n}function c(e,t,i,a,n,s){var c=i.get("TutorialPopup_"+e+"Title"),l=i.get("TutorialPopup_"+e+"Text"),p=s?i.get("TutorialPopup_GotIt"):i.get("TutorialPopup_Next"),u=function(){return t().length>0},v=o(e),h=r(e,a),g=2,f=n||d,m={title:c,text:l,buttonLabel:p,canShow:u,attachTo:t,iconClass:v,preferredOrientation:h,overlayOptions:g,dataStoreKey:f};return m}function l(e,t,i,o){var r={itemKeys:[],items:{}},c=_(r.itemKeys).concat(d,p,u);return t.isAppsEnabled()&&(c=c.concat(v)),c=c.concat(h,g,f,m,b),r.itemKeys=c.value(),r.items[d]=a(e,o),r.items[p]=n(p,e,i),r.items[u]=n(u,e,i),r.items[v]=n(v,e,i,y),r.items[h]=n(h,e,i),r.items[g]=n(g,e,i),r.items[f]=n(f,e,i),r.items[m]=n(m,e,i),r.items[b]=s(b,e,i,!0),t.isAppsEnabled()&&(r.items[m].text=e.get("TutorialPopup_GetDataWithAppsText")),r.isBlockingTutorial=!0,r.isSequentialTutorial=!0,r}var d="ListViewNavigationPreviewTutorial",p="Favorites",u="Recent",v="MyApps",h="SharedWithMe",g="Workspaces",f="QuickAccessPaneLauncher",m="GetData",b="SettingsMenuBtn",y="AppModelPreviewTutorial";t.createTutorialModel=l})(a=e.ListViewNavigationPreviewTutorialFactory||(e.ListViewNavigationPreviewTutorialFactory={})),e.createStartupTutorialModel=t,e.createGroupCapacitySettingsTutorialModel=i,e.createStartUpCapacityTutorialModel=o})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.isMyWorkspace=!0}return e})();e.UserGroupHeaderModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.contract=e}return e})();e.UserSettings=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(e){e[e.FixIt=1]="FixIt",e[e.YesNo=2]="YesNo"})(i=t.WarningBarActionType||(t.WarningBarActionType={}));var o;!(function(e){e[e.Yes=0]="Yes",e[e.No=1]="No",e[e.FixIt=2]="FixIt"})(o=t.WarningBarResult||(t.WarningBarResult={}));var r=(function(){function t(t,i,o){var r=this;e.common.localize.ensureLocalization((function(){r._text=e.common.localize.get(t)})),this._type=i,this._clickCallback=o}return Object.defineProperty(t.prototype,"text",{get:function(){return this._text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t.prototype.onButtonClick=function(e){this._clickCallback(e)},t})();t.WarningBarModel=r})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.contract=e}return Object.defineProperty(e.prototype,"showDiscoverabilityToast",{get:function(){return!e.DiscoverabilityToastDismissed&&this._showDiscoverabilityToast},set:function(e){this._showDiscoverabilityToast=e},enumerable:!0,configurable:!0}),e})();e.WorkbookContainer=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,r){return new o(e,t,i,r)}var i=jsCommon.StringExtensions;e.createAlertHttpService=t;var o=(function(){function t(t,i,o,r){this.httpService=e.common.httpService,this.promiseFactory=t,this.telemetryService=i,this.errorService=o,this.localizationService=r,this.allAlerts=[]}return t.prototype.createAlert=function(i,o){var r=this,a=this.promiseFactory.defer(),n="metadata/alerts",s=this.telemetryService.startChildEvent(o,e.telemetry.DataAlertsRequest,e.telemetry.AlertRequestType.Create);return this.httpService.post(n,i,this.httpService.powerbiRequestOptions()).then((function(e){s.resolve(),a.resolve(e.data)}),(function(e){var i=r.getErrorCode(e);if(i===t.quotaExceededError){var o=r.errorService.control();o.showPrompt(r.localizationService.get("Alerts_QuotaExceededDialogTitle"),r.localizationService.get("Alerts_QuotaExceededDialogMessage"),[new InJs.ModalDialogAction(r.localizationService.get("ModalDialogButtonText_Ok"),function(e,t){o.hideDialog()})])}s.reject({errorCode:i}),a.resolve(-1)})),a.promise},t.prototype.updateAlert=function(t,o){var r=this,a=this.promiseFactory.defer(),n="metadata/alerts/{0}",s=this.telemetryService.startChildEvent(o,e.telemetry.DataAlertsRequest,e.telemetry.AlertRequestType.Update);return this.httpService.put(i.format(n,t.id.toString()),t,this.httpService.powerbiRequestOptions()).then((function(e){s.resolve(),a.resolve(!0)}),(function(e){var t=r.getErrorCode(e);s.reject({errorCode:t}),a.resolve(!1)})),a.promise},t.prototype.deleteAlert=function(t,o){var r=this,a=this.promiseFactory.defer(),n="metadata/alerts/{0}",s=this.telemetryService.startChildEvent(o,e.telemetry.DataAlertsRequest,e.telemetry.AlertRequestType.Delete);return this.httpService.delete(i.format(n,t.toString()),this.httpService.powerbiRequestOptions()).then((function(e){s.resolve(),a.resolve(!0)}),(function(e){var t=r.getErrorCode(e);s.reject({errorCode:t}),a.resolve(!1)})),a.promise},t.prototype.toggleAlert=function(t,o,r){var a=this,n=this.promiseFactory.defer(),s="metadata/alerts/{0}/toggle",c=this.telemetryService.startChildEvent(r,e.telemetry.DataAlertsRequest,e.telemetry.AlertRequestType.Toggle);return this.httpService.put(i.format(s,t.toString()),o,this.httpService.powerbiRequestOptions()).then((function(e){c.resolve(),n.resolve(!0)}),(function(e){var t=a.getErrorCode(e);c.reject({errorCode:t}),n.resolve(!1)})),n.promise},t.prototype.getAllAlerts=function(t,o){var r=this,a=this.promiseFactory.defer(),n="metadata/alerts{0}",s=this.telemetryService.startChildEvent(t,e.telemetry.DataAlertsRequest,e.telemetry.AlertRequestType.Get);return this.httpService.get(i.format(n,null!=o?"?tileId="+o:""),this.httpService.powerbiRequestOptions()).then((function(e){s.resolve(),a.resolve(e.data)}),(function(e){var t=r.getErrorCode(e);s.reject({errorCode:t}),a.resolve([])})),a.promise},t.prototype.getErrorCode=function(e){var t=void 0;return e&&(e.error?t=e.error.code:e.status&&(t=e.status.toString())),t},t})();o.quotaExceededError="DataDrivenAlertRulesQuotaExceeded"})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"DeleteContentPack");return o.enableTelemetry=!0,e.common.httpService.delete("/powerbi/content/providers/organization/"+t+"/",o)}function o(t,i,o,a,n,s){var c=r(t,i,o,a,n),l=t.isTemplate,d=e.common.httpService.powerbiRequestOptions(s,l?"PublishTenantContentPack":"PublishContentPack"),p=l?"/powerbi/content/providers/organizationaltemplate/":"/powerbi/content/providers/organization/";return t.providerKey?e.common.httpService.put(p+t.providerKey+"/",JSON.stringify(c),d):e.common.httpService.post(p,JSON.stringify(c),d)}function r(e,t,i,o,r){var a;a=e.isTemplate?s.OrganizationalTemplate:s.Organizational;var n={name:e.titleText,description:e.descriptionText,icon:t,parameterIcon:i,accessPermissions:{listOfGroupsOrPrincipals:e.groupsAddressesList,isSharedToEntireOrganization:e.isSharedWithOrg},dashboardIds:e.selectedDashboardIds,reportIds:e.selectedReportIds,modelIds:e.selectedDatasetIds,workbookIds:e.selectedWorkbookIds,contentProviderCategory:a};return e.emailsList&&e.emailsList.inputUserList&&(n.accessPermissions.adUserMetadataList=e.emailsList.inputUserList),e.providerKey&&(o||(n.skipUpdateIcon=!o,n.icon=""),r||(n.skipUpdateParameterIcon=!r,n.parameterIcon="")),n}function a(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"SetContentPackDirty");o.enableTelemetry=!0;var r={contentProviderKeys:t},a=e.common.httpService.put("/powerbi/content/providers/organization/",JSON.stringify(r),o);return a}function n(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"Personalize");return e.common.httpService.put("/powerbi/content/providers/personalize?packageId="+t,null,o)}var s=e.common.contracts.ContentProviderCategory;t.deleteContentPack=i,t.publishContentPack=o,t.createContentPackRequest=r,t.setContentPackDirty=a,t.personalize=n})(t=e.contentPackService||(e.contentPackService={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i){return new o(e,t,i)}t.createExportStaticReportProxy=i;var o=(function(){function t(e,t,i){this.promiseFactory=e,this.errorService=t,this.localizationService=i}return t.prototype.exportAsImage=function(t,i){var o=this,r="v1.0/myorg/reports/"+t;i&&(r+="/pages/"+i);var a=e.common.httpService.powerbiRequestOptions();_.extend(a.headers,{Accept:"image/png"}),a.responseType="arraybuffer";var n=this.promiseFactory.defer();return e.common.httpService.get(r,a).then((function(e){n.resolve({blob:e.data})}),(function(e){n.reject(e?{error:e.error,requestId:e.requestId}:{}),o.errorService.error(o.localizationService.get("ExportStaticImage_Error"),"ExportStaticImage_Error",{requestId:e.requestId,statusCode:e.status.toString()})})),n.promise},t})()})(t=e.proxies||(e.proxies={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t){return new i(e,t)}e.createFavoritesHttpService=t;var i=(function(){function t(e,t){this.syncService=e,this.notificationToastService=t}return t.prototype.deleteFavorite=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"DeleteFavorite"),r="metadata/favorites/"+t.id+"?type="+t.favoriteType;return e.common.httpService.delete(r,o)},t.prototype.getFavorites=function(t){var i=e.common.httpService.powerbiRequestOptions(t,"GetFavorites");return e.common.httpService.get("metadata/favorites",i)},t.prototype.addFavorite=function(t,i,o){var r=e.common.httpService.powerbiRequestOptions(o,"AddFavorites"),a={favoriteType:t,favoriteId:i};return e.common.httpService.post("metadata/favorites",JSON.stringify(a),r)},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t){return new i(e,t)}e.createGroupHttpService=t;var i=(function(){function t(e,t){this.telemetryService=e,this.activeGroupIdService=t}return t.prototype.setActiveGroupId=function(t){var i=e.common.httpService.powerbiRequestOptions(t,"SetActiveGroup"),o="/powerbi/metadata/user/activegroup";return i.enableTelemetry=!0,e.common.httpService.post(o,null,i)},t.prototype.getGroupDashboardContainer=function(t,i){var o=t.lastViewedDashboard,r=e.common.httpService.powerbiRequestOptions(i,"GetGroupContainer"),a="powerbi/metadata/groupmetadata/";return o&&o!==-1&&(a=jsCommon.Utility.urlCombine(a,"?dashboardId="+encodeURIComponent(o.toString()))),e.common.httpService.get(a,r)},t.prototype.addGroup=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"AddGroup");return o.enableTelemetry=!0,e.common.httpService.put("/powerbi/metadata/groups",t,o)},t.prototype.validateGroupMembers=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"ValidateGroupMembers");return o.enableTelemetry=!0,e.common.httpService.post("/powerbi/metadata/groups/validatemembers",t,o)},t.prototype.getGroupMembers=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"GetGroupMembers");return o.enableTelemetry=!0,e.common.httpService.get("/powerbi/metadata/groups/"+t+"/members",o)},t.prototype.updateGroup=function(t,i,o,r,a,n,s){
var c=e.common.httpService.powerbiRequestOptions(s,"UpdateGroupMembers");c.enableTelemetry=!0;var l={group:i,membersToAdd:o,membersToRemove:r,membersToAdmins:a,adminsToMembers:n};return e.common.httpService.post("/powerbi/metadata/groups/"+t,l,c)},t.prototype.deleteGroup=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"DeleteGroup");return o.enableTelemetry=!0,e.common.httpService.delete("/powerbi/metadata/groups/"+t,o)},t.prototype.validateGroupId=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"ValidateGroupId");return o.enableTelemetry=!0,e.common.httpService.post("/powerbi/metadata/groups/validategroupid",JSON.stringify(t),o)},t.prototype.getAvailableGroupCapacities=function(){var t=e.common.httpService.powerbiRequestOptions(this.telemetryService.startEvent(e.telemetry.GroupsGetCapacities).event,"ValidateGroupId");return e.common.httpService.get("/capacities/author",t)},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t){return new r(e,t)}var i=e.common.contracts.Permissions,o=jsCommon.Utility;e.createInvitationService=t;var r=(function(){function t(e,t){this.promiseFactory=e,this.telemetryService=t}return t.prototype.claimInvite=function(i,r,a,n){var s={invitationId:r,tenantIdentifier:i},c=e.common.httpService.powerbiRequestOptions(n,"ClaimInvite");c.headers["X-PowerBI-RedirectedFromSignup"]="true";var l=o.urlCombine(t.baseDashboardInvitationsUrl,"/invitations/accept");return e.common.httpService.post(l,s,c)},t.prototype.sendInvitation=function(r,a,n,s,c,l,d){var p={emailAddresses:a,objectIds:n,message:s,permission:c?i.ReadReshare:i.Read,notifyViaEmail:l},u=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+r+"/invitations"),v=e.common.httpService.powerbiRequestOptions(d,"SendInvitation");return v.headers["X-PowerBI-WFE-Origin"]=e.common.httpService.frontendUri,e.common.httpService.post(u,p,v)},t.prototype.getInvitedUsers=function(i,r){var a=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+i+"/invitations"),n=e.common.httpService.powerbiRequestOptions(r,"GetInvitedUsers");return e.common.httpService.get(a,n)},t.prototype.getDashboardAccess=function(i,r){var a=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+i+"/access"),n=e.common.httpService.powerbiRequestOptions(r,"GetDashboardAccess");return e.common.httpService.get(a,n)},t.prototype.cancelInvitation=function(i,r,a){var n=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+r+"/invitations/"+i),s=e.common.httpService.powerbiRequestOptions(a,"CancelInvitation");return e.common.httpService.delete(n,s)},t.prototype.deleteUser=function(i,r,a){var n=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+r+"/users/"+i),s=e.common.httpService.powerbiRequestOptions(a,"DeleteUser");return e.common.httpService.delete(n,s)},t.prototype.deleteDashboardAccess=function(i,r){var a=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+i.dashboardId+"/access/"+i.kind+"/"+i.id),n=e.common.httpService.powerbiRequestOptions(r,"DeleteDashboardAccess");return e.common.httpService.delete(a,n)},t.prototype.editDashboardAccess=function(i,r){var a=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+i.dashboardId+"/access"),n=e.common.httpService.powerbiRequestOptions(r,"EditDashboardAccess");return e.common.httpService.put(a,i,n)},t.prototype.requestDashboardAccess=function(i,r,a){var n=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+i+"/requestaccess"),s=e.common.httpService.powerbiRequestOptions(a,"RequestDashboardAccess",{dismissGroupObjectId:!0});return e.common.httpService.put(n,{message:r},s)},t.prototype.deleteDashboardAccessRequest=function(i,r,a,n){var s=o.urlCombine(t.baseDashboardInvitationsUrl,"/"+i+"/requestaccess/"+r+"/"+a),c=e.common.httpService.powerbiRequestOptions(n,"DeleteDashboardAccessRequest");return e.common.httpService.delete(s,c)},t.prototype.getDashboardInviteLink=function(e,i){var o={code:e,tenantId:window.tenantId,extShare:i},r=btoa(JSON.stringify(o));return window.baseUrl+"/"+t.claimInvitePage+"?i="+r},t.prototype.getSharedDashboardLink=function(e,i){if(i){var o={dashboardId:e,tenantId:window.tenantId,extShare:!0},r=btoa(JSON.stringify(o));return window.baseUrl+"/"+t.claimInvitePage+"?i="+r}return window.baseUrl+"/groups/me/dashboards/"+e},t})();r.baseUrl="powerbi/invitation",r.baseDashboardInvitationsUrl=o.urlCombine(r.baseUrl,"/dashboards"),r.claimInvitePage="claiminvite.html"})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(t){var i={};return e.common.httpService.get(t,i)}t.showNpsDialog=i})(t=e.npsHttpService||(e.npsHttpService={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(){return new o}var i=jsCommon.Utility;e.createO365ApplicationLauncherService=t;var o=(function(){function t(){}return t.prototype.getApplicationLauncher=function(){var t="/metadata/office365shell/";t=i.urlCombine(t,"?locale="+e.common.localization.loader.currentLanguageLocale);var o=e.common.httpService.powerbiRequestOptions();return e.common.httpService.get(t,o)},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"GetDelayedQueryResult");return e.common.httpService.get("explore/queryresult/"+t,o)}t.getQueryData=i})(t=e.queryService||(e.queryService={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,a,n,s,l,d){return new c(e,t,i,o,r,a,n,s,l,d)}var i=e.common.contracts.admsGateway.DatabaseType,o=e.common.contracts.gateway.GatewayStatus,r=e.connectivity.helpers.ErrorConverterHelper,a=e.common.helpers.ModelConverterHelper,n=e.explore.util.ScriptVisualsUtil,s="RefreshingData";e.createRefreshService=t;var c=(function(){function t(e,t,i,o,r,a,n,s,c,l){this.modelHttpService=e,this.datasetsService=t,this.gatewaysMetadataService=r,this.rootScope=i,this.notificationToastService=o,this.featureSwitchService=a,this.promiseFactory=n,this.selectGatewayService=s,this.localizationService=c,this.modalDialogService=l}return t.prototype.handleRefreshError=function(t,i,o,r){var a=o.headers(e.common.PowerBIErrorHeader);a&&a===e.common.constants.serverErrors.packageOperationInProgress?this.displayOopsErrorAndEndTelemetry(t,i,"PackageOperationBlocked",o,r):a&&a===e.common.constants.serverErrors.dataRefreshTooSoon?this.displayOopsErrorAndEndTelemetry(t,i,"DataRefreshBlocked",o,r):this.displayOopsErrorAndEndTelemetry(t,i,"PackageRefreshUnknownFailure",o,r)},t.prototype.refreshNow=function(t,i,o,r,a,n,c,l,d){var p,u=this,v=t.startEvent(e.telemetry.DashboardDatasetRefresh,r);p=this.notificationToastService.notify({title:e.common.localize.get(a?a:s),message:n?e.common.localize.get(n):void 0,notificationType:e.common.NotificationToastType.Loading}),this.refreshPackage(o,v.event).then((function(t){u.notificationToastService.hide(p),c&&u.notificationToastService.notify({title:e.common.localize.get(c),message:e.common.localize.format(l,[d]),notificationType:e.common.NotificationToastType.Success}),v.resolve()}),(function(e){u.notificationToastService.hide(p),u.handleRefreshError(t,i,e,v)}))},t.prototype.tryRefreshDMNow=function(e,t,i,o,r,n,s,c){this.tryRefreshDMNowImpl(e,t,a.shouldUseDMTS(i.data.refreshConnections,null),o,r,n,s,c)},t.prototype.tryRefreshDMNowImpl=function(t,i,o,r,s,c,l,d){var p=this,u=t.startEvent(e.telemetry.DashboardGetAggregatedDatasourcesForOneModel,r.contentProviderId);if(o)if(s)if(null!=c){var v=this.promiseFactory,h=this,g=a.getEffectiveDatasourcesFromDiscoverDatasourceResponse(s,c),f=_.map(g,(function(e){return p.gatewaysMetadataService.getDataSourceStatus(e.gatewayId,e.dataSourceId)}));v.all(f).then((function(){u.resolve(),h.refreshNow(t,i,r.packageId,r.contentProviderId)}),(function(o){h.rootScope.$emit(e.common.constants.showSettingsViewerEventName,d,r.dbName);var a="SettingsDataset_Error_CannotRefreshTitle",n=e.common.localize.get("ServerError_PersonalGateway_LongMessage_DataSource_InvalidCredential");h.displayCustomizedErrorAndEndTelemetry(t,i,null,n,a,u,e.telemetry.ErrorSource.User,o)}))}else 0===s.datasources.length&&0===s.gateways.length&&(u.resolve(),this.refreshNow(t,i,r.packageId,r.contentProviderId));else this.gatewaysMetadataService.displayOopsErrorAndEndTelemetry(t,i,"SettingsDataset_Error_FailedToLoadDatasources",u);else this.gatewaysMetadataService.getAdmsAggregatedDatasourcesForOneModel(r.id.toString(),!0).then((function(e){if(p.notificationToastService.hide(l),e){if(p.isRequireUserConsent(e))return void n.confirmRefreshForRDataSource(i,p.localizationService,p.modalDialogService,p.rootScope.$new(),(function(){p.refreshNowADMS(t,i,r,d,e,u)}),(function(){}));p.refreshNowADMS(t,i,r,d,e,u)}else p.gatewaysMetadataService.displayOopsErrorAndEndTelemetry(t,i,"SettingsDataset_Error_FailedToLoadDatasources",u)}),(function(e){p.notificationToastService.hide(l),p.displayOopsErrorAndEndTelemetry(t,i,"SettingsDataset_Error_FailedToLoadDatasources",e,u)}))},t.prototype.tryRefreshNow=function(t,i,o,r){var a=this,n=t.startEvent(e.telemetry.DashboardPrepareRefreshNow,o.contentProviderId),s=this.notificationToastService.notify({title:e.common.localize.get("PreparingForRefresh"),notificationType:e.common.NotificationToastType.Loading});this.modelHttpService.getModelAndPackageForRefresh(o.id,o.packageId,n.event).then((function(c){n.resolve(),c.data&&c.data.packageId?a.isModelRefreshInProgress(c.data)?(a.notificationToastService.hide(s),a.displayCustomizedErrorAndEndTelemetry(t,i,"SettingsDataset_RefreshNow_Popup_RefreshInProgress",null,"SettingsDataset_RefreshNow_Popup_RefreshInProgressTitle",n,e.telemetry.ErrorSource.User,c)):c.data.isAllDataSourcesSupportedForRefresh===!0?a.isPackageImportedFromOneDrive(c.data)?(a.notificationToastService.hide(s),a.tryRefreshNonDMNow(t,i,c,o,r)):a.gatewaysMetadataService.getModelDataSources(o.id).then((function(n){if(0===n.gateways.length&&0===n.datasources.length)return void(!c.data.isHidden&&e.common.helpers.ModelConverterHelper.onpremGatewayRequired(c.data)?a.tryRetrieveGatewayAndRefreshDMNow(t,i,c,o,n,s,r):a.tryRefreshDMNow(t,i,c,o,n,null,s,r));var l=a.selectGatewayService.getSelectedGateway(n),d=a.selectGatewayService.getSelectedGatewayType(l);switch(d){case 0:i.error(e.common.localize.get("SettingsDataset_Error_DatasetNotBoundToAnyGateway"),"SettingsDataset_Error_DatasetNotBoundToAnyGateway");break;case 1:!c.data.isHidden&&e.common.helpers.ModelConverterHelper.onpremGatewayRequired(c.data)?a.tryRetrieveGatewayAndRefreshDMNow(t,i,c,o,n,s,r):a.tryRefreshDMNow(t,i,c,o,n,l.gatewayId,s,r);break;case 2:a.refreshNow(t,i,o.packageId,o.contentProviderId)}}),(function(n){return n.error&&n.error.code===e.settings.constants.ServerError_ModelHasNoPowerBIDMMoniker?void(!c.data.isHidden&&e.common.helpers.ModelConverterHelper.onpremGatewayRequired(c.data)?a.tryRetrieveGatewayAndRefreshDMNow(t,i,c,o,null,s,r):a.tryRefreshDMNow(t,i,c,o,null,null,s,r)):void i.error(e.common.localize.get("SettingsDataset_Error_FailedToDiscoverDatasource"),"SettingsDataset_Error_FailedToDiscoverDatasource",{requestId:n.requestId,statusCode:n.status.toString()})})):(a.notificationToastService.hide(s),a.tryRefreshNonDMNow(t,i,c,o,r)):(a.notificationToastService.hide(s),t.logEvent(e.telemetry.DashboardRefreshNowFailedToRetrieveModel,o.contentProviderId),a.showRefreshNowNotification(!1,o))}),(function(e){a.notificationToastService.hide(s),a.displayOopsErrorAndEndTelemetry(t,i,"SettingsDataset_Error_FailedToLoadModelForRefresh",e,n)}))},t.prototype.tryRetrieveGatewayAndRefreshDMNow=function(t,i,r,n,s,c,l){var d=this,p=t.startEvent(e.telemetry.DashboardRetrieveGateway,n.contentProviderId);this.gatewaysMetadataService.getPersonalGateway().then((function(u){return u.gatewayStatus===o.NotReachable?(d.rootScope.$emit(e.common.constants.showSettingsViewerEventName,l,n.dbName),void d.displayCustomizedErrorAndEndTelemetry(t,i,"SettingsDataset_Error_GatewayOffline",null,"SettingsDataset_Error_GatewayOfflineTitle",p,e.telemetry.ErrorSource.External)):u.gatewayStatus===o.NotInstalled?(d.rootScope.$emit(e.common.constants.showSettingsViewerEventName,l,n.dbName),void d.displayCustomizedErrorAndEndTelemetry(t,i,"SettingsDataset_Error_GatewayNotExist",null,"SettingsDataset_Error_GatewayNotExistTitle",p,e.telemetry.ErrorSource.External)):void d.tryRefreshDMNowImpl(t,i,a.shouldUseDMTS(r.data.refreshConnections,u),n,s,u.gatewayId,c,l)}),(function(e){d.notificationToastService.hide(c),d.displayOopsErrorAndEndTelemetry(t,i,"SettingsDataset_Error_FailedToRetrieveGateway",e,p)}))},t.prototype.tryRefreshNonDMNow=function(t,i,o,r,a){var n=o.data.contentProviderId;6===n||7===n||9===n||60===n||o.data.directQueryMode?this.refreshNow(t,i,r.packageId,r.contentProviderId):this.rootScope.$emit(e.common.constants.showSettingsViewerEventName,a,r.dbName)},t.prototype.displayOopsErrorAndEndTelemetry=function(t,i,o,r,a){a.reject(),i.error(e.common.localize.get(o),o,{requestId:r.requestId,statusCode:r.status.toString()})},t.prototype.refreshPackage=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"RefreshPackage");return o.retryCount=0,e.common.httpService.post("powerbi/content/packages/"+t+"/refresh/",null,o)},t.prototype.getGatewayStatus=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"GetGatewayStatus");return e.common.httpService.get("powerbi/dmm/subscribe/"+t,o)},t.prototype.updateRefreshSchedule=function(t,i,o){var r=e.common.httpService.powerbiRequestOptions(o,"UpdateRefreshSchedule");return r.retryCount=0,e.common.httpService.post("powerbi/metadata/models/"+t+"/refreshschedule",i,r)},t.prototype.showRefreshNowNotification=function(t,i){var o=t?i.name+e.common.localize.get("SettingsDataset_Notification_RefreshNow_Scheduled_Title"):i.name+e.common.localize.get("SettingsDataset_Notification_RefreshNow_NotScheduled_Title"),r=t?i.name+e.common.localize.get("SettingsDataset_Notification_RefreshNow_Scheduled_Message"):e.common.localize.get("SettingsDataset_Notification_RefreshNow_NotScheduled_Message_Part1")+i.name+e.common.localize.get("SettingsDataset_Notification_RefreshNow_NotScheduled_Message_Part2");this.notificationToastService.notify({title:o,message:r})},t.prototype.displayCustomizedErrorAndEndTelemetry=function(t,i,o,r,a,n,s,c){n.reject();var l={requestId:c?c.requestId:void 0,statusCode:c?c.status.toString():void 0,title:e.common.localize.get(a)};i.error(o?e.common.localize.get(o):r,o,l,!1,s)},t.prototype.isPackageImportedFromOneDrive=function(e){return e.packageVersion.length>10&&(6===e.contentProviderId||7===e.contentProviderId||60===e.contentProviderId)},t.prototype.isModelRefreshInProgress=function(e){var t=e.currentRefreshStartingTime&&a.convertRefreshTimeToJsDateTime(e.currentRefreshStartingTime);return t&&t.getTime()+18e5>Date.now()},t.prototype.isRequireUserConsent=function(t){return t&&_.some(t,(function(t){return t.discoverDataSourceEntry.databaseType.toString()===i.Extension.toString()&&t.discoverDataSourceEntry.extensionDatabaseType===e.common.constants.RDataSourceName}))},t.prototype.refreshNowADMS=function(t,i,o,a,n,s){s.resolve();for(var c=!0,l=0;l<n.length;l++)if(!n[l].testConnectionResponse||n[l].testConnectionResponse.instanceTestConnectionResults.testPassed===!1){c=!1,this.rootScope.$emit(e.common.constants.showSettingsViewerEventName,a,o.dbName);var d="SettingsDataset_Error_CannotRefreshTitle",p=r.convertDMTestConnectionResultToErrorMessage(n[l].testConnectionResponse);this.displayCustomizedErrorAndEndTelemetry(t,i,null,p,d,s,e.telemetry.ErrorSource.PowerBI);break}c&&this.refreshNow(t,i,o.packageId,o.contentProviderId)},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(){return new i}e.createRealTimeDataHttpService=t;var i=(function(){function t(){}return t.prototype.createDataset=function(t){var i=e.common.httpService.powerbiRequestOptions(null,"Create Real Time Dataset");return e.common.httpService.post("realtime/models",t,i)},t.prototype.getCredentials=function(t){var i=e.common.httpService.powerbiRequestOptions(null,"Get Real Time Dataset External Credentials");return e.common.httpService.get("realtime/models/"+t+"/credentials",i)},t.prototype.getDataset=function(t){var i=e.common.httpService.powerbiRequestOptions(null,"Get Real Time Dataset");return e.common.httpService.get("realtime/models/"+t,i)},t.prototype.getHistory=function(t){var i=e.common.httpService.powerbiRequestOptions(null,"Get History");return e.common.httpService.post("realtime/history",t,i)},t.prototype.updateDataset=function(t,i){var o=e.common.httpService.powerbiRequestOptions(null,"Update Real Time Dataset");return e.common.httpService.put("realtime/models/"+t,i,o)},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(){return new i}e.createSettingsMetadataHttpService=t;var i=(function(){function t(){}return t.prototype.getSettings=function(t){var i=e.common.httpService.powerbiRequestOptions(t,"GetSettingsMetadata");return i.enableTelemetry=!0,e.common.httpService.get("/powerbi/metadata/settings",i)},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t){return new o(e,t)}var i=jsCommon.StringExtensions;e.createSubscriptionsHttpService=t;var o=(function(){function t(t,i){this.httpService=e.common.httpService,this.promiseFactory=t,this.telemetryService=i,this.endpoint="metadata/emailsubscriptions"}return t.prototype.createSubscription=function(t,i){var o=this,r=this.promiseFactory.defer(),a=this.telemetryService.startChildEvent(i,e.telemetry.EmailSubscriptionsRequest,e.telemetry.EmailSubscriptionRequestType.Create);return this.httpService.post(this.endpoint,t,this.httpService.powerbiRequestOptions()).then((function(e){a.resolve(),r.resolve(e.data)}),(function(t){var i=e.errorDetailsHelper.getTelemetryErrorDetails(t.error);a.reject(i);var n=o.getErrorCode(t);r.reject({ErrorCode:n,RequestId:t.requestId})})),r.promise},t.prototype.getAllSubscriptions=function(t){var i=this,o=this.promiseFactory.defer(),r=this.telemetryService.startChildEvent(t,e.telemetry.EmailSubscriptionsRequest,e.telemetry.EmailSubscriptionRequestType.Get);return this.httpService.get(this.endpoint,this.httpService.powerbiRequestOptions()).then((function(e){r.resolve(),o.resolve(e.data)}),(function(t){var a=e.errorDetailsHelper.getTelemetryErrorDetails(t.error);r.reject(a);var n=i.getErrorCode(t);o.reject({ErrorCode:n,RequestId:t.requestId})})),o.promise},t.prototype.updateSubscription=function(t,i){var o=this,r=this.promiseFactory.defer(),a=this.telemetryService.startChildEvent(i,e.telemetry.EmailSubscriptionsRequest,e.telemetry.EmailSubscriptionRequestType.Update);return this.httpService.put(this.endpoint,t,this.httpService.powerbiRequestOptions()).then((function(e){a.resolve(),r.resolve(e.data)}),(function(t){var i=e.errorDetailsHelper.getTelemetryErrorDetails(t.error);a.reject(i);var n=o.getErrorCode(t);r.reject({ErrorCode:n,RequestId:t.requestId})})),r.promise},t.prototype.deleteSubscription=function(t,o){var r=this,a=this.promiseFactory.defer(),n=this.telemetryService.startChildEvent(o,e.telemetry.EmailSubscriptionsRequest,e.telemetry.EmailSubscriptionRequestType.Delete),s=this.endpoint+"/{0}";return this.httpService.delete(i.format(s,t.toString()),this.httpService.powerbiRequestOptions()).then((function(e){n.resolve(),a.resolve(e.data)}),(function(t){var i=e.errorDetailsHelper.getTelemetryErrorDetails(t.error);n.reject(i);var o=r.getErrorCode(t);a.reject({ErrorCode:o,RequestId:t.requestId})})),a.promise},t.prototype.getReportSubscription=function(t,o){var r=this,a=this.promiseFactory.defer(),n="metadata/emailsubscriptions/report/{0}",s=this.telemetryService.startChildEvent(o,e.telemetry.EmailSubscriptionsRequest,e.telemetry.EmailSubscriptionRequestType.Get);return this.httpService.get(i.format(n,t.toString()),this.httpService.powerbiRequestOptions()).then((function(e){s.resolve(),a.resolve(e.data)}),(function(t){var i=e.errorDetailsHelper.getTelemetryErrorDetails(t.error);s.reject(i);var o=r.getErrorCode(t);a.reject({ErrorCode:o,RequestId:t.requestId})})),a.promise},t.prototype.getDashboardSubscription=function(t,o){return __awaiter(this,void 0,e.Promise,(function(){var r,a,n,s,c,l,d;return __generator(this,(function(p){switch(p.label){case 0:r=this.promiseFactory.defer(),a="metadata/emailsubscriptions/dashboard/{0}",n=this.telemetryService.startChildEvent(o,e.telemetry.EmailSubscriptionsRequest,e.telemetry.EmailSubscriptionRequestType.Get),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,this.httpService.get(i.format(a,t.toString()),this.httpService.powerbiRequestOptions())];case 2:return s=p.sent(),n.resolve(),r.resolve(s.data),[3,4];case 3:return c=p.sent(),l=e.errorDetailsHelper.getTelemetryErrorDetails(c.error),n.reject(l),d=this.getErrorCode(c),r.reject({ErrorCode:d,RequestId:c.requestId}),[3,4];case 4:return[2,r.promise]}}))}))},t.prototype.getErrorCode=function(e){var t=void 0;return e&&(e.error?t=e.error.code:e.status&&(t=e.status.toString())),t},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(){return new i}e.createUserSettingsHttpService=t;var i=(function(){function t(){}return t.prototype.getUserSettings=function(t){var i=e.common.httpService.powerbiRequestOptions(t,"GetUserSettings");return i.enableTelemetry=!0,e.common.httpService.get("/powerbi/metadata/userSettings",i)},t.prototype.updateAllowQnaDataCollection=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"UpdateAllowQnaDataCollection",{dismissGroupObjectId:!0});return o.enableTelemetry=!0,e.common.httpService.post("/powerbi/metadata/userSettings/allowQnaDataCollection",JSON.stringify(t),o)},t.prototype.updateExtendedSettings=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"UpdateUserExtendedSettings");return o.enableTelemetry=!0,e.common.httpService.post("/powerbi/metadata/userSettings/extendedSettings",JSON.stringify(t),o)},t.prototype.updateUserSettings=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"UpdateUserSettings",{dismissGroupObjectId:!0});return o.enableTelemetry=!0,e.common.httpService.post("/powerbi/metadata/userSettings/updateUserSettings",JSON.stringify(t),o)},t.prototype.sendEmailForDownloadPowerBI=function(i,o){var r=e.common.httpService.powerbiRequestOptions(o,"SendEmailForDownloadPowerBI");return r.enableTelemetry=!0,e.common.httpService.post(t.PowerBIDownloadUrl,{email:i},r)},t})();i.PowerBIDownloadUrl="https://powerbi.microsoft.com/submitemail"})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(){return new a}var i=jsCommon.Utility,o="/powerbi/content/providers/organization/",r="/powerbi/content/providers/organizationaltemplate/";e.createPublishAppHttpService=t;var a=(function(){function t(){}return t.prototype.publishApp=function(t,i,o){var r=e.common.httpService,a=r.powerbiRequestOptions(t,"PublishApp"),n=e.helpers.PublishAppHelper.createPublishOrUpdateAppModelRequest(i,o);return r.post(this.getUrlPrefix(i),n,a)},t.prototype.updateApp=function(t,o,r){var a=e.common.httpService,n=a.powerbiRequestOptions(t,"UpdateApp"),s=e.helpers.PublishAppHelper.createPublishOrUpdateAppModelRequest(o,r);return a.put(i.urlCombine(this.getUrlPrefix(o),o.objectId)+"/",s,n)},t.prototype.deleteApp=function(t,i){var o=e.common.httpService.powerbiRequestOptions(t,"DeletePublishedApp");return o.enableTelemetry=!0,e.common.httpService.delete("/powerbi/content/providers/organization/"+i+"/",o)},t.prototype.getUrlPrefix=function(e){return e.publishAsTemplate?r:o},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t){return new i(e,t)}e.createConceptualModelSetting=t;var i=(function(){function t(e,t){this.featureSwitchService=e,this.tutorialDataStore=t}return t.prototype.isPreviewEnabled=function(){return this.featureSwitchService.featureSwitches.conceptualModelEnabled||this.featureSwitchService.featureSwitches.previewConceptualModel&&this.tutorialDataStore.hasKey(e.common.constants.previewConceptualModelNewKey)},t.prototype.isListViewEnabled=function(){return this.featureSwitchService.featureSwitches.listViewEnabled&&this.isPreviewEnabled()},t.prototype.isAppsEnabled=function(){return this.featureSwitchService.featureSwitches.appsEnabled&&this.isListViewEnabled()},t.prototype.isTemplateAppsEnabled=function(){return this.featureSwitchService.featureSwitches.appTemplatesEnabled&&this.isAppsEnabled()},t.prototype.isServiceAppsEnabled=function(){return this.featureSwitchService.featureSwitches.serviceAppsEnabled&&this.isAppsEnabled()},t})();e.ConceptualModelSetting=i})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,a,n,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w){return new s(t,e,i,o,r,a,n,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w)}var i=e.common.contracts.ContentProviderCategory,o=e.dataServices.models.ContentPackItems,r=e.dialogs.MakeACopyDialogBuilder,a=e.common.dialog.MessageDialogBuilder,n=e.dialogs.ProgressDialogBuilder;e.createContentPackService=t;var s=(function(){function t(t,i,o,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,D,M){var T=this;this.appService=t,this.rootScope=i,this.errorService=o,this.telemetryService=s,this.modelConverter=c,this.syncService=l,this.contentProviderHttpService=d,this.localizationService=p,this.navigation=u,this.dashboardService=v,this.featureSwitchService=h,this.userInfo=g,this.licenseHelperService=f,this.notificationToast=m,this.reportService=b,this.modelService=y,this.permissionService=S,this.workbookService=C,this.promiseFactory=w,this.quota=I,this.modalDialogService=D,this.groupService=M,this.requests={},this.contentPacksDirtyStates={},this.makeACopyDialogBuilder=new r(D),this.progressDialogBuilder=new n(D,w),this.messageDialogBuilder=new a(D),this.syncService.addContentPackRefreshListener(this),this.rootScope.$on(e.constants.dashboardContainerLoaded,(function(){T.loadContentPacks()})),this.groupService.addGroupChangedHandler(this),this.rootScope.$on(e.constants.contentPackDirtyShowNotification,(function(e,t,i){return T.notifyIfDirty(t,i)})),this.rootScope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,t,i,o,r){T.contentPacksDirtyStates={}}))}return t.prototype.isApp=function(e){var t=e.category;return t===i.OrganizationalApp||t===i.OrganizationalTemplateApp},t.prototype.onContentPackDeleted=function(e){this.currentGroupCPs&&_.remove(this.currentGroupCPs.contentPacks,(function(t){return t.providerId===e}))},t.prototype.getContentPacksForCurrentGroup=function(){var e=this.getActiveGroupGUID();return e?this.currentGroupCPs&&this.currentGroupCPs.groupGUID===e?this.promiseFactory.resolve(this.currentGroupCPs.contentPacks):this.loadContentPacks():this.promiseFactory.reject()},t.prototype.userHasPremiumLicense=function(){return this.userInfo.isPremiumUser},t.prototype.displayLicenseErrorDialog=function(t){var i=t?e.telemetry.LicenseEnforcementOperation.ConnectApps:e.telemetry.LicenseEnforcementOperation.ConnectContentPacks,o=t?"UpgradeAccount_ConnectAppMessage":"UpgradeAccount_ConnectContentMessage",r=t?"UpgradeAccount_ConnectAppTitle":"UpgradeAccount_ConnectContentTitle";this.licenseHelperService.displayFeatureDisabledErrorMessage(i,this.localizationService.format(o,[""+this.licenseHelperService.freeTrialPeriod]),this.localizationService.get(r))},t.prototype.setContentPackCleanForSession=function(e){if(this.currentGroupCPs){var t=this.currentGroupCPs.contentPacks,i=_.find(t,(function(t){return t.providerContract.providerKey===e}));i&&(i.providerContract.isDirty=!1)}},t.prototype.showDialogOnModelDeleteInContentPack=function(e){var t=_.find(this.currentGroupCPs.contentPacks,(function(t){return _.contains(t.modelIds,e)}));t&&this.showDeleteArtifactInContentPack(t,"Model_DeleteConfirmationTitle","Model_DeleteCheckMessageApps","Model_DeleteCheckMessage","ModelDeleteInOrgProvider")},t.prototype.showDialogOnWorkbookRemoveInContentPack=function(e){var t=_.find(this.currentGroupCPs.contentPacks,(function(t){return _.contains(t.workbookIds,e)}));t&&this.showDeleteArtifactInContentPack(t,"Workbook_RemoveConfirmationTitle","Workbook_RemoveCheckMessageApps","Workbook_RemoveCheckMessage","WorkbookDeleteInOrgProvider")},t.prototype.deleteContentPack=function(e){var t=this,i=this.promiseFactory.defer(),o=this.localizationService;return this.messageDialogBuilder.show("DeleteInContentPack",{messageText:o.get("ContentPackDelete_Message"),titleText:o.get("ContentPack_DeleteConfirmationTitle"),okButtonText:o.get("ModalDialogButtonText_Delete"),cancelButtonText:o.get("PBI_Button_Label_Cancel")}).then((function(o){0===o?(t.deleteContentPackRequest(e).then((function(e){return i.resolve(!0)}),(function(e){return i.reject()})),t.currentGroupCPs&&!_.isEmpty(t.currentGroupCPs.contentPacks)||t.navigation.navigateToContentListOrActiveDashboard()):i.resolve(!1)}),(function(){return i.reject()})),i.promise},t.prototype.onPersonalizeContentPack=function(t){var i=this,o=!!this.appService.getAppInstance(t);if(!this.userHasPremiumLicense())return void this.displayLicenseErrorDialog(o);var r=o?e.telemetry.QuotaCheckOperation.PersonalizeApp:e.telemetry.QuotaCheckOperation.PersonalizeContentPack;this.quota.checkQuotaExceeded(r)||this.showMakeACopyDialog(t).then((function(o){if(0===o){var r=i.progressDialogBuilder.show("PersonalizeOrgAppProgress","MakeACopy_ProgressDialogTitle","MakeACopy_ProgressDialogDescription"),a=i.telemetryService.startEvent(e.telemetry.DashboardContentPackPersonalize);e.contentPackService.personalize(t,a.event).then((function(e){a.resolve(),i.navigation.navigateToContentListOrActiveDashboard()}),(function(t){a.reject(e.errorDetailsHelper.getTelemetryErrorDetails(t.error,t.status)),i.errorService.error(i.localizationService.get("PublishContentPack_PersonalizationFailed_Desc"),"",{requestId:t.requestId,statusCode:t.status.toString(),activityId:t.activityId})})).finally((function(){return r.then((function(){return i.progressDialogBuilder.hide()}))}))}}))},t.prototype.showDeleteArtifactInContentPack=function(e,t,i,o,r){var a=this,n=this.localizationService,s=this.isApp(e),c=s&&!this.appService.isAppCategory(e.category),l=s?i:o,d=s?"Publish_Apps":"Publish_ViewContentPacks",p="PBI_Button_Label_Cancel";this.messageDialogBuilder.show(r,{messageText:n.get(l),titleText:n.get(t),okButtonText:n.get(d),cancelButtonText:n.get(p),hideOKButton:c}).then((function(e){0===e&&(s?a.navigation.showPublishedApps():a.navigation.showViewContentPackSlider())}))},t.prototype.showMakeACopyDialog=function(e){var t=this.dashboardService.findDashboardsByPackageId(e),i=this.modelService.findModelsByPackageId(e),o=this.reportService.findReportsByPackageId(e),r=!!this.appService.getAppInstance(e),a=r?"AppModel_PersonalizeTitle":"PublishContentPack_PersonalizeTitle",n=r?"AppModel_PersonalizeDescription":"PublishContentPack_PersonalizeDescription",s=r?"PersonalizeApp":"PersonalizeContentPack";return this.makeACopyDialogBuilder.show(s,a,n,"PersonalizeOrgApp_PersonalizeDescriptionItemIntro",t,o,i)},t.prototype.resetContentPackUsageFlags=function(){var e=this.dashboardService.dashboardContainerModel.dashboards;if(e)for(var t=0,i=e;t<i.length;t++){var o=i[t];o&&(o.isUsedByContentPack=!1)}var r=this.reportService.reports;if(r)for(var a=0,n=r;a<n.length;a++){var s=n[a];s&&(s.isUsedByContentPack=!1)}var c=this.modelService.models;if(c)for(var l=0,d=c;l<d.length;l++){var p=d[l];p&&(p.isUsedByContentPack=!1)}var u=this.workbookService.workbooks;if(u)for(var v=0,h=u;v<h.length;v++){var g=h[v];g&&(g.isUsedByContentPack=!1)}},t.prototype.deleteContentPackRequest=function(t){var i=this,o=this.promiseFactory.defer();return this.findContentPackByGUID(t).then((function(r){if(r){var a=i.telemetryService.startEvent(e.telemetry.DashboardDeleteContentPack,r.isSharedToEntireOrg,r.dashboardIds.length,r.reportIds.length,r.modelIds.length,r.workbookIds.length,r.listOfGroupPrincipals.length);i.removeContentPacks([r.providerId]),e.contentPackService.deleteContentPack(t,a.event).then((function(e){a.resolve(),i.markItemsUsedByContentPack(),o.resolve(null)}),(function(e){a.reject(),i.addContentPack(r),i.errorService.error(i.localizationService.get("ContentPack_Delete_FailedMessage"),"",{requestId:e.requestId,statusCode:e.status.toString(),activityId:e.activityId}),o.reject()}))}else i.notificationToast.notify({title:i.localizationService.get("ContentPack_Delete_Failed_Title"),message:i.localizationService.get("ContentPack_Delete_FailedMessage"),notificationType:e.common.NotificationToastType.Error
}),o.reject()}),(function(e){return o.reject()})),o.promise},t.prototype.addContentPack=function(t){var i=this.getActiveGroupGUID();if(i){this.currentGroupCPs||(this.currentGroupCPs={groupGUID:i,contentPacks:[]});var o=this.currentGroupCPs.contentPacks;if(t){var r=_.find(o,(function(e){return e.providerId===t.providerId}));r?e.helpers.ContentPackAuthoringHelper.updateContentPack(r,t):o.push(t)}}},t.prototype.findContentPack=function(e){var t=this.promiseFactory.defer();return _.isNaN(e)&&t.resolve(void 0),this.getContentPacksForCurrentGroup().then((function(i){var o=_.find(i,(function(t){return t.providerId===e}));t.resolve(o)}),(function(){return t.resolve(void 0)})),t.promise},t.prototype.findContentPackByGUID=function(e){var t=this.promiseFactory.defer();return null==e&&t.resolve(void 0),this.getContentPacksForCurrentGroup().then((function(i){var o=_.find(i,(function(t){return t.providerContract.providerKey===e}));t.resolve(o)}),(function(){return t.resolve(void 0)})),t.promise},t.prototype.removeContentPacks=function(e){for(var t=0,i=e;t<i.length;t++){var o=i[t];this.onContentPackDeleted(o)}},t.prototype.onGroupChanged=function(){this.currentGroupCPs=null,this.loadContentPacks()},t.prototype.loadContentPacks=function(){var t=this;if(!this.featureSwitchService.featureSwitches.orgAppsEnabled&&!this.userHasPremiumLicense()||this.permissionService.isActiveWorkspaceIsReadOnly)return this.promiseFactory.reject();var i=this.groupService.activeGroup&&this.groupService.activeGroup.aadGroupId;if(!i)return this.promiseFactory.reject();var o=this.requests[i];if(o)return o.promise;var r=this.requests[i]=this.promiseFactory.defer(),a=this.telemetryService.startEvent(e.telemetry.DashboardViewContentPacks);return this.contentProviderHttpService.getOrganizationalContentProviders(a.event).then((function(e){a.resolve();for(var o=[],n=0,s=e.data;n<s.length;n++){var c=s[n];o.push(t.modelConverter.convertContentPack(c))}i===t.groupService.activeGroup.aadGroupId&&(t.currentGroupCPs={groupGUID:i,contentPacks:o},t.markItemsUsedByContentPack()),r.resolve(o)}),(function(e){a.reject(),r.reject()})).finally((function(){delete t.requests[i]})),r.promise},t.prototype.markItemsUsedByContentPack=function(){var e=this;if(this.resetContentPackUsageFlags(),this.currentGroupCPs&&!_.isEmpty(this.currentGroupCPs.contentPacks))for(var t=0,i=this.currentGroupCPs.contentPacks;t<i.length;t++){var o=i[t];o.dashboardIds.forEach((function(t){var i=e.dashboardService.findDashboard(t);i&&(i.isUsedByContentPack=!0)})),o.reportIds.forEach((function(t){var i=e.reportService.findReport(t);i&&(i.isUsedByContentPack=!0)})),o.modelIds.forEach((function(t){var i=e.modelService.findModel(t);i&&(i.isUsedByContentPack=!0)})),o.workbookIds.forEach((function(t){var i=e.workbookService.findWorkbook(t);i&&(i.isUsedByContentPack=!0)}))}},t.prototype.notifyIfDirty=function(e,t){if(this.currentGroupCPs&&!_.isEmpty(this.currentGroupCPs.contentPacks)){var i=[],r=this.currentGroupCPs.contentPacks,a={isApp:!1,isContentPack:!1};switch(t){case o.Dashboard:for(var n=0,s=r;n<s.length;n++){var c=s[n];this.dirtyCheck(c.dashboardIds,e,i,c,a)}break;case o.Report:for(var l=0,d=r;l<d.length;l++){var c=d[l];this.dirtyCheck(c.reportIds,e,i,c,a)}break;case o.Model:for(var p=0,u=r;p<u.length;p++){var c=u[p];this.dirtyCheck(c.modelIds,e,i,c,a)}break;case o.Workbook:for(var v=0,h=r;v<h.length;v++){var c=h[v];this.dirtyCheck(c.workbookIds,e,i,c,a)}}this.contentPacksDirtyStates[t]||(this.contentPacksDirtyStates[t]={});var g=this.contentPacksDirtyStates[t];g[e]||(this.showContentPackDirtyNotification(a),g[e]=!0),i.length>0&&this.setContentPackDirty(i)}},t.prototype.dirtyCheck=function(e,t,i,o,r){_.contains(e,t)&&(i.push(o.providerContract.providerKey),o.providerContract.isDirty=!0,this.appService.isAppCategory(o.category)?r.isApp=!0:r.isContentPack=!0)},t.prototype.showContentPackDirtyNotification=function(t){var i=this;if(t.isContentPack){var o={displayText:this.localizationService.get("PublishContentPack_IsDirty_Ok"),action:function(){i.navigation.showViewContentPackSlider()}};this.notificationToast.notify({message:this.localizationService.get("PublishContentPack_Changes"),notificationType:e.common.NotificationToastType.Alert,actionButtons:[o]})}},t.prototype.setContentPackDirty=function(t){var i=this.telemetryService.startEvent(e.telemetry.DashboardContentPackDirty,t.length);e.contentPackService.setContentPackDirty(t,i.event).then((function(e){i.resolve()}),(function(e){i.reject()}))},t.prototype.getActiveGroupGUID=function(){var e=this.groupService.activeGroup,t=e&&e.aadGroupId;if(t)return t},t})();e.ContentPackService=s})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,M,T,E,P,k,A,L,N,_){return new D(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,M,T,E,P,k,A,L,N,_)}function i(e){return e.inContentListView()?c.ContentList:e.inAppsDetailView()?c.OrgApps:e.inFavoritesView()?c.Favorites:e.inRecentlyViewedView()?c.RecentlyUsed:void 0}var o=e.dataServices.models.AppDataset,r=e.dataServices.AppUtils,a=e.common.contracts.Permissions,n=e.common.models.CollapsiblePaneExpandedWidth,s=e.common.constants,c=e.telemetry.ContentListArtifactSource,l=e.telemetry.ContentListArtifactType,d=e.common.contracts.ContentProviderClientCategory,p=e.helpers.ContentTileHelper,u=e.common.contracts.ContentTileType,v=e.dataServices.models.Dashboard,h=jsCommon.EnumExtensions,g=e.models.MRUArtifactType,f=e.models.MRUModel,m=e.dataServices.contracts.PackageType,b=e.common.contracts.Permissions,y=e.common.models.Report,S=e.common.contracts.PublishOrRefreshStatus,C=e.common.constants.TaskPaneCollapsiblePaneMode,w=e.dataServices.models.Workbook,I="packageType";e.createContentListService=t;var D=(function(){function t(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b,y,S,C,w,I,D,M,T,E,P,k,A,L,N){this.telemetryService=e,this.dashboardService=t,this.reportService=i,this.navigation=o,this.modelService=r,this.analyzeInExcel=a,this.workbookService=n,this.contentPackService=s,this.localizationService=c,this.packageService=l,this.errorService=d,this.$rootScope=p,this.modalDialogService=u,this.exportToPowerPointService=v,this.refreshService=h,this.permissionService=g,this.settingsMetadataService=f,this.location=m,this.$window=b,this.favorites=y,this.shareSliderService=S,this.groupService=C,this.appService=w,this.promiseFactory=I,this.publishedAppService=D,this.mostRecentlyUsedService=M,this.dataServiceModelConverter=T,this.conceptualModelSetting=E,this.dashboardDataService=P,this.taskPaneSliderService=k,this.ownershipService=A,this.usageMetricsReport=L,this.lazyInjector=N}return t.prototype.isVisible=function(e){if(e.isHidden)return!1;switch(e.contentTileType){case u.Report:case u.Workbook:if(!this.canCopyAndEdit(e)||this.belongsToUsageMetricsContentPack(e))return!1;break;case u.Dataset:if(!this.modelService.isExplorableNonLegacySampleModel(e)||this.belongsToUsageMetricsContentPack(e))return!1}var t=p.getPackageId(e);return!this.conceptualModelSetting.isAppsEnabled()||!this.isAppInstance(t)},t.prototype.belongsToUsageMetricsContentPack=function(e){var t=p.getPackageId(e),i=this.packageService.findPackage(t);return i&&s.isUsageMetricsContentProvider(i.contentProviderId)},t.prototype.canCopyAndEdit=function(e){var t=e.getPermissions();return h.hasFlag(t,b.Write)||h.hasFlag(t,b.CopyOnWrite)},t.prototype.isAppInstance=function(e){var t=this.packageService.findPackage(e);return!(!t||t.packageType!==m.AppInstance)&&!!this.appService.getAppInstance(t.id)},t.prototype.tileSelectionOff=function(e){this.shareSliderService.shareDashboard=null;var t=e.objectId,i=this.dashboardService.findDashboardByGUID(t);if(i&&(i.isContentTileSelected=!1),this.navigation.inFavoritesView()){var o=this.favorites.getFavoriteByContentTile(e);o&&(o.isContentTileSelected=!1)}},t.prototype.dashboardsOwnersMergedPromise=function(){return this.dashboardService.dashboardsOwnersMergedPromise()},t.prototype.isFavorite=function(e){var t=p.getActualType(e);if(!p.isFavoritableContentType(t))return!1;var i=this.favorites.getFavoriteByContentTile(e);return!!i},t.prototype.isFavoriteDisabled=function(e){var t=this.dashboardService.findDashboardByGUID(e);return!!t&&(t.isFavoriteDisabled||t.id<0)},t.prototype.identifyAndDeleteContent=function(e){var t=this.getStrategy(e);t&&t.identifyAndDeleteContent(p.getObjectID(e))},t.prototype.deleteContent=function(e,t){var i=this.getStrategy(e);i&&i.deleteContent(p.getObjectID(e),t)},t.prototype.addDashboard=function(e){this.dashboardService.addDashboard(e)},t.prototype.canShowTileOptions=function(e){var t=this.getStrategy(e);return!!t&&t.canShowTileOptions(e)},t.prototype.publishInProgress=function(e){var t=this.getStrategy(e);if(t){var i=t.getModels(e),o=i&&i[0];return!!o&&o.packagePublishStatus===S.PublishInProgress}},t.prototype.canRefreshNow=function(e){var t=this.getStrategy(e);return!!t&&t.canRefreshNow(e)},t.prototype.canScheduleRefresh=function(e){var t=this.getStrategy(e);return!!t&&t.canScheduleRefresh(e)},t.prototype.canReplaceWorkbook=function(e){var t=this.getStrategy(e);return!!t&&t.canReplaceWorkbook(p.getObjectID(e))},t.prototype.shareContent=function(e,t){var i=this.getStrategy(e);i&&i.shareContent(e,t)},t.prototype.addFavorite=function(e,t){return this.groupService.activeGroupObjectId!==t?this.switchGroupThenAddFavorite(e,t):this.addFavoriteInternal(e)},t.prototype.removeFavorite=function(e){this.favorites.deleteFavorite(e)},t.prototype.refreshNow=function(e){var t=this.getStrategy(e);t&&t.refreshNow(e)},t.prototype.scheduleRefresh=function(e){var t=this.getStrategy(e);t&&t.scheduleRefresh(e)},t.prototype.editWorkbook=function(e){var t=this.getStrategy(e);t&&t.editWorkbook(p.getObjectID(e))},t.prototype.replaceWorkbook=function(e){var t=this.getStrategy(e);t&&t.replaceWorkbook(p.getObjectID(e))},t.prototype.exportDashboard=function(e){var t=this.getStrategy(e);t&&t.exportDashboard(p.getObjectID(e))},t.prototype.exportToPowerPoint=function(e){var t=this.getStrategy(e);t&&t.exportReportToPowerPoint(p.getObjectID(e))},t.prototype.getDashboards=function(){return this.dashboardService.getDashboards()},t.prototype.getReports=function(){return this.reportService.getReports()},t.prototype.getWorkbooks=function(){var e=this;return this.workbookService.ensureWorkbookInitialization().then((function(){return e.workbookService.workbooks}))},t.prototype.getDatasets=function(){var e=this;return this.modelService.modelsPromise.then((function(){return e.modelService.models}))},t.prototype.getPublishedApps=function(){return this.publishedAppService.getPublishedAppsForCurrentGroup()},t.prototype.subscribeReports=function(e){var t={onReportAdded:e,onReportDeleted:e,onReportsReset:e};return this.reportService.subscribe(t),t},t.prototype.unsubscribeReports=function(e){this.reportService.unsubscribe(e)},t.prototype.subscribeDashboards=function(e){var t={onDashboardAdded:e,onDashboardDeleted:e,onDashboardsReset:e};return this.dashboardDataService.subscribe(t),t},t.prototype.unsubscribeDashboards=function(e){this.dashboardDataService.unsubscribe(e)},t.prototype.subscribeModels=function(e){var t={onModelAdded:e,onModelDeleted:e,onModelsReset:e};return this.modelService.subscribe(t),t},t.prototype.unsubscribeModels=function(e){this.modelService.unsubscribe(e)},t.prototype.subscribeWorkbooks=function(e){var t={onWorkbookAdded:e,onWorkbookDeleted:e,onWorkbooksReset:e};return this.workbookService.subscribe(t),t},t.prototype.unsubscribeWorkbooks=function(e){this.workbookService.unsubscribe(e)},t.prototype.openContent=function(e,t,i,o){var r=this.getStrategy(e);r&&r.openContent(e,t,i,o)},t.prototype.openUsageMetricsReport=function(e,t,i,o){var r=this.getStrategy(e);r&&r.openUsageMetricsReport(e,t)},t.prototype.showRename=function(e){var t=this.getStrategy(e);t&&t.showRename(p.getObjectID(e))},t.prototype.analyzeContentInExcel=function(e){var t=this.getStrategy(e);t&&t.analyzeContentInExcel(e)},t.prototype.personalizeContent=function(t){var i=this.getStrategy(t);if(i){var o=i.getContentPackageId(t);this.telemetryService.logEvent(e.telemetry.DashboardClickPersonalize,o),this.contentPackService.onPersonalizeContentPack(o)}},t.prototype.getModels=function(e){var t=this.getStrategy(e);if(t)return t.getModels(e)},t.prototype.runInsights=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i,o,r,a,n;return __generator(this,(function(s){switch(s.label){case 0:return(i=this.getStrategy(t))?(o=i.getModels(t),r=o&&o[0],a=t.contentTileType===u.Report?e.insights.constants.insightsSourceReportTile:e.insights.constants.insightsSourceNavigationPane,[4,this.lazyInjector("insightsBootstrap")]):[3,2];case 1:n=s.sent(),n.start(r.dbName,r.vsName,r.packageId,a),s.label=2;case 2:return[2]}}))}))},t.prototype.getStrategy=function(e){var t={navigation:this.navigation,dashboardService:this.dashboardService,reportService:this.reportService,errorService:this.errorService,$rootScope:this.$rootScope,modalDialogService:this.modalDialogService,localizationService:this.localizationService,modelService:this.modelService,analyzeInExcel:this.analyzeInExcel,workbookService:this.workbookService,contentPackService:this.contentPackService,packageService:this.packageService,telemetryService:this.telemetryService,refreshService:this.refreshService,permissionService:this.permissionService,settingsMetadataService:this.settingsMetadataService,location:this.location,$window:this.$window,favorites:this.favorites,exportToPowerPoint:this.exportToPowerPointService,shareSliderService:this.shareSliderService,groupService:this.groupService,promiseFactory:this.promiseFactory,appService:this.appService,publishedAppService:this.publishedAppService,mostRecentlyUsedService:this.mostRecentlyUsedService,dataServiceModelConverter:this.dataServiceModelConverter,conceptualModelSetting:this.conceptualModelSetting,taskPaneSliderService:this.taskPaneSliderService,ownershipService:this.ownershipService,usageMetricsReport:this.usageMetricsReport,lazy:this.lazyInjector};switch(e.contentTileType){case u.Dashboard:return new T(t);case u.Favorite:return new P(t);case u.Report:return new E(t);case u.Workbook:return new k(t);case u.OrgApp:return new A(t);case u.PublishedOrgApp:return new L(t);case u.AppDataset:return new N(t);case u.MRU:return new R(t);case u.AppPlaceHolder:return new F(t)}},t.prototype.switchGroupThenAddFavorite=function(t,i){var o=this,r=this.groupService.getGroup(i),a=this.telemetryService.startEvent(e.telemetry.GroupsSwitchGroup,i);return this.groupService.switchGroup(r,!1,a).then((function(){return o.addFavoriteInternal(t)}))},t.prototype.addFavoriteInternal=function(e){return this.favorites.addFavorite(e)},t})();e.ContentListService=D;var M=(function(){function e(e){e.conceptualModelSetting.isAppsEnabled(),this.services=e}return e.prototype.openContent=function(e,t){},e.prototype.openUsageMetricsReport=function(e,t){},e.prototype.deleteContent=function(e,t){},e.prototype.shareContent=function(e,t){},e.prototype.showRename=function(e){},e.prototype.identifyAndDeleteContent=function(e){},e.prototype.getContentPackageId=function(e){return null},e.prototype.analyzeContentInExcel=function(e){},e.prototype.getModels=function(e){},e.prototype.runInsights=function(e){},e.prototype.canRefreshNow=function(e){return!1},e.prototype.canScheduleRefresh=function(e){return!1},e.prototype.canReplaceWorkbook=function(e){return!1},e.prototype.canShowTileOptions=function(e){return!0},e.prototype.refreshNow=function(e){},e.prototype.scheduleRefresh=function(e){},e.prototype.exportDashboard=function(e){},e.prototype.editWorkbook=function(e){},e.prototype.replaceWorkbook=function(e){},e.prototype.exportReportToPowerPoint=function(e){},e.prototype.prepareAndTriggerModelDeletion=function(e,t,i,o){var r=this.services.modelService.findModel(e,t);if(r&&r.isUsedByContentPack)this.services.contentPackService.showDialogOnModelDeleteInContentPack(e);else{var a=this.services.localizationService.get(i),n=this.services.localizationService.get(o);this.deleteModel(e,t,a,n)}},e.prototype.deleteModel=function(e,t,i,o){var r=this,a=this.services.errorService.control(),n=[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(i,o){a.hideDialog(),r.services.modelService.deleteModel(e,t)}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){a.hideDialog()})],s=this.services.modelService.findModel(e,t),c="";s&&(c=s.displayName),i=i||this.services.localizationService.get("Model_DeleteConfirmationTitle"),o=o||this.services.localizationService.format("Model_DeleteConfirmationMessage",c),a.showCustomDialog(i,$("<div/>").text(o),n,(function(e){e.parent().find('input[value="'+r.services.localizationService.get("ModalDialogButtonText_No")+'"]').focus()}),!0)},e.prototype.removeWorkbook=function(e,t,i){var o=this;t||i||(t="Workbook_RemoveConfirmationTitle",i=e.isOwner()?this.services.packageService.isLocalWorkbook(e.packageId)?"Workbook_RemoveOwnedLocalConfirmationMessage":"Workbook_RemoveOwnedRemoteConfirmationMessage":e.isPersonalized()?"Workbook_RemovePersonalizedConfirmationMessage":"Workbook_RemoveInOrgPackConfirmationMessage");var r=this.services.localizationService.get(t),a=this.services.localizationService.get(i),n=this.services.errorService.control(),s=[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Remove"),function(t,i){n.hideDialog(),o.services.workbookService.removeWorkbook(e.id,e.packageId,o.services.packageService.getWorkbookStorageProvider(e.packageId),o.services.packageService.getWorkbookContentProvider(e.packageId)),o.services.mostRecentlyUsedService.removeMRU(e.uniqueId)}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){n.hideDialog()})];n.showCustomDialog(r,$("<div/>").text(a),s,(function(e){e.parent().find('input[value="'+o.services.localizationService.get("ModalDialogButtonText_No")+'"]').focus()}),!0)},e})(),T=(function(t){function o(){return t.apply(this,arguments)||this}return __extends(o,t),o.prototype.openContent=function(t,o,a,n){this.services.telemetryService.logEvent(e.telemetry.ContentListOpenArtifact,i(this.services.navigation),l.Dashboard);var s=p.getObjectID(t),c=p.getOriginalObjectID(t);_.isEmpty(a)?this.services.ownershipService.isResourceSharedWithMe(t)?this.services.navigation.navigateToSharedDashboardByGUID(s):this.services.navigation.insertGroupAndNavigateToDashboardByGUID(s,o):(r.isOrgAppInstance(n,this.services.appService)&&(n=null),this.services.navigation.navigateToAppDashboardByGUID(s,c,a,o,null,!0,n))},o.prototype.openUsageMetricsReport=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var o,r,a,n;return __generator(this,(function(s){switch(s.label){case 0:if(o=p.getObjectID(t),r=this.services.dashboardService.findDashboardByGUID(o),!r)return[2];a=this.services.telemetryService.startEvent(e.telemetry.UsageMetricsViewUsageMetricsReport,e.constants.usageMetrics_Dashboard,o,e.constants.usageMetrics_NavModel),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.services.usageMetricsReport.openDashboardUsageMetricsReport(r,i,a)];case 2:return s.sent(),a.resolve(),[3,4];case 3:return n=s.sent(),a.reject(e.errorDetailsHelper.getTelemetryErrorDetails(n.error)),[3,4];case 4:return[2]}}))}))},o.prototype.deleteContent=function(e,t){var i=this.services.dashboardService.findDashboardByGUID(e);i&&this.services.dashboardService.promptForDeleteDashboard(i.id,t)},o.prototype.shareContent=function(e,t){e&&e instanceof v&&(this.services.shareSliderService.openShareSlider(e),e.isContentTileSelected=!0)},o.prototype.showRename=function(e){var t=this.services.dashboardService.findDashboardByGUID(e);t&&(this.services.settingsMetadataService.setSettings(1,e),t.isContentTileSelected=!0,this.services.taskPaneSliderService.expandPane(C.SettingsBlade,n.Medium))},o.prototype.getContentPackageId=function(e){if(e&&e instanceof v)return e.contract.originalPackageId},o.prototype.canShowTileOptions=function(e){return!this.services.permissionService.isActiveWorkspaceIsReadOnly},o.prototype.getModels=function(e){var t=this;if(e&&e instanceof v){var i=e.contract;if(i&&!_.isEmpty(i.modelIds)&&!_.isEmpty(i.packageIds))return _.map(i.modelIds,(function(e){return t.services.modelService.findModel(e)}))}},o.prototype.exportDashboard=function(e){var t=this.services.dashboardService.findDashboardByGUID(e);if(t){var i;this.services.location&&(i=this.services.location.search()[I]),i||(i="XMLA"),this.services.dashboardService.exportDashboard(t.id,i)}},o.prototype.identifyAndDeleteContent=function(e){var t=this.services.dashboardService.findDashboardByGUID(e);if(t){var i=t.contract.workbookIds[0],r=t.contract.modelIds[0],a=t.contract.originalPackageId;if(r)this.prepareAndTriggerModelDeletion(r,a,o.dashboardDeleteConfirmationTitle,o.dashboardDeleteContentPackMessage);else if(i){var n=this.services.workbookService.findWorkbook(i,a);if(n&&n.isUsedByContentPack)this.services.contentPackService.showDialogOnWorkbookRemoveInContentPack(i);else{var s=o.dashboardDeleteConfirmationTitle,c=o.dashboardDeleteConfirmationTitle;this.removeWorkbook(n,s,c)}}else a&&this.services.appService.deleteInstance(a)}},o})(M);T.dashboardDeleteConfirmationTitle="Dashboard_DeleteConfirmationTitle",T.dashboardDeleteContentPackMessage="Dashboard_DeleteOrgAppContentPack";var E=(function(t){function o(e){return t.call(this,e)||this}return __extends(o,t),o.prototype.openContent=function(t,o,a,n){this.services.telemetryService.logEvent(e.telemetry.ContentListOpenArtifact,i(this.services.navigation),l.Report);var s=p.getObjectID(t),c=p.getOriginalObjectID(t);_.isEmpty(a)?this.services.navigation.insertGroupAndNavigateToReportByGUID(s,o):(r.isOrgAppInstance(n,this.services.appService)&&(n=null),this.services.navigation.navigateToAppReportByGUID(s,c,a,void 0,o,null,!0,n))},o.prototype.openUsageMetricsReport=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var o,r,a,n;return __generator(this,(function(s){switch(s.label){case 0:if(o=p.getObjectID(t),r=this.services.reportService.findReportByGUID(o),!r)return[2];a=this.services.telemetryService.startEvent(e.telemetry.UsageMetricsViewUsageMetricsReport,e.constants.usageMetrics_Report,o,e.constants.usageMetrics_NavModel),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.services.usageMetricsReport.openReportUsageMetricsReport(r,i,a)];case 2:return s.sent(),a.resolve(),[3,4];case 3:return n=s.sent(),a.reject(e.errorDetailsHelper.getTelemetryErrorDetails(n.error)),[3,4];case 4:return[2]}}))}))},o.prototype.showRename=function(e){var t=this.services.reportService.findReportByGUID(e);t&&(this.services.settingsMetadataService.setSettings(2,e),t.isContentTileSelected=!0,this.services.taskPaneSliderService.expandPane(C.SettingsBlade,n.Medium))},o.prototype.deleteContent=function(e,t){var i=this.services.reportService.findReportByGUID(e);i&&this.deleteReport(i.id)},o.prototype.getContentPackageId=function(e){if(e&&e instanceof y)return e.packageId},o.prototype.canShowTileOptions=function(t){if(t&&t instanceof y){var i=this.getModels(t),o=i&&i[0];return!this.services.permissionService.isActiveWorkspaceIsReadOnly&&o&&o.packagePublishStatus!==e.common.contracts.PublishOrRefreshStatus.PublishInProgress}return!1},o.prototype.identifyAndDeleteContent=function(e){var t=this.services.reportService.findReportByGUID(e);if(t){var i=t.modelId,r=t.packageId;i&&this.prepareAndTriggerModelDeletion(i,r,o.reportDeleteConfirmationTitle,o.reportDeleteContentPackMessage)}},o.prototype.analyzeContentInExcel=function(t){var i=this.getModels(t),o=i&&i[0];o&&(this.services.telemetryService.logEvent(e.telemetry.DashboardAndReportsAnalyzeInExcel,"Report Navigation Pane List",o.contentProviderId,o.contract.modelFeatures,o.dbName),this.services.analyzeInExcel.startAnalyzeInExcel(o))},o.prototype.exportReportToPowerPoint=function(e){var t=this.services.reportService.findReportByGUID(e);if(t){var i={reportId:t.id,filename:t.displayName,reportSectionsNumber:t.reportSlides?t.reportSlides.length:void 0};this.services.exportToPowerPoint.exportToPowerPoint(i)}},o.prototype.getModels=function(e){if(e&&e instanceof y){var t=this.services.modelService.findModel(e.modelId,e.packageId);if(t)return[t]}},o.prototype.deleteReport=function(e){var t=this,i=this.services.$rootScope.$new(),o=this.services.errorService.control(),r=this.services.reportService.findReport(e),a=[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Delete"),function(i,a){o.hideDialog(),t.services.mostRecentlyUsedService.removeMRU(r.objectId),t.services.reportService.deleteReport(e)}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialogButtonText_Cancel"),function(e,t){o.hideDialog()})];i.message=this.services.localizationService.format("Report_DeleteConfirmationMessage",[r.displayName]);var n,s,c=this.services.dashboardService.hasTileForReportandSection(void 0,e);c&&(n=jsCommon.ModalDialogNotificationType.Warning,s=this.services.localizationService.get("PinLiveReport_DeleteReportWarning"));var l={dialogName:this.services.localizationService.get("Report_DeleteConfirmationTitle"),isDismissable:!0,scope:i,template:"<custom-modal-dialog></custom-modal-dialog>",dialogCssClass:"customModalDialog",focusOnFirstButton:!0,dialogActions:a,notificationType:n,notificationText:s};this.services.modalDialogService.showLegacyWebModalDialog(l)},o})(M);E.reportDeleteConfirmationTitle="Report_DeleteConfirmationTitle",E.reportDeleteContentPackMessage="Report_DeleteOrgAppContentPack";var P=(function(t){function o(){return t.apply(this,arguments)||this}return __extends(o,t),o.prototype.openContent=function(t,o,r,a){var n=t;if(3===n.favoriteType){var s=new A(this.services);s.openContent(n,o,n.contentProviderKey,n.favoriteId)}else{this.services.telemetryService.logEvent(e.telemetry.ContentListOpenArtifact,i(this.services.navigation),l.Dashboard);var c=p.getObjectID(t);this.services.navigation.insertGroupAndNavigateToDashboardByGUID(c,o)}},o.prototype.shareContent=function(e,t){this.services.groupService.activeGroupObjectId!==t?this.switchGroupThenShare(e,t):this.shareContentInternal(e)},o.prototype.switchGroupThenShare=function(t,i){var o=this,r=this.services.groupService.getGroup(i),a=this.services.telemetryService.startEvent(e.telemetry.GroupsSwitchGroup,i);this.services.groupService.switchGroup(r,!1,a).then((function(){o.services.groupService.ensureGroupsInitialization().then((function(){o.services.navigation.inFavoritesView()&&o.services.dashboardService.getDashboards().then((function(){o.shareContentInternal(t)}))}))}))},o.prototype.shareContentInternal=function(e){var t=p.getObjectID(e),i=this.services.dashboardService.findDashboardByGUID(t);if(i){this.services.shareSliderService.openShareSlider(i);var o=this.services.favorites.getFavoriteByContentTile(e);o&&(o.isContentTileSelected=!0)}},o.prototype.canShowTileOptions=function(e){return!0},o})(M),k=(function(t){function o(){return t.apply(this,arguments)||this}return __extends(o,t),o.prototype.openContent=function(t,o,r,a){var n=p.getObjectID(t),s=this.services.workbookService.findWorkbookByUniqueId(n);s&&(s.isNew=!1),this.services.telemetryService.logEvent(e.telemetry.ContentListOpenArtifact,i(this.services.navigation),l.Workbook),_.isEmpty(r)?this.services.navigation.insertGroupAndNavigateToWorkbookByUniqueId(n,o):this.services.navigation.navigateToAppWorkbookByUniqueId(n,r,o)},o.prototype.editWorkbook=function(t){var i=this.services.workbookService.findWorkbookByUniqueId(t);i&&(this.services.$window.open(i.editUrl,"_blank"),this.services.telemetryService.logEvent(e.telemetry.DashboardEditWorkbook,i.contract.etagHash))},o.prototype.replaceWorkbook=function(e){var t=this.services.workbookService.findWorkbookByUniqueId(e);t&&this.services.workbookService.replaceLocalWorkbook(t.uniqueId)},o.prototype.showRename=function(e){var t=this.services.workbookService.findWorkbookByUniqueId(e);t&&(this.services.settingsMetadataService.setSettings(3,e),t.isContentTileSelected=!0,this.services.taskPaneSliderService.expandPane(C.SettingsBlade,n.Medium))},o.prototype.getContentPackageId=function(e){if(e&&e instanceof w)return e.packageId},o.prototype.identifyAndDeleteContent=function(e){var t=this.services.workbookService.findWorkbookByUniqueId(e);if(t){var i=t.id,o=t.packageId;if(i){var r=this.services.workbookService.findWorkbook(i,o);r&&r.isUsedByContentPack?this.services.contentPackService.showDialogOnWorkbookRemoveInContentPack(i):this.removeWorkbook(r)}}},o.prototype.canRefreshNow=function(e){var t=p.getObjectID(e),i=this.services.workbookService.findWorkbookByUniqueId(t);return!!i&&this.services.packageService.isRefreshNowEnabledForWorkbook(i)},o.prototype.canShowTileOptions=function(e){return!this.services.permissionService.isActiveWorkspaceIsReadOnly},o.prototype.getModels=function(e){if(e&&e instanceof w&&e.isOwner()&&e.modelId&&e.packageId){var t=this.services.modelService.findModel(e.modelId,e.packageId);if(t)return[t]}},o.prototype.canScheduleRefresh=function(e){var t=p.getObjectID(e),i=this.services.workbookService.findWorkbookByUniqueId(t);return!!i&&this.services.packageService.isScheduleRefreshEnabledForWorkbook(i)},o.prototype.canReplaceWorkbook=function(e){var t=this.services.workbookService.findWorkbookByUniqueId(e);return!!t&&this.services.packageService.isLocalWorkbook(t.packageId)},o.prototype.refreshNow=function(t){var i=p.getObjectID(t),o=this.services.workbookService.findWorkbookByUniqueId(i);if(o)if(o.modelId&&o.contract.isPowerPivotVersionSupportsRefresh){var r=this.services.modelService.findModel(o.modelId,o.packageId);r&&(this.services.telemetryService.logEvent(e.telemetry.DashboardWorkbookClickRefreshNow,r.contentProviderId),this.services.refreshService.tryRefreshNow(this.services.telemetryService,this.services.errorService,r,"workbooks"))}else this.services.telemetryService.logEvent(e.telemetry.DashboardWorkbookClickRefreshNow,o.contentProviderId),this.services.refreshService.refreshNow(this.services.telemetryService,this.services.errorService,o.packageId,o.contentProviderId)},o.prototype.scheduleRefresh=function(t){var i=p.getObjectID(t),o=this.services.workbookService.findWorkbookByUniqueId(i);if(o){var r=this.services.modelService.findModel(o.modelId,o.packageId);r&&(this.services.telemetryService.logEvent(e.telemetry.DashboardWorkbookClickScheduleRefresh,r.contentProviderId),this.services.$rootScope.$emit(e.common.constants.showSettingsViewerEventName,"workbooks",r.dbName))}},o})(M),A=(function(t){function o(){return t.apply(this,arguments)||this}return __extends(o,t),o.prototype.openContent=function(t,o,a,n){var s=this.services;if(s.telemetryService.logEvent(e.telemetry.ContentListOpenArtifact,i(s.navigation),l.OrgApp),t.contentTileType===u.MRU&&t instanceof f?t=s.appService.getAppInstance(t.packageid):t.contentTileType===u.Favorite&&null!=n&&(t=s.appService.getAppInstance(n)),null!=t){var c=t,d=r.getDefaultAppArtefact(c);if(n=r.isOrgApp(c.providerContract)?null:c.packageId,d){var p=t.objectId;d instanceof v?s.navigation.navigateToAppDashboardByGUID(d.objectId,d.contract.originalDashboardObjectId,p,o,null,!0,n):d instanceof y?s.navigation.navigateToAppReportByGUID(d.objectId,d.contract.originalReportObjectId,p,void 0,o,null,!0,n):d instanceof w&&s.navigation.navigateToAppWorkbookByUniqueId(d.uniqueId,p,o)}else s.navigation.navigateToApp(c.providerContract.providerKey,n)}},o.prototype.identifyAndDeleteContent=function(e){var t=this.services.appService,i=t.getAppByGUID(e),o=i.providerKey,a=r.getPackageIDByOrgAppGUID(t,this.services.packageService,o);t.deleteInstance(a)},o.prototype.canShowTileOptions=function(e){return!1},o.prototype.canScheduleRefresh=function(e){return!1},o.prototype.getContentPackageId=function(e){return r.getPackageIDByOrgAppGUID(this.services.appService,this.services.packageService,e.objectId)},o})(M),L=(function(e){function t(){return e.apply(this,arguments)||this}return __extends(t,e),t.prototype.openContent=function(e,t){var i=p.getObjectID(e);
this.services.navigation.showPublishAppSlicer(i)},t.prototype.identifyAndDeleteContent=function(e){this.services.publishedAppService.deletePublishedApp(void 0,e)},t})(M),N=(function(t){function i(){return t.apply(this,arguments)||this}return __extends(i,t),i.prototype.canShowTileOptions=function(e){return!1},i.prototype.analyzeContentInExcel=function(t){var i=t;this.services.telemetryService.logEvent(e.telemetry.DashboardAndReportsAnalyzeInExcel,"Report Navigation Pane List",i.contentProviderId,i.contract.modelFeatures,i.dbName),this.services.analyzeInExcel.startAnalyzeInExcel(i)},i.prototype.getModels=function(e){var t=e;if(t)return[t]},i.prototype.canRefreshNow=function(e){return this.canModelRefresh(e)},i.prototype.refreshNow=function(e){if(this.canRefreshNow(e)){var t=e;this.services.refreshService.tryRefreshNow(this.services.telemetryService,this.services.errorService,t,"datasets")}},i.prototype.canScheduleRefresh=function(e){return this.canModelRefresh(e)},i.prototype.scheduleRefresh=function(e){if(this.canScheduleRefresh(e)){var t=e;this.services.navigation.showSettingsSlider("datasets",t.dbName)}},i.prototype.canModelRefresh=function(e){if(e instanceof o&&h.hasFlag(e.getPermissions(),a.Write))return!!r.isParameterizedAppInstance(e.packageId,this.services.appService)},i})(M),R=(function(e){function t(){return e.apply(this,arguments)||this}return __extends(t,e),t.prototype.getStrategy=function(e){switch(e.type){case g.Dashboards:return new T(this.services);case g.Reports:return new E(this.services);case g.Workbooks:return new k(this.services);case g.AppInstance:return new A(this.services)}},t.prototype.openContent=function(e,t,i,o){if(e instanceof f){var r=this.getStrategy(e);if(r){var a=p.getMRUOriginalContentTile(e,this.services.dashboardService,this.services.reportService,this.services.workbookService,this.services.appService);o=e.packageid||o,r.openContent(a,t,i,o)}}},t})(M),F=(function(t){function i(){return t.apply(this,arguments)||this}return __extends(i,t),i.prototype.openContent=function(t,i,o,r){e.helpers.ContentProviderStoreHelper.navigateToCategoryAndProviderHelper(d.Organizational,e.controllers.contentProviderStore.contentProviderConstants.getAppsInteraction,2,this.services.telemetryService,this.services.navigation,this.services.$rootScope)},i.prototype.canShowTileOptions=function(e){return!1},i})(M)})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r){return new v(e,t,i,o,r)}function i(e,t,i){var o=e?r.dynamicGridWidth:r.dynamicGridHeight,a=0;i&&(a=e?l+d:p+u);var n=e?0:c;return o*t+2*r.dynamicGridItemSpacing*(t-1)-a-n}function o(t,i,o,r){var s=i.tooltipsEnabled,c=r&&r.forecastEnabled,l=r&&r.improvedMapLegend,d=r&&r.axisControlImprovements,p=r&&r.donutChartLabelPercentEnabled,u=r&&r.textboxFontColorEnabled,v=r&&r.responsiveVisualEnabled,h=r&&r.customFontFamily;switch(t){case e.visuals.plugins.barChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.barChart,(function(){return new e.visuals.CartesianChart({chartType:6,tooltipsEnabled:s,animator:new e.visuals.DashboardColumnChartAnimator,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.clusteredBarChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.clusteredBarChart,(function(){return new e.visuals.CartesianChart({chartType:5,tooltipsEnabled:s,animator:new e.visuals.DashboardColumnChartAnimator,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.clusteredColumnChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.clusteredColumnChart,(function(){return new e.visuals.CartesianChart({chartType:3,tooltipsEnabled:s,animator:new e.visuals.DashboardColumnChartAnimator,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}),(function(t){return e.visualHost.visualPluginServiceHelpers.applyFeatureSwitches(t,r)}));case e.visuals.plugins.columnChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.columnChart,(function(){return new e.visuals.CartesianChart({chartType:4,tooltipsEnabled:s,animator:new e.visuals.DashboardColumnChartAnimator,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}),(function(t){return e.visualHost.visualPluginServiceHelpers.applyFeatureSwitches(t,r)}));case e.visuals.plugins.dataDotClusteredColumnComboChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.dataDotClusteredColumnComboChart,(function(){return new e.visuals.CartesianChart({chartType:15,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.dataDotStackedColumnComboChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.dataDotStackedColumnComboChart,(function(){return new e.visuals.CartesianChart({chartType:16,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.donutChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.donutChart,(function(){return new e.visuals.DonutChart({tooltipsEnabled:s,donutChartLabelPercentEnabled:p})}));case e.visuals.plugins.funnel.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.funnel,(function(){return new e.visuals.FunnelChart({tooltipsEnabled:s,axisControlImprovements:d})}));case e.visuals.plugins.gauge.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.gauge,(function(){return new e.visuals.Gauge({animator:new e.visuals.BaseAnimator,tooltipsEnabled:s})}));case e.visuals.plugins.hundredPercentStackedBarChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.hundredPercentStackedBarChart,(function(){return new e.visuals.CartesianChart({chartType:7,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.hundredPercentStackedColumnChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.hundredPercentStackedColumnChart,(function(){return new e.visuals.CartesianChart({chartType:8,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}),(function(t){return e.visualHost.visualPluginServiceHelpers.applyFeatureSwitches(t,r)}));case e.visuals.plugins.lineChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.lineChart,(function(){return new e.visuals.CartesianChart({chartType:0,tooltipsEnabled:s,forecastEnabled:c,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}),(function(t){return e.visualHost.visualPluginServiceHelpers.applyFeatureSwitches(t,r)}));case e.visuals.plugins.areaChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.areaChart,(function(){return new e.visuals.CartesianChart({chartType:1,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}),(function(t){return e.visualHost.visualPluginServiceHelpers.applyFeatureSwitches(t,r)}));case e.visuals.plugins.stackedAreaChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.stackedAreaChart,(function(){return new e.visuals.CartesianChart({chartType:2,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}),(function(t){return e.visualHost.visualPluginServiceHelpers.applyFeatureSwitches(t,r)}));case e.visuals.plugins.lineClusteredColumnComboChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.lineClusteredColumnComboChart,(function(){return new e.visuals.CartesianChart({chartType:13,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.lineStackedColumnComboChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.lineStackedColumnComboChart,(function(){return new e.visuals.CartesianChart({chartType:14,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.pieChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.pieChart,(function(){return new e.visuals.DonutChart({sliceWidthRatio:0,tooltipsEnabled:s,donutChartLabelPercentEnabled:p})}));case e.visuals.plugins.scatterChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.scatterChart,(function(){return new e.visuals.CartesianChart({chartType:9,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.treemap.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.treemap,(function(e){var t=e.module;return new t.Treemap({isScrollable:!1,tooltipsEnabled:s})}));case e.visuals.plugins.waterfallChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.waterfallChart,(function(){return new e.visuals.CartesianChart({chartType:12,tooltipsEnabled:s,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,axisControlImprovements:d,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.map.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.applyImprovedMapLegendMappings(e.visuals.plugins.map,l,!1),(function(){return new e.visuals.Map({tooltipsEnabled:s,disableZooming:!0,disablePanning:!0})}));case e.visuals.plugins.filledMap.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.applyImprovedMapLegendMappings(e.visuals.plugins.filledMap,l,!0),(function(){return new e.visuals.Map({filledMap:!0,tooltipsEnabled:s,disableZooming:!0,disablePanning:!0})}));case e.visuals.plugins.shapeMap.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.shapeMap,(function(e){var t=e.module;return new t.ShapeMap({tooltipsEnabled:s})}));case e.visuals.plugins.matrix.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.matrix,(function(){return new e.visuals.Matrix}));case e.visuals.plugins.tableEx.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.tableEx,(function(){return new e.visuals.TableEx(n.createDashboardConstructorOptions())}));case e.visuals.plugins.pivotTable.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.pivotTable,(function(){return new e.visuals.PivotTable(a.createDashboardConstructorOptions())}));case e.visuals.plugins.realTimeLineChart.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.realTimeLineChart,(function(){return new e.visuals.CartesianChart({chartType:17,animator:new e.visuals.RealTimeLineChartAnimator,cartesianSmallViewPortProperties:o.cartesianSmallViewPortProperties,legendSmallViewPortProperties:o.legendSmallViewPortProperties,animateCategoryAxis:!0,animateValueAxis:!0,responsiveVisualEnabled:v,customFontFamily:h,viewModelAdapter:new e.visuals.CartesianViewModelAdapter({responsiveVisualEnabled:v})})}));case e.visuals.plugins.table.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.table,(function(){return new e.visuals.Table}));case e.visuals.plugins.card.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.card,(function(){return new e.visuals.Card({cardSmallViewportProperties:o.cardSmallViewportProperties})}));case e.visuals.plugins.textbox.name:return e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins.textbox,(function(){return new e.visuals.Textbox({viewModelAdapter:new e.visuals.TextboxHelpers.ViewModelAdapter(o.textboxSmallViewportProperties),disableScrollingInViewMode:!0,textboxFontColorEnabled:u})}));case e.visualHost.EsriVisual:return e.visuals.plugins[e.visualHost.EsriVisual]?e.visualHost.visualPluginServiceHelpers.getPluginCopy(e.visuals.plugins[e.visualHost.EsriVisual],e.visuals.plugins[e.visualHost.EsriVisual].create):null;default:return e.Prototype.inherit(e.visuals.plugins[t])}}var r=e.common.GridLayoutConstants,a=e.visuals.PivotTableOptions,n=e.visuals.TableExOptions,s=e.visualHost.visualPluginServiceHelpers.VisualPluginStorage,c=42,l=10,d=10,p=0,u=8;e.createDashboardVisualPluginService=t;var v=(function(){function t(t,r,a,n,c){var l=this;this.asyncFeatureSwitchService=t,this.promiseFactory=r,this.resourceLoader=a,this.telemetryService=n,this.storage=new s;var d=i(!0,2,!1),p=i(!0,2,!0),u=i(!1,2,!0),v=i(!0,3,!0),h=i(!0,4,!0),g=i(!1,2,!0),f=i(!0,3,!0),m=i(!1,2,!0),b=i(!0,3,!0),y=i(!0,2,!0),S=i(!1,2,!0),C=i(!0,4,!0),w=i(!1,3,!0),I={cardSmallViewportProperties:{cardSmallViewportWidth:d},cartesianSmallViewPortProperties:{minWidthForLegend:p,minHeightForLegend:u,minHeightForAxisLabels:m,minWidthForAxisLabels:f,mediumWidthForAxis:b,minWidthForAxis:y,minHeightForAxis:S,maxWidthForMediumFont:h,maxWidthForSmallFont:v},legendSmallViewPortProperties:{maxWidthForSmallFont:v,maxWidthForMediumFont:h,minHeightForTransform:g},textboxSmallViewportProperties:{minWidthToScaleFontSize:C,minHeightToScaleFontSize:w}};this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then((function(t){for(var i in e.visuals.plugins)l.storage.loadPlugin(i,o(i,c,I,t))}))}return t.prototype.ensureBuiltInPlugins=function(){return this.initBuiltInPlugins},t.prototype.getVisuals=function(){return this.storage.getLoadedPlugins()},t.prototype.ensureTrustedVisualPlugins=function(e){s.ensureTrustedVisualPlugins(this.storage,e)},t.prototype.ensurePlugins=function(e,t){var i=[];if(e&&e.length)for(var o=0,r=e;o<r.length;o++){var a=r[o];0===a.type&&i.push(this.ensurePlugin(a,!1))}return this.promiseFactory.allSettled(i)},t.prototype.ensurePlugin=function(e,t){return s.ensurePlugin(this.storage,this.promiseFactory,this.resourceLoader,e,!1,this.telemetryService)},t.prototype.getPlugin=function(t){var i=this.storage.getLoadedPlugin(t);return!i&&e.visuals.plugins[t]&&(this.storage.loadPlugin(t,e.Prototype.inherit(e.visuals.plugins[t])),i=this.storage.getLoadedPlugin(t)),i},t.prototype.capabilities=function(e){var t=this.getPlugin(e);return t?t.capabilities:void 0},t.prototype.isCustomVisual=function(t){return e.visualHost.utils.isCustomVisual(this.getPlugin(t),t)},t.prototype.getInteractivityOptions=function(){return{overflow:"hidden",isVisualInteractive:!1}},t.prototype.getTelemetryHostInformation=function(){return{name:"Dashboard"}},t.prototype.isScriptVisual=function(t){return e.visualHost.utils.isScriptVisual(this.getPlugin(t))},t.prototype.isScriptVisualQueryable=function(){return e.visualHost.utils.isScriptVisualQueryable(this.asyncFeatureSwitchService.featureSwitches)},t.prototype.isLightWeightRenderingVisual=function(t){return e.visualHost.utils.isLightWeightRenderingVisual(this.getPlugin(t))},t.prototype.getStorage=function(){return this.storage},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i){return new a(e,t,i)}var i=e.data.EmptyDataClientError,o=e.data.InvalidDataResponseClientError;e.createDelayedQueryResultResolver=t;var r=1e4,a=(function(){function t(e,t,i){this.jobsWaitingForResults={},this.jobsAlreadyResolved=[],this.syncService=e,this.$timeout=t,this.telemetryService=i,e.addDelayedQueryDataListener(this)}return t.prototype.resolveDelayedQuery=function(e,t){var i=this,o=this.$timeout(r);o.then((function(){return i.preemptiveQuery(e)})),this.jobsWaitingForResults[e]={jobId:e,deferred:t,preemptiveQueryPromise:o},this.jobsAlreadyResolved.indexOf(e)>=0&&this.onDelayedQueryDataAvailable(e)},t.prototype.onDelayedQueryDataAvailable=function(i){var r=this,a=this.jobsWaitingForResults[i];a?(this.$timeout.cancel(this.jobsWaitingForResults[i].preemptiveQueryPromise),delete this.jobsWaitingForResults[i],e.queryService.getQueryData(i,void 0).then((function(e){return r.handleQueryDataResult(e,a)})).catch((function(){a.deferred.reject(new o)}))):this.jobsAlreadyResolved.indexOf(i)<0&&(this.jobsAlreadyResolved.push(i),this.jobsAlreadyResolved.length>t.MaxResolvedJobsToTrack&&this.jobsAlreadyResolved.shift())},t.prototype.preemptiveQuery=function(t){var i=this,o=this.jobsWaitingForResults[t];o&&e.queryService.getQueryData(t,void 0).then((function(r){i.handleQueryDataResult(r,o),delete i.jobsWaitingForResults[t],i.telemetryService.logEvent(e.telemetry.AppPreemptiveQueryData,t)}))},t.prototype.handleQueryDataResult=function(t,o){var r=t.data;if(r&&r.data){var a={descriptor:r.data.descriptor,dsr:r.data.dsr,requestId:t.requestId};o.deferred.resolve(a)}else if(r.error){var n=new e.ServiceErrorToClientError(r.error);n.requestId=t.requestId,o.deferred.reject(n)}else o.deferred.reject(new i)},t})();a.MaxResolvedJobsToTrack=100})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,a,n,s,c,l,d,p,u,v,h,g,f,m){return new r(e,t,i,o,a,n,s,c,l,d,p,u,v,h,g,f,m)}var i=e.common.contracts.ContentTileType,o=e.common.contracts.Permissions;e.createFavoritesService=t;var r=(function(){function t(t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m){var b=this;this.telemetryService=t,this.favoritesHttp=i,this.activeGroupId=o,this.promiseFactory=r,this.dashboardService=a,this.rootScope=n,this.featureSwitchService=s,this.notificationToast=c,this.localizationService=l,this.errorService=d,this.permissionService=p,this.appMetadataService=u,this.navigation=v,this.tutorialDataStore=h,this.dataClassificationService=g,this.appService=f,this.mostRecentlyUsedService=m,this.favorites=[],this.listeners=[],this.navigation.inFavoritesView()||this.reloadFavorites(),this.rootScope.$on(e.constants.groupSwitchedEventName,(function(){return b.populateFavorites()}))}return t.prototype.getFavoriteByContentTile=function(t){var i=e.helpers.ContentTileHelper.getObjectID(t),o=e.helpers.ContentTileHelper.getContentFavoriteType(t);return _.find(this.favorites,(function(e){return e.objectId===i&&e.favoriteType===o}))},t.prototype.getFavoriteTelemetryType=function(t){switch(t){case 1:return e.telemetry.FavoriteType.Dashboard;case 3:return e.telemetry.FavoriteType.AppInstance;case 2:return e.telemetry.FavoriteType.Report}},t.prototype.addFavorite=function(t){var i=this,o=e.helpers.ContentTileHelper.getContentFavoriteType(t);if(!o)return this.promiseFactory.reject();var r=e.helpers.ContentTileHelper.getFavoriteId(t,this.appService,this.dashboardService),a=this.promiseFactory.defer();return this.ensureDependentServices().then((function(t){var n;if(1===o?n=i.dashboardService.findDashboard(r):3===o&&(n=i.appService.getAppInstance(r)),n){n.isFavorite=!0,n.isFavoriteDisabled=!0;var s=i.getFavoriteTelemetryType(o),c=i.telemetryService.startEvent(e.telemetry.DashboardAddFavorite,r,i.activeGroupId.activeGroupObjectId,s);i.favoritesHttp.addFavorite(o,r,c.event).then((function(e){var t=e.data;t.uniqueId=i.getUniqueId(r,o),1===o?(i.fillFavoriteDashboardInfo(t,r,i.activeGroupId.activeGroupObjectId),a.resolve(t)):3===o&&(i.fillFavoriteOrgAppInfo(t,r,i.activeGroupId.activeGroupObjectId),a.resolve(t)),i.matchMRUFavorites(t),c.resolve(),i.onAdded(t)}),(function(e){a.reject(),c.reject(),n&&(n.isFavorite=!1,n.isFavoriteDisabled=!1),i.errorService.error(i.localizationService.get("Favorites_FailedToFavorite"),"",{requestId:e.requestId,statusCode:e.status.toString(),activityId:e.activityId})})).finally((function(){n.isFavoriteDisabled=!1}))}else a.reject()}),(function(e){return a.reject()})),a.promise},t.prototype.deleteFavorite=function(t){var i=this,o=this.getFavoriteByContentTile(t);o&&this.ensureDependentServices().then((function(r){var a,n=e.helpers.ContentTileHelper.getContentFavoriteType(t),s=i.getFavoriteTelemetryType(n);t instanceof e.models.MRUModel?a=t:1===n?a=i.dashboardService.findDashboardByGUID(o.objectId):3===n&&(a=i.appService.getAppInstance(o.favoriteId)),null!=a&&(a.isFavoriteDisabled=!0);var c=i.telemetryService.startEvent(e.telemetry.DashboardDeleteFavorite,o.objectId,o.workspaceId,s);i.favoritesHttp.deleteFavorite(o,c.event).then((function(e){var t=_.remove(i.favorites,(function(e){return e.id===o.id}));t&&t.length>0&&i.onDeleted(o),o=null,c.resolve(),a&&(a.isFavorite=!1,a.isFavoriteDisabled=!1)}),(function(e){c.reject(),i.errorService.error(i.localizationService.get("Favorites_FailedToUnfavorite"),"",{requestId:e.requestId,statusCode:e.status.toString(),activityId:e.activityId}),a&&(a.isFavorite=!0,a.isFavoriteDisabled=!1)}))}))},t.prototype.updateFavoritesWithPermissions=function(e){for(var t=function(e){e.getPermissions=function(){return e.permissions}},i=0,o=e;i<o.length;i++){var r=o[i];t(r)}return e},Object.defineProperty(t.prototype,"favoritesCache",{get:function(){return this.initialized?this.favorites:void 0},enumerable:!0,configurable:!0}),t.prototype.reloadFavorites=function(t){var i=this;if(this.favoritesDeferred=this.promiseFactory.defer(),t){var o=this.telemetryService.startEvent(e.telemetry.DashboardGetFavorites,0);return this.favoritesHttp.getFavorites(o.event).then((function(e){var t=i.updateFavoritesWithPermissions(e.data);i.favorites=t,i.favorites=_.uniq(i.favorites,(function(e){return e.favoriteId})),_.isEmpty(i.favorites)||(o.event.info.countOfFavorites=i.favorites.length),i.initialized=!0,i.favoritesDeferred.resolve(i.favorites),o.resolve(),i.populateFavorites(),i.onReset()}),(function(t){i.favoritesDeferred.reject(),t.status===e.HttpStatusCode.Unauthorized?o.resolve():(o.reject(),i.errorService.error(i.localizationService.get("Favorites_FailedToLoadFavorites"),"",{requestId:t.requestId,statusCode:t.status.toString(),activityId:t.activityId}))})),this.favoritesDeferred.promise}return this.appMetadataService.getAppMetadata().then((function(e){if(e.favorites){var t=i.updateFavoritesWithPermissions(e.favorites);i.favorites=t,i.favorites=_.uniq(i.favorites,(function(e){return e.favoriteId})),i.initialized=!0,i.favoritesDeferred.resolve(i.favorites),i.populateFavorites(),i.onReset()}})),this.favoritesDeferred.promise},t.prototype.subscribe=function(e){_.contains(this.listeners,e)||this.listeners.push(e)},t.prototype.unsubscribe=function(e){_.pull(this.listeners,e)},t.prototype.onAdded=function(e){for(var t=0,i=this.listeners;t<i.length;t++){var o=i[t];o.onFavoriteAdded&&o.onFavoriteAdded(e)}},t.prototype.onDeleted=function(e){for(var t=0,i=this.listeners;t<i.length;t++){var o=i[t];o.onFavoriteDeleted&&o.onFavoriteDeleted(e)}},t.prototype.onReset=function(){for(var e=0,t=this.listeners;e<t.length;e++){var i=t[e];i.onFavoriteDeleted&&i.onFavoritesReset()}},t.prototype.fillFavoriteDashboardInfo=function(e,t,i){var r=this.dashboardService.findDashboard(t);this.fillFavoriteInfo(e,r,1),e.permissions=this.permissionService.isActiveWorkspaceIsReadOnly?o.Read:r.getPermissions(),e.getPermissions=function(){return e.permissions},e.workspaceId===this.activeGroupId.myWorkspaceGroupId?e.ownerInfo=r.ownerFullname:(e.ownerInfo=this.activeGroupId.groupDisplayName,e.workspaceId=i)},t.prototype.fillFavoriteOrgAppInfo=function(e,t,i){var o=this.appService.getAppInstance(t);o&&(this.fillFavoriteInfo(e,o,3),e.permissions=o.getPermissions(),e.getPermissions=o.getPermissions,e.ownerInfo=o.author,e.favoriteId=o.packageId)},t.prototype.fillFavoriteInfo=function(e,t,o){e.objectId=t.objectId,e.displayName=t.displayName,e.contentTileType=i.Favorite,e.favoriteType=o,this.favorites.push(e)},t.prototype.populateFavorites=function(){var e=this,t=this.favorites;t?this.updateFavorites(t):this.reloadFavorites().then((function(t){e.updateFavorites(t)}))},t.prototype.updateFavorites=function(e){var t=this;this.ensureDependentServices().then((function(o){var r=t.activeGroupId.activeGroupObjectId;r===t.activeGroupId.myWorkspaceGroupId&&(r=null);for(var a=0,n=e;a<n.length;a++){var s=n[a];if(s.contentTileType=i.Favorite,s.uniqueId=t.getUniqueId(s.id,s.favoriteType),t.matchMRUFavorites(s),s.workspaceId===r){var c=void 0;if(1===s.favoriteType){var l=t.dashboardService.findDashboardByGUID(s.objectId);s.dataClassificationId=l&&l.dataClassificationId,c=l}else if(3===s.favoriteType){var d=t.appService.getAppInstance(s.favoriteId);d&&(s.objectId=d.providerContract.providerKey,s.ownerInfo=d.author,c=d)}t.updateFavoritableContent(c,s)}}}))},t.prototype.matchMRUFavorites=function(e){var t;switch(e.favoriteType){case 1:t=this.mostRecentlyUsedService.findDashboardMRU(e.objectId);break;case 3:t=this.mostRecentlyUsedService.findAppInstanceMRU(e.favoriteId),t&&(e.objectId=t.objectId)}t&&this.updateFavoritableContent(t,e)},t.prototype.updateFavoritableContent=function(e,t){e&&(e.favoriteInfo=t,e.isFavorite=!0)},t.prototype.ensureDependentServices=function(){return this.promiseFactory.all([this.dashboardService.getDashboards(),this.appService.ensureAppsInitialization(),this.mostRecentlyUsedService.getMRUModels()])},t.prototype.getUniqueId=function(e,t){return 10*e+t},t})();e.FavoritesService=r})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i){return new o(e,t,i)}t.createFilterPersistenceService=i;var o=(function(){function t(e,i,o){var r=this;this.promiseFactory=e,this.userSettingsService=i,this.telemetryService=o,this.filters={},this.filtersLoadedPromise=this.userSettingsService.getExtendedSettingByKey(t.UserExtendedSettingKey).then((function(e){r.filters=e||r.filters}))}return t.prototype.getFilter=function(e){var t=this;return this.filtersLoadedPromise.then((function(){return t.filters?t.filters[e]:null})).catch((function(e){return null}))},t.prototype.setFilter=function(i,o){var r=this.telemetryService.startEvent(e.telemetry.ContentListPersistFilter);this.filters[i]=o,this.userSettingsService.updateExtendedSettings(t.UserExtendedSettingKey,this.filters,r)},t})();o.UserExtendedSettingKey="filter",t.FilterPersistenceService=o})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e){return new a(e)}var i=e.common.models.CollapsiblePaneExpandedWidth,o=e.common.contracts.GroupLinkType,r=e.common.constants.TaskPaneCollapsiblePaneMode;e.createGroupContextMenuService=t;var a=(function(){function t(e){this.services=e,this.localizationService=e.localizationService}return t.prototype.getIconNameForGroupLinkType=function(e){switch(e){case o.Calendar:return"calendar";case o.Conversations:return"comment";case o.Files:return"page2";case o.Members:return"group";case o.Notebook:return"folder";case o.EditGroup:return"edit";case o.ViewGroup:return"show";case o.LeaveGroup:return"delete"}},t.prototype.getTextForGroupLinkType=function(e){switch(e){case o.Calendar:return this.localizationService.get("GroupNavigationPaneContextMenuItem_Calendar");case o.Conversations:return this.localizationService.get("GroupNavigationPaneContextMenuItem_Conversations");case o.Files:return this.localizationService.get("GroupNavigationPaneContextMenuItem_Files");case o.Members:return this.localizationService.get("GroupNavigationPaneContextMenuItem_Members");case o.Notebook:return this.localizationService.get("GroupNavigationPaneContextMenuItem_Notebook");case o.EditGroup:return this.localizationService.get("GroupNavigationPaneContextMenuItem_EditGroup");case o.ViewGroup:return this.localizationService.get("GroupNavigationPaneContextMenuItem_ViewGroup");case o.LeaveGroup:return this.localizationService.get("GroupNavigationPaneContextMenuItem_LeaveGroup");default:return""}},t.prototype.performActionWithGroupContextMenuItem=function(e,t){switch(e.linkType){case o.Calendar:case o.Conversations:case o.Files:case o.Members:case o.Notebook:this.services.$window.open(e.url,"_blank");break;case o.EditGroup:case o.ViewGroup:case o.LeaveGroup:this.performActionWithNonUrlGroupLinkType(e.linkType,t)}},t.prototype.performActionWithNonUrlGroupLinkType=function(e,t){switch(e){case o.EditGroup:this.services.taskPaneSliderService.expandPane(r.GroupEditorEdit,i.Large,{group:t});break;case o.ViewGroup:this.services.taskPaneSliderService.expandPane(r.GroupEditorView,i.Large,{group:t});break;case o.LeaveGroup:this.leaveGroup(t)}},t.prototype.leaveGroup=function(e){var t=this,i=this.services.errorService,o=i.control(),r=[new InJs.ModalDialogAction(this.localizationService.get("ModalDialogButtonText_Leave"),function(i,r){o.hideDialog(),t.tryLeaveGroup(e)}),new InJs.ModalDialogAction(this.localizationService.get("PBI_Button_Label_Cancel"),function(e,t){o.hideDialog()})],a=this.localizationService.get("GroupEditor_LeaveGroupConfirmation_Title"),n=this.localizationService.get("GroupEditor_LeaveGroupConfirmation_Message");
o.showCustomDialog(a,$("<div/>").text(n),r,(function(e){e.parent().find('input[value="'+t.localizationService.get("PBI_Button_Label_Cancel")+'"]').focus()}),!0)},t.prototype.tryLeaveGroup=function(t){var i=this,o=this.services.errorService.control(),r=this.services.promiseFactory.defer(),a=this.services.rootScope.$new(),n={dialogName:null,scope:a,template:'<spinner></spinner><span localize="GroupEditor_WaitLeaveGroup"></span>',containerCssClass:"leaveGroup",isDismissable:!1};this.services.modalDialogService.showLegacyWebModalDialog(n);var s=e.session.UserInfoUtils.getEmailAddressForReceivingMail();if(t.contract.isOwner){var c=this.services.telemetryService,l=c.startEvent(e.telemetry.GroupEditorGetGroupMembers);this.services.groupHttp.getGroupMembers(t.aadGroupId,l.event).then((function(e){if(i.isUserTheOnlyAdmin(s,e.data)){o.hideDialog();var a=[new InJs.ModalDialogAction(i.localizationService.get("ModalDialogButtonText_Ok"),function(e,t){o.hideDialog()})],n=i.localizationService.get("Groups_LeaveGroup_TheOnlyAdmin_Message");o.showCustomDialog("",$("<div/>").text(n),a,null,!0),l.resolve(),r.resolve(!1)}else l.resolve(),i.leaveGroupInternal(t,s).then((function(e){r.resolve(e)}))}),(function(t){o.hideDialog(),i.services.errorService.error(i.localizationService.get("GroupEditor_FailedGetGroupMembers_Message"),"FailedToGetGroupMembers",{requestId:t.requestId,statusCode:t.status.toString()}),l.reject(e.errorDetailsHelper.getTelemetryErrorDetails(t.error,t.status)),r.resolve(!1)}))}else this.leaveGroupInternal(t,s).then((function(e){r.resolve(e)}));return r.promise},t.prototype.leaveGroupInternal=function(t,i){var o=this,r=this.services.promiseFactory.defer(),a=[],n=[{userPrincipalName:i,membershipStatus:e.common.contracts.GroupMembershipStatus.Member}],s={displayName:""},c=this.services.telemetryService,l=c.startEvent(e.telemetry.GroupEditorUserLeaveGroup,!1,t.contract.objectId,t.contract.isReadOnly,0,0),d=this.services.errorService.control();return this.services.groupHttp.updateGroup(t.aadGroupId,s,a,n,null,null,l.event).then((function(i){d.hideDialog(),o.services.groupService.removeGroup(t.aadGroupId),o.services.navigation.navigateToGroupByGUID(e.constants.myWorkSpaceGroupId),l.event.info.groupUpdated=!0;var a=_.filter(i.data,(function(t){return t.membershipStatus!==e.common.contracts.GroupMembershipStatus.Owner})).length;l.event.info.adminCount=a,l.event.info.memberCount=i.data.length-a,l.resolve(),r.resolve(!0)}),(function(t){d.hideDialog(),o.services.errorService.error(o.localizationService.get("GroupEditor_FailedUpdateGroup_Message"),"FailedToUpdateGroup",{requestId:t.requestId,statusCode:t.status.toString()}),l.event.info.groupUpdated=!1,l.reject(e.errorDetailsHelper.getTelemetryErrorDetails(t.error,t.status)),r.resolve(!1)})),r.promise},t.prototype.isUserTheOnlyAdmin=function(t,i){var o=0===_.filter(i,(function(i){return(i.membershipStatus===e.common.contracts.GroupMembershipStatus.Owner||i.membershipStatus===e.common.contracts.GroupMembershipStatus.MemberAndOwner)&&i.userPrincipalName.toLowerCase()!==t.toLowerCase()})).length;return o},t})();e.GroupContextMenuService=a})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e){return new i(e)}e.createGroupService=t;var i=(function(){function t(e){this._isInGroupTransition=!1,this._isGroupTransitionDelayed=!1,this._groups=[],this.groupChangedHandlers=[],this.services=e,this.initializationDeferredOperation=this.services.promiseFactory.defer(),this.initGroupsService()}return t.prototype.resolveGroupSwitchTelemetry=function(){this.perfSwitchGroupEvent&&(this.perfSwitchGroupEvent.resolve(),this.perfSwitchGroupEvent=null)},Object.defineProperty(t.prototype,"isInGroupTransition",{get:function(){return this._isInGroupTransition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGroupTransitionDelayed",{get:function(){return this._isGroupTransitionDelayed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),t.prototype.getGroup=function(e){var t=_.findIndex(this._groups,(function(t){return t.aadGroupId===e}));return this._groups[t]},t.prototype.addGroup=function(t){var i=new e.models.Group(t);this._groups.push(i)},t.prototype.removeGroup=function(t){_.remove(this._groups,(function(e){return e.aadGroupId===t})),this.services.rootScope.$emit(e.constants.groupDeletedEventName)},t.prototype.setDefaultActiveGroup=function(){this.activeGroupObjectId=this._groups[0].aadGroupId},t.prototype.isMyWorkspace=function(){return!this.activeGroup||this.activeGroup.isMyWorkspace},Object.defineProperty(t.prototype,"activeGroup",{get:function(){var e=this.getGroup(this.services.activeGroupIdService.activeGroupObjectId);return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeGroupObjectId",{get:function(){return this.services.activeGroupIdService.activeGroupObjectId},set:function(e){this.services.activeGroupIdService.activeGroupObjectId=e,this.activeGroup?(this.services.activeGroupIdService.isReadOnly=this.activeGroup.contract.isReadOnly&&!this.activeGroup.contract.isOwner,this.services.telemetryService.setHostInfo("isInCapacity",!!this.activeGroup.capacity)):this.services.activeGroupIdService.isReadOnly=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"datasets",{get:function(){return this.services.modelService.models},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reports",{get:function(){return this.services.reportService.reports},enumerable:!0,configurable:!0}),t.prototype.switchGroup=function(e,t,i,o){this.groupSwitchDeferred&&(this.groupSwitchDeferred.reject(),this.groupSwitchDeferred=null);var r=this.services.navigation,a=r.currentGroupGUID;r.currentGroupGUID=e.aadGroupId,this.switchGroupInternal(e,t,i,o);var n=this.groupSwitchPromise();return n.catch((function(){return r.currentGroupGUID=a})),n},t.prototype.updateActiveGroup=function(e,t){this.services.activeGroupIdService.activeGroupObjectId=e,this.services.activeGroupIdService.groupDisplayName=t},t.prototype.isDataInCurrentGroup=function(){return this.services.modelService.models.length>0||this.services.reportService.reports.length>0||this.services.workbookService.workbooks.length>0},t.prototype.showGroupUpsellMessage=function(e){var t=this.services.localizationService.get("UpgradeReasonText_Groups"),i=this.services.localizationService.format("UpgradeDialogTitle",[t]),o=this.services.localizationService.format("UpgradeAccount_ProContentProviderMessage",[t.toLocaleLowerCase(),this.services.licenseHelperService.freeTrialPeriod]);this.services.licenseHelperService.displayFeatureDisabledErrorMessage(e,o,i)},t.prototype.ensureGroupsInitialization=function(){return this.initializationDeferredOperation.promise},t.prototype.groupSwitchPromise=function(){return this.groupSwitchDeferred?this.groupSwitchDeferred.promise:this.services.promiseFactory.resolve(null)},t.prototype.addGroupChangedHandler=function(e){this.groupChangedHandlers.push(e)},t.prototype.initGroupsService=function(){var t=this;this.initTemporaryGroupService(),this.services.appMetadataService.getAppMetadata().then((function(e){t.initGroupsServiceFromDashboardContainer(e)}),(function(){t.updateGroups()})),this.services.rootScope.$on(e.common.constants.navigation.stateChangeSuccess,(function(e,i,o,r,a){return t.handleStateChange(i,o,r,a)})),this.services.rootScope.$on(e.constants.dashboardTileRepeatFinishedEvent,this.resolveGroupSwitchTelemetry)},t.prototype.handleStateChange=function(t,i,o,r){var a=this;if(window.appLoadError&&!window.appLoadError.handled&&window.appLoadError.error===e.constants.appLoadErrorGroupNotAccessible&&i&&i.groupGUID===e.constants.myWorkSpaceGroupId)return i.dashboardGUID||this.showGroupNotAccessibleMessage(),window.appLoadError.handled=!0,void(this.activeGroupObjectId=e.constants.myWorkSpaceGroupId);if(this.activeGroupObjectId!==i.groupGUID){var n=this.activeGroupObjectId,s=e.constants.navigation.states.home;t.name===s&&this.services.home.isHomeDashboardSet?this.activeGroupObjectId=this.services.home.homeDashboard.groupId:this.services.navigation.inGroupView()&&this.services.navigation.currentGroupGUID&&(this.activeGroupObjectId=this.services.navigation.currentGroupGUID),this.shouldSwitchGroup(t,i,o,r,n)&&(this.groupSwitchDeferred&&this.groupSwitchDeferred.reject(),this.groupSwitchDeferred=this.services.promiseFactory.defer(),this.ensureGroupsInitialization().then((function(){var o=a.getGroup(t.name===s?a.services.home.homeDashboard.groupId:i.groupGUID);if(o){var r=!1;t.name===s&&(o.lastViewedDashboard=a.services.home.homeDashboard.dashboardId,r=!0),a.perfSwitchGroupEvent=a.services.telemetryService.startEvent(e.telemetry.GroupsSwitchGroup,i.groupGUID),a.switchGroupInternal(o,r,a.perfSwitchGroupEvent,!1)}else a.groupSwitchDeferred.resolve(null)})))}},t.prototype.shouldSwitchGroup=function(t,i,o,r,a){var n=r.groupGUID||this.isValidStateWithEmptyGroupGUID(o)&&a;if(!n)return!1;if(i.groupGUID&&i.groupGUID!==n)return!0;if(t.name===e.constants.navigation.states.home){if(!this.services.home.isHomeDashboardSet)return!1;if(n!==this.services.home.homeDashboard.groupId)return!0}return!1},t.prototype.isValidStateWithEmptyGroupGUID=function(t){var i=t.name;return i===e.constants.navigation.states.recentlyViewed||i===e.constants.navigation.states.workspaces||i===e.constants.navigation.states.home},t.prototype.switchGroupInternal=function(t,i,o,r){var a=this;this.startTimedTransition(),this.groupSwitchDeferred||(this.groupSwitchDeferred=this.services.promiseFactory.defer()),this.updateActiveGroup(t.aadGroupId,t.displayName),this.services.groupHttpService.getGroupDashboardContainer(t,o.event).then((function(o){if(t.aadGroupId===a.activeGroupObjectId){var n=o.data;if(n){a.services.packageService.updatePackageCollection(n.packages),a.services.reportService.updateReportCollection(n.reports),a.services.modelService.updateDatasetCollection(n.models),a.services.workbookService.updateWorkbookCollection(n.workbooks),a.services.appService.updateAppsCollection(n.apps,n.packages);for(var s=0,c=a.groupChangedHandlers;s<c.length;s++){var l=c[s];l.onGroupChanged()}}a.groupSwitchDeferred.resolve(null),a.groupSwitchDeferred=null,a.services.rootScope.$emit(e.constants.groupSwitchedEventName,n,i,!!r),a.endTimedTransition()}}),(function(e){var t=jsCommon.StringExtensions.format("Status:{0} requestId:{1} Details:{2}",e.status.toString(),e.requestId,e.error&&e.error.message?e.error.message:"");o.reject({errorCode:e.error&&e.error.code?e.error.code:"FailToGetGroupDashboardContainer",errorMessage:t}),a.groupSwitchDeferred.reject(),a.groupSwitchDeferred=null,a.showLoadGroupFailedMessage(e.requestId,e.status.toString()),a.endTimedTransition()}))},t.prototype.initTemporaryGroupService=function(){this.loadMyWorkspace(),this.activeGroupObjectId=this.services.navigation.currentGroupGUID?this.services.navigation.currentGroupGUID:e.common.constants.myWorkspaceGroupId},t.prototype.initGroupsServiceFromDashboardContainer=function(e){this.loadGroupsWithActiveDashboard(this.services.userInfo.userMetadata?this.services.userInfo.userMetadata.groups:null,e.activeDashboardId),this.updateGroups(),this.handleUrlQueryString()},t.prototype.handleUrlQueryString=function(){this.services.location.search().needproforgroups&&(this.showGroupUpsellMessage(e.telemetry.LicenseEnforcementOperation.LandingGroups),this.services.location.search("needproforgroups",null))},t.prototype.showLoadGroupFailedMessage=function(e,t){var i=this;this.services.localizationService.ensureLocalization((function(){i.services.errorService.error(i.services.localizationService.get("ErrorMessage_FailedLoadGroup"),"FailedLoadGroup",{requestId:e,statusCode:t})}))},t.prototype.showGroupNotAccessibleMessage=function(){var e=this.services.errorService.control(),t=[new InJs.ModalDialogAction(this.services.localizationService.get("DashboardContainer_Ok"),function(t,i){e.hideDialog()})],i=this.services.localizationService.get("GroupNotAccessibleDialogTitle"),o=this.services.localizationService.get("GroupNotAccessibleDialogMessage");e.showCustomDialog(i,InJs.DomFactory.div().text(o),t,void 0,!0)},t.prototype.updateGroups=function(){var e=this;this.services.userInfo.userMetadataPromise&&this.services.userInfo.userMetadataPromise.then((function(t){var i;e.activeGroup&&(i=e.activeGroup.lastViewedDashboard),e.loadGroupsWithActiveDashboard(t.groups,i),e.services.activeGroupIdService.initialGroupIdReadyPromise.then((function(){e.services.activeGroupIdService.isReadOnly=e.activeGroup.contract.isReadOnly&&!e.activeGroup.contract.isOwner}))}))},t.prototype.loadGroupsWithActiveDashboard=function(e,t){var t=t;this.loadGroups(e),this.activeGroup&&(this.activeGroup.lastViewedDashboard=t),this.initializationDeferredOperation.resolve(null)},t.prototype.loadGroups=function(t){var i=this;if(this._groups=[],this.loadMyWorkspace(),t)for(var o=0,r=t.length;o<r;++o){var a=new e.models.Group(t[o]);!(function(e){i.services.userInfo.findGroupIcon(e.contract.objectId).then((function(t){e.icon=t}))})(a),this._groups.push(a)}},t.prototype.loadMyWorkspace=function(){var t={id:-1,displayName:this.services.localizationService.get("NavigationPane_Groups_MyWorkspace"),objectId:this.services.activeGroupIdService.myWorkspaceGroupId,groupType:e.common.contracts.GroupType.Unknown,isOwner:!1,isPublic:!1,isReadOnly:!1,mailNickname:""},i=new e.models.Group(t);i.isMyWorkspace=!0,this._groups.push(i)},t.prototype.startTimedTransition=function(){var e=this;this._isInGroupTransition=!0,this._isGroupTransitionDelayed=!1,this._groupTransitionTimeoutPromise&&this.services.timeout.cancel(this._groupTransitionTimeoutPromise),this._groupTransitionTimeoutPromise=this.services.timeout((function(){e._isGroupTransitionDelayed=!0}),t.switchGroupTimeLimit)},t.prototype.endTimedTransition=function(){this._isInGroupTransition=!1,this._isGroupTransitionDelayed=!1,this.services.timeout.cancel(this._groupTransitionTimeoutPromise)},t})();i.switchGroupTimeLimit=1e3,e.Groups=i})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t){return new o(e,t)}var i=e.models.HistoryDialogModel;e.createHistoryDialogService=t;var o=(function(){function e(e,t){this.rootScope=e,this.compile=t,this.parameters=new i,this.serviceScope=this.rootScope.$new(),this.serviceScope.historyDialogParameters=this.parameters}return e.prototype.showHistoryDialog=function(t){var i=this.parameters;i.showHistoryDialog=!0,i.showSpinner=!0,i.datasetModel={},i.datasetModel.dataset=t.dataset,this.historyDialogElement||(this.template=angular.element(e.htmlTemplate),this.historyDialogElement=this.compile(this.template)(this.serviceScope)),$("body").append(this.historyDialogElement)},e.prototype.hideHistoryDialog=function(){var e=this.parameters;e.showHistoryDialog=!1,e.showSpinner=!1},Object.defineProperty(e.prototype,"historyDialogParameters",{get:function(){return this.parameters},enumerable:!0,configurable:!0}),e})();o.htmlTemplate="<history-dialog view-model='historyDialogParameters' ng-if='historyDialogParameters.showHistoryDialog'> </history-dialog>",e.HistoryDialogService=o})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,r,a,n){return new o(e,t,i,r,a,n)}t.createHome=i;var o=(function(){function t(e,t,i,o,r,a){this.rootScope=e,this.errorService=t,this.localizationService=i,this.notificationToast=o,this.telemetryService=r,this.promiseFactory=a,this.onHomeSettingChanged=[],this.resetHomeAtClientSide()}return Object.defineProperty(t.prototype,"isHomeDashboardSet",{get:function(){return this.homeDashboard.dashboardId!==-1},enumerable:!0,configurable:!0}),t.prototype.resetHomeAtClientSide=function(){this.homeDashboard={dashboardId:-1,groupId:"",dashboardObjectId:""};for(var e=0,t=this.onHomeSettingChanged.length;e<t;e++)this.onHomeSettingChanged[e]()},t.prototype.resetHome=function(e){var t=this,i=this.promiseFactory.defer();return this.disableHomeDashboardHelper(e).then((function(e){t.resetHomeAtClientSide(),i.resolve(e)}),(function(e){i.reject(e)})),i.promise},t.prototype.getHomeDashboard=function(t){var i=e.common.httpService.powerbiRequestOptions(t,"GetHomeDashboard");return i.enableTelemetry=!0,e.common.httpService.get("/powerbi/metadata/user/homedashboard",i)},t.prototype.disableHomeDashboard=function(){var t=this,i=this.localizationService,o=this.errorService.control(),r=[new InJs.ModalDialogAction(i.get("Jumps_Dialog_Confirm"),function(r,a){o.hideDialog();var n=t.notificationToast.notify({message:i.get("DisablingFeaturedDashboard"),notificationType:e.common.NotificationToastType.Loading}),s=t.telemetryService.startEvent(e.telemetry.DashboardDisableHomeDashboard,t.homeDashboard.dashboardObjectId);t.resetHome(s.event).then((function(o){t.notificationToast.notify({title:i.get("SetFeaturedDashboardSuccessTitle"),message:i.get("DisableFeaturedDashboardSuccessContent"),notificationType:e.common.NotificationToastType.Success}),s.resolve()}),(function(e){t.errorService.error(i.get("SetFeaturedDashboardFailed"),"SetFeaturedDashboardFailed",{requestId:e.requestId,statusCode:e.status.toString()}),s.reject()})).finally((function(){t.notificationToast.hide(n)}))}),new InJs.ModalDialogAction(i.get("ExplorationNavigationTab_Cancel"),function(e,t){o.hideDialog()})];o.showPrompt(i.get("DisableFeaturedDashboardTitle"),i.get("DisableFeaturedDashboardContent"),r,!1)},t.prototype.isOnHomeDashboard=function(e){return this.homeDashboard.dashboardObjectId===e},t.prototype.setHomeDashboard=function(t,i,o,r){var a=this,n=this.localizationService,s=this.notificationToast.notify({message:n.get("SettingFeaturedDashboard"),notificationType:e.common.NotificationToastType.Loading}),c=this.telemetryService.startEvent(e.telemetry.DashboardSetHomeDashboard,i);this.setHomeDashboardHelper(t,c.event).then((function(s){a.notificationToast.notify({title:n.get("SetFeaturedDashboardSuccessTitle"),message:a.localizationService.format("SetFeaturedDashboardSuccessContent",[o]),notificationType:e.common.NotificationToastType.Success}),a.homeDashboard.dashboardId=t,a.homeDashboard.groupId=r,a.homeDashboard.dashboardObjectId=i;for(var l=0,d=a.onHomeSettingChanged.length;l<d;l++)a.onHomeSettingChanged[l]();c.resolve()}),(function(e){a.errorService.error(n.get("Dashboard_RefreshCompletedFailure"),"Dashboard_RefreshCompletedFailure",{requestId:e.requestId,statusCode:e.status.toString()}),c.reject()})).finally((function(){a.notificationToast.hide(s)}))},t.prototype.setHomeDashboardDialog=function(e,t){var i=this,o=this.errorService.control(),r=this.localizationService,a=[new InJs.ModalDialogAction(r.get("SetFeaturedDashboardButton"),function(r,a){o.hideDialog(),i.setHomeDashboard(e.id,e.objectId,e.displayName,t)}),new InJs.ModalDialogAction(r.get("ExplorationNavigationTab_Cancel"),function(e,t){o.hideDialog()})],n=e.displayName;if(this.homeDashboard.dashboardId===-1){var s=r.format("SetFeaturedDashboardContent",[n]);o.showPrompt(r.get("SetFeaturedDashboardTitle"),s,a,!1)}else{var s=r.format("ChangeFeaturedDashboardContent",[n]);o.showPrompt(r.get("ChangeFeaturedDashboardTitle"),s,a,!1)}},t.prototype.setHomeDashboardHelper=function(t,i){var o=e.common.httpService.powerbiRequestOptions(i,"SetHomeDashboard");return o.enableTelemetry=!0,e.common.httpService.post("/powerbi/metadata/user/homedashboard/"+t,null,o)},t.prototype.disableHomeDashboardHelper=function(t){var i=e.common.httpService.powerbiRequestOptions(t,"DeleteHomeDashboard");return i.enableTelemetry=!0,e.common.httpService.delete("/powerbi/metadata/user/homedashboard",i)},t})();t.Home=o})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a,n){return new c(e,t,i,o,r,a,n)}var o,r=e.dataServices.ContractUtils,a=e.dataServices.models.Tile,n=e.dataServices.contracts.TileType,s=e.dataServices.models.WorkbookTileModel;!(function(e){e[e.Failure=0]="Failure",e[e.Success=1]="Success"})(o=t.InFocusable||(t.InFocusable={})),t.createInFocusService=i;var c=(function(){function t(e,t,i,o,r,a,n){this.rootScope=e,this.telemetryService=t,this.modelConverter=i,this.modelService=o,this.reportService=r,this.localizationService=a,this.visualPlugin=n,this.inFocusTile=null}return t.prototype.view=function(e,t,i){this.inFocusTile=e,e.type===n.workbook?this.openInFocusWorkbookTile(e,t):e.type===n.realTime?this.openInFocusRealTimeTile(e):this.openInFocusTile(e,t,i)},t.prototype.openInFocusTile=function(t,i,o){this.rootScope.$emit(e.constants.openInFocusTileActionName,{modelId:t.contract.modelId,openInsightArgs:i,runScopedInsights:o})},t.prototype.openInFocusWorkbookTile=function(i,o){var r=t.cloneWorkbookTileModelForInFocusUse(i.workbook,this.localizationService),a=r.tileModel.layoutPosition;a.width=Math.floor(i.gridLayoutContext.getGridWidth()/e.common.GridLayoutConstants.defaultGridWidth),a.height=Math.floor(i.gridLayoutContext.getGridHeight()/e.common.GridLayoutConstants.defaultGridHeight),this.rootScope.$emit(e.constants.openInFocusWorkbookTileActionName,{workbook:r})},t.prototype.openInFocusRealTimeTile=function(t){this.rootScope.$emit(e.constants.openInFocusRealTimeTileActionName,t)},t.prototype.exit=function(){this.inFocusTile=null,this.showVisualEnabled=!1},t.prototype.getInFocusState=function(t){if(!t)return o.Failure;switch(t.type){case n.composite:var i=t.composite&&t.composite.visual;if(i&&i.type!==e.visuals.plugins.image.name)try{var a=t.contract.query,s=r.convertToSemanticQueryWithDataShapeBinding(a);if(s&&s.defn&&s.defn.Version>=2&&_.isEmpty(s.defn.Transform))return o.Success}catch(e){}break;case n.workbook:case n.realTime:return o.Success}return o.Failure},t.cloneWorkbookTileModelForInFocusUse=function(e,t){var i=new s(null,null);return jQuery.extend(i,e),i.tileModel=new a(null,t),jQuery.extend(i.tileModel,e.tileModel),i.tileModel.layoutPosition=_.cloneDeep(e.tileModel.layoutPosition),i},t})();t.InFocusService=c})(t=e.services||(e.services={}))})(powerbi||(powerbi={})),define("powerBI/services/insightsBootstrap",["require","exports"],(function(e,t){"use strict";function i(e,t,i,r,a){return new o(e,t,i,r,a)}t.create=i;var o=(function(){function e(e,t,i,o,r){this.insightsService=e,this.modelService=t,this.navigationService=i,this.rootScope=o,this.telemetryService=r}return e.prototype.start=function(e,t,i,o){var r=this.modelService.findModelByDBName(e,i);if(r){var a=this.insightsService.getInsightsStatus(r.contract);switch(a){case 2:this.navigationService.showInsightsPanel(e,o);break;case 0:this.getInsights(r,o)}}},e.prototype.getInsights=function(e,t){var i=this,o=powerbi.telemetry.InsightEntryPoint.NavigationPane;t===powerbi.insights.constants.insightsSourceToast&&(o=powerbi.telemetry.InsightEntryPoint.Notification);var r=this.telemetryService.startEvent(powerbi.telemetry.InsightsShowInsights,0,o,e.contract.contentProviderId,powerbi.getHashCode(e.contract.dbName),!1);this.insightsService.getInsights(!0,powerbi.insights.services.RequestType.Initial,e.contract,o,powerbi.insights.proxies.wireContracts.RequestOptions.ThoroughMode,r.event,null,null,null,null,!1).then((function(t){var o=t.insightsContainers,a=o?o.length:0;r.event.info.insightCount=a,t.isError&&a<=0?r.reject():r.resolve(),i.rootScope.$emit(powerbi.insights.constants.insightsLoadedEventName,e,a>0)}))},e})()}));var powerbi;!(function(e){var t=e.common.constants,i=(function(){function i(e,i,o,r,a,n,s,c,l,d){var p=this;this.rootScope=e,this.localizationService=i,this.userInfoService=o,this.licenseHelperService=r,this.modelService=a,this.reportService=n,this.checkUnsavedService=s,this.promiseFactory=c,this.userNotificationInfoService=l,this.featureSwitchService=d,this.rootScope.$on(t.navigation.stateChangeStart,(function(e,t,i,o,r){p.handleStateChange(e,t,i,o,r)}))}return i.prototype.checkUserLicenseSupportsDashboard=function(e,t,i){return this.licenseCheckStrategy.checkLicenseForDashboard(e,t,i)},i.prototype.dashboardHasProFeatures=function(e){return this.licenseCheckStrategy.dashboardHasProFeatures(e)},i.prototype.checkLicenseForQueryRefresh=function(e){return this.licenseCheckStrategy.checkLicenseForQueryRefresh(e)},i.prototype.checkUserLicenseSupportsReport=function(e,t){return this.licenseCheckStrategy.checkLicenseForReport(e,t)},i.prototype.checkUserLicenseSupportsDataset=function(e,t){return this.licenseCheckStrategy.checkLicenseForDataset(e,t)},Object.defineProperty(i.prototype,"licenseCheckStrategy",{get:function(){return this.strategy||(this.strategy=new e.LicenseV1Strategy(this.userInfoService,this.reportService,this.modelService,this.licenseHelperService,this.localizationService)),this.strategy},enumerable:!0,configurable:!0}),i.prototype.handleStateChange=function(i,o,r,a,n){return __awaiter(this,void 0,e.Promise,(function(){var e,e;return __generator(this,(function(a){switch(a.label){case 0:return this.checkUnsavedService.userHasUnsavedWork?[2]:o.name!==t.navigation.states.report&&o.name!==t.navigation.states.reportPage?[3,3]:r&&r.reportGUID?[4,this.checkUserLicenseSupportsReport(r.reportGUID,!0)]:[3,2];case 1:e=a.sent(),e||i.preventDefault(),a.label=2;case 2:return[3,4];case 3:o.name===t.navigation.states.dataset&&r&&r.datasetDBName&&(e=this.checkUserLicenseSupportsDataset(r.datasetDBName,!0),e||i.preventDefault()),a.label=4;case 4:return[2]}}))}))},i.prototype.createNotificationForTrial=function(){var t=this.userInfoService.userFreeTrialDaysRemaining;!this.userInfoService.userHasPremiumPlan&&(this.userInfoService.userHasFreeTrial||this.userInfoService.userFreeTrialExpired)&&t<=this.licenseHelperService.notificationPeriodForTrialExpiry&&this.userNotificationInfoService&&this.userNotificationInfoService.addClientNotification({id:0,notificationCategory:e.userNotifications.contracts.NotificationCategory.Trial,message:{title:{displayTextResource:this.getTrialNoticeDisplayTitle(t),values:t>1?[{NotificationValueType:1,value:t.toString()}]:null},message:{displayTextResource:this.getTrialNoticeDisplayDescription(t),values:t>1?[{NotificationValueType:1,value:t.toString()}]:null},image:{imageType:6}},action:{resource:{displayTextResource:e.userNotifications.contracts.NotificationResource.UsersNotifications_RequestExtensionLinkText,values:[{NotificationValueType:1,value:this.licenseHelperService.freeTrialPeriod.toString()}]},actionType:1},seen:!1})},i.prototype.getTrialNoticeDisplayDescription=function(t){return this.userInfoService.userFreeTrialExpired?e.userNotifications.contracts.NotificationResource.ExtendTrial_TrialExpired:0===t?e.userNotifications.contracts.NotificationResource.UsersNotifications_TrialRunsOutInLessThanADay:1===t?e.userNotifications.contracts.NotificationResource.UsersNotifications_TrialRunsOutInOneDay:e.userNotifications.contracts.NotificationResource.UsersNotifications_TrialRunningOut},i.prototype.getTrialNoticeDisplayTitle=function(t){return this.userInfoService.userFreeTrialExpired?e.userNotifications.contracts.NotificationResource.UsersNotifications_TitleTrialExpired:0===t?e.userNotifications.contracts.NotificationResource.UsersNotifications_TitleTrialRunsOutInLessThanADay:1===t?e.userNotifications.contracts.NotificationResource.UsersNotifications_TitleTrialRunsOutInOneDay:e.userNotifications.contracts.NotificationResource.UsersNotifications_TitleTrialRunningOut},i})();e.LicenseEnforcementService=i})(powerbi||(powerbi={}));var powerbi;!(function(e){var t=e.common.contracts.ModelProperty,i=(function(){function i(e,t,i,o,r){this.userInfoService=e,this.reportService=t,this.modelService=i,this.licenseHelperService=o,this.localizationService=r}return i.prototype.checkLicenseForDashboard=function(t,i,o){return __awaiter(this,void 0,e.Promise,(function(){var e,r,a,n,s,c;return __generator(this,(function(l){switch(l.label){case 0:return r=this.userInfoService.isPremiumUser,r?[3,2]:[4,this.dashboardHasProFeatures(t)];case 1:r=!l.sent(),l.label=2;case 2:return e=r,!e&&o&&(a=this.licenseHelperService,n=this.localizationService,s=n.format("UpgradeAccount_ShareDashboardMessage",[a.freeTrialPeriod.toString()]),c=n.format("UpgradeAccount_ShareDashboardTitle",[t.displayName]),a.displayFeatureDisabledErrorMessage(i,s,c,"dashboardRequiresProLicenseDialog")),[2,e]}}))}))},i.prototype.checkLicenseForReport=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var e,o=this;return __generator(this,(function(r){return e=this.reportService.findReportByGUID(t),e?[2,this.checkUserLicenseForModel((function(){return o.modelService.findModels(e.modelId)}),!!i)]:[2,!1]}))}))},i.prototype.checkLicenseForDataset=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var e=this;return __generator(this,(function(o){return[2,this.checkUserLicenseForModel((function(){return e.modelService.findModelsByDBName(t)}),!!i)]}))}))},i.prototype.checkLicenseForQueryRefresh=function(e){var t=this;return this.checkUserLicenseForModel((function(){return t.modelService.findModels(e)}),!1)},i.isNonProRefresh=function(e){return e.modelFeatures===t.None||e.modelFeatures===t.HourlyRefresh&&e.refreshSchedule&&e.refreshSchedule.executionTimeHourly&&e.refreshSchedule.executionTimeHourly.indexOf(",")<0},i.prototype.checkUserLicenseForModel=function(t,o){return __awaiter(this,void 0,e.Promise,(function(){var r,a,n,s;return __generator(this,(function(c){switch(c.label){case 0:return this.userInfoService.isPremiumUser?[2,!0]:[4,this.modelService.modelsPromise];case 1:return c.sent(),r=t(),_.isEmpty(r)?[2,!1]:(a=_.first(r),(n=a&&a.contract)?(s=i.isNonProRefresh(n),!s&&o&&this.licenseHelperService.displayFeatureDisabledErrorMessage(e.telemetry.LicenseEnforcementOperation.ReportMessage,this.localizationService.format("UpgradeAccount_ShareDashboardTitle",[a.contract.displayName]),this.localizationService.get("UpgradeAccount_ReportMessage")),[2,s]):[2,!1])}}))}))},i.prototype.dashboardHasProFeatures=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e,o,r,a,n,s;return __generator(this,(function(c){switch(c.label){case 0:return t&&t.ownerInfo&&t.ownerInfo.groupObjectId?[2,!0]:(e=t&&t.modelIds,_.isEmpty(e)?[2,!1]:[4,this.modelService.modelsPromise]);case 1:for(c.sent(),o=this.modelService,r=0;r<t.modelIds.length;r++)if(a=o.findModels(t.modelIds[r]),n=_.first(a),s=n&&n.contract,s&&!i.isNonProRefresh(s))return[2,!0];return[2,!1]}}))}))},i})();e.LicenseV1Strategy=i})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a,n,s,c,l){return new d(e,t,i,o,r,a,n,s,c,l)}function o(e){return{getMRUModels:function(){return e.resolve([])},removeMRU:function(e){},updateMRU:function(e,t,i,o,r,a,n){},findDashboardMRU:function(e){},findAppInstanceMRU:function(e){}}}var r=e.common.contracts.ContentTileType,a=e.models.MRUArtifactType,n=e.models.MRUModel;t.createMostRecentlyUsedService=i,t.createMostRecentlyUsedServicePlaceholder=o;var s="MRU",c=5e3,l=100,d=(function(){function t(e,i,o,r,a,n,c,l,d,p){var u=this;this.groupService=e,this.promiseFactory=i,this.navigation=o,this.telemetryService=r,this.timeoutService=a,this.userSettingsService=n,this.packageService=c,this.dashboardDataService=l,this.reportService=d,this.appService=p,this.mostRecentlyUsedModels=[];var v=this.promiseFactory.defer();this.mostRecentlyUsedLoadedPromise=v.promise,this.groupService.ensureGroupsInitialization().then((function(){u.userSettingsService.getExtendedSettingByKey(s).then((function(e){u.mostRecentlyUsedModels=e?e.map(t.convertToMRUModel):[],v.resolve(null)}))}))}return t.prototype.getMRUModels=function(){var e=this;return this.mostRecentlyUsedLoadedPromise.then((function(){return e.removeRecordsWithInaccessibleGroups(),e.fixMRUEntriesForContentPack(),e.mostRecentlyUsedModels}))},t.prototype.findDashboardMRU=function(e){return _.find(this.mostRecentlyUsedModels,(function(t){return t.objectId===e&&t.type===a.Dashboards}))},t.prototype.findAppInstanceMRU=function(e){return _.find(this.mostRecentlyUsedModels,(function(t){return t.packageid===e&&t.type===a.AppInstance}))},t.prototype.removeMRU=function(e,t){var i=this,o=t?t:this.navigation.currentGroupGUID;this.mostRecentlyUsedLoadedPromise.then((function(t){_.remove(i.mostRecentlyUsedModels,(function(t){return t.objectId===e&&t.workspaceId===o})),i.updateUserSettings();
}))},t.prototype.updateMRU=function(e,t,i,o,r,s,c){var d=this;if(r||(r=this.navigation.currentGroupGUID),c){var p=this.appService.getAppInstance(c);p&&(e=a.AppInstance,t=p.objectId,i=p.displayName,s=void 0)}this.mostRecentlyUsedLoadedPromise.then((function(a){var p=_.findIndex(d.mostRecentlyUsedModels,(function(e){return e.objectId===t&&e.workspaceId===r})),u=p>=0?d.mostRecentlyUsedModels.splice(p,1)[0]:new n(e,t,r);u.count++,u.displayName=i,u.lastAccess=new Date,u.packageid=c,u.originalGUID=s,o&&(u.permissions=o),d.mostRecentlyUsedModels.unshift(u),d.mostRecentlyUsedModels.splice(l),d.updateUserSettings()}))},t.prototype.removeRecordsWithInaccessibleGroups=function(){var e=this,t=_.remove(this.mostRecentlyUsedModels,(function(t){return!e.groupService.getGroup(t.workspaceId)}));_.isEmpty(t)||this.updateUserSettings()},t.prototype.updateUserSettings=function(){var i=this;this.updateMRUPromise||(this.updateMRUPromise=this.timeoutService((function(){i.updateMRUPromise=null;var o=i.telemetryService.startEvent(e.telemetry.MostRecentlyUsedServiceUpdateMRUData),r=i.mostRecentlyUsedModels.map(t.convertToMRUContract);i.userSettingsService.updateExtendedSettings(s,r,o)}),c))},t.prototype.fixMRUEntriesForContentPack=function(){for(var t=function(t){if(null!=t.originalGUID&&null!==t.packageid)if(e.helpers.ContentTileHelper.getMRUActualType(t)===r.Dashboard){var o=i.dashboardDataService.findDashboardsByPackageId(t.packageid);if(!_.isEmpty(o)){var a=_.find(o,(function(e){return e.contract.originalDashboardObjectId===t.originalGUID}));a&&(t.objectId=a.objectId)}}else if(e.helpers.ContentTileHelper.getMRUActualType(t)===r.Report){var n=i.reportService.findReportsByPackageId(t.packageid);if(!_.isEmpty(n)){var s=_.find(n,(function(e){return e.contract.originalReportObjectId===t.originalGUID})),c=s&&s.objectId;null!=c&&(t.objectId=c)}}},i=this,o=0,a=this.mostRecentlyUsedModels;o<a.length;o++){var n=a[o];t(n)}},t.convertToMRUContract=function(e){var t={co:e.count,dn:e.displayName,la:e.lastAccess.toISOString(),oid:e.objectId,ty:e.type};return angular.isDefined(e.workspaceId)&&(t.gid=e.workspaceId),angular.isDefined(e.permissions)&&(t.pm=e.permissions),angular.isDefined(e.originalGUID)&&(t.originalid=e.originalGUID),angular.isDefined(e.packageid)&&(t.packageid=e.packageid),t},t.convertToMRUModel=function(e){var t=new n(e.ty,e.oid,e.gid);return t.count=e.co,t.displayName=e.dn,t.lastAccess=new Date(e.la),angular.isDefined(e.gid)&&(t.workspaceId=e.gid),angular.isDefined(e.pm)&&(t.permissions=e.pm),angular.isDefined(e.originalid)&&(t.originalGUID=e.originalid),angular.isDefined(e.packageid)&&(t.packageid=e.packageid),t},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,r){return new o(e,t,i,r)}t.createNavigationStateValidator=i;var o=(function(){function t(t,i,o,r){this.$timeout=t,this.impersonationService=i,this.permissionService=o,this.reportService=r,this.allowedReadOnlyStates=[e.constants.navigation.states.apps,e.constants.navigation.states.landing,e.constants.navigation.states.adminPortal,e.constants.navigation.states.adminPortalCapacities,e.constants.navigation.states.groups,e.constants.navigation.states.group,e.constants.navigation.states.dashboards,e.constants.navigation.states.dashboard,e.constants.navigation.states.dashboardReport,e.constants.navigation.states.dashboardReportPage,e.constants.navigation.states.dashboardReports,e.constants.navigation.states.dashboardWorkbook,e.constants.navigation.states.dashboardWorkbooks,e.constants.navigation.states.inFocusMode,e.constants.navigation.states.insights,e.constants.navigation.states.dashboardQna,e.constants.navigation.states.dashboardQnaStart,e.constants.navigation.states.modelQna,e.constants.navigation.states.settings,e.constants.navigation.states.settingsGroup,e.constants.navigation.states.sharedDashboardReport,e.constants.navigation.states.sharedDashboardReportPage,e.constants.navigation.states.sharedDashboardReports,e.constants.navigation.states.sharedDashboardWorkbook,e.constants.navigation.states.sharedDashboardWorkbooks,e.constants.navigation.states.home,e.constants.navigation.states.favorites,e.constants.navigation.states.recentlyViewed,e.constants.navigation.states.sharedWithMe,e.constants.navigation.states.contentList,e.constants.navigation.states.manageEmbed,e.constants.navigation.states.workspaces,e.common.constants.navigation.states.report,e.common.constants.navigation.states.reportPage,e.common.constants.navigation.states.reports,e.common.constants.navigation.states.workbook,e.common.constants.navigation.states.workbooks]}return t.prototype.setDefaultStateCallback=function(e){this.navigateToDefaultState=e},t.prototype.validateState=function(e){this.handleStateAccessibility(e)},t.prototype.validateStateChange=function(e,t,i,o,r){this.impersonationService.impersonating&&this.handleImpersonationStateChanging(t,i.reportGUID),this.handleStateAccessibility(t,e,o)},t.prototype.handleImpersonationStateChanging=function(t,i){if(t===e.common.constants.navigation.states.reportPage){var o=this.impersonationService.getImpersonationState().modelId,r=this.reportService.findReportByGUID(i);r&&r.modelId===o||this.impersonationService.clearImpersonation()}else t&&this.impersonationService.clearImpersonation()},t.prototype.handleStateAccessibility=function(e,t,i){var o=this;this.permissionService.isActiveWorkspaceIsReadOnly&&!_.contains(this.allowedReadOnlyStates,e)&&(i&&_.contains(this.allowedReadOnlyStates,i)&&t?t.preventDefault():this.$timeout((function(){o.navigateToDefaultState()})))},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e){return new c(e)}var i=e.dataServices.models.Dashboard,o=e.common.models.Model,r=e.models.MRUModel,a=e.common.contracts.Permissions,n=e.common.models.Report,s=e.dataServices.models.Workbook;e.createOwnershipService=t;var c=(function(){function e(e){this.packageService=e}return e.prototype.isResourceShareableWithMe=function(e){return e instanceof i||e instanceof n||e instanceof s||e instanceof o||e instanceof r},e.prototype.isResourceSharedWithMe=function(e){switch(!0){case e instanceof i:return e.getPermissions()===a.Read||e.getPermissions()===a.ReadReshare;case e instanceof n:return!1;case e instanceof s:return!e.isOwner();case e instanceof o:var t=this.packageService.findPackage(e.packageId);return this.permissionsArePersonalized(e.getPermissions(),t);case e instanceof r:return e.permissions===a.Read||e.permissions===a.ReadReshare;default:return!1}},e.prototype.permissionsArePersonalized=function(e,t){var i=a.ReadWrite|a.Explore,o=a.Read|a.Explore,r=null==t?void 0:t.permissions;return void 0===r?(e&a.All)!==a.All&&(e&i)===i:(e&a.All)!==a.All&&(e&o)===o&&(r&a.ReadWrite)===a.ReadWrite},e})();e.OwnershipService=c})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i){return new r(e,t,i)}var i=["moz","ms","webkit"];e.createPageVisibilityService=t;var o="isAppInactive",r=(function(){function e(e,t,i){this.config=e,this.telemetryService=t,this.$document=i;var o=this.getBrowserVisibilityAttributes();o&&(this.browserHiddenAttribute=o.hiddenAttributeName,this.browserVisibilityChangeAttribute=o.visibilityChangeEventName,this.$document.on(this.browserVisibilityChangeAttribute,this.visibilityStateListener.bind(this)),this.services=[])}return e.prototype.register=function(e){var t=this.services;_.contains(t,e)||t.push(e)},e.prototype.unregister=function(e){var t=this.services;_.pull(t,e)},e.prototype.onBrowserTabActive=function(){for(var e=0,t=this.services;e<t.length;e++){var i=t[e];i.resume()}this.telemetryService.setHostInfo(o,!1)},e.prototype.onBrowserHidden=function(){for(var e=0,t=this.services;e<t.length;e++){var i=t[e];i.pause()}this.config.logPageInactiveToTelemetry&&this.telemetryService.setHostInfo(o,!0)},e.prototype.visibilityStateListener=function(){this.$document.prop(this.browserHiddenAttribute)?this.onBrowserHidden():this.onBrowserTabActive()},e.prototype.getBrowserVisibilityAttributes=function(){var e=this.$document,t="hidden",o="visibilitychange";if(void 0!==e.prop(t))return{hiddenAttributeName:t,visibilityChangeEventName:o};for(var r=_.capitalize(t),a=0,n=i;a<n.length;a++){var s=n[a],c=s+r;if(e.prop(c))return{hiddenAttributeName:c,visibilityChangeEventName:s+o}}return null},e})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,a,n,s,l,d,p,u,v,h,g,f,m,b,y){return new c(e,t,i,o,r,a,n,s,l,d,p,u,v,h,g,f,m,b,y)}var i=e.common.constants,o=e.dataServices.ContractUtils,r=e.data.services.DataViewTransformActionsSerializer,a=e.common.contracts.PinData,n=e.explore.util.ScriptVisualsUtil,s=e.dataServices.models.TileFactory;e.createPinTileService=t;var c=(function(){function t(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h,g,f,m,b){this.telemetryService=i,this.localizationService=o,this.errorService=t,this.rootScope=e,this.modalDialogService=r,this.modelConverter=a,this.visualPlugin=n,this.themeService=s,this.visualStylePresetService=c,this.userSettingsService=l,this.reportService=d,this.modelService=p,this.workbookService=u,this.dashboardService=v,this.packageService=h,this.explorationSerializer=g,this.promiseFactory=f,this.moduleLoader=m,this.featureSwitchService=b,this.modalDialog=this.errorService.control()}return t.prototype.setSavedReport=function(e){this.savedReport=e},t.prototype.showPinVisualDialog=function(i,o,r,n,c,l){var d,p=l,u=void 0===o?[]:[o],v=void 0===r?[]:[r],h=void 0===n?[]:[n];this.pinEvent=c;var g=void 0!==l,f=!1,m=i&&(i.action.action===e.common.constants.openInsightsActionName||i.action.originalAction===e.common.constants.openInsightsActionName),b=i&&i.action&&!i.action.action&&!i.reportId;if(g||(f=i.action.action===e.common.constants.openQnAActionName||i.action.originalAction===e.common.constants.openQnAActionName),this.isPinFromDashboard=!1,this.isLiveReport=!1,this.pinTileScope=this.createPinTileScope(void 0===o&&!f),g)this.pinTileScope.viewModel.hasTileFormatting=!1,this.formattedTileContract=l;else{p=s.createTileForPinData(this.visualPlugin,i,r);var y=i&&a.getVisualType(i);y&&i.themeName&&i.themeName!==t.defaultTheme&&this.isTileFormattingRequired(y)?i.themeName=void 0:this.pinTileScope.viewModel.hasTileFormatting=!1,d=s.createTileForPinData(this.visualPlugin,i,r),this.formattedTileContract=d}this.dashboardTile=this.modelConverter.convertTile(this.formattedTileContract,v,u,h),this.reportTile=this.modelConverter.convertTile(p,[r],u),this.reportTile.composite&&(this.themeName=this.reportTile.composite.config.themeName),this.setTheme(this.dashboardTile,!1),this.setTheme(this.reportTile,!0),this.pinTileScope.viewModel.needSaveReport=!(o||f||m||n||b),this.createModelDialogWithOptions(this.pinTileScope)},t.prototype.showPinVisualFromDashboardDialog=function(i,o){if(this.pinEvent=o,this.isPinFromDashboard=!0,i.reportTile){var r=i.reportTile.exploration,a=i.contract.sectionId,n=e.explore.SectionUtils.findSectionById(r.contract,a);if(!n)return;var s,c=void 0;if(i.config&&i.config.reportTile){var l=i.config.reportTile;c=l.pod;var d=[];s=l.filters&&this.explorationSerializer.deserializeFilterCollection(l.filters,d,!1)}var p={exploration:r,section:n,reportId:i.contract.reportId,modelId:i.contract.modelId,packageId:i.contract.packageId,isPinFromDashboard:this.isPinFromDashboard,displayText:i.displayText,subDisplayText:i.subDisplayText,action:i.action,filters:s,pod:c,utterance:i.utterance};return this.showPinReportPageDialog(p)}this.isLiveReport=!1;var u=!1;this.pinTileScope=this.createPinTileScope(!1);var v=void 0===i.contractsReport?[]:[i.contractsReport];this.formattedTileContract=i.contract,i.composite&&i.composite.config&&(u=void 0!==i.composite.config.themeName&&i.composite.config.themeName!==t.defaultTheme),this.pinTileScope.viewModel.hasTileFormatting=u;var h=this.createCustomTileForPinData(i,!0),g=void 0;if(i.config&&i.config.workbookTile&&i.workbook&&i.workbook.contract){var f=this.workbookService.findWorkbook(i.workbook.contract.workbookId,i.workbook.contract.packageId);g=f?[f.contract]:void 0}this.dashboardTile=this.modelConverter.convertTile(h,[i.contractsModel],v,g);var m=this.createCustomTileForPinData(i,!1);this.reportTile=this.modelConverter.convertTile(m,[i.contractsModel],v),this.themeName=this.reportTile.composite?this.reportTile.composite.config.themeName:void 0,this.setTheme(this.dashboardTile,!1),this.setTheme(this.reportTile,!0),this.createModelDialogWithOptions(this.pinTileScope)},t.prototype.showPinReportPageDialog=function(t){return __awaiter(this,void 0,e.Promise,(function(){var i,o,r,a,n,c,l,d,p,u,v,h;return __generator(this,(function(g){switch(g.label){case 0:return this.exploration=t.exploration,this.pinEvent=this.createPinEvent(t.isPinFromDashboard),this.isPinFromDashboard=!!t.isPinFromDashboard,this.isLiveReport=!0,this.pinTileScope=this.createPinTileScope(!1),this.pinTileScope.viewModel.needSaveReport=!1,this.pinTileScope.viewModel.hasTileFormatting=!1,o=this.reportService.findReport(t.reportId),r=o?o.modelId:void 0,a=this.modelService.findModel(r),n=a?[a]:[],c=t.section.size,l=c?c.width:void 0,d=c?c.height:void 0,u=this.featureSwitchService.featureSwitches.usageMetricsEnabled&&this.belongsToUsageMetricsContentPack(o)&&!_.isEmpty(t.additionalODataFilter),u&&(p=t.additionalODataFilter),v=t.action||{action:e.common.constants.openReportActionName,targetSlideId:t.section.name,filter:p},o?[4,this.generateReportFilters(t,u)]:(this.pinTileScope.viewModel.needSaveReport=!0,this.createModelDialogWithOptions(this.pinTileScope,!0),[2]);case 1:return h=g.sent(),i=s.createReportTileForExploreData(t.reportId,r,t.section.id,t.displayText?t.displayText:o.displayName,t.subDisplayText?t.subDisplayText:t.section.displayName,v,t.pod,h,t.utterance,l,d),this.dashboardTile=this.modelConverter.convertTile(i,n,[o]),this.reportTile=this.modelConverter.convertTile(i,n,[o]),this.themeName=this.getTheme(t.exploration.exploreCanvas),this.setTheme(this.dashboardTile,!1),this.setTheme(this.reportTile,!0),this.createModelDialogWithOptions(this.pinTileScope,!0),[2]}}))}))},t.prototype.generateReportFilters=function(t,i){return __awaiter(this,void 0,e.Promise,(function(){var o,r,a;return __generator(this,(function(n){switch(n.label){case 0:return o=t.filters||[],i?[4,this.loadODataFilterDependencies()]:[3,2];case 1:n.sent(),e.explore.odata&&(r=e.explore.odata.createODataFilterParser(),a=r.tryGetFilters(t.additionalODataFilter),o.push.apply(o,a)),n.label=2;case 2:return[2,o?this.explorationSerializer.serializeFilterCollection(o):void 0]}}))}))},t.prototype.loadODataFilterDependencies=function(){return __awaiter(this,void 0,e.Promise,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.promiseFactory.all([this.moduleLoader.require({javascript:"odataFilterParser"}),this.moduleLoader.require({javascript:"odataExplore"})])];case 1:return e.sent(),[2]}}))}))},t.prototype.isScriptVisualInLivePage=function(e){if(e&&e.exploreCanvas&&e.exploreCanvas.visualContainers){var t=e.exploreCanvas.contract.visualContainers;return n.visualContainerHasScriptVisuals(t,this.visualPlugin)}return!1},t.prototype.getTheme=function(e){var i;if(e){var o=e.visualContainers,r=o?o.length:0;r>0&&(i=o[0].themeName)}return i&&i!==t.defaultTheme?i:void 0},t.prototype.createModelDialogWithOptions=function(e,t){var i=t?"liveReport":"pinTile",o={dialogName:null,isDismissable:!0,scope:e,template:"<pin-tile-dialog></pin-tile-dialog>",focusOnFirstButton:!0,dialogCssClass:i};0===this.pinTileScenario&&(o.notificationText=this.localizationService.get("PinTile_Workbook_Changed"),o.notificationType=jsCommon.ModalDialogNotificationType.Info),this.modalDialogService.showLegacyWebModalDialog(o)},t.prototype.createPinEvent=function(t){return this.telemetryService.startEvent(e.telemetry.DashboardPinTile,"reportPage",t?e.telemetry.PinTileSource.Dashboard:e.telemetry.PinTileSource.Report,"",!1,"",!1,"",this.isScriptVisualInLivePage(this.exploration))},t.prototype.createCustomTileForPinData=function(e,i){var n={visualContainer:void 0,dataViewSource:void 0},c=e.contract,l=c&&c.$config;if(l){n.dataViewSource=c.tileDataSet,n.reportId=c.reportId,n.modelId=c.modelId,n.action=e.action,n.utterance=c.query&&c.query.modelQuery?e.contract.query.modelQuery.utterance:void 0,n.tileSubDisplay=e.getSubDisplayText(),n.tileHeading=e.getDisplayText(),n.themeName=!i&&e.composite&&e.composite.config?e.composite.config.themeName:t.defaultTheme,n.resourcePackageIds=c.resourcePackageIds;var d=l.visualContainer||l.realTimeVisual;if(d){n.queryMetadata=d.queryMetadata,n.elements=d.elements,n.tileLayoutType=d.layoutType,n.visualContainer=this.explorationSerializer.deserializeVisualContainer(this.explorationSerializer.serializeVisualContainer(d.$visualContainer));var p=this.visualPlugin.capabilities(a.getVisualType(n));if(p&&p.objects&&d.transform){var u=p.objects,v=JSON.parse(d.transform);n.dataTransforms=r.deserializeDataViewTransformActions(v,u)}}l.realTimeVisual&&(n.realTimeDataWindow=l.realTimeVisual.dataWindow);var h=c.query&&c.query.modelQuery&&c.query.modelQuery.sq,g=h?o.convertToTileDataQuery(c.query):void 0,f=l&&l.tileDataType;g&&(n.query=g),f&&(n.tileDataType=l.tileDataType),c.name&&(n.name=c.name)}var m=n.visualContainer?s.createTileForPinData(this.visualPlugin,n,e.model):s.createNonVisualTileFromExisting(c);return this.modelConverter.resolveTilePackage(m,this.packageService.packages),m},t.prototype.updateTile=function(e){this.formattedTileContract=e?this.dashboardTile.contract:this.reportTile.contract},t.prototype.hideDialog=function(){this.modalDialog&&this.modalDialog.hideDialog()},t.prototype.onPinButtonClickedActions=function(){var t=this.pinTileScope.viewModel.useDashboardFormatting?e.contracts.TileDialogPreviewFormats.DashboardFormat:e.contracts.TileDialogPreviewFormats.ReportFormat;if(this.userSettingsService.updatePinDialogPreviewTileFormat(t,this.pinEvent),this.savedReport){var i=this.savedReport;this.formattedTileContract.reportId=i.id,this.savedReport=null}if(this.modalDialog.hideDialog(),this.pinTileScope.viewModel.useExistingDashboard)this.dashboardService.pinTileWithoutNotification({tile:this.formattedTileContract,dashboardId:parseInt(this.pinTileScope.viewModel.selectedDashboardId,10),parentEvent:this.pinEvent,showNotification:!0,isLiveReport:this.isLiveReport});else{var o={tile:this.formattedTileContract,newDashboardName:this.pinTileScope.viewModel.newDashboardName,parentEvent:this.pinEvent,showNotification:!0,isLiveReport:this.isLiveReport};this.dashboardService.addDashboard(o.newDashboardName,o)}},t.prototype.onSaveAndContinueButtonClickedActions=function(){var t=this;this.rootScope.$emit(e.constants.saveReportFromPinDialog,this.pinTileScope.viewModel.newReportName);var i=this,o=function(){return setInterval((function(){i.savedReport&&clearInterval(o())}),100)};o(),this.pinTileScope.$applyAsync((function(){t.pinTileScope.viewModel.needSaveReport=!1}))},t.prototype.showNotSupportedDialog=function(){var e=this.errorService.control(),t=this.localizationService.get("PinTile_NotSupportedTitle"),i=this.localizationService.get("PinTile_NotSupportedMessage"),o=[new InJs.ModalDialogAction(this.localizationService.get("PinTile_OK"),function(t,i){e.hideDialog()})];e.showCustomDialog(t,$("<div/>").text(i),o,null,!0)},t.prototype.mapCanvasSize=function(t,i){if(t){var o=e.explore.SectionUtils.findSectionIndexForSectionId(t,i);if(t.sections&&t.sections[o]&&void 0!==t.sections[o].size.displayOption){var r=t.sections[o].size;r.displayOption=1}}return t},t.prototype.setTheme=function(i,o){i&&(i.calculateLayout(e.common.GridLayoutConstants.getDefaultGridItemViewport(e.common.GridLayoutConstants.getSmallLandscapeGridItem())),i.applyLayout(),o?(i.composite?(i.composite.config.themeName=this.themeName,i.composite.visual.themeName=this.themeName):i.reportTile&&(i.reportTile.themeName=this.themeName),this.pinTileScope&&this.pinTileScope.viewModel&&(this.pinTileScope.viewModel.reportTile=i)):(i.composite&&(i.composite.config.themeName=t.defaultTheme,i.composite.visual.themeName=t.defaultTheme),this.pinTileScope&&this.pinTileScope.viewModel&&(this.pinTileScope.viewModel.dashboardTile=i,this.pinTileScope.viewModel.workbookTile=i)))},t.prototype.isTileFormattingRequired=function(t){return t!==e.visuals.plugins.textbox.name&&t!==e.visuals.plugins.image.name},t.prototype.createPinTileScope=function(t){var i=this.rootScope.$new();return i.viewModel=new e.models.PinTileDialogModel(null),i.viewModel.needSaveReport=t,i},t.prototype.belongsToUsageMetricsContentPack=function(e){return e&&i.isUsageMetricsContentProvider(e.contentProviderId)},t})();c.defaultTheme="ThemeNew1",e.PinTileService=c})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e){return new r(e)}var i=e.common.constants,o=jsCommon.BrowserUtils;e.createPrintService=t;var r=(function(){function e(e){var t=this;if(this.rootScope=e,o.isFirefox()||o.isInternetExplorerOrEdge())window.onbeforeprint=function(){return t.enterPrintHandler()},window.onafterprint=function(){return t.exitPrintHandler()};else if(window.matchMedia){var i=window.matchMedia("print");i.addListener((function(e){t.mediaQueryListener(e)}))}}return e.prototype.mediaQueryListener=function(e){e.matches?this.enterPrintHandler():this.exitPrintHandler()},e.prototype.enterPrintHandler=function(){this.rootScope.$emit(i.enterPrintModeEvent)},e.prototype.exitPrintHandler=function(){this.rootScope.$emit(i.exitPrintModeEvent)},e})();e.PrintService=r})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,a,n,c,l,d){return new s(e,t,i,o,r,a,n,c,l,d)}var i=e.helpers.RedirectUrlHelper;e.createQRCodeService=t;var o=".qrLoading",r="#fff",a="#333",n="#ccc",s=(function(){function t(e,t,i,o,r,a,n,s,c,l){this.rootScope=e,this.compile=t,this.promiseFactory=i,this.localizationService=o,this.dashboardHttpService=r,this.reportHttpService=a,this.errorService=n,this.modalDialogService=s,this.telemetryService=c,this.moduleLoader=l,this.modalDialog=this.errorService.control(),this.stopQrGeneration=!1}return t.prototype.getQRCodeCanvas=function(e){var t={ecLevel:"M",background:r,text:e,size:180};return this.getPbiQRCodeCanvasWithOptions(t)},t.prototype.showDialogForTile=function(t,i,o,r,a){var n=this;this.showProgressDialog(),this.composeOpenTileRedirectUrl(a,r,o.id,o.objectId,o.originalDashboardObjectId,i.contract.id,i.contract.objectId,i.contract.originalTileObjectId).then((function(t){n.qrCodeScope=n.createQRCodeScope(),n.qrCodeScope.viewModel.displayText=i.getDisplayText(),n.qrCodeScope.viewModel.subDisplayText=i.getSubDisplayText(),n.qrCodeScope.viewModel.url=t,n.qrCodeScope.viewModel.dialogMessage=n.localizationService.get("InFocus_QRCodeDialog_Message"),n.qrCodeScope.viewModel.notificationMessage=n.localizationService.get("InFocus_QRCodeDialog_Notification"),n.telemetryService.logEvent(e.telemetry.QRCodeQRCodeDialogShown,r,o.objectId,i.objectId,a,o.originalDashboardObjectId,i.contract.originalTileObjectId),n.createModelDialogWithOptions(n.qrCodeScope)}))},t.prototype.showDialogForReport=function(t,i,o,r,a,n){var s=this;this.showProgressDialog(),this.composeOpenReportRedirectUrl(r,n,i.id,i.objectId,i.originalReportObjectId,a).then((function(t){s.qrCodeScope=s.createQRCodeScope(),s.qrCodeScope.viewModel.displayText=o,s.qrCodeScope.viewModel.url=t,s.qrCodeScope.viewModel.dialogMessage=s.localizationService.get("Report_QRCodeDialog_Message"),s.qrCodeScope.viewModel.notificationMessage=s.localizationService.get("Report_QRCodeDialog_Notification"),s.telemetryService.logEvent(e.telemetry.QRCodeQRCodeReportDialogShown,r,i.objectId,n,i.originalReportObjectId),s.createModelDialogWithOptions(s.qrCodeScope)}))},t.prototype.showProgressDialog=function(){var e=this.rootScope.$new(),t=this.compile("<qr-code-progress-dialog></qr-code-progress-dialog>")(e);$("body").append(t)},t.prototype.hideQRCodeDialog=function(){this.modalDialog&&this.modalDialog.hideDialog()},t.prototype.hideQRProgressDialog=function(){this.stopQrGeneration=!0,this.closeQRProgressDialog()},t.prototype.closeQRProgressDialog=function(){$("body").find(o).remove()},t.prototype.createModelDialogWithOptions=function(e){var t={dialogName:null,isDismissable:!0,scope:e,template:"<qr-code-dialog></qr-code-dialog>",focusOnFirstButton:!0,dialogCssClass:"qrCode"};this.stopQrGeneration?this.stopQrGeneration=!1:(this.closeQRProgressDialog(),this.modalDialogService.showLegacyWebModalDialog(t))},t.prototype.createQRCodeScope=function(){var t=this.rootScope.$new();return t.viewModel=new e.models.QrCodeDialogModel,t},t.prototype.composeOpenTileRedirectUrl=function(t,o,r,a,n,s,c,l){var d=this,p=this.promiseFactory.defer();return this.dashboardHttpService.getTileShortUrl(r,s,void 0).then((function(i){d.telemetryService.logEvent(e.telemetry.QRCodeShortUrlCreated,t,a,c,o,n,l),p.resolve(i.data)}),(function(r){var s,u="QR";s=_.isEmpty(o)?i.MobileRedirectUrlHelper.getTileRedirectUrl(t,null,a,c,u):i.MobileRedirectUrlHelper.getTileRedirectUrl(null,o,n,l,u),d.telemetryService.logEvent(e.telemetry.QRCodeShortUrlFailed,t,a,c,r.status.toString(),o,n,l),p.resolve(s)})),p.promise},t.prototype.composeOpenReportRedirectUrl=function(t,o,r,a,n,s){var c=this,l=this.promiseFactory.defer();return this.reportHttpService.getReportShortUrl(r,s,void 0).then((function(i){c.telemetryService.logEvent(e.telemetry.QRCodeReportShortUrlCreated,t,a,o,n),l.resolve(i.data)}),(function(r){var d,p="QR";d=_.isEmpty(o)?i.MobileRedirectUrlHelper.getReportRedirectUrl(t,null,a,s,p):i.MobileRedirectUrlHelper.getReportRedirectUrl(null,o,n,s,p),c.telemetryService.logEvent(e.telemetry.QRCodeReportShortUrlFailed,t,a,r.status.toString(),o,n),l.resolve(d)})),l.promise},t.prototype.getQRCodeCanvasWithOptions=function(e){var t=$("<canvas />"),i=t.get(0);return i.width=i.height=e.size,t.qrcode(e),i},t.prototype.getPbiQRCodeCanvasWithOptions=function(e){var t=this;return this.moduleLoader.require({javascript:"jquery-qrcode"}).then((function(){var i=$("<canvas />").get(0);i.width=190;var o=192;i.height=o+13+11+1;var s=i.getContext("2d");s.fillStyle=r,s.fillRect(0,0,i.width,i.height),s.drawImage(t.getQRCodeCanvasWithOptions(e),5,5);var c="Power BI";s.font="13px wf_segoe-ui_semibold",s.fillStyle=a,s.textBaseline="hanging";var l=(i.width-s.measureText(c).width)/2;return s.fillText(c,l,o),s.rect(0,0,i.width,i.height),s.strokeStyle=n,s.lineWidth=2,s.stroke(),i}))},t})();e.QRCodeService=s})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,a){return new r(e,t,i,o,a)}var o=e.common.contracts.RealTimeMode;t.createRealTimeDataService=i;var r=(function(){function e(e,t,i,o,r){this.modelService=t,this.realTimeLongPollDataService=i,this.realTimeLongPubNubDataService=o,this.tabularDataCache=r,this.listenerMap={},i.setCallbacks(this.processMessage.bind(this),this.raiseErrors.bind(this)),o.setCallbacks(this.processMessage.bind(this),this.raiseErrors.bind(this))}return e.prototype.subscribe=function(e,t){if(e&&t){var i=this.tabularDataCache,o=null!=e.originalModelId?e.originalModelId:e.id,r=i.getKey(o,e.tableName),a=this.listenerMap[r]||[];if(!_.contains(a,t)){a.push(t),this.listenerMap[r]=a;var n=i.get(r);if(n)return void t.onDataChanged();i.add({modelId:o,name:e.tableName,rowGroups:null,columns:this.getColumnMetadata(e.schema)});var s=this.resolveDataService(e);s&&s.subscribe(e)}}},e.prototype.unsubscribe=function(e,t){if(e&&t){var i=this.tabularDataCache,o=null!=e.originalModelId?e.originalModelId:e.id,r=i.getKey(o,e.tableName),a=this.listenerMap[r];if(a&&(_.pull(a,t),_.isEmpty(a))){delete this.listenerMap[r],i.remove(r);var n=this.resolveDataService(e);n&&n.unsubscribe(e)}}},e.prototype.pause=function(){this.realTimeLongPollDataService.pause(),this.realTimeLongPubNubDataService.pause()},e.prototype.resume=function(){this.realTimeLongPollDataService.resume(),this.realTimeLongPubNubDataService.resume()},e.prototype.replaceListener=function(e,t,i){var o=null!=e.originalModelId?e.originalModelId:e.id,r=this.tabularDataCache.getKey(o,e.tableName),a=this.listenerMap[r]||[];this.listenerMap[r]=a;var n=_.remove(a,(function(e){return e===t}));_.isEmpty(n)||a.push(i)},e.prototype.processMessage=function(e){if(e){var t=this.tabularDataCache,i=t.getKey(e.modelId,e.name);if(_.isEmpty(e.rowGroups)){if(e.lastVersion){var o=this.tabularDataCache.get(i);o&&(o.lastVersion=e.lastVersion)}}else{t.mergeRows(e.modelId,e.name,e.rowGroups,e.lastVersion);var r=this.listenerMap[i];if(r)for(var a=0,n=r;a<n.length;a++){var s=n[a];s.onDataChanged()}}}},e.prototype.raiseErrors=function(e,t){for(var i=[],o=0,r=e;o<r.length;o++){var a=r[o],n=this.tabularDataCache.getKey(a.id,a.tableName);i.push(n)}i=_.uniq(i);for(var s=0,c=i;s<c.length;s++){var n=c[s],l=this.listenerMap[n];if(!l)return;for(var d=0,p=l;d<p.length;d++){var u=p[d];u.onError(t)}}},e.prototype.getColumnMetadata=function(e){if(e){var t=e.entities;if(!_.isEmpty(t)){var i=_.first(t);if(!_.isEmpty(i.properties)){for(var o=[],r=0,a=i.properties;r<a.length;r++){var n=a[r];o.push({name:n.name,type:n.type})}return o}}}},e.prototype.resolveDataService=function(e){var t=this.modelService.findModel(e.id,e.packageId);if(t)switch(t.realTimeMode){case o.CacheOnly:case o.PersistAndCache:return this.realTimeLongPollDataService;case o.PubNubCacheOnly:return this.realTimeLongPubNubDataService}},e})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a){return new u(e,t,i,o,r,a)}var o=jsCommon.JsonExtensions,r=e.data.tabular.MaxRealTimeDataWindowInMs,a=e.data.MessageExceedLimitClientError,n=e.data.RealTimeGetHistoryClientError,s=e.data.RealTimeLongPollError,c=20,l=12e4;t.createRealTimeLongPollDataService=i;var d,p="realTimeErrorCode";!(function(e){e[e.None=0]="None",e[e.MaximumDataExceeded=1]="MaximumDataExceeded"})(d||(d={}));var u=(function(t){function i(e,i,o,r,a,n){var s=t.call(this,e,a)||this;return s.tabularDataService=i,s.telemetryService=r,s.realTimeDataHttpService=o,s.activeRealTimeModelIds=[],s.options=n,s}return __extends(i,t),i.prototype.setCallbacks=function(e,t){this.updateCallback=e,this.errorCallback=t},i.prototype.subscribe=function(e){e&&(_.contains(this.activeRealTimeModelIds,e)||(this.activeRealTimeModelIds.push(e),this.delayedGetHistory()))},i.prototype.unsubscribe=function(e){e&&(_.remove(this.activeRealTimeModelIds,e),this.delayedGetUpdate())},i.prototype.resume=function(){this.paused=!1,this.delayedGetHistory()},i.prototype.getRequest=function(){for(var e=[],t=this.tabularDataService,i=0,o=this.activeRealTimeModelIds;i<o.length;i++){var r=o[i],a=null!=r.originalModelId?r.originalModelId:r.id,n=t.getKey(a,r.tableName),s=t.get(n);e.push({id:s.modelId,packageId:r.packageId,tableName:s.name,version:s.lastVersion?s.lastVersion:0})}if(!_.isEmpty(e))return{models:e}},i.prototype.getEndpointUrl=function(){return"powerbi/refresh/rtsubscribe"},i.prototype.processResponse=function(e){e&&this.processUpdates(e.results)},i.prototype.processError=function(){this.telemetryService.logEvent(e.telemetry.RealTimeLongPollError),this.errorCallback(this.activeRealTimeModelIds,(new s).getDetails(e.common.localize))},Object.defineProperty(i.prototype,"longPollDurationInMs",{get:function(){return l},enumerable:!0,configurable:!0}),i.prototype.delayedGetHistory=function(){var e=this,t=this.timeout;t.cancel(this.getHistoryHandle),this.getHistoryHandle=this.timeout((function(){return e.getHistory()}),c)},i.prototype.delayedGetUpdate=function(){var e=this,t=this.timeout;t.cancel(this.getUpdateHandle),this.getUpdateHandle=t((function(){e.getUpdate()}),c)},i.prototype.getUpdate=function(){this.options.enableDataRefresh&&(this.cancelCurrentRequest(),_.isEmpty(this.activeRealTimeModelIds)||this.startMonitoring())},i.prototype.getHistory=function(){for(var t=this,i=[],o=0,a=this.activeRealTimeModelIds;o<a.length;o++){var s=a[o],c=null!=s.originalModelId?s.originalModelId:s.id;i.push({modelId:c,tableName:s.tableName,fromMilliseconds:r})}_.isEmpty(i)||this.realTimeDataHttpService.getHistory(i).then((function(e){e&&t.processUpdates(e.data),t.getUpdate()}),(function(){var i=(new n).getDetails(e.common.localize);
t.errorCallback(t.activeRealTimeModelIds,i)}))},i.prototype.processUpdates=function(t){if(!_.isEmpty(t))for(var o=0,r=t;o<r.length;o++){var a=r[o];if(a){var n=i.convertToDataRowGroup(a.rows);if(!_.isEmpty(n)){var s=i.checkForError(n);s&&this.errorCallback([a],s.getDetails(e.common.localize)),n=i.filterOutErrorRow(n);var c={modelId:a.id,name:a.tableName,rowGroups:n,lastVersion:a.version};this.updateCallback(c)}}}},i.checkForError=function(e){var t=_.last(e);if(t){var o=_.first(t.rows);if(o){var r=o[p];return r?i.getErrorForCode(r):void 0}}},i.filterOutErrorRow=function(e){for(var t=[],i=0,o=e;i<o.length;i++){var r=o[i];_.remove(r.rows,(function(e){return null!=e[p]})),_.isEmpty(r.rows)||t.push(r)}return t},i.getErrorForCode=function(e){switch(e){case jsCommon.EnumExtensions.toString(d,d.MaximumDataExceeded):return new a}},i.convertToDataRowGroup=function(e){var t=[];if(_.isEmpty(e))return t;for(var i=0,r=e;i<r.length;i++){var a=r[i],n=a&&a.data,s=o.tryParseJSON(n);_.isEmpty(s)||t.push({version:a.version,rows:s})}return t},i})(e.common.LongPollServiceBase)})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a,s,c){return new n(e,t,i,o,r,a,s,c)}var o=e.errorDetailsHelper,r=e.dataServices.models.RealTimeModel,a=e.dataServices.models.RealTimeModelUtility;t.createRealTimeModelService=i;var n=(function(){function t(e,t,i,o,r,a,n,s){this.conceptualSchemaProxy=e,this.errorService=t,this.localizationService=i,this.modelService=o,this.promiseFactory=r,this.realTimeDataHttpService=a,this.telemetryService=n,this.timeoutService=s,this.selectedModelId=null}return t.prototype.setSelected=function(e){this.selectedModelId=e,this.selectedModel=null},t.prototype.getSelected=function(){var e=this;if(this.selectedModel)return this.promiseFactory.resolve(this.selectedModel);var t=this.getModel(this.selectedModelId);return t.then((function(t){e.selectedModel=t})),t},t.prototype.createModel=function(t){var i=this,a=this.promiseFactory.defer(),n=this.getColumnStatistic(t.columns),s=this.telemetryService.startEvent(e.telemetry.RealTimeAddUpdateRemoveStreamingDataset,e.telemetry.CreateUpdateDeleteAction.Create,n.dateTimeColumnCount,n.numericColumnCount,n.stringColumnCount,t.mode);return this.realTimeDataHttpService.createDataset(t).then((function(e){var o=new r(e.data,t);o.isNew=!0,i.selectedModel=o,s.resolve(),a.resolve(o)}),(function(e){i.errorService.error(i.localizationService.get("StreamingDataset_FailedToCreateDataset"),"StreamingDataset_FailedToCreateDataset",{requestId:e.requestId,statusCode:e.status.toString()}),s.reject(o.getTelemetryErrorDetails(e.error,e.status)),a.reject()})),a.promise},t.prototype.getModel=function(t){var i=this,n=this.promiseFactory.defer();if(!t||t<0)return n.resolve(null),n.promise;var s=_.first(this.modelService.findModels(t)),c=this.telemetryService.startEvent(e.telemetry.RealTimeGetStreamingDataset);return this.realTimeDataHttpService.getDataset(t).then((function(e){var o=a.getRealTimeDataSource(t),l=e.data;c.resolve(),i.conceptualSchemaProxy.get(o).then((function(e){var t=new r(l,r.createRealTimeDatasetDefinition(s.displayName,s.realTimeMode,e));n.resolve(t)}),(function(){n.reject(null)}))}),(function(e){i.errorService.error(i.localizationService.get("StreamingDataset_FailedToLoadDataset"),"StreamingDataset_FailedToLoadDataset",{requestId:e.requestId,statusCode:e.status.toString()}),c.reject(o.getTelemetryErrorDetails(e.error,e.status)),n.reject(null)})),n.promise},t.prototype.getAndSelectEmptyModel=function(){var t=e.models.modelFactory.createDefaultRealTimeModel();return this.selectedModel=t,t},t.prototype.updateModel=function(t,i){var r=this,n=this.promiseFactory.defer(),s=this.getColumnStatistic(t.columns),c=this.telemetryService.startEvent(e.telemetry.RealTimeAddUpdateRemoveStreamingDataset,e.telemetry.CreateUpdateDeleteAction.Update,s.dateTimeColumnCount,s.numericColumnCount,s.stringColumnCount,t.mode),l=a.getRealTimeDataSource(i||this.selectedModelId);return this.conceptualSchemaProxy.clearCache(null,l),this.realTimeDataHttpService.updateDataset(i||this.selectedModelId,t).then((function(){c.resolve(),n.resolve({})}),(function(e){r.errorService.error(r.localizationService.get("StreamingDataset_FailedToUpdateDataset"),"StreamingDataset_FailedToUpdateDataset",{requestId:e.requestId,statusCode:e.status.toString()}),c.reject(o.getTelemetryErrorDetails(e.error,e.status)),n.reject(null)})),n.promise},t.prototype.deleteModel=function(t){var i=this.modelService.findModel(t);this.telemetryService.logEvent(e.telemetry.RealTimeAddUpdateRemoveStreamingDataset,e.telemetry.CreateUpdateDeleteAction.Delete,null,null,null,i.realTimeMode),this.modelService.deleteModel(t),this.selectedModelId===t&&(this.selectedModelId=null,this.selectedModel=null)},t.prototype.getColumnStatistic=function(e){for(var t={dateTimeColumnCount:0,numericColumnCount:0,stringColumnCount:0},i=0,o=e;i<o.length;i++){var r=o[i];2===r.dataType?t.dateTimeColumnCount++:1===r.dataType?t.numericColumnCount++:0===r.dataType&&t.stringColumnCount++}return t},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a){return new c(e,t,i,o,r,a)}var o=e.errorDetailsHelper,r=e.dataServices.models.RealTimeModelUtility,a=e.data.RealTimePubNubGetCredentialsClientError;t.createRealTimePubNubDataService=i;var n=200,s=5e3,c=(function(){function t(e,t,i,o,r,a){this.promiseFactory=e,this.realTimeDataHttpService=t,this.tabularDataService=i,this.telemetryService=o,this.moduleLoader=r,this.timeout=a,this.modelCredentialMap={},this.pubNubConnectionMap={}}return t.prototype.getPubNub=function(){return this.moduleLoader.require({javascript:"pubnub"})},t.prototype.setCallbacks=function(e,t){this.updateCallback=e,this.errorCallback=t},t.prototype.pause=function(){this.toggleSubscribe(1)},t.prototype.resume=function(){this.toggleSubscribe(0)},t.prototype.toggleSubscribe=function(e){var t=this;_.forOwn(this.modelCredentialMap,(function(i,o){var r=t.getConnectionKey(i),a=t.pubNubConnectionMap[r],n=a&&a.instance;if(n)for(var s=Object.keys(a.channelListeners),c=0,l=s;c<l.length;c++){var d=l[c];0===e?n.subscribe({channel:d,message:function(e,o,r,a){t.processMessage(i,e,o[1])}}):n.unsubscribe({channel:d})}}))},t.prototype.subscribe=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e,i,o,r,a,s,c,l=this;return __generator(this,(function(d){switch(d.label){case 0:return t?[4,this.getCredentials(t)]:[2];case 1:return e=d.sent(),[4,this.getPubNub()];case 2:return i=d.sent(),o=this.getConnectionKey(e),r=this.pubNubConnectionMap[o],r||(a={message:function(t){l.processMessage(e,t.message,t.timetoken)}},r={instance:new i({subscribeKey:e.subscriptionKey,authKey:e.authKey,ssl:!0,noleave:!0,windowing:n}),channelListeners:{},listener:a},r.instance.addListener(a),this.pubNubConnectionMap[o]=r),s=e.channelName,c=r.channelListeners[s],_.isEmpty(c)&&(r.instance.subscribe({channels:[s]}),c=r.channelListeners[s]=[]),c.push(t),[2]}}))}))},t.prototype.unsubscribe=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e,i,o,r,a,n;return __generator(this,(function(s){switch(s.label){case 0:return t?[4,this.getCredentials(t)]:[2];case 1:return e=s.sent(),[4,this.getPubNub()];case 2:return s.sent(),i=e.channelName,o=this.getConnectionKey(e),r=this.pubNubConnectionMap[o],a=r&&r.channelListeners[i],a&&(_.remove(a,t),_.isEmpty(a)&&(delete r.channelListeners[i],n=r.instance,n.removeListener(r.listener),n.unsubscribe({channels:[i]}),_.isEmpty(Object.keys(r.channelListeners))&&delete this.pubNubConnectionMap[o])),[2]}}))}))},t.prototype.detectPubNubColumnsDefinition=function(t){return __awaiter(this,void 0,e.Promise,(function(){var e,i,o,a,n,c,l;return __generator(this,(function(d){switch(d.label){case 0:return e=t.channelName,i=this.promiseFactory.defer(),o=this.timeout,[4,this.getPubNub()];case 1:return a=d.sent(),n=new a({subscribeKey:t.subscriptionKey,authKey:t.authKey,ssl:!0,noleave:!0}),c={message:function(t){o.cancel(l),n.removeListener(c),n.unsubscribe({channels:[e]});var a=t.message;return a?void i.resolve(r.convertToColumnsDefinition(a)):void i.reject()}},n.addListener(c),l=o((function(){i.reject(),n.removeListener(c),n.unsubscribe({channels:[e]})}),s),n.subscribe({channels:[e]}),[2,i.promise]}}))}))},t.prototype.getCredentials=function(t){var i=this,r=this.promiseFactory.defer(),n=null!=t.originalModelId?t.originalModelId:t.id,s=this.tabularDataService.getKey(n,t.tableName),c=this.modelCredentialMap[s];if(c)r.resolve(c);else{var l=this.telemetryService.startEvent(e.telemetry.RealTimeGetPubNubCredentials);this.realTimeDataHttpService.getCredentials(t.id).then((function(e){var t=e.data;i.modelCredentialMap[s]=t,l.resolve(),r.resolve(t)}),(function(n){l.reject(o.getTelemetryErrorDetails(n.error,n.status)),i.errorCallback([t],(new a).getDetails(e.common.localize)),r.reject()}))}return r.promise},t.prototype.getConnectionKey=function(e){return e.subscriptionKey+(e.authKey||"")},t.prototype.processMessage=function(e,i,o){if(i&&o)for(var r=this.getConnectionKey(e),a=this.pubNubConnectionMap[r],n=a.channelListeners[e.channelName],s=t.convertTimeTokenToVersion(o),c=0,l=n;c<l.length;c++){var d=l[c],p=null!=d.originalModelId?d.originalModelId:d.id,u={modelId:p,name:d.tableName,rowGroups:t.convertToDataRowGroup(s,i),lastVersion:s};this.updateCallback(u)}},t.convertToDataRowGroup=function(e,t){return t?[{version:e,rows:[t]}]:[]},t.convertTimeTokenToVersion=function(e){var t=1e4;return Math.floor(e/t)},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o){return new n(e,t,i,o)}var o=jsCommon.Utility;t.createServerLatencyService=i,t.DefaultPauseTimeBetweenRequestsInMs=6e4;var r=2e3,a="pingLatency",n=(function(){function i(e,t,i,o){this.clusterUriRetriever=e,this.$http=t,this.telemetryService=i,this.$interval=o,this.requestPromise=null}return i.prototype.getServerLatencyInMs=function(){return __awaiter(this,void 0,e.Promise,(function(){var t,i,o,n,s;return __generator(this,(function(c){switch(c.label){case 0:t=performance.now(),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,this.$http.get(this.pingUrl,{timeout:r})];case 2:return i=c.sent(),i.status!==e.HttpStatusCode.OK&&e.contract.fail("Ping request failed."),o=performance.now(),n=o-t,this.telemetryService.setHostInfo(a,n),[2,n];case 3:return s=c.sent(),this.telemetryService.setHostInfo(a,-1),[2,-1];case 4:return[2]}}))}))},i.prototype.startMonitoring=function(){var e=this;this.stopMonitoring(),this.getServerLatencyInMs(),this.requestPromise=this.$interval((function(){e.getServerLatencyInMs()}),t.DefaultPauseTimeBetweenRequestsInMs)},i.prototype.stopMonitoring=function(){this.requestPromise&&(this.$interval.cancel(this.requestPromise),this.requestPromise=null)},Object.defineProperty(i.prototype,"pingUrl",{get:function(){return this.pingUrlString||(this.pingUrlString=o.urlCombine(this.clusterUriRetriever.backendUri,"/powerbi/metadata/ping")),this.pingUrlString},enumerable:!0,configurable:!0}),i})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,o){return new i(e,t,o)}e.createSettingsMetadataService=t;var i=(function(){function t(e,t,i){this._promiseFactory=e,this._settingsHttpService=t,this._telemetryService=i}return t.prototype.getSettingsType=function(){return this._settingsType},t.prototype.getArtifactObjectId=function(){return this._artifactObjectId},t.prototype.setSettings=function(e,t){this._settingsType=e,this._artifactObjectId=t},t.prototype.getSettings=function(){var t=this._promiseFactory.defer(),i=this._telemetryService.startEvent(e.telemetry.SettingsLoadSettingsData);return this._settingsHttpService.getSettings(i.event).then((function(e){i.resolve(),t.resolve(e.data)}),(function(){i.reject(),t.reject()})),t.promise},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i){return new o(e,t,i)}t.ShowGridlinesSettingKey="ShowGridlines",t.SnapToGridSettingKey="SnapToGrid",t.createSettingsService=i;var o=(function(){function i(e,i,o){var r=this;this.telemetryService=e,this.$rootScope=i,this.userSettingsService=o,o.getExtendedSettingsByKeys([t.ShowGridlinesSettingKey,t.SnapToGridSettingKey]).then((function(e){r.showGridlines=e[0],r.snapToGrid=e[1],i.$applyAsync()}))}return i.prototype.getShowGridlines=function(){return this.showGridlines},i.prototype.setShowGridlines=function(i){this.showGridlines=i,this.persistSetting(e.telemetry.SettingsSetShowGridlines,t.ShowGridlinesSettingKey,i)},i.prototype.getSnapToGrid=function(){return this.snapToGrid},i.prototype.setSnapToGrid=function(i){this.snapToGrid=i,this.persistSetting(e.telemetry.SettingsSetSnapToGrid,t.SnapToGridSettingKey,i)},i.prototype.persistSetting=function(e,t,i){var o=this.telemetryService.startEvent(e,i);this.userSettingsService.updateExtendedSettings(t,i,o)},i})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){function t(){var e={contentProviders:[],collapsed:!0};return e}e.getActivityPaneContract=t})(t=e.staticContract||(e.staticContract={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,a,n,c,l,d,p,u,v,h,g){return new s(e,t,i,o,r,a,n,c,l,d,p,u,v,h,g)}var i,o=jsCommon.EnumExtensions,r=e.common.helpers.ModelConverterHelper,a=e.common.contracts.ModelProperty,n=e.common.contracts.Permissions;!(function(e){e[e.Dataset=0]="Dataset",e[e.Report=1]="Report"})(i=e.storageType||(e.storageType={})),e.createStorageUsageService=t;var s=(function(){function t(e,t,i,o,r,a,n,s,c,l,d,p,u,v,h){this.telemetryService=t,this.rootScope=e,this.errorService=i,this.dashboardHttpService=o,this.localizationService=r,this.featureSwitchService=a,this.reportService=n,this.modelService=s,this.promiseFactory=c,this.navigation=l,this.userInfo=d,this.groupService=p,this.workbookService=u,this.licenseHelperService=v,this.permissionService=h}return t.convertToUsageWithUnit=function(e){return e>=t.usageUnitRadix?t.usageInGBFormat.replace("{0}",(Math.ceil(e/t.usageUnitRadix*10)/10).toString()):t.usageInMBFormat.replace("{0}",e.toString())},Object.defineProperty(t.prototype,"quotaLimitInMB",{get:function(){if(this.featureSwitchService.featureSwitches.quotaSmallLimitEnabled)return t.smallLimitInMB;if(this.featureSwitchService.featureSwitches.forceFreeUserEnabled)return t.freeUserLimitInMB;var e;return this.userInfo&&this.userInfo.userMetadata&&this.userInfo.userMetadata.quotaStatus&&(e=this.userInfo.userMetadata.quotaStatus.quotaLimitInMB),e||(e=this.userInfo.isPremiumUser?t.paidUserLimitInMB:t.freeUserLimitInMB),e},enumerable:!0,configurable:!0}),t.prototype.getUsageModels=function(e){for(var a=this,s=[],c=this.modelService.models,l=this.reportService.reports,d=0,p=c.length;d<p;++d){var u=c[d].contract,v=u.sizeInMBs?u.sizeInMBs:0,h=_.filter(e,(function(e){return e.contract.modelIds&&e.contract.modelIds.indexOf(u.id)>=0}));if(this.shouldIncludeModel(u,h)){var g=this.permissionService.getModelEffectivePermissions(u),f={modelId:u.id,packageId:u.packageId,name:u.displayName,sizeInMBs:v,sizeWithUnit:t.convertToUsageWithUnit(v),storageType:i.Dataset,typeText:this.localizationService.get("QuotaManagement_ModelType_Dataset"),lastRefreshTime:r.convertRefreshTimeToJsDateTime(u.lastRefreshTime).toLocaleString(),reportsFromModel:_.filter(l,(function(e){return e.modelId===u.id})),dashboardsFromModel:h,associatedDashboards:"",associatedReports:"",ownedByMe:o.hasFlag(g,n.ReadWrite)};f.associatedDashboards=this.getAssociateNames(f.dashboardsFromModel,"displayName").join(", "),f.associatedReports=this.getAssociateNames(f.reportsFromModel,"displayName").join(", "),s.push(f)}}for(var m=this.workbookService.workbooks,d=0,p=m.length;d<p;d++){var b=m[d],y=_.filter(c,(function(e){return a.shouldIncludeWorkbook(e,b)}));if(y&&y.length>0){var S=y[0].contract,v=S.sizeInMBs,f={modelId:b.modelId,packageId:b.packageId,name:b.displayName,sizeInMBs:v,sizeWithUnit:t.convertToUsageWithUnit(v),storageType:i.Report,typeText:this.localizationService.get("QuotaManagement_ModelType_Report"),lastRefreshTime:r.convertRefreshTimeToJsDateTime(S.lastRefreshTime).toLocaleDateString(),reportsFromModel:[],dashboardsFromModel:[],associatedDashboards:"",associatedReports:"",ownedByMe:o.hasFlag(S.permissions,n.ReadWrite)};s.push(f)}}return s},t.prototype.getAssociateNames=function(e,t){for(var i=[],o=0;o<e.length;++o)i.push(e[o][t]);return i},t.prototype.getUsage=function(e){for(var t=this,i=0,r=0,a=0,s=this.modelService.models,c=0,l=s.length;c<l;++c){var d=s[c].contract,p=_.filter(e,(function(e){return e.contract.modelIds&&e.contract.modelIds.indexOf(d.id)>=0}));if(this.shouldIncludeModel(d,p)){var u=this.permissionService.getModelEffectivePermissions(d);o.hasFlag(u,n.ReadWrite)?i+=d.sizeInMBs:r+=d.sizeInMBs}}for(var v=this.workbookService.workbooks,c=0,l=v.length;c<l;++c){var h=v[c],g=_.filter(s,(function(e){return t.shouldIncludeWorkbook(e,h)}));if(g&&g.length>0){var f=g[0].contract,m=f.sizeInMBs;o.hasFlag(f.permissions,n.ReadWrite)?i+=m:r+=m}}return a=i+r,{ownedUsage:i,sharedUsage:r,totalUsage:a}},t.prototype.checkQuotaExceeded=function(t,i,o){void 0===i&&(i=e.telemetry.QuotaCheckOperation.Unknown);var r=this.getUsage(t),a=r.totalUsage,n=this.quotaLimitInMB;return a>n&&(this.logQuotaExceededEvent(this.userInfo.isPremiumUser,this.isMyWorkspace,i,r.ownedUsage,r.sharedUsage,n),o||this.showQuotaExceedDialog(),!0)},t.prototype.getUsageBarMenuItemViewModel=function(e){var i;i=this.isMyWorkspace?this.localizationService.get("QuotaManagement_ManagePersonalStorage"):this.localizationService.get("QuotaManagement_ManageGroupStorage");var o=this.getUsage(e).totalUsage,r=this.quotaLimitInMB;return{usageInMB:o,quotaLimitInMB:r,usageDescription:this.localizationService.get("QuotaManagement_UsageDescription").replace("{0}",t.convertToUsageWithUnit(o)).replace("{1}",t.convertToUsageWithUnit(r)),text:i}},t.prototype.showQuotaExceedDialog=function(){var t=this;this.userInfo.isPremiumUser?this.licenseHelperService.displayQuotaExceededErrorMessage(e.telemetry.LicenseEnforcementOperation.QuotaExceededTrialAndPaidUser,this.localizationService.get("QuotaExceedDialogMessage_TrialAndPaidUser"),this.localizationService.get("QuotaExceedDialogTitle"),(function(){return t.rootScope.$applyAsync((function(){t.navigation.showManageStorageSlider()}))})):this.licenseHelperService.displayQuotaExceededErrorMessage(e.telemetry.LicenseEnforcementOperation.QuotaExceededTrialUser,this.localizationService.format("QuotaExceedDialogMessage_TrialUser",[""+this.licenseHelperService.freeTrialPeriod]),this.localizationService.get("QuotaExceedDialogTitle"),(function(){return t.rootScope.$applyAsync((function(){t.navigation.showManageStorageSlider()}))}))},t.prototype.isInVisibleDashboard=function(e){if(_.isEmpty(e))return!0;for(var t=0,i=e;t<i.length;t++){var o=i[t];if(!o.isHidden)return!0}return!1},Object.defineProperty(t.prototype,"isMyWorkspace",{get:function(){return this.groupService.activeGroup&&this.groupService.activeGroup.isMyWorkspace},enumerable:!0,configurable:!0}),t.prototype.logQuotaExceededEvent=function(t,i,o,r,a,n){var s=i?e.telemetry.QuotaOpenManageStorageContext.Personal:e.telemetry.QuotaOpenManageStorageContext.Group,c=this.telemetryService;c.logEvent(e.telemetry.QuotaExceeded,t,s,o,r,a,n)},t.prototype.shouldIncludeModel=function(e,t){return!jsCommon.StringExtensions.isNullOrUndefinedOrWhiteSpaceString(e.displayName)&&null!=e.sizeInMBs&&e.sizeInMBs>0&&(e.modelFeatures&a.OrgApp)!==a.OrgApp&&e.isHidden!==!0&&this.isInVisibleDashboard(t)},t.prototype.shouldIncludeWorkbook=function(e,t){return e.contract.id===t.contract.modelId&&e.contract.packageId===t.packageId&&null!=e.contract.sizeInMBs&&e.contract.sizeInMBs>0&&t.isOwner()},t})();s.usageInMBFormat="{0} MB",s.usageInGBFormat="{0} GB",s.usageUnitRadix=1024,s.freeUserLimitInMB=1024,s.paidUserLimitInMB=10240,s.smallLimitInMB=10,e.StorageUsageService=s})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,r,a,n,s,c,l,d){return new u(e,t,i,o,r,a,n,s,c,l,d)}var o=e.dataServices.AppUtils,r=e.helpers.ArtifactNotFoundHelper,a=e.common.contracts.ContentProviderCategory,n=e.common.constants,s=e.dataServices.models.Dashboard,c=e.dialogs.InstallStoreAppDialogBuilder,l=e.telemetry.InstallSource,d=e.common.models.Report,p=e.dataServices.models.Workbook;t.createStoreAppInstallService=i;var u=(function(){function t(e,t,i,o,r,a,n,s,l,d,p){this.appService=e,this.navigation=t,this.promiseFactory=i,this.contentProviderService=o,this.contentProviderHttpService=r,this.errorService=a,this.localizationService=n,this.telemetryService=s,this.quota=l,this.rootScope=p,this.installStoreAppDialogBuilder=new c(s,d)}return t.prototype.addAppAndNavigate=function(t,i,o){var n=this,s=this.promiseFactory.defer();if(this.quota.checkQuotaExceeded(e.telemetry.QuotaCheckOperation.AppAutoInstall))return this.rejectDeferredAndNavigateAway(s),s.promise;var c=this.navigation;c.navigateToAppAutoInstall();var l=this.telemetryService.startEvent(e.telemetry.AppModelInitializeContentProviders);return this.contentProviderHttpService.getContentProviders(l.event).then((function(e){var l=e.data,d=_.find(l,(function(e){return e.providerKey===t}));if(!d)return r.showArtifactDoesNotExistDialog("ArtifactKind_App",n.errorService,n.localizationService,n.telemetryService),void n.rejectDeferredAndNavigateAway(s);if(!n.appService.isAppCategory(a.OrganizationalApp)||d.category!==a.OrganizationalApp)return s.reject(),void c.showGetDataSlider();var p=n.contentProviderService;return p.upgradeRequiredToConnect(d)?(p.displayFeatureDisabledDialog(d),void n.rejectDeferredAndNavigateAway(s)):void(o?n.installAppInternal(d,s,i):n.installStoreAppDialogBuilder.show(d).then((function(e){0===e?n.installAppInternal(d,s,i):n.rejectDeferredAndNavigateAway(s)})))}),(function(e){n.errorService.error(n.localizationService.get("ErrorMessage_FailedLoadContentProviders"),"FailedLoadContentProviders",{requestId:e.requestId,statusCode:e.status.toString()}),l.reject(),n.rejectDeferredAndNavigateAway(s)})),s.promise},t.prototype.onInstanceInstalled=function(e){this.installedAppGUID&&e&&e.providerContract.providerKey===this.installedAppGUID&&(this.installedAppModel=e,this.tryNavigateToApp()&&this.unsubscribe())},t.prototype.onInstanceUninstalled=function(e){},t.prototype.onInstanceUpdated=function(e){this.installedAppModel&&this.targetAppArtifact&&this.installedAppModel===e&&this.tryNavigateToApp()&&this.unsubscribe()},t.prototype.onInstancesReset=function(){},t.prototype.rejectDeferredAndNavigateAway=function(e){e.reject(),this.navigation.navigateToContentListOrActiveDashboard()},t.prototype.installAppInternal=function(e,t,i){var o=this,r=this.contentProviderService,a=this.navigation,s=l.AppAutoInstallLink;i&&(i.dashboardOriginalGUID||i.reportOriginalGUID||i.workbookID)&&(this.targetAppArtifact=i,s=l.AppArtifactAutoInstallLink),r.storeDataAccessInfo(r.getDataAccessInfo(e),e,s).then((function(){t.resolve(null),o.appService.addApp(e),o.installedAppGUID=e.providerKey;var i=o.appService.getAppInstancesForApp(o.installedAppGUID);_.isEmpty(i)||(o.installedAppModel=i[0]),o.tryNavigateToApp()?o.installedAppGUID=o.installedAppModel=o.targetAppArtifact=null:(o.appService.subscribeToInstanceEvents(o),o.unregisterStateChangeHandler=o.rootScope.$on(n.navigation.stateChangeSuccess,(function(e,t,i,r,a){return o.unsubscribe()})))}),(function(){return t.reject()})),a.navigateToApps()},t.prototype.unsubscribe=function(){this.installedAppGUID=this.installedAppModel=this.targetAppArtifact=null,this.unregisterStateChangeHandler&&(this.unregisterStateChangeHandler(),this.unregisterStateChangeHandler=null),this.appService.unsubscribeToInstanceEvents(this)},t.prototype.tryNavigateToApp=function(){if(!this.installedAppModel)return!1;if(!this.targetAppArtifact)return this.navigation.navigateToApp(this.installedAppModel.providerContract.providerKey),!0;var e=o.getAppArtifact(this.installedAppModel,this.targetAppArtifact);if(!e)return!1;var t=this.installedAppModel.providerContract.providerKey;if(e instanceof s)this.navigation.navigateToAppDashboardByGUID(e.objectId,e.contract.originalDashboardObjectId,t);else if(e instanceof d){var i=e.packageId,r=e.modelId,a=_.find(this.installedAppModel.models,(function(e){return e.id===r&&e.packageId===i}));if(!a)return!1;this.navigation.navigateToAppReportByGUID(e.objectId,e.contract.originalReportObjectId,t)}else e instanceof p&&this.navigation.navigateToAppWorkbookByUniqueId(e.uniqueId,t);return!0},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,o,r,a){return new i(e,t,o,r,a)}e.createTenantContentPackSerivce=t;var i=(function(){function t(e,t,i,o,r){this.telemetryService=e,this.featureSwitchService=t,this.contentProviderHttpService=i,this.promiseFactory=o,this.modelConverter=r,this.loadTenantContentPacks()}return t.prototype.tenantServiceContentPacksPromise=function(){return this._tenantContentPacksDeferred.promise},Object.defineProperty(t.prototype,"lastUpdatedTimestamp",{get:function(){return this._lastUpdatedTimestamp},enumerable:!0,configurable:!0}),t.prototype.loadTenantContentPacks=function(){var t=this;this._tenantContentPacksDeferred=this.promiseFactory.defer();var i=this.featureSwitchService.featureSwitches;if(i.templatePublishEnabled||i.templatePublishFlightingWorkAroundEnabled){var o=this.telemetryService.startEvent(e.telemetry.DashboardLoadTenantContentPacks);this.tenantServiceContentPacks=[],this.contentProviderHttpService.getTenantContentProviders(o.event).then((function(e){t.updateContentPackCollection(e.data),t._tenantContentPacksDeferred.resolve(t.tenantServiceContentPacks),o.resolve()}),(function(e){t._tenantContentPacksDeferred.reject(),o.reject()}))}},t.prototype.findContentPackByGUID=function(e){return null!=e?_.find(this.tenantServiceContentPacks,(function(t){return t.providerContract.providerKey===e})):null},t.prototype.setContentPackCleanForSession=function(e){var t=this.getContentPackIndexByGUID(e);t>0&&(this.tenantServiceContentPacks[t].providerContract.isDirty=!1)},t.prototype.deleteContentPack=function(t){var i=this.telemetryService.startEvent(e.telemetry.DashboardDeleteTemplateOrganizationApp),o=this.promiseFactory.defer();return e.contentPackService.deleteContentPack(t,i.event).then((function(e){i.resolve(),o.resolve(null)}),(function(e){i.reject(),o.reject({requestId:e.requestId,statusCode:e.status.toString(),activityId:e.activityId})})),o.promise},t.prototype.updateContentPackCollection=function(e){var t=this;this.tenantServiceContentPacks=[],e.map((function(e){t.tenantServiceContentPacks.push(t.modelConverter.convertContentPack(e))})),this.updateTimestamp()},t.prototype.updateTimestamp=function(){this._lastUpdatedTimestamp=(new Date).getTime()},t.prototype.getContentPackIndexByGUID=function(e){if(this.tenantServiceContentPacks.length>0)for(var t=0,i=this.tenantServiceContentPacks.length;t<i;t++){var o=this.tenantServiceContentPacks[t];if(o.providerContract.providerKey===e)return t}return-1},t})();e.TenantContentPackService=i})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(t,o,r){var a=o.convertTileConfig(r.contract);if(a&&a.refreshPeriod){var n=a.refreshPeriod;n<i&&(n=i);var s=setInterval((function(){return r.refreshData()}),n);t.$on(e.common.constants.scopeDestroyEventName,(function(){return clearInterval(s)}))}}var i=6e4;e.tileDataRefreshWorker=t})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e){return new o(e)}var i="Tile_FailedToDisplay";e.createTileDisplayService=t;var o=(function(){function e(e){this.errorService=e}return e.prototype.onErrorIconClicked=function(e){var t=e.errorTitle,o=e.errorTitle,r=e.errorDetails;if(e.isError&&t){var a=r&&r.displayableErrorInfo;if(a){for(var n=0,s=a;n<s.length;n++){var c=s[n];if(c.errorInfoValue){t=c.errorInfoKey,o=c.errorInfoValue;break}}this.errorService.error(o,i,{title:t,helpLink:r.helpLink})}}},e.prototype.shouldShowTileVisual=function(e){return!0},e.prototype.isVisualSupportedInErrorState=function(e){var t=e.composite,i=e.realTime,o=!!(t&&t.tileData&&t.tileData.data),r=!!(i&&i.visual&&i.visual.data);return o||r},e})()})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,a,n,s,c,l,d,p){return new r(e,t,o,a,n,s,c,l,i,d,p)}e.createTutorialPopupService=t;var i=300,o=1500,r=(function(){function t(e,t,i,o,r,a,n,s,c,l,d){this.telemetryService=e,this.userInfo=t,this.applicationOptions=i,this.featureSwitchService=o,this.localizationService=r,this.navigation=a,this.conceptualModelSetting=n,this.rtl=s,this.appMetadataService=l,this.groupHttp=d,this.dataStore=c,this.initialize()}return t.prototype.initialize=function(){return __awaiter(this,void 0,e.Promise,(function(){var t,i;return __generator(this,(function(o){switch(o.label){case 0:return[4,this.featureSwitchService.getFeatureSwitches()];case 1:return o.sent(),t=e.createStartupTutorialModel(this.userInfo,this.applicationOptions,this.featureSwitchService,this.localizationService,this.navigation,this.conceptualModelSetting,this.rtl),[4,this.getCapacityTutorialModel()];case 2:return i=o.sent(),t=this.appendExtraTutorialModel(t,i),t&&this.startTutorialInternal(t),[2]}}))}))},t.prototype.appendExtraTutorialModel=function(e,t){return e?t?((i=e.itemKeys).push.apply(i,t.itemKeys),_.extend(e.items,t.items),e):e:t;var i},t.prototype.startTutorial=function(e){var t=this;this.dataStore.onReady((function(){return t.startTutorialInternal(e)}))},t.prototype.getCapacityTutorialModel=function(){return __awaiter(this,void 0,e.Promise,(function(){var t,i,o;return __generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),[4,this.appMetadataService.getAppMetadata()];case 1:return t=r.sent(),t.tenantHasCapacities?[4,this.groupHttp.getAvailableGroupCapacities()]:[3,3];case 2:if(i=r.sent(),i&&!_.isEmpty(i.data))return[2,e.createStartUpCapacityTutorialModel(this.localizationService)];r.label=3;case 3:return[3,5];case 4:return o=r.sent(),[3,5];case 5:return[2]}}))}))},t.prototype.startTutorialInternal=function(i){var o=this;this.tutorialModel&&this.stopTimer(),this.tutorialModel=i,this.itemKeys=this.tutorialModel.itemKeys;for(var r=0;r<this.itemKeys.length;++r){var a=this.itemKeys[r],n=this.tutorialModel.items[a];if(n.itemKey=a,n.dataStoreKey||(n.dataStoreKey=a),this.dataStore.hasKey(n.dataStoreKey))this.itemKeys.splice(r,1),--r;else if(!this.dataStore.hasKey(t.FirstUseKey)&&!n.includeNewUser){var s={event:void 0,resolve:_.noop,reject:_.noop};this.dataStore.setKey(n.dataStoreKey,!0,s),this.itemKeys.splice(r,1),--r}}if(this.itemKeys.length>0&&(this.nonModalPopupCount=_.countBy(this.itemKeys,(function(e){if(!o.tutorialModel.items[e].modal)return"nonModal"})).nonModal,this.nonModalPopupCurrentIndex=0,this.previousNonModalItem=null,this.startTimer()),!this.dataStore.hasKey(t.FirstUseKey)){var c=this.telemetryService.startEvent(e.telemetry.DashboardFirstUse);this.dataStore.setKey(t.FirstUseKey,!0,c)}},t.prototype.startTimer=function(){var e=this;this.popupContainer=new p;var t=this.tutorialModel.isBlockingTutorial?i:o;this.timerID=setInterval((function(){e.checkStatus()}),t),this.checkStatus()},t.prototype.stopTimer=function(){this.tutorialModel=null,this.currentItem=null,this.popup=null,this.popupContainer.destroy(),clearInterval(this.timerID)},t.prototype.checkStatus=function(){if(this.currentItem)this.canShow(this.currentItem)?this.popup?this.popup.alignPopup():this.showItem(this.currentItem):this.popup?this.popup.closePopup(!1):this.currentItem=null;else{if(0===this.itemKeys.length)return void this.stopTimer();for(var e=this.tutorialModel.isSequentialTutorial?1:this.itemKeys.length,t=0;t<e;++t){var i=this.itemKeys[t],o=this.tutorialModel.items[i];if(this.canShow(o))return void(this.currentItem=o)}}},t.prototype.showItem=function(t){var i,o=this;!t.modal&&this.tutorialModel.isSequentialTutorial&&(this.previousNonModalItem!==t&&(this.previousNonModalItem=t,++this.nonModalPopupCurrentIndex),i=e.formattingService.format(this.localizationService.get("TutorialPopup_ProgressCount"),[this.nonModalPopupCurrentIndex,this.nonModalPopupCount])),
this.popup=new u(this.popupContainer,t.attachTo,{title:t.title,text:t.text,buttonLabel:t.buttonLabel,modalButtonClassOverride:t.modalButtonClassOverride,imageUrl:t.imageUrl,iframeUrl:t.iframeUrl,modal:t.modal,offset:t.offset,onButtonClick:t.onButtonClick,onClose:function(e,t){o.onItemClose(e,t)},preferredOrientation:t.preferredOrientation,customClass:t.customClass,iconClass:t.iconClass,cancelText:t.cancelText,overlayOptions:t.overlayOptions,progressCountText:i,learnMoreText:t.learnMoreText,learnMoreUrl:t.learnMoreUrl});var r=this.telemetryService;this.gettingStartedEvent=r.startEvent(e.telemetry.DashboardShowGettingStartedPopup,t.dataStoreKey)},t.prototype.onItemClose=function(e,t){var i=this;if(e&&(this.itemKeys.splice($.inArray(this.currentItem.itemKey,this.itemKeys),1),this.dataStore.setKey(this.currentItem.dataStoreKey,!0,this.gettingStartedEvent),this.currentItem.telemetryEventArgs&&this.telemetryService.logEvent.apply(this.telemetryService,this.currentItem.telemetryEventArgs)),t){var o=_(this.itemKeys).map((function(e){return i.tutorialModel.items[e]})).pluck("dataStoreKey").unique().value();this.itemKeys=[];for(var r=0,a=o;r<a.length;r++){var n=a[r];this.dataStore.setKey(n,!0,this.gettingStartedEvent)}}this.currentItem=null,this.popup=null},t.prototype.canShow=function(e){try{if(!e.canShow())return!1;if(e.modal)return!0;var t=e.attachTo(),i=t.offset();return null!=i&&((0!==i.left||0!==i.top)&&(this.rtl.isRtlLayout&&(i.left+=t.outerWidth()-1),0!==$(document.elementFromPoint(i.left+.5,i.top+.5)).closest(t).length))}catch(e){return!1}},t})();r.FirstUseKey="Welcome",e.TutorialPopupService=r;var a=(function(){function e(){}return e})();a.Left="left",a.Right="right",a.Top="top",a.Bottom="bottom",a.Center="center",a.LeftTop="leftTop",a.RightTopForRtl="rightTopForRtl",a.LeftBottom="leftBottom",a.RightBottomForRtl="rightBottomForRtl",e.Direction=a;var n=(function(){function e(){}return e})();n.Left="arrowLeft",n.Right="arrowRight",n.Top="arrowTop",n.Bottom="arrowBottom";var s=["modal"],c=[""],l=["non-modal-list-view","non-modal-list-view-visible"],d=(function(){function e(){}return e.toStringArray=function(e){switch(e){case 0:return s;case 1:return c;case 2:return l;default:return c}},e})(),p=(function(){function e(){this.popupContainer=$(e.PopupContainerTemplate),this.overlayContainer=$(e.OverlayContainerTemplate),this.overlayOptions=1,this.destroyed=!1,$(e.PopupParent).append(this.popupContainer),this.popupContainer.append(this.overlayContainer)}return e.prototype.updateOverlaysWithClasses=function(t){if(!this.destroyed&&this.overlayOptions!==t){this.clearOverlayContainer();for(var i=d.toStringArray(t),o=0,r=i;o<r.length;o++){var a=r[o];$(e.OverlayTemplate).addClass(a).appendTo(this.overlayContainer)}this.overlayOptions=t}},e.prototype.clearOverlayContainer=function(){this.overlayContainer.remove(),this.overlayContainer=$(e.OverlayContainerTemplate),this.popupContainer.append(this.overlayContainer)},e.prototype.destroy=function(){this.destroyed=!0,this.overlayContainer.remove(),this.popupContainer.remove()},e})();p.PopupParent="body",p.PopupContainerTemplate='<div class="tutorial-popup-container"></div>',p.OverlayContainerTemplate='<div class="tutorial-popup-overlay-container"></div>',p.OverlayTemplate='<div class="tutorial-popup-overlay"></div>';var u=(function(){function e(e,t,i){this.popupContainer=e,this.attachTo=t,this.options=i,this.createPopup(i)}return e.prototype.createPopup=function(t){var i=this,o=e.PopupTemplate;for(var r in t)"string"==typeof t[r]&&(o=o.replace("{"+r+"}",t[r]));this.popup=$(o);var a=this.popup.find(".icon i");t.iconClass?a.addClass(t.iconClass):a.hide(),t.customClass&&this.popup.addClass(t.customClass);var n=this.popup.find(".image");null!=t.imageUrl?n.addClass(e.VisibleClass):n.remove(),null!=t.offset?this.popOffset=t.offset:this.popOffset={left:0,top:0},null!=t.modalButtonClassOverride&&this.popup.find(".ok-btn").addClass(t.modalButtonClassOverride),this.popup.on(e.ElementClickEventName,(function(e){e.stopPropagation()})),$(window).on(e.WindowResizeEventName,(function(){requestAnimationFrame((function(){i.alignPopup()}))})),this.popup.find(".ok-btn").html(t.buttonLabel).on(e.ElementClickEventName,(function(){i.closePopup(!0);var e=t.onButtonClick;e&&"function"==typeof e&&e()}));var s=this.popup.find(".cancel");t.cancelText?s.on(e.ElementClickEventName,(function(){i.closePopup(!0,!0)})):s.remove(),$(e.PopupParentClass).append(this.popup),t.modal?(this.popup.addClass(e.ModalClass),$(e.PopupParentClass).off(e.ElementClickEventName)):this.attachTo().on(e.ElementClickEventName,(function(){i.closePopup(!0)})),t.learnMoreText?this.popup.find(".progress-count").addClass("with-learn-more"):this.popup.find(".learn-more").remove(),t.progressCountText||this.popup.find(".progress-count").remove(),requestAnimationFrame((function(){i.alignPopup()}))},e.prototype.closePopup=function(t,i){void 0===i&&(i=!1),null!=this.popup&&(this.popup.removeClass(e.VisibleClass),this.attachTo().off(e.ElementClickEventName),$(window).off(e.WindowResizeEventName),$(e.PopupParentClass).off(e.ElementClickEventName),this.popup.remove(),this.options.onClose(t,i))},e.prototype.alignPopup=function(){var t=this,i=this.popup,o=this.attachTo();if(null!=i){var r={width:i.outerWidth(),height:i.outerHeight()},n={left:0,top:0,width:$(window).width(),height:$(window).height()},s=n;if(!this.options.modal){if(null==o)return;s=$.extend({width:o.outerWidth(),height:o.outerHeight()},o.offset())}var c=Math.floor(s.left+s.width/2-r.width/2),l=Math.floor(s.top+s.height/2-r.height/2),d=Math.floor(s.left),p=Math.floor(s.top),u=Math.floor(s.left+s.width-r.width+this.popOffset.left),v=Math.floor(s.top+s.height-r.height+e.ArrowSpacing+this.popOffset.top),h=Math.floor(s.left+s.width+e.ArrowSpacing+this.popOffset.left),g=Math.floor(s.top+s.height+e.ArrowSpacing+this.popOffset.top),f=Math.floor(s.left-r.width-e.ArrowSpacing+this.popOffset.left),m=Math.floor(s.top-r.height-e.ArrowSpacing+this.popOffset.top);if(this.options.modal){if(this.tryFitInWindow(a.Center,c,l,r,s,n))return}else{var b=[{direction:a.Left,x:h,y:l},{direction:a.Right,x:f,y:l},{direction:a.Bottom,x:c,y:m},{direction:a.Top,x:c,y:g},{direction:a.Bottom,x:d,y:m},{direction:a.Left,x:h,y:p},{direction:a.Right,x:f,y:p},{direction:a.Top,x:d,y:g},{direction:a.Bottom,x:u,y:m},{direction:a.Left,x:h,y:v},{direction:a.Right,x:f,y:v},{direction:a.Top,x:u,y:g},{direction:a.LeftTop,x:h,y:l+.35*r.height},{direction:a.RightTopForRtl,x:f,y:l+.35*r.height},{direction:a.LeftBottom,x:h,y:l-.4*r.height},{direction:a.RightBottomForRtl,x:f,y:l-.4*r.height}];this.options.preferredOrientation&&(b=_.sortBy(b,(function(e){return e.direction===t.options.preferredOrientation?0:1})));for(var y=0;y<b.length;++y){var S=b[y];if(this.tryFitInWindow(S.direction,S.x,S.y,r,s,n))return}}this.tryFitInWindow(a.Center,c,0,r,s,n,!0)}},e.prototype.tryFitInWindow=function(t,i,o,r,s,c,l){if(void 0===l&&(l=!1),i>=0&&o>=0&&i+r.width<=c.width&&o+r.height<=c.height||l){this.arrowPosition!==t&&(this.popup.removeClass(this.arrowPosition).addClass(t).css({left:"initial",top:"initial"}),this.arrowPosition=t),this.popup.addClass(e.VisibleClass).css({left:i,top:o});var d=this.popup.find(".arrow");return d.removeAttr("style"),t===a.Left?(d.css({top:Math.floor(s.top+s.height/2-o-e.ArrowSpacing)}),d.addClass(n.Left)):t===a.Top?(d.css({left:Math.floor(s.left+s.width/2-i-e.ArrowSpacing)}),d.addClass(n.Top)):t===a.Right?(d.css({top:Math.floor(s.top+s.height/2-o-e.ArrowSpacing)}),d.addClass(n.Right)):t===a.Bottom?(d.css({left:Math.floor(s.left+s.width/2-i-e.ArrowSpacing)}),d.addClass(n.Bottom)):t===a.LeftTop?(d.css({top:Math.floor(s.top+s.height/2-(o-.05*r.height)-e.ArrowSpacing)}),d.addClass(n.Left)):t===a.RightTopForRtl?(d.css({top:Math.floor(s.top+s.height/2-(o-.05*r.height)-e.ArrowSpacing)}),d.addClass(n.Right)):t===a.LeftBottom?(d.css({top:Math.floor(s.top+s.height/2-o-e.ArrowSpacing)}),d.addClass(n.Left)):t===a.RightBottomForRtl&&(d.css({top:Math.floor(s.top+s.height/2-o-e.ArrowSpacing)}),d.addClass(n.Right)),this.options.overlayOptions?this.popupContainer.updateOverlaysWithClasses(this.options.overlayOptions):this.options.modal?this.popupContainer.updateOverlaysWithClasses(0):this.popupContainer.updateOverlaysWithClasses(1),!0}return!1},e})();u.PopupParentClass=".tutorial-popup-container",u.ArrowSpacing=20,u.VisibleClass="show",u.ModalClass="modal",u.ElementClickEventName="click.popup",u.WindowResizeEventName="resize.popup",u.PopupTemplate='             <div class="tutorial-popup">                 <div class="box">                     <div class="arrow"></div>                     <div class="icon"><i class="glyphicon glyph-small"></i></div>                     <div class="title">{title}</div>                     <img src="{imageUrl}" class="image"></img>                     <div class="text">{text}</div>                     <a class="learn-more" target="_blank" href="{learnMoreUrl}">{learnMoreText}</a>                     <div class="progress-count">{progressCountText}</div>                     <div class="ok-btn primary"></div>                     <div class="cancel">{cancelText}</div>                 </div>             </div>'})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,a,n,s,c,l){return new r(e,t,i,o,a,n,s,c,l)}var o=(e.common.constants,e.telemetry.UsageMetricsArtifactType);t.createUsageMetricsReportService=i;var r=(function(){function t(e,t,i,o,r,a,n,s,c){this.usageMetricsHttp=e,this.navigation=t,this.localizationService=i,this.notificationToastService=o,this.errorService=r,this.reportService=a,this.promiseFactory=n,this.packageService=s,this.modelService=c,this.pendingUsageMetricsRequests=[]}return t.prototype.openDashboardUsageMetricsReport=function(t,i,r){return __awaiter(this,void 0,e.Promise,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getPackageAndNavigateToUsageMetricsReport(o.Dashboard,t.displayName,t.objectId,i,r)];case 1:return[2,e.sent()]}}))}))},t.prototype.openReportUsageMetricsReport=function(t,i,r){return __awaiter(this,void 0,e.Promise,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.getPackageAndNavigateToUsageMetricsReport(o.Report,t.displayName,t.objectId,i,r)];case 1:return[2,e.sent()]}}))}))},t.prototype.getPackageAndNavigateToUsageMetricsReport=function(t,i,o,r,a){return __awaiter(this,void 0,e.Promise,(function(){var n,s,c,l;return __generator(this,(function(d){switch(d.label){case 0:if(n=this.notificationToastService.notify({title:this.localizationService.get("UsageMetrics_LoadingTitle"),message:this.localizationService.format("UsageMetrics_LoadingSubtitle",[i]),notificationType:e.common.NotificationToastType.Loading,sticky:!0}),this.tryAttachToPendingUsageMetricsRequestIfExisting(i,o,r,t,n))return[2];if(this.tryNavigateToUsageMetricsReport(o,r,t))return this.onPackagePublishDone(n),[2];s=this.pushPendingUsageMetricsRequest(r,t),this.attachToPendingUsageMetricsRequest(s,i,o,r,t,n),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.usageMetricsHttp.getPackage(t,a.event)];case 2:return c=d.sent(),this.packageService.mergePackageCollection([c]),this.reportService.mergeReportCollection(c.reports),c.models[0].permissions=c.permissions,this.modelService.mergeDatasetCollection(c.models),s.defered.resolve(c.reports[0]),[3,5];case 3:throw l=d.sent(),s.defered.reject(l),l;case 4:return _.remove(this.pendingUsageMetricsRequests,s),[7];case 5:return[2]}}))}))},t.prototype.tryNavigateToUsageMetricsReport=function(e,t,i){var o=this.getUsageMetricsReportIfExisting(i);return!_.isEmpty(o)&&(this.constructODataFiltersThenNavigateToReportByGuid(o.objectId,i,e,t),!0)},t.prototype.tryAttachToPendingUsageMetricsRequestIfExisting=function(e,t,i,o,r){var a=this.getPendingRequestIfExisting(i,o);return!_.isEmpty(a)&&(this.attachToPendingUsageMetricsRequest(a,e,t,i,o,r),!0)},t.prototype.pushPendingUsageMetricsRequest=function(e,t){var i=this.promiseFactory.defer(),o={artifactType:t,groupObjectId:e,defered:i};return this.pendingUsageMetricsRequests.push(o),o},t.prototype.attachToPendingUsageMetricsRequest=function(e,t,i,o,r,a){var n=this;e.defered.promise.then((function(e){e&&n.showSuccessToastToNavigateToReport(e.objectId,i,o,t,r),n.onPackagePublishSucceeded(a)}),(function(e){return n.onPackagePublishFailed(a,e.requestId,e.errorCode)}))},t.prototype.showSuccessToastToNavigateToReport=function(t,i,o,r,a){var n=this,s={displayText:this.localizationService.get("UsageMetrics_FinishedLoadingButtonText"),action:function(){return n.constructODataFiltersThenNavigateToReportByGuid(t,a,i,o)}};this.notificationToastService.notify({title:this.localizationService.get("UsageMetrics_FinishedLoadingTitle"),message:this.localizationService.format("UsageMetrics_FinishedLoadingSubtitle",[r]),notificationType:e.common.NotificationToastType.Success,actionButtons:[s],sticky:!0})},t.prototype.getUsageMetricsReportIfExisting=function(e){var t=this,i=-1;if(e===o.Dashboard)i=103;else{if(e!==o.Report)return;i=102}var r=_.find(this.reportService.reports,(function(e){var o=t.packageService.findPackage(e.packageId);return o.contentProviderId===i}));return r},t.prototype.constructODataFiltersThenNavigateToReportByGuid=function(e,t,i,r){var a="";t===o.Report?a="Usage_ReportViews/ReportGuid eq '"+i+"' and Usage_ReportViewersRanking/ReportGuid eq '"+i+"' and Usage_ReportViewsRanking/ReportGuid eq '"+i+"'":t===o.Dashboard&&(a="Usage_DashboardViews/DashboardGuid eq '"+i+"' and Usage_DashboardsharesRanking/DashboardGuid eq '"+i+"' and Usage_DashboardViewersRanking/DashboardGuid eq '"+i+"' and Usage_DashboardViewsRanking/DashboardGuid eq '"+i+"'"),this.navigation.navigateToReportByGUID(e,r,void 0,void 0,void 0,void 0,a)},t.prototype.getPendingRequestIfExisting=function(e,t){var i=_.find(this.pendingUsageMetricsRequests,(function(i){return i.artifactType===t&&i.groupObjectId===e}));return i},t.prototype.onPackagePublishSucceeded=function(e){this.onPackagePublishDone(e)},t.prototype.onPackagePublishFailed=function(e,t,i){this.onPackagePublishDone(e),this.showErrorMessage(t,i)},t.prototype.onPackagePublishDone=function(e){_.isEmpty(e)||this.notificationToastService.hide(e)},t.prototype.showErrorMessage=function(e,t){this.errorService.error(this.localizationService.get("UsageMetrics_FailedOpeningReport_Message"),"FailedToOpenUsageMetricsReport",{requestId:e,statusCode:t})},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,o,r,a,n,s,c,l){return new i(e,t,o,r,a,n,s,c,l)}e.createUserSettingsService=t;var i=(function(){function t(e,t,i,o,r,a,n,s,c){this.telemetryService=e,this.modelConverter=t,this.promiseFactory=i,this.userSettingsHttpService=o,this.errorService=r,this.localizationService=a,this.appMetadataService=n,this.networkAvailability=s,this.rootScope=c,this.getSettingsDeferred=null,this.forceRefreshOfUserSettings=!1}return t.prototype.getUserSettings=function(){var t=this;return this.getSettingsDeferred||(this.getSettingsDeferred=this.promiseFactory.defer(),this.appMetadataService.getAppMetadata().then((function(i){if(i.userSettings&&!t.forceRefreshOfUserSettings){var o=i.userSettings.preferredLanguage,r=e.common.cultureInfo;o&&o!==r&&t.telemetryService.logEvent(e.telemetry.LocaleIncorrectLocaleSetting,o,r),t.getSettingsDeferred.resolve(t.modelConverter.convertUserSettings(i.userSettings)),t.getSettingsDeferred=null}else t.loadUserSettingsFromServer(i),t.forceRefreshOfUserSettings=!1}),(function(){t.loadUserSettingsFromServer()}))),this.getSettingsDeferred.promise},t.prototype.refreshUserSettings=function(){this.forceRefreshOfUserSettings=!0},t.prototype.getExtendedSettingByKey=function(e){var t=this,i=this.promiseFactory.defer();return this.ensureExtendedSettings().then((function(){i.resolve(t.extendedSettings[e])})),i.promise},t.prototype.getExtendedSettingsByKeys=function(e){var t=this,i=this.promiseFactory.defer();return this.ensureExtendedSettings().then((function(){i.resolve(_.map(e,(function(e){return t.extendedSettings[e]})))})),i.promise},t.prototype.updateExtendedSettings=function(e,t,i){var o=this;return this.ensureExtendedSettings().then((function(){o.extendedSettings[e]=t;var r=JSON.stringify(o.extendedSettings);return o.userSettingsHttpService.updateExtendedSettings(r,i.event).then((function(){i.resolve()}))})).catch((function(e){i.reject()}))},t.prototype.ensureExtendedSettings=function(){var e=this,t=this.promiseFactory.defer();return this.extendedSettings?t.resolve(null):this.getUserSettings().then((function(i){e.extendedSettings=i&&i.extendedSettings?i.extendedSettings:{},t.resolve(null)})),t.promise},t.prototype.loadUserSettingsFromServer=function(t){var i=this;if(!this.networkAvailability.isNetworkAvailable())return this.getSettingsDeferred.reject(),void(this.getSettingsDeferred=null);var o=this.telemetryService.startEvent(e.telemetry.PrivacyInitializeSettingsModel);this.userSettingsHttpService.getUserSettings(o.event).then((function(e){var r=e.data;t&&(t.userSettings=r),i.getSettingsDeferred.resolve(i.modelConverter.convertUserSettings(r)),i.getSettingsDeferred=null,o.resolve()}),(function(e){i.getSettingsDeferred.reject(),o.reject(),i.getSettingsDeferred=null,i.errorService.error(i.localizationService.get("SettingsGeneral_Error_FailedToLoad"),"SettingsGeneral_Error_FailedToLoad",{requestId:e.requestId,statusCode:e.status.toString()})}))},t.prototype.updateAllowQnaDataCollection=function(t,i){var o=this,r=this.promiseFactory.defer();return this.userSettingsHttpService.updateAllowQnaDataCollection(t,i.event).then((function(){i.resolve(),window.initialDashboardContainer&&window.initialDashboardContainer.userSettings&&(window.initialDashboardContainer.userSettings.allowQnaDataCollection=t),r.resolve(t),o.rootScope.$emit(e.constants.notifyUpdateAllowQnaDataCollectionEventName,t)}),(function(e){i.reject(),r.reject(),o.errorService.error(o.localizationService.get("SettingsGeneral_Error_FailedToSave"),"SettingsGeneral_Error_FailedToSave",{requestId:e.requestId,statusCode:e.status.toString()})})),r.promise},t.prototype.updateEsriSetting=function(e,t){var i=this,o=this.promiseFactory.defer(),r={esriVisualEnabled:e};return this.userSettingsHttpService.updateUserSettings(r,t.event).then((function(){t.resolve(),o.resolve(e)}),(function(e){t.reject(),o.reject(),i.errorService.error(i.localizationService.get("SettingsGeneral_Error_FailedToSave"),"SettingsGeneral_Error_FailedToSave",{requestId:e.requestId,statusCode:e.status.toString()})})),o.promise},t.prototype.updateLanguageSetting=function(e,t){var i=this,o=this.promiseFactory.defer(),r={preferredLanguage:e};return this.userSettingsHttpService.updateUserSettings(r,t.event).then((function(){t.resolve(),o.resolve(e)}),(function(e){t.reject(),o.reject(),i.errorService.error(i.localizationService.get("SettingsGeneral_Error_FailedToSave"),"SettingsGeneral_Error_FailedToSave",{requestId:e.requestId,statusCode:e.status.toString()})})),o.promise},t.prototype.updatePinDialogPreviewTileFormat=function(e,t){var i=this,o=this.promiseFactory.defer(),r={tileDialogPreviewFormat:e};return this.userSettingsHttpService.updateUserSettings(r,t.event).then((function(){t.resolve(),window.initialDashboardContainer&&window.initialDashboardContainer.userSettings&&(window.initialDashboardContainer.userSettings.tileDialogPreviewFormat=e),o.resolve(e)}),(function(e){t.reject(),o.reject(),i.errorService.error(i.localizationService.get("SettingsGeneral_Error_FailedToSave"),"SettingsGeneral_Error_FailedToSave",{requestId:e.requestId,statusCode:e.status.toString()})})),o.promise},t})()})(powerbi||(powerbi={}));var powerbi;!(function(e){var t="zh-hans",i="zh-hant",o="cn",r="zh-TW",a=(function(){function e(){}return e.createIfUndefined=function(){e.Popover||($("body").append(e.PopoverHtml),e.Popover=$(e.PopoverSelector),e.hide(),e.Popover.find(e.FooterSelector).on(jsCommon.DOMConstants.mouseDownEventName,(function(e){e.stopPropagation()})))},e.setFooterText=function(t){e.Popover.find(e.FooterSelector).html(t)},e.show=function(){e.createIfUndefined(),e.Popover.show()},e.hide=function(){e.Popover&&e.Popover.hide()},e})();a.PopoverHtml='<div id="popover"><div id="popovermain"><div class="powerbi-spinner"><div class="spinner"><div class="dots" ><span>&#9679;</span><span>&#9679;</span><span>&#9679;</span><span>&#9679;</span><span>&#9679;</span></div></div></div></div><div class="footer"></div></div>',a.PopoverSelector="#popover",a.FooterSelector=".footer",e.UserVoicePopover=a;var n=(function(){function n(){}return Object.defineProperty(n,"api",{get:function(){return n.updateEventBindings(),window.UserVoice},enumerable:!0,configurable:!0}),n.updateIdentificationInfo=function(){e.session.userInfo&&n.api.push([n.identifyKey,{email:e.session.UserInfoUtils.getEmailAddressForReceivingMail(),display_name:e.session.UserInfoUtils.getFullName(),id:e.session.userInfo.puid}])},n.ensureUserVoice=function(s,c){var l=this;if(!this.serviceLoaded){var d=this.promiseFactory.defer(),p=(new Date).toTimeString();n.loadAPI();var u=e.common.httpService.powerbiRequestOptions();return u.telemetryDescription="GetUserVoiceDetails",e.common.localization.loader.currentLanguageLocale.toLowerCase()===t?n.api.push(["set","locale",o]):e.common.localization.loader.currentLanguageLocale.toLowerCase()===i?n.api.push(["set","locale",r]):n.api.push(["set","locale",e.common.localization.loader.currentLanguageLocale||window.navigator.language||window.navigator.userLanguage]),n.api.push(["set",{accent_color:"#000000"}]),n.api.push(["set","ticket_custom_fields",{ClientSessionID:s.sessionId,TimeZone:p.substring(p.indexOf(" ")+1)}]),n.updateIdentificationInfo(),e.common.httpService.get("/powerbi/metadata/user/userVoiceDetails",u).then((function(t){null!=t.data&&null!=t.data.alternateEmail&&t.data.alternateEmail.length>0&&e.session.userInfo&&(e.session.userInfo.alternateEmail=t.data.alternateEmail),n.updateIdentificationInfo(),l.serviceLoaded=!0,c(),d.resolve({})})),$("body").on(jsCommon.DOMConstants.mouseDownEventName,(function(e){n.onBodyClick(e),a.hide()})),d}c()},n.loadAPI=function(){window.UserVoice||(window.UserVoice=window.UserVoice||[],(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//widget.uservoice.com/EPlzu5neSTcHV7QTq9luQ.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})())},n.updateEventBindings=function(){window.setTimeout((function(){n.activeWidgets=$(".uv-popover"),n.activeWidgets.on(jsCommon.DOMConstants.mouseClickEventName,(function(e){e.stopPropagation()}))}),250)},n.onBodyClick=function(e){n.activeWidgets&&n.activeWidgets.length>0&&(n.activeWidgets.remove(),n.activeWidgets=null)},n})();n.identifyKey="identify",n.serviceLoaded=!1,n.promiseFactory=e.createJQueryPromiseFactory(),e.UserVoiceService=n})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){function t(e,t){t.models=i(e.models,t.models),t.packages=i(e.packages,t.packages),t.reports=i(e.reports,t.reports),t.workbooks=i(e.workbooks,t.workbooks)}function i(e,t){if(_.isEmpty(e))return t;if(_.isEmpty(t))return e;for(var i={},o=0,r=t.length;o<r;o++){var a=t[o];i[a.id]=a}for(var n=0,s=e.length;n<s;n++){var c=e[n];i[c.id]=c}var l=[];for(var d in i)l.push(i[d]);return l}e.mergeDashboardContainerModelsReportsAndPackages=t})(t=e.contracts||(e.contracts={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.explore.contracts,o=e.explore.viewModels,r=(function(){function t(i,o){var r=this;this.scope=i,this.services=o,this.rtl=this.services.rtl,this.scope.userGroupHeader=new e.models.UserGroupHeaderModel,this.scope.viewModel.isLoaded=!1,this.scope.sortDescending=!1,this.scope.sortProperty="associatedReport.displayName",this.scope.onDeleteEmbedClick=function(e){return r.onDeleteEmbedClick(e)},this.scope.showEmbedCode=function(e){return r.showEmbedCode(e)},this.scope.updateSortProperty=function(e){return r.updateSortProperty(e)},this.loadEmbeddedResources(),this.scope.manageFlyoutStyle=t.ManageFlyoutInactiveStyle,this.scope.toggleFlyout=function(e,t){return r.toggleFlyout(e,t)},i.$on("$destroy",(function(){return r.dispose()})),$(window).on(jsCommon.DOMConstants.keyDownEventName,(function(e){return r.keyDownHideDialog(e)})),$(window).on(jsCommon.DOMConstants.mouseDownEventName,(function(e){return r.mouseDownHideDialog(e)}))}return t.createOptions=function(){return{additionalServices:["reportService","modelService","embedProxy","embed","errorService","modelConverter","localizationService","telemetryService","promiseFactory","modalDialogService","rtl","activeGroupId"]}},t.prototype.deleteEmbed=function(t,o){var r=this,a=_.find(this.scope.viewModel.embeddedResources,(function(e){return e.contract.snapshotId===t&&e.contract.embedType===o})),n=this.services.telemetryService.startEvent(e.telemetry.ManageEmbedDeleteEmbedCode,a.contract.snapshotId,a.contract.embedType,a.contract.disabled);this.deleteEmbedInternal(a).then((function(e){n.resolve();var i=_.findIndex(r.scope.viewModel.embeddedResources,(function(e){return e.contract.snapshotId===t&&e.contract.embedType===o}));r.scope.viewModel.embeddedResources.splice(i,1)}),(function(e){n.reject(),a.contract.embedType===i.EmbedType.Interactive&&r.services.errorService.error("Delete live embed error","DeleteLiveEmbedError",{requestId:e.requestId,statusCode:e.status.toString()})}))},t.prototype.onDeleteEmbedClick=function(e){var t=this,i=this.scope.$new(!0),o=[new InJs.ModalDialogAction(this.services.localizationService.get("ManageEmbed_PublishToWeb_DeleteConfirmationConfirmButtonText"),function(o,r){i.closeDialog(),t.deleteEmbed(e.contract.snapshotId,e.contract.embedType)},null,"confirmation"),new InJs.ModalDialogAction(this.services.localizationService.get("ManageEmbed_PublishToWeb_DeleteConfirmationCloseButtonText"),function(e,t){i.closeDialog()})],r=this.services.localizationService.get("ManageEmbed_PublishToWeb_DeleteConfirmationTitle"),a=this.services.localizationService.get("ManageEmbed_PublishToWeb_DeleteConfirmationMessage");i.viewModel={message:a};var n={dialogCssClass:"embedDeleteDialog",dialogName:r,template:"<confirmation-modal-dialog></confirmation-modal-dialog>",scope:i,dialogActions:o};this.services.modalDialogService.showLegacyWebModalDialog(n)},t.prototype.toggleFlyout=function(e,i){this.scope.manageFlyoutStyle===t.ManageFlyoutActiveStyle?this.scope.manageFlyoutStyle=t.ManageFlyoutInactiveStyle:(this.scope.selectedEmbed=i,this.showDialog(e))},t.prototype.showDialog=function(e){var i=this;if(!this.flyoutElement){var o=this.services.activeGroupId.isReadOnly?t.ManageFlyoutTemplateForReadOnlyMember:t.ManageFlyoutTemplateForNonReadOnlyMember;this.template=angular.element(o),this.flyoutElement=this.services.compile(this.template)(this.scope),this.arrowElement=this.flyoutElement.find(t.ArrowSelector),$("body").append(this.flyoutElement)}var r={left:e.pageX,top:e.pageY},a=e.target,n=a.clientWidth;this.services.timeout((function(){if(r.top-=i.flyoutElement.height()/2-t.PositionOffset.top,r.top=i.adjustPositionTop(r),i.rtl&&i.rtl.isRtlLayout){var e=i.flyoutElement.width();r.left=r.left-(e+t.ArrowWidth)-t.PositionOffset.left,i.arrowElement.addClass(t.rightArrowDirection)}else r.left+=n+t.ArrowWidth+t.PositionOffset.left;i.flyoutElement.css(r),i.scope.manageFlyoutStyle=t.ManageFlyoutActiveStyle}))},t.prototype.adjustPositionTop=function(e){var i=0,o=i+$(document).height()-this.flyoutElement.height();return e.top<i?(this.arrowElement.css({top:e.top+this.flyoutElement.height()/2-i+t.ArrowPositionOffset.top}),i):e.top>o?(this.arrowElement.css({top:e.top+this.flyoutElement.height()/2-o+t.ArrowPositionOffset.top}),o):(this.arrowElement.removeAttr("style"),e.top)},t.prototype.showEmbedCode=function(t){var i=this.scope.$new(!0),r=t.associatedReport.id,a=t.contract,n=a.name,s={name:n,reportId:r,culture:e.common.cultureInfo,size:{height:a.size.height,width:a.size.width},version:e.build},c=this.services.promiseFactory.defer();c.reject(),i.viewModel=o.ViewModelFactory.createEmbedModalDialog(this.services.localizationService,this.services.embed,void 0,s,c.promise,void 0);var l=i.viewModel;l.publishState=4,l.currentEmbed=a;var d=l.embedTab.embed,p=this.services.embed;d.link=p.createEmbedUri(a),d.embedCode=p.createEmbedCode(a);var u={containerCssClass:"small embedContainer",dialogCssClass:"embedDialog",dialogName:null,template:"<embed-modal-dialog></embed-modal-dialog>",scope:i};this.services.modalDialogService.showLegacyWebModalDialog(u)},t.prototype.deleteEmbedInternal=function(e){if(e.contract.embedType===i.EmbedType.Interactive)return this.services.embedProxy.deleteLiveEmbed(e.contract.snapshotId)},t.prototype.loadEmbeddedResources=function(){this.scope.viewModel.isLoaded=!1,this.scope.viewModel.embeddedResources=[],this.loadAllEmbeds()},t.prototype.loadAllEmbeds=function(){var t=this,i=this.services.telemetryService.startEvent(e.telemetry.ManageEmbedLoadAllLiveEmbeddedResources);this.services.embedProxy.getLiveEmbeds().then((function(e){i.resolve(),t.processAllEmbeddedResources(e),t.scope.viewModel.isLoaded=!0}),(function(e){i.reject(),t.scope.viewModel.isLoaded=!0,t.services.errorService.error(t.services.localizationService.get("ManageEmbed_ErrorMessage_FailedGetLiveEmbeds"),"FailedGetLiveEmbedForReport",{requestId:e.requestId,statusCode:e.status.toString()})}))},t.prototype.processAllEmbeddedResources=function(e){for(var t=this,i=0,o=e.length;i<o;i++){var r=this.services.reportService.findReport(e[i].reportId);r.model=r.model||this.services.modelService.findModel(r.modelId,r.packageId);var a=this.services.modelConverter.convertEmbedToEmbeddedResource(e[i],r);this.services.localizationService.ensureLocalization((function(){a.embedType=t.services.localizationService.get(a.embedTypeLocalizationKey),a.status=t.services.localizationService.get(a.statusLocalizationKey),t.scope.viewModel.embeddedResources.push(a)}))}},t.prototype.mouseDownHideDialog=function(e){var i=this;this.clickOutsideFlyout(e)&&this.scope.$apply((function(){i.scope.manageFlyoutStyle=t.ManageFlyoutInactiveStyle}))},t.prototype.keyDownHideDialog=function(e){var i=this;this.scope.manageFlyoutStyle===t.ManageFlyoutActiveStyle&&27===e.keyCode&&this.scope.$apply((function(){i.scope.manageFlyoutStyle=t.ManageFlyoutInactiveStyle}))},t.prototype.clickOutsideFlyout=function(e){var i=e.pageX,o=e.pageY;if(this.flyoutElement&&this.scope.manageFlyoutStyle===t.ManageFlyoutActiveStyle){var r=this.flyoutElement.offset(),a=r.left,n=r.top,s=a+this.flyoutElement.width(),c=n+this.flyoutElement.height();return a>i||i>s||n>o||o>c}return!1},t.prototype.dispose=function(){this.flyoutElement&&this.flyoutElement.remove(),$(window).off(jsCommon.DOMConstants.keyDownEventName,this.keyDownHideDialog),$(window).off(jsCommon.DOMConstants.mouseDownEventName,this.mouseDownHideDialog)},t.prototype.updateSortProperty=function(e){this.scope.sortProperty===e?this.scope.sortDescending=!this.scope.sortDescending:(this.scope.sortProperty=e,this.scope.sortDescending=!1)},t})();r.ArrowWidth=28,r.ArrowPositionOffset={left:0,top:-10},r.ArrowSelector=".wrapper .arrow",r.ManageFlyoutActiveStyle="active",r.ManageFlyoutInactiveStyle="inactive",r.rightArrowDirection="right",r.PositionOffset={left:-22,top:0},r.GetCodeTemplate="<div class='action alignIcon'><i class='glyphicon glyph-small pbi-glyph-code'></i><a href='' localize='ManageEmbed_CodeText' ng-click='showEmbedCode(selectedEmbed)'></a></div>",r.DeleteTemplate="<div class='alignIcon'><i class='glyphicon glyph-small pbi-glyph-delete'></i><a href='' localize='ManageEmbed_DeleteText' ng-click='onDeleteEmbedClick(selectedEmbed)'></a></div>",r.ManageFlyoutTemplate="<div class='manageFlyout active' ng-class='manageFlyoutStyle'><div class='wrapper'><div class='arrow'></div><div class='manageFlyout-container'>{0}</div></div></div>",r.ManageFlyoutTemplateForReadOnlyMember=jsCommon.StringExtensions.format(r.ManageFlyoutTemplate,r.GetCodeTemplate),r.ManageFlyoutTemplateForNonReadOnlyMember=jsCommon.StringExtensions.format(r.ManageFlyoutTemplate,r.GetCodeTemplate+"<br/>"+r.DeleteTemplate),t.ManageEmbedView=r})(t=e.controllers||(e.controllers={}));
})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.helpers.ModelConverterHelper,o=(function(){function t(e,t){this.scope=e,this.services=t,this.initialize(this.scope.viewModel)}return t.createOptions=function(){return{additionalServices:["localizationService","modelConverter","modelService","navigation","storageUsageService","userSettingsService","featureSwitchService","dashboardDataService","rtl","sampleQuestionsService"],scopedServiceRoot:!0}},t.prototype.initialize=function(t){var o=this,r=!t||!t.models;if(r&&this.services.navigation.inQnaView()){var a=this.services.dashboardDataService.activeDashboard,n=this.services.dashboardDataService.activeDashboardModels;a&&n?(this.scope.viewModel.models=n,this.scope.viewModel.title=a.displayName):this.unregisterDashboardContainerWatch=this.services.rootScope.$on(e.constants.dashboardContainerLoaded,(function(){var e=o.services.dashboardDataService.activeDashboard,t=o.services.dashboardDataService.activeDashboardModels;o.scope.viewModel.models=t,o.scope.viewModel.title=e.displayName}))}else r&&this.services.navigation.inQnaModelView()&&this.services.modelService.modelsPromise.then((function(e){var t=o.services.navigation.currentDatasetDBName,i=_(e).filter((function(e){return e.dbName===t})).map((function(e){return e.contract})).value();o.scope.viewModel.models=i,o.scope.viewModel.title=i[0].displayName}));this.scope.questionBoxOutput={utterance:"",showQnaFeedback:!1,showPinButton:!1,interpretUtterance:null,updateUtteranceWithoutInterpret:null,clearQuestionBox:null,showUserFeedbackDialog:null},this.scope.newQnaEnabled=!this.services.rtl.isRtlLayout,this.scope.getAdditionalODataFilter=function(){return o.services.navigation.additionalODataFilter},this.scope.pinQnAVisual=function(e){return o.pinQnAVisual(e)},this.scope.showQnaStart=function(){return o.showQnaStart()};var s=this.scope.navigation=this.services.navigation,c={getInitialVisualState:function(){return 4},setInterpretListener:function(e){o.scope.infoNavContainerInterpretListener=e},updatePinIconState:function(e){o.scope.pinIconState=e},setUtteranceText:function(e){o.scope.questionBoxOutput.updateUtteranceWithoutInterpret(e)}};this.scope.infoNavHostService=c,this.scope.allowQnaDataCollection=!1,this.services.userSettingsService.getUserSettings().then((function(e){e&&(o.scope.allowQnaDataCollection=e.allowQnaDataCollection)}));var l=this.services.rootScope.$on(e.constants.notifyUpdateAllowQnaDataCollectionEventName,(function(e,t){e.stopPropagation(),e.preventDefault(),o.scope.allowQnaDataCollection=t}));if(this.scope.$watch("viewModel.models",(function(e){if(e){var t=o.services.featureSwitchService.featureSwitches;o.scope.modelsSupportQna=_.some(e,(function(e){return i.getIsQnaSupported(e,t)}))}})),s.qnaQuery)var d=this.scope.$watch("questionBoxOutput.interpretUtterance",(function(e){e&&(e(s.qnaQuery),o.watchUtteranceForNavigation(),d())}));else this.watchUtteranceForNavigation();this.services.localizationService.ensureLocalization((function(){o.scope.unsupportedModelMessage=o.services.localizationService.get("QnAVisualization_UnsupportedModelTitleText")})),this.scope.$on("$destroy",(function(){l(),o.unregisterDashboardContainerWatch&&o.unregisterDashboardContainerWatch()})),this.setQnaEnableAndTilesUtterance()},t.prototype.watchUtteranceForNavigation=function(){var e=this.services.navigation;this.scope.$watch("questionBoxOutput.utterance",(function(t){e.inQnaModelView()||e.inQnaView()?e.showQnaView(t,2,!1):_.isEmpty(t)||(e.qnaQuery||"")===(t||"")||e.showQnaView(t,0,!1)}))},t.prototype.pinQnAVisual=function(t){t.stopPropagation(),this.services.rootScope.$emit(e.infonav.constants.pinSelectedVisual)},t.prototype.showQnaStart=function(){var e=this.services.navigation;e.showQnaStart(e.inQnaStartView()?2:0)},t.prototype.setQnaEnableAndTilesUtterance=function(){var e=this.services.dashboardDataService;e.updateIsQnaEnabled();var t=e.activeDashboard&&e.activeDashboard.tiles;if(!_.isEmpty(t)){var i=this.services.sampleQuestionsService;i.clearTilesUtterance();for(var o=0,r=t;o<r.length;o++){var a=r[o];_.isEmpty(a.utterance)||i.addTileUtterance(a.utterance,a.contract.modelId)}}},t})();t.QnaContainerController=o})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.services.FullScreenFitStyle,o=(function(){function t(o,r){var a=this;this.restrict="E",this.templateUrl="views/fullScreenControls.html",this.replace=!0,this.scope={},this.link=function(o,r,n){var s=-1,c=function(){s!==-1&&(window.clearTimeout(s),r.addClass(t.TransitioningCSSClass)),s=window.setTimeout((function(){s=-1,r.removeClass(t.TransitioningCSSClass)}),t.ControlDisplayTimeInMs)},l=function(e){o.$applyAsync((function(){return 27===e.keyCode?void(a.fullScreen.fullScreenMode=!1):void(a.navigation.inDashboardDetailView()&&83===e.keyCode?o.toggleFitContent():a.navigation.inDashboardDetailView()&&87===e.keyCode?o.toggleFitWidth():a.navigation.inReportDetailView()&&(37===e.keyCode?a.fullScreen.fullScreenPreviousPage():39===e.keyCode&&a.fullScreen.fullScreenNextPage()))}))};o.toggleFitContent=function(){a.fullScreen.fitStyle=a.fullScreen.fitStyle!==i.FitToContent?i.FitToContent:i.None},o.toggleFitWidth=function(){a.fullScreen.fitStyle=a.fullScreen.fitStyle!==i.FitToWidth?i.FitToWidth:i.None},o.print=function(){return window.print()},o.exitFullScreen=function(){return a.fullScreen.fullScreenMode=!1},o.fullScreen=a.fullScreen,o.navigation=a.navigation,o.$watch("fullScreen.fullScreenMode",(function(e,t){e?(c(),$(document).on("mousemove",c),$(document).on("keydown",l)):($(document).off("mousemove",c),$(document).off("keydown",l))})),o.$on(e.common.constants.scopeDestroyEventName,(function(){$(document).off("mousemove",c),$(document).off("keydown",l)}))},this.fullScreen=o,this.navigation=r}return t})();o.TransitioningCSSClass="transitioning",o.ControlDisplayTimeInMs=1500,t.FullScreenControls=o})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/manageEmbedView.html",this.scope={viewModel:"=",dashboardContainer:"="},this.replace=!0,this.controller=e.common.createController(e.controllers.ManageEmbedView)}return t})();t.ManageEmbedView=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.templateUrl="views/qna/qnaContainer.html",this.replace=!0,this.scope={viewModel:"=",collapsiblePaneMode:"="},this.controller=e.common.createController(e.controllers.QnaContainerController)}return t})();t.QnaContainer=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){}return e})();e.ManageEmbedViewModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e){this.contract=e}return e})();e.QnaContainer=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={})),angular.module("powerbi").run(["$templateCache",function(e){e.put("components/alertsEditor/alertsEditor.html",'<div id="alertsEditor" class="paneLayout"><header><div class="alertsPaneHeader"><h4 class="alertsEditorPaneTitle" ng-bind="::$ctrl.viewModel.tileName"></h4><h4 class="alertsEditorPaneSubtitle" localize="AlertsPane_Title"></h4></div> <button class="optionsMenuButton" dropdown-overlay-invoke="moreOptionsMenu"><i class="glyphicon pbi-glyph-more glyph-small"></i></button><dropdown-overlay dropdown-overlay-name="moreOptionsMenu" dropdown-overlay-class="angular-dropdown override-box-shadow"><dropdown-menu-items dropdown-items="::$ctrl.viewModel.moreOptionsMenu" dropdown-class="additionalMenus active" dropdown-on-item-selected="$ctrl.moreOptionsMenuSelected(selected)"></dropdown-menu-items></dropdown-overlay></header><section class="banner" ng-if="!$ctrl.isLoading"><pbi-button label="AlertsPane_AddAlert" class="wideButton" icon-name="add" primary="true" ng-click="$ctrl.addNewAlert()"></pbi-button></section><section class="contentContainer"><div class="alertsLoadingContainer" ng-if="$ctrl.isLoading"><spinner modern></spinner><div class="alertsLoadingText" localize="AlertsPane_Loading"></div></div><div ng-if="!$ctrl.isLoading"><div class="noAlertsContainer" ng-if="!$ctrl.viewModel.alerts || $ctrl.viewModel.alerts.length <= 0"><i class="glyphicon glyph-medium pbi-glyph-bell"></i><div class="noAlertsText" localize="AlertsPane_NoAlerts"></div></div><div class="alertsContainer" ng-if="$ctrl.viewModel.alerts.length> 0"><form name="$ctrl.alertForm"><div class="alert" ng-repeat="alert in $ctrl.viewModel.alerts track by $index"><div class="alertHeader" ng-click="alert.isExpanded = !alert.isExpanded"><i class="glyphicon glyph-mini" ng-class="alert.isExpanded ? \'pbi-glyph-chevronupmedium\' : \'pbi-glyph-chevrondownmedium\'"></i><div class="alertTitle" ng-bind="alert.title" ng-attr-title="alert.title"></div><i class="alertDelete glyphicon glyph-small pbi-glyph-delete" ng-click="$ctrl.removeAlert($event, $index)"></i></div><div class="errorBlock" ng-if="alert.alertFailureState !== 0" ng-class="{hidden: !alert.isExpanded}"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" ng-repeat="failureMessage in ::$ctrl.viewModel.alertFailureMessages track by $index" ng-if="alert.alertFailureState === failureMessage.value" ng-bind="failureMessage.message" ng-attr-title="failureMessage.message"></div></div><div class="alertContent" ng-class="{hidden: !alert.isExpanded}"><pbi-toggle ng-model="alert.enabled" label="AlertsPane_ActiveLabel" on-state-text="AlertsPane_ToggleOn" off-state-text="AlertsPane_ToggleOff"></pbi-toggle><ng-form name="{{\'alertForm\' + $index}}"><fieldset ng-class="{disabled: !alert.enabled}"><pbi-textfield ng-disabled="!alert.enabled" ng-model="alert.title" ng-class="{validationError: !$ctrl.isValidTitle(alert)}" label="AlertsPane_AlertTitle" maxlength="250"></pbi-textfield><div class="errorBlock" ng-if="!$ctrl.isValidTitle(alert)"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="AlertsPane_InvalidTitle" localize-tooltip="AlertsPane_InvalidTitle"></div></div><pbi-textfield class="alertMeasureName" ng-model="alert.measureName" ng-disabled="true" label="AlertsPane_AlertRule"></pbi-textfield><div class="condition"><label localize="AlertsPane_Condition"></label> <select ng-disabled="!alert.enabled" ng-model="alert.operator" ng-options="operator.value as operator.label for operator in ::$ctrl.viewModel.operatorOptions"></select></div><pbi-textfield ng-disabled="!alert.enabled" class="alertThreshold" ng-model="alert.thresholdValue" ng-class="{validationError: !$ctrl.isValidThreshold(alert)}" label="AlertsPane_Threshold"></pbi-textfield><div class="errorBlock" ng-if="!$ctrl.isValidThreshold(alert)"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="AlertsPane_InvalidThreshold" localize-tooltip="AlertsPane_InvalidThreshold"></div></div><pbi-radio-group class="frequency" ng-disabled="!alert.enabled" ng-model="alert.frequency" label="AlertsPane_NotificationFrequency"><pbi-radio ng-repeat="frequency in ::$ctrl.viewModel.frequencyOptions track by $index" label="{{frequency.label}}" ng-value="frequency.value"></pbi-radio></pbi-radio-group><label localize="AlertsPane_NotificationFrequency_Message"></label><div class="alertNotificationEmailText" localize="AlertsPane_EmailText"></div><pbi-checkbox ng-disabled="!alert.enabled" label="AlertsPane_EmailLabel" ng-model="alert.emailNotificationEnabled"></pbi-checkbox></fieldset></ng-form></div></div></form></div></div></section><section class="banner"><ul><li><a href="https://go.microsoft.com/fwlink/?linkid=841258" target="_blank"><pbi-button label="AlertsPane_Microsoft_Flow" kind="text"></pbi-button></a></li></ul></section><footer><fieldset class="buttons"><spinner modern ng-if="$ctrl.isUpdating"></spinner><pbi-button primary="true" label="AlertsPane_Save" ng-click="$ctrl.saveChangesAndExit()" ng-disabled="!$ctrl.viewModel.isValid() || $ctrl.isUpdating || $ctrl.isLoading || !$ctrl.hasChangesToSave()"></pbi-button><pbi-button label="AlertsPane_Cancel" ng-click="$ctrl.cancel()"></pbi-button></fieldset></footer></div>'),e.put("components/appArtifactsList/appArtifactsList.html",'<section class="typeTitle" ng-click="$ctrl.toggle($event)"><i class="caret glyphicon pbi-glyph-caretright glyph-mini smallFontSize" ng-class="{expanded : $ctrl.viewModel.expanded}"/><span class="unselectable" localize="{{::$ctrl.viewModel.title}}"></span></section><section ng-if="$ctrl.viewModel.expanded" class="unselectable artifactsHeader"><header class="name trimmedTextWithEllipsis unselectable" localize="ContentHeader_Name"></header><header class="actions trimmedTextWithEllipsis unselectable" ng-class="::{noClassification: !$ctrl.viewModel.isDataClassificationEnabled}" localize="ContentHeader_Actions"></header><header ng-if="::$ctrl.viewModel.isDataClassificationEnabled" class="classification" localize="ContentHeader_Classification"></header></section><section ng-if="$ctrl.viewModel.expanded" class="artifactsScrollSection"><div class="itemContainer" ng-repeat="artifact in $ctrl.viewModel.artifacts"><section class="artifact"><section class="icons"><span class="tileTypeIndicator glyphicon glyph-small {{::$ctrl.viewModel.className}}"></span></section><section class="name" ng-class="{clickable: $ctrl.canOpenTile(artifact) }" ng-click="$ctrl.openContentTile(artifact)"><span class="displayName trimmedTextWithEllipsis" ng-bind="::artifact.displayName" title="{{::artifact.displayName}}"></span><pbi-icon ng-if="::$ctrl.isNew(artifact)" name="asterisk" size="mini"></pbi-icon></section><content-tile-options-menu class="actions unselectable" ng-class="::{readOnly: !$ctrl.canShowOptionsMenu(artifact), noClassification: !$ctrl.viewModel.isDataClassificationEnabled}" view-model="::artifact" in-list-view="true"></content-tile-options-menu><data-classification-label ng-if="::$ctrl.viewModel.isDataClassificationEnabled" class="classification unselectable" data-classification-id="artifact.dataClassificationId"></data-classification-label></section></div></section>'),e.put("components/appChannelHeader/appChannelHeader.html",'<header class="channelHeader" ng-style="{\'background-color\': $ctrl.viewModel.headerBackgroundColor, \'color\': $ctrl.getHeaderFontColor()}"><app-logo view-model="::$ctrl.viewModel" size="small"></app-logo><h6 class="header trimmedTextWithEllipsis unselectable" bind-text-and-tooltip="$ctrl.getAppTitle()"></h6><span class="description trimmedTextWithEllipsis" bind-text-and-tooltip="$ctrl.viewModel.description"></span><aside class="status"><div class="details"><pbi-icon name="gauge" size="small"></pbi-icon><span class="countLabel" bind-text-and-tooltip="$ctrl.dashboards.length.toString()"></span></div><div class="details"><pbi-icon name="barchart" size="small"></pbi-icon><span class="countLabel" bind-text-and-tooltip="$ctrl.reports.length.toString()"></span></div><div class="details"><pbi-icon name="excel" size="small"></pbi-icon><span class="countLabel" bind-text-and-tooltip="$ctrl.workbooks.length.toString()"></span></div><div class="details"><pbi-icon name="database" size="small"></pbi-icon><span class="countLabel" bind-text-and-tooltip="$ctrl.datasets.length.toString()"></span></div><div class="details appIndex" ng-if="::$ctrl.enableNavigation" ng-click="$ctrl.navigateToApp()"><pbi-icon name="bulletedlist" size="small"></pbi-icon><span class="countLabel" bind-text-and-tooltip="::$ctrl.appIndexLabel"></span></div></aside></header>'),e.put("components/appContainer/appContainer.html",'<app-channel-header view-model="::$ctrl.installedApp" ng-if="$ctrl.installedApp"></app-channel-header><div ng-if="$ctrl.installedApp && $ctrl.inAppArtifactsListView()" ng-init="$ctrl.updateExpandedState()" class="appContent"><div ng-repeat="artifactList in ::$ctrl.artifactLists" class="appDetail"><app-artifacts-list view-model="artifactList" ng-if="::!$ctrl.isEmptyList(artifactList)"></app-artifacts-list></div></div>'),e.put("components/appLogo/appLogo.html",'<section class="container {{::$ctrl.size}}" ng-switch="$ctrl.hasAppLogoImage()"><span ng-switch-when="true" class="imageLogo" ng-style="{\'background-image\': $ctrl.getAppLogoImageUrlStyle(), \'background-color\': $ctrl.viewModel.iconBackgroundColor}"></span><pbi-icon ng-switch-when="false" class="iconLogo" name="{{$ctrl.viewModel.icon}}" ng-style="{\'color\': $ctrl.viewModel.iconColor, \'background-color\': $ctrl.viewModel.iconBackgroundColor}" size="{{::$ctrl.size}}"></pbi-icon></section>'),e.put("components/appPlaceholder/appPlaceholder.html","<loading-watermark></loading-watermark>"),e.put("components/appsContainer/appsContainer.html",'<div class="mainContent"><div class="dashboardSliderMain" feature-switch-class="breadcrumbNavigationEnabled"><pbi-data-loader-spinner class="centered" ng-if="!$ctrl.isLoaded"></pbi-data-loader-spinner><div class="galleryContainer appsGallery" feature-switch-class="breadcrumbNavigationEnabled" ng-if="::$ctrl.isLoaded"><content-tile-container tiles="$ctrl.providers" place-holder-tile="::$ctrl.getAppTile" disable-lazy-loading="true" collapsible-pane-mode="false" ng-if="$ctrl.hasApps()"></content-tile-container><section ng-if="!$ctrl.hasApps()" class="emptyApps"><water-mark-message config="$ctrl.emptyAppsConfig"></water-mark-message><a href="{{::$ctrl.appsLink}}" target="_blank" localize="AppModel_NoAppsWarningContent"></a></section></div></div></div>'),e.put("components/breadcrumbs/breadcrumb.html",'<pbi-icon ng-if="::breadcrumb.beforeIcon && !breadcrumb.group" name="{{::breadcrumb.beforeIcon}}" size="{{::breadcrumb.beforeIconSize}}" class="breadcrumbBeforeIcon"></pbi-icon><group-icon ng-if="::breadcrumb.entity && breadcrumb.entity.aadGroupId && !breadcrumb.icon" group="breadcrumb.entity" placeholder-size="small"></group-icon><span ng-bind="breadcrumb.label"></span><pbi-icon ng-if="::breadcrumb.afterIcon && !breadcrumb.group" name="{{::breadcrumb.afterIcon}}" size="{{::breadcrumb.afterIconSize}}" class="breadcrumbAfterIcon"></pbi-icon>'),e.put("components/breadcrumbs/breadcrumbLabel.html",'<span class="breadcrumb" tooltip tooltip-config="breadcrumb.tooltipConfig"><ng-include src="::\'components/breadcrumbs/breadcrumb.html\'"></ng-include></span>'),e.put("components/breadcrumbs/breadcrumbLink.html",'<a class="breadcrumb" ui-sref="{{::breadcrumb.uiSref}}" ui-sref-opts="{{::breadcrumb.stateOptions}}" tooltip tooltip-config="breadcrumb.tooltipTemplateConfig" ng-click="$ctrl.logTelemetry(breadcrumb.state)"><ng-include src="::\'components/breadcrumbs/breadcrumb.html\'"></ng-include></a>'),e.put("components/breadcrumbs/breadcrumbs.html",'<pbi-icon ng-repeat-start="breadcrumb in $ctrl.breadcrumbs | filter: $ctrl.breadcrumbFilter" ng-if="!$first" name="chevronrightmedium" size="mini"></pbi-icon><ng-include ng-bind-attr-once="{class: breadcrumb.customClass}" src="$ctrl.getTemplate(breadcrumb, $last)"></ng-include><data-classification-label ng-repeat-end ng-if="::breadcrumb.entity && (breadcrumb.entity.dataClassificationId || breadcrumb.entity.dataClassificationId === 0)" data-classification-id="::breadcrumb.entity.dataClassificationId"></data-classification-label>'),e.put("components/contentDatasetActions/contentDatasetActions.html",'<section class="datacell optionsCell" ng-class="{\'publishing\': $ctrl.isPackagePublishInProgress($ctrl.viewModel.contract.packagePublishStatus)}"><section ng-if="::!$ctrl.streamingDataset"> <button class="createReport pbi-glyph-create-report" localize-tooltip="DashboardContextMenu_CreateReport" ng-if="::$ctrl.canCreateReport($ctrl.viewModel)" ng-click="$ctrl.createReport($ctrl.viewModel)"></button> <button class="refreshNow pbi-glyph-refresh" localize-tooltip="ContentTileOptions_RefreshNow" ng-if="::$ctrl.canRefreshNow($ctrl.viewModel)" ng-click="$ctrl.refreshNow($ctrl.viewModel.contract)"></button> <button class="scheduleRefresh pbi-glyph-refresh-data" localize-tooltip="ContentTileOptions_ScheduleRefresh" ng-if="::$ctrl.canScheduleRefresh($ctrl.viewModel)" ng-click="$ctrl.refreshSchedule($ctrl.viewModel.contract)"></button> <button class="viewRelated pbi-glyph-link" localize-tooltip="DashboardAppBar_ViewRelated" ng-if="::$ctrl.viewRelatedEnabled" ng-click="$ctrl.viewRelatedContent()"></button> <button class="moreButton pbi-glyph-more" ng-click="$ctrl.showOptions($ctrl.viewModel); $event.stopPropagation();" dropdown-overlay-invoke="{{::$ctrl.rowId}}" prefer-left="true" need-blur="true" disable-animation="true" localize-tooltip="Options_Menu"></button></section><section ng-if="::$ctrl.streamingDataset" class="actionContents"> <button class="glyphicon glyph-small actionIcon {{::action.iconClass}}" ng-repeat="action in $ctrl.getStreamingDatasetActions($ctrl.viewModel) track by action.action" ng-click="$ctrl.streamingDatasetActionSelected($ctrl.viewModel, action)" ng-attr-title="{{::action.text}}"></button></section><dropdown-overlay ng-if="$ctrl.menuSelected" dropdown-overlay-name="{{::$ctrl.rowId}}"><ul class="angular-dropdown active datasetActionList"><li ng-repeat="item in $ctrl.datasetMenuActions" class="dropdown-item" ng-mousedown="$ctrl.datasetMenuActionSelected(item); $event.stopPropagation();"><a href="" target="_blank"><div class="dropdown-content"><div class="dropdown-label" ng-bind="::item.text"></div></div></a></li></ul></dropdown-overlay></section>'),e.put("components/contentHeader/contentHeader.html",'<section ng-switch="$ctrl.tabType"><section class="unselectable" ng-switch-when="0"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="owner" localize="ContentHeader_Owner"></header><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification" localize="ContentHeader_Classification"></header></section><section class="unselectable" ng-switch-when="2"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="owner" localize="ContentHeader_Owner"></header></section><section class="unselectable" ng-switch-when="4"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="owner" localize="ContentHeader_Owner"></header></section><section class="unselectable" ng-switch-when="8"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="lastRefresh" localize="ContentHeader_LastRefresh"></header><header class="nextRefresh" localize="ContentHeader_NextRefresh"></header><header class="apiAccess" localize="ContentHeader_ApiAccess"></header></section><section class="unselectable" ng-switch-when="16"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="lastAccess" localize="ContentHeader_LastAccess"></header><header class="location" localize="ContentHeader_Location"></header><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification" localize="ContentHeader_Classification"></header></section><section class="unselectable" ng-switch-when="32"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="lastRefresh" localize="ContentHeader_LastRefresh"></header><header class="content" localize="ContentHeader_Content"></header><header class="url"><header class="trimmedTextWithEllipsis" localize="ContentHeader_URL"></header><pbi-icon name="information" size="small" tooltip tooltip-config="{tooltipLocalizeDescription: \'ContentList_Apps_Url_Tooltip\', tooltipArrowPosition: 1}"></pbi-icon></header></section><section class="unselectable" ng-switch-when="64"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="sharedTime" localize="ContentHeader_SharedTime"></header><header class="owner" localize="ContentHeader_Owner"></header><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification" localize="ContentHeader_Classification"></header></section><section class="unselectable" ng-switch-when="128"><header class="name" localize="ContentHeader_Name"></header><header class="actions" localize="ContentHeader_Actions"></header><header class="location" localize="ContentHeader_Owner"></header><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification" localize="ContentHeader_Classification"></header></section></section>'),e.put("components/contentListContainerV2/contentListContainerV2.html",'<div class="contentListView" ng-class="{\'initializing\': !$ctrl.initialized, \'onlySharedWithMe\': $ctrl.isOnlySharedWithMe()}"><div class="header"><div class="dashboardAppBar"><div ng-hide="$ctrl.groupService.activeGroup.isMyWorkspace || $ctrl.groupService.isInGroupTransition"> <button class="groupContextMenuButton appBarBtn dropDownBtn" dropdown-menu dropdown-class="navigationPaneGroupContextMenu" dropdown-items="$ctrl.groupContextMenu" dropdown-orientation="vertical" dropdown-on-item-selected="$ctrl.groupNavigationPaneMenuItemSelected(selected)" dropdown-separator-class="groupContextMenuSeparator"><i class="glyphicon moreIcon pbi-glyph-more"></i></button><pbi-button ng-if="$ctrl.isAppsEnabled() && !$ctrl.isActiveWorkspaceReadOnly" class="publishAppBtn appBarBtn" primary="true" localize-tooltip="CreateApp_Publish" label="CreateApp_Publish" icon-name="my-apps" ng-click="$ctrl.addChannel()"></pbi-button></div> <button ng-if="!$ctrl.isActiveWorkspaceReadOnly" dropdown-overlay-invoke="CreateContentListItem" preferLeft="true" needBlur="true" class="createButton dropDownBtn appBarBtn"><pbi-icon name="add" size="small"></pbi-icon><span class="label" localize="Create_ButtonText"></span></button><dropdown-overlay dropdown-overlay-name="CreateContentListItem" class="overlayTopBar"><dropdown-list class="topBar contentListViewDropdown"><dropdown-list-item ng-click="$ctrl.addDashboard()" localize="ContentList_Dashboard"></dropdown-list-item><dropdown-list-item ng-click="$ctrl.addReport()" localize="ContentList_Report"></dropdown-list-item><dropdown-list-item ui-sref="landing.groups.group.getData" localize="ContentList_Dataset"></dropdown-list-item><dropdown-list-item ng-click="$ctrl.showStreamingDatasetGalleryPane()" localize="ContentList_StreamingDataset"></dropdown-list-item></dropdown-list></dropdown-overlay></div></div><div class="dashboardControls"><search-box should-focus="::true" on-change="$ctrl.onSearchTextChange()" on-blur="$ctrl.resolveSearchTelemetry()" filter="$ctrl.searchText" placeholder="SearchContent"></search-box></div><div class="contentListOptionsTabs unselectable"><div class="left"><div class="optionTab dashboard label-med" ng-class="{selected: $ctrl.activeTab === 0}" ng-click="$ctrl.setActiveTab(0)" localize="ContentList_Dashboards"></div><div class="optionTab report label-med" ng-class="{selected: $ctrl.activeTab === 2}" ng-click="$ctrl.setActiveTab(2)" localize="ContentList_Reports"></div><div class="optionTab workbook label-med" ng-class="{selected: $ctrl.activeTab === 4}" ng-click="$ctrl.setActiveTab(4)" localize="ContentList_Workbooks"></div><div class="optionTab dataset label-med" ng-if="$ctrl.canManageDatasets" ng-class="{selected: $ctrl.activeTab === 8}" ng-click="$ctrl.setActiveTab(8)" localize="ContentList_Datasets"></div></div><div class="right"><span class="count" localize="ShowingXItems" localize-fragments><span fragment-index="0" ng-bind="$ctrl.getNumberOfShownTabItems()"></span></span><select-tile-sort selected-predicate="$ctrl.sortPredicate" on-select="$ctrl.selectSort" predicates="$ctrl.sortPredicates"></select-tile-sort></div></div><div class="dashboardSliderMain"><spinner ng-show="$ctrl.showSpinner" class="large centered"></spinner><water-mark-message config="$ctrl.getWatermarkConfig()" ng-show="$ctrl.getWatermarkConfig()"></water-mark-message><content-list-gallery view-model="::$ctrl.galleryViewModel" is-data-classification-enabled="$ctrl.dataClassificationEnabled"></content-list-gallery></div></div>'),e.put("components/contentListGallery/contentListGallery.html",'<div class="galleryContainer" ng-class="$ctrl.galleryContainerStyle"><content-header class="contentHeaderSection" tab-type="$ctrl.viewModel.tabType" is-data-classification-enabled="::$ctrl.isDataClassificationEnabled"></content-header><content-row-container tab-type="$ctrl.viewModel.tabType" tiles="$ctrl.viewModel.getTiles()" is-data-classification-enabled="::$ctrl.isDataClassificationEnabled" collapsible-pane-mode="$ctrl.viewModel.collapsiblePaneMode" finish-load-event="{{::$ctrl.viewModel.finishLoadEvent}}"></content-row-container></div>'),e.put("components/contentRow/contentRow.html",'<section class="galleryItem" ng-switch="::$ctrl.tabType" ng-class="{selected: $ctrl.viewModel.isContentTileSelected, publishing: $ctrl.publishInProgress()}" data-id="{{::$ctrl.viewModel.id}}" data-name="{{::$ctrl.viewModel.displayName}}"><section class="galleryItemContainer" ng-switch-when="0"><section class="nameDetails"><span class="tileTypeIndicator glyphicon pbi-glyph-gauge glyph-small" localize-tooltip="Artifact_Dashboard"></span><header class="favoriteIndicator"><span ng-if="$ctrl.canFavorite()" class="favoriteBtn pbi-glyph-favoritestar" localize-tooltip="Artifact_Favorite" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.favoriteContentTile()"></span><span ng-if="$ctrl.canUnFavorite()" class="unfavoriteBtn powervisuals-glyph star-full" localize-tooltip="Artifact_Favorite" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.unfavoriteContentTile()"></span></header><header class="galleryItemTitle trimmedTextWithEllipsis" title="{{$ctrl.viewModel.displayName}}" ng-click="$ctrl.openContentTile()"><span ng-bind="$ctrl.viewModel.displayName"></span><pbi-icon ng-if="::$ctrl.isNew()" name="asterisk" size="mini"></pbi-icon></header><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="::false" refresh-related="false"></dataset-icon-container></section><content-tile-options-menu class="tileOptions unselectable" ng-class="{readOnly: !$ctrl.canShowOptionsMenu()}" view-model="::$ctrl.viewModel" in-list-view="true"></content-tile-options-menu><header class="authorName trimmedTextWithEllipsis" ng-bind="::$ctrl.getOwnerNameOrMailForDashboard()" title="{{::$ctrl.getOwnerNameOrMailForDashboard()}}"></header><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification unselectable"><data-classification-label data-classification-id="$ctrl.viewModel.dataClassificationId"></data-classification-label></header></section><section class="galleryItemContainer" ng-switch-when="2"><section class="nameDetails"><span class="tileTypeIndicator glyphicon pbi-glyph-barchart glyph-small" localize-tooltip="Artifact_Report"></span><header class="galleryItemTitle trimmedTextWithEllipsis" ng-click="$ctrl.openContentTile()"><span ng-bind="$ctrl.viewModel.displayName"></span><pbi-icon ng-if="::$ctrl.isNew()" name="asterisk" size="mini"></pbi-icon></header><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="::false" refresh-related="false"></dataset-icon-container></section><content-tile-options-menu class="tileOptions unselectable" ng-class="{readOnly: !$ctrl.canShowOptionsMenu()}" view-model="::$ctrl.viewModel" in-list-view="true"></content-tile-options-menu><header class="authorName trimmedTextWithEllipsis" ng-bind="::$ctrl.viewModel.ownerFullname" title="{{::$ctrl.viewModel.ownerFullname}}"></header></section><section class="galleryItemContainer" ng-switch-when="4"><section class="nameDetails"><span class="tileTypeIndicator glyphicon pbi-glyph-excel glyph-small" localize-tooltip="Artifact_Workbook"></span><header class="galleryItemTitle trimmedTextWithEllipsis" title="{{$ctrl.viewModel.displayName}}" ng-click="$ctrl.openContentTile()"><span ng-bind="$ctrl.viewModel.displayName"></span><pbi-icon ng-if="::$ctrl.isNew()" name="asterisk" size="mini"></pbi-icon></header><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="::false" refresh-related="false"></dataset-icon-container><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="::false" refresh-related="true"></dataset-icon-container></section><content-tile-options-menu class="tileOptions unselectable" ng-class="{readOnly: !$ctrl.canShowOptionsMenu()}" view-model="::$ctrl.viewModel" in-list-view="true"></content-tile-options-menu><header class="authorName trimmedTextWithEllipsis" ng-bind="::$ctrl.viewModel.ownerFullname" title="{{::$ctrl.viewModel.ownerFullname}}"></header></section><section class="galleryItemContainer" ng-switch-when="8"><section class="nameDetails"><span class="tileTypeIndicator glyphicon pbi-glyph-database glyph-small" localize-tooltip="Artifact_Dataset"></span><header class="galleryItemTitle trimmedTextWithEllipsis" title="{{$ctrl.viewModel.displayName}}" ng-click="$ctrl.openContentTile()"><span ng-bind="$ctrl.viewModel.displayName"></span><pbi-icon ng-if="::$ctrl.isNew()" name="asterisk" size="mini"></pbi-icon></header><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="::false" refresh-related="false"></dataset-icon-container></section><header class="tileOptions unselectable"><content-dataset-actions view-model="::$ctrl.viewModel" can-show-new="::false" streaming-dataset="$ctrl.streamingDataset"></content-dataset-actions></header><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="::false" refresh-related="true"></dataset-icon-container><header class="lastRefresh trimmedTextWithEllipsis" ng-bind="$ctrl.convertRefreshTimeToJsDateTime($ctrl.viewModel.contract.lastRefreshTime) | date:\'h:mm a MM.dd.yyyy\'"></header><header class="nextRefresh trimmedTextWithEllipsis" ng-bind="$ctrl.convertRefreshTimeToJsDateTime($ctrl.viewModel.contract.nextRefreshTime) | date:\'h:mm a MM.dd.yyyy\'"></header><header class="apiAccess trimmedTextWithEllipsis" ng-bind="::$ctrl.apiAccessType" title="{{::$ctrl.apiAccessType}}"></header></section><section class="galleryItemContainer" ng-switch-when="16" ng-init="$ctrl.initializeMruRow()"><section class="nameDetails" ng-switch="::$ctrl.getActualContentType()"><span class="tileTypeIndicator glyphicon pbi-glyph-barchart glyph-small" localize-tooltip="Artifact_Report" ng-switch-when="2"></span><span class="tileTypeIndicator glyphicon pbi-glyph-gauge glyph-small" localize-tooltip="Artifact_Dashboard" ng-switch-when="4"></span><span class="tileTypeIndicator glyphicon pbi-glyph-excel glyph-small" localize-tooltip="Artifact_Workbook" ng-switch-when="8"></span><span class="tileTypeIndicator glyphicon pbi-glyph-my-apps glyph-small" localize-tooltip="Artifact_InstalledApp" ng-switch-when="16"></span><header class="favoriteIndicator" ng-if="$ctrl.isItemAvailable"><span ng-if="$ctrl.canFavorite()" class="favoriteBtn pbi-glyph-favoritestar" localize-tooltip="Artifact_Favorite" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.favoriteContentTile()"></span><span ng-if="$ctrl.canUnFavorite()" class="unfavoriteBtn powervisuals-glyph star-full" localize-tooltip="ContentListMenu_RemoveFavorite" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.unfavoriteContentTile()"></span></header> <button class="galleryItemTitle trimmedTextWithEllipsis" title="{{::$ctrl.viewModel.displayName}}" ng-click="$ctrl.openContentTile()" ng-class="{\'notAvailable\': !$ctrl.isItemAvailable}"><span ng-bind="$ctrl.viewModel.displayName"></span><pbi-icon ng-if="::$ctrl.isNew()" name="asterisk" size="mini"></pbi-icon><pbi-icon ng-if="::$ctrl.hasCapacity()" name="database" size="mini"></pbi-icon></button></section><header class="tileOptions unselectable" ng-class="{\'readOnly\': !$ctrl.isItemAvailable}"><content-tile-options-menu view-model="::$ctrl.getOriginalContentTileOrViewModel()" delete-enabled="false" in-list-view="true"></content-tile-options-menu></header><header class="lastAccess trimmedTextWithEllipsis" ng-bind="::$ctrl.getPrettyDate($ctrl.viewModel.lastAccess)"></header> <button class="location" ng-click="$ctrl.navigateToGroup()"><header class="locationName trimmedTextWithEllipsis" title="{{::$ctrl.groupName}}" ng-bind="::$ctrl.groupName"></header></button><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification unselectable"><data-classification-label data-classification-id="$ctrl.viewModel.dataClassificationId"></data-classification-label></header></section><section class="galleryItemContainer" ng-switch-when="32"><section class="name"><section class="flexbox"><app-logo view-model="::$ctrl.viewModel" size="small"></app-logo><header class="galleryItemTitle trimmedTextWithEllipsis" ng-attr-title="{{::$ctrl.viewModel.displayName}}" ng-click="$ctrl.openContentTile()" ng-bind="::$ctrl.viewModel.displayName"></header><span ng-if="$ctrl.viewModel.providerContract.isDirty" class="indicator glyphicon pbi-glyph-warning glyph-small" localize-tooltip="PublishApp_ChangedTooltip"></span></section></section><content-tile-options-menu class="tileOptions unselectable actions" view-model="::$ctrl.viewModel"></content-tile-options-menu><header class="lastRefresh trimmedTextWithEllipsis" ng-bind="::$ctrl.getLocalizedDate($ctrl.viewModel.publishTime)"></header><header class="content trimmedTextWithEllipsis" ng-attr-title="{{::$ctrl.getChannelContentDescription()}}" ng-bind="::$ctrl.getChannelContentDescription()"></header><editable-label class="url" readonly="true" view-model="{ displayName: $ctrl.viewModel.url }"></editable-label></section><section class="galleryItemContainer" ng-switch-when="64"><section class="nameDetails"><span class="tileTypeIndicator glyphicon pbi-glyph-gauge glyph-small" localize-tooltip="Artifact_Dashboard"></span><header class="favoriteIndicator"><span ng-if="$ctrl.canFavorite()" class="favoriteBtn pbi-glyph-favoritestar" localize-tooltip="Artifact_Favorite" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.favoriteContentTile()"></span><span ng-if="$ctrl.canUnFavorite()" class="unfavoriteBtn powervisuals-glyph star-full" localize-tooltip="Artifact_Favorite" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.unfavoriteContentTile()"></span></header><header class="galleryItemTitle trimmedTextWithEllipsis" title="{{$ctrl.viewModel.displayName}}" ng-click="$ctrl.openContentTile()"><span ng-bind="$ctrl.viewModel.displayName"></span><pbi-icon ng-if="::$ctrl.isNew()" name="asterisk" size="mini"></pbi-icon><pbi-icon ng-if="::$ctrl.hasCapacity()" name="database" size="mini"></pbi-icon></header><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="::false" refresh-related="false"></dataset-icon-container></section><content-tile-options-menu class="tileOptions unselectable" ng-class="{readOnly: !$ctrl.canShowOptionsMenu()}" view-model="::$ctrl.viewModel" in-list-view="true"></content-tile-options-menu><header class="sharedTime trimmedTextWithEllipsis" ng-bind="::$ctrl.getPrettySharedDate($ctrl.viewModel.sharedTime)"></header><section class="authorName"><header ng-if="$ctrl.getOwnerNameOrMailForDashboard()" class="trimmedTextWithEllipsis" ng-bind="::$ctrl.getOwnerNameOrMailForDashboard()" title="{{::$ctrl.getOwnerNameOrMailForDashboard()}}"></header><header ng-if="!$ctrl.getOwnerNameOrMailForDashboard()" localize="SharedWithMe_Owner_Loading" localize-tooltip="SharedWithMe_Owner_Loading"></header></section><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification unselectable"><data-classification-label data-classification-id="$ctrl.viewModel.dataClassificationId"></data-classification-label></header></section><section class="galleryItemContainer" ng-switch-when="128" ng-init="$ctrl.initializeFavoriteRow()"><section class="nameDetails" ng-switch="::$ctrl.getActualContentType()"><span class="tileTypeIndicator glyphicon pbi-glyph-gauge glyph-small" localize-tooltip="Artifact_Dashboard" ng-switch-when="4"></span><span class="tileTypeIndicator glyphicon pbi-glyph-my-apps glyph-small" localize-tooltip="Artifact_InstalledApp" ng-switch-when="16"></span><header class="favoriteIndicator"><span class="unfavoriteBtn powervisuals-glyph star-full" localize-tooltip="ContentListMenu_RemoveFavorite" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.unfavoriteContentTile()"></span></header> <button class="galleryItemTitle trimmedTextWithEllipsis" title="{{::$ctrl.viewModel.displayName}}" ng-click="$ctrl.openContentTile()"><span ng-bind="::$ctrl.viewModel.displayName"></span><pbi-icon ng-if="::$ctrl.hasCapacity()" name="database" size="mini"></pbi-icon><dataset-icon-container view-model="$ctrl.viewModel" refresh-related="false"></dataset-icon-container></button></section><header class="tileOptions unselectable favoriteOptions"><content-tile-options-menu view-model="::$ctrl.viewModel" in-list-view="true"></content-tile-options-menu></header><header class="location"><header class="locationName trimmedTextWithEllipsis" bind-text-and-tooltip="::$ctrl.viewModel.ownerInfo"></header></header><header ng-if="::$ctrl.isDataClassificationEnabled" class="classification unselectable"><data-classification-label data-classification-id="::$ctrl.viewModel.dataClassificationId"></data-classification-label></header></section></section>'),
e.put("components/contentRowContainer/contentRowContainer.html",'<div ng-switch="$ctrl.tabType" class="contentScrollSectionContainer"><div ng-switch-when="0" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles() track by tile.id" view-model="tile" tab-type="::$ctrl.tabType" is-data-classification-enabled="::$ctrl.isDataClassificationEnabled" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div><div ng-switch-when="2" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles() track by tile.uniqueId" view-model="tile" tab-type="::$ctrl.tabType" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div><div ng-switch-when="4" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles() track by tile.uniqueId" view-model="tile" tab-type="::$ctrl.tabType" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div><div ng-switch-when="8" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles() track by tile.id" view-model="tile" tab-type="::$ctrl.tabType" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div><div ng-switch-when="16" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles()" view-model="tile" tab-type="::$ctrl.tabType" is-data-classification-enabled="::$ctrl.isDataClassificationEnabled" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div><div ng-switch-when="32" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles()" view-model="tile" tab-type="::$ctrl.tabType" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div><div ng-switch-when="64" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles() track by tile.id" view-model="tile" tab-type="::$ctrl.tabType" is-data-classification-enabled="::$ctrl.isDataClassificationEnabled" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div><div ng-switch-when="128" class="contentScrollSection" vs-repeat ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><content-row ng-repeat="tile in $ctrl.getTiles() track by tile.uniqueId" view-model="tile" tab-type="::$ctrl.tabType" is-data-classification-enabled="::$ctrl.isDataClassificationEnabled" disable-lazy-loading="::$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-row></div></div>'),e.put("components/contentTile/contentTile.html",'<li class="galleryItem unselectable" ng-class="{\'selected\': $ctrl.viewModel.isContentTileSelected, \'publishing\':$ctrl.publishInProgress()}" data-id="{{::$ctrl.viewModel.id}}" data-content-tile-type="{{$ctrl.getTileTypeName()}}" data-name="{{::$ctrl.viewModel.displayName}}" in-viewport="$ctrl.onceInViewport()" in-viewport-context=".dashboardSliderMain" in-viewport-offset="150%"><div class="galleryTileContainer" ng-switch="$ctrl.viewModel.contentTileType" ng-click="$ctrl.openContentTile()"><div class="backgroundAndContent" ng-switch-when="1" ng-init="$ctrl.viewModel.workspaceId ? $ctrl.setGroupIcon($ctrl.viewModel.workspaceId) : $ctrl.setUserPhoto()"><div class="galleryBackground" ng-switch="$ctrl.viewModel.favoriteType"><div class="dashboardFavorite" ng-switch-when="1"><i class="glyphicon dashboardWatermarkIcon pbi-glyph-gauge glyph-large"></i><div class="galleryIcons"><i class="glyphicon pbi-glyph-gauge glyph-med" title="{{::$ctrl.dashboardTitle}}"></i></div></div><div class="reportFavorite" ng-switch-when="2"><i class="glyphicon reportWatermarkIcon pbi-glyph-barchart glyph-large"></i><div class="galleryIcons"><i class="glyphicon pbi-glyph-barchart glyph-large"></i></div></div></div><div class="iconsContainer"><div ng-if="!$ctrl.isMyWorkspace" class="owner" ng-switch="$ctrl.hasGroupIconSet" title="{{::$ctrl.groupName}}"><i ng-switch-when="false" class="glyphicon pbi-glyph-group glyph-med groupIcon placeholder"></i> <img class="groupIcon" ng-switch-when="true" ng-src="{{$ctrl.groupIcon}}"/></div><div ng-if="$ctrl.isMyWorkspace" ng-switch="$ctrl.hasUserIconSet" title="{{::$ctrl.groupName}}"><i ng-switch-when="false" class="glyphicon pbi-glyph-user glyph-med groupIcon placeholder"></i><div ng-switch-when="true" class="userIcon" ng-style="{\'background-image\': $ctrl.userIcon}"/></div><data-classification-label data-classification-id="$ctrl.viewModel.dataClassificationId"></data-classification-label></div><div class="content"><div class="titleAndIndicator"><dataset-icon-container view-model="$ctrl.viewModel" refresh-related="false"></dataset-icon-container><div class="galleryItemTitle trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.displayName" ng-attr-title="{{$ctrl.viewModel.displayName}}"/></div><div class="authorNameFavorite trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.ownerInfo" ng-attr-title="{{$ctrl.viewModel.ownerInfo}}"/></div></div><div class="backgroundAndContent" ng-switch-when="4"><div class="galleryBackground" ng-init="$ctrl.setOwnerPhoto()"><i class="glyphicon dashboardWatermarkIcon pbi-glyph-gauge glyph-large"></i><div class="galleryIcons"><i class="glyphicon pbi-glyph-gauge glyph-large"></i></div></div><div class="iconsContainer"><div ng-if="$ctrl.hasOwnerPhoto && $ctrl.inViewport" ng-switch="$ctrl.hasOwnerPhotoSet"><i ng-switch-when="false" class="glyphicon pbi-glyph-user glyph-med groupIcon placeholder"></i> <img ng-switch-when="true" class="userIcon" ng-src="{{$ctrl.ownerIcon}}"/></div><data-classification-label ng-if="$ctrl.inViewport" data-classification-id="$ctrl.viewModel.dataClassificationId"></data-classification-label></div><div class="content"><div class="titleAndIndicator"><dataset-icon-container ng-if="$ctrl.inViewport" view-model="$ctrl.viewModel" refresh-related="false"></dataset-icon-container><div class="galleryItemTitle trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.displayName" ng-attr-title="{{$ctrl.viewModel.displayName}}"/></div><div class="authorName trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.ownerFullname" ng-attr-title="{{$ctrl.viewModel.ownerFullname}}"/></div></div><div class="backgroundAndContent" ng-switch-when="2"><div class="galleryBackground"><i class="glyphicon reportWatermarkIcon pbi-glyph-barchart glyph-large"></i><div class="galleryIcons"><i class="glyphicon pbi-glyph-barchart glyph-large"></i></div></div><div class="content"><div class="titleAndIndicator"><dataset-icon-container ng-if="$ctrl.inViewport" view-model="$ctrl.viewModel" refresh-related="false"></dataset-icon-container><div class="galleryItemTitle trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.displayName" ng-attr-title="{{$ctrl.viewModel.displayName}}"/></div><div class="authorName trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.ownerFullname" ng-attr-title="{{$ctrl.viewModel.ownerFullname}}"/></div></div><div class="backgroundAndContent" ng-switch-when="8"><div class="galleryBackground"><i class="glyphicon workbookWatermarkIcon pbi-glyph-excel glyph-large"></i><div class="galleryIcons"><i class="glyphicon pbi-glyph-excel glyph-large"></i></div></div><div class="content"><div class="titleAndIndicator"><dataset-icon-container ng-if="$ctrl.inViewport" view-model="$ctrl.viewModel" refresh-related="false"></dataset-icon-container><dataset-icon-container ng-if="$ctrl.inViewport" view-model="$ctrl.viewModel" refresh-related="true"></dataset-icon-container><div class="galleryItemTitle trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.displayName" ng-attr-title="{{$ctrl.viewModel.displayName}}"/></div><div class="authorName trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.ownerFullname" ng-attr-title="{{$ctrl.viewModel.ownerFullname}}"/></div></div><div class="backgroundAndContent" ng-switch-when="16"><section class="galleryBackground"><app-logo view-model="::$ctrl.viewModel" size="large"></app-logo></section><section class="titleAndIndicator"><h1 class="trimmedTextWithEllipsis unselectable" ng-bind="::$ctrl.viewModel.displayName"/><h2 class="trimmedTextWithEllipsis unselectable" ng-bind="::$ctrl.viewModel.publishTime | date:\'MMM dd, yyyy\'"/></section><section class="appActions"><header class="trimmedTextWithEllipsis" bind-text-and-tooltip="::$ctrl.viewModel.author"/><content-tile-options-menu view-model="::$ctrl.viewModel"></content-tile-options-menu></section></div><div class="backgroundAndContent" ng-switch-when="1024"><section class="galleryBackground"><pbi-icon class="addApp" name="add" size="large"></pbi-icon></section><section class="titleAndIndicator"><h1 class="trimmedTextWithEllipsis unselectable" ng-bind="::$ctrl.viewModel.displayName"/></section><section class="appActions"><header class="trimmedTextWithEllipsis" bind-text-and-tooltip="::$ctrl.viewModel.description"/></section></div><div class="backgroundAndContent" ng-switch-when="256"><div class="galleryBackground"><group-icon group="::$ctrl.viewModel" placeholder-size="large"></group-icon></div><section class="titleAndIndicator"><h1 class="trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.displayName"/><h2 class="trimmedTextWithEllipsis unselectable" ng-bind="::$ctrl.getOwnershipTextForWorkspace()"/></section><section class="contentDetails" ng-if="!$ctrl.isTileActionsVisible"><h1 class="trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.displayName" title="{{$ctrl.viewModel.displayName}}"/><h2 class="trimmedTextWithEllipsis unselectable" ng-bind="::$ctrl.getOwnershipTextForWorkspace()"/><h3 class="trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.getGroupTypeTextForWorkspace()"/><h3 class="trimmedTextWithEllipsis unselectable" ng-if="::$ctrl.viewModel.contract.isReadOnly" localize="ContentList_Workspaces_ReadOnly"/><pbi-icon class="upperRight" ng-click="$ctrl.toggleTileActionsVisibility($event)" name="more" size="small"></pbi-icon></section><section class="contentActions" ng-if="$ctrl.isTileActionsVisible"><h1 class="trimmedTextWithEllipsis unselectable" ng-bind="$ctrl.viewModel.displayName" title="{{$ctrl.viewModel.displayName}}"/><div class="actions"><content-tile-options-menu view-model="::$ctrl.viewModel"></content-tile-options-menu></div><pbi-icon class="upperRight" ng-click="$ctrl.toggleTileActionsVisibility($event)" name="close" size="mini"></pbi-icon></section></div><div class="tileOptions trimmedTextWithEllipsis unselectable" ng-if="$ctrl.viewModel.contentTileType !== 16 && $ctrl.viewModel.contentTileType !== 256 && $ctrl.inViewport" ng-class="{\'readOnly\': !$ctrl.canShowOptionsMenu()}"><content-tile-options-menu view-model="$ctrl.viewModel"></content-tile-options-menu></div></div></li>'),e.put("components/contentTileContainer/contentTileContainer.html",'<div class="contentSection" ng-class="{isContentTileContentDisabled: $ctrl.collapsiblePaneMode !== 0}"><div class="mainContentHeader"><div class="galleryTitle" ng-transclude="title"></div></div> <button class="addButton" ng-click="$ctrl.activeAddDashboard()" localize-tooltip="NavigationPane_CreateDashboard" ng-show="$ctrl.showAddDashboardBtn"><i class="glyphicon pbi-glyph-add"></i></button><div class="contentScrollSection"><ul class="galleryList noselect"><content-tile ng-repeat="tile in $ctrl.getTiles()" view-model="tile" disable-lazy-loading="$ctrl.disableLazyLoading" ng-repeat-finish-event="{{::$ctrl.finishLoadEvent}}"></content-tile><content-tile ng-if="::$ctrl.placeHolderTile" disable-lazy-loading="false" view-model="::$ctrl.placeHolderTile"></content-tile></ul></div></div>'),e.put("components/contentTileOptionsMenu/contentTileOptionsMenu.html",'<section ng-switch="$ctrl.tileType" ng-init="$ctrl.canShare($ctrl.viewModel, $ctrl.tileType)"><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="1"><div class="shareBtn pbi-glyph-share" localize-tooltip="ContentListMenu_Share" ng-if="::$ctrl.canShareTile" ng-click="$ctrl.shareContentTile($ctrl.viewModel, $ctrl.tileType)"></div></section><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="2"><div class="actionIcon usageMetricsReportBtn pbi-glyph-chart" localize-tooltip="ContentTileOptions_UsageMetricsReport" ng-if="::$ctrl.canOpenUsageMetricsReport($ctrl.tileType)" ng-click="$ctrl.openUsageMetricsReport($ctrl.tileType)"></div><div class="actionIcon personalizeBtn pbi-glyph-contentviewicon" localize-tooltip="ContentTileOptions_Personalize" ng-if="::$ctrl.canPersonalize()" ng-click="$ctrl.personalize()"></div><div class="actionIcon analyzeInExcel pbi-glyph-excel" localize-tooltip="ContentTileOptions_AnalyzeInExcel" ng-if="::$ctrl.canAnalyzeInExcel()" ng-click="$ctrl.analyzeInExcel()"></div><div class="actionIcon insightsBtn pbi-glyph-insight" localize-tooltip="ContentTileOptions_GetInsights" ng-if="::$ctrl.canRunInsights()" ng-click="$ctrl.runInsights()"></div><div class="actionIcon viewRelatedContentBtn pbi-glyph-link" localize-tooltip="DashboardAppBar_ViewRelated" ng-if="::$ctrl.viewRelated" ng-click="$ctrl.viewRelatedContent()"></div><div class="actionIcon powerPointBtn pbi-glyph-powerpoint" localize-tooltip="ContentTileOptions_ExportPowerPoint" ng-if="::$ctrl.canExportPowerPoint($ctrl.tileType)" ng-click="$ctrl.exportToPowerPoint($ctrl.tileType)"></div><div class="actionIcon renameBtn pbi-glyph-settings" title="{{::$ctrl.tooltipForSettings($ctrl.tileType)}}" ng-if="::$ctrl.canRewrite($ctrl.viewModel.getPermissions())" ng-click="$ctrl.contentTileRename($ctrl.tileType)"></div><div class="actionIcon removeBtn pbi-glyph-delete" localize-tooltip="ContentTileOptions_Delete" ng-if="::$ctrl.deleteEnabled" ng-click="$ctrl.deleteContentTile($ctrl.tileType)"></div></section><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="4"><div class="actionIcon usageMetricsReportBtn pbi-glyph-chart" localize-tooltip="ContentTileOptions_UsageMetricsReport" ng-if="::$ctrl.canOpenUsageMetricsReport($ctrl.tileType)" ng-click="$ctrl.openUsageMetricsReport($ctrl.tileType)"></div><div class="actionIcon personalizeBtn pbi-glyph-contentviewicon" localize-tooltip="ContentTileOptions_Personalize" ng-if="::$ctrl.canPersonalize()" ng-click="$ctrl.personalize()"></div><div class="actionIcon shareBtn pbi-glyph-share" localize-tooltip="ContentListMenu_Share" ng-if="::$ctrl.canShareTile" ng-click="$ctrl.shareContentTile($ctrl.viewModel, $ctrl.tileType)"></div><div class="actionIcon exportBtn pbi-glyph-export" ng-if="::$ctrl.isExportAllowed($ctrl.tileType)" ng-click="$ctrl.exportDashboard()"></div><div class="actionIcon viewRelatedContentBtn pbi-glyph-link" localize-tooltip="DashboardAppBar_ViewRelated" ng-if="::$ctrl.viewRelated" ng-click="$ctrl.viewRelatedContent()"></div><div class="actionIcon dashboardfavoriteBtn pbi-glyph-favoritestar" localize-tooltip="Artifact_Favorite" ng-if="$ctrl.canFavorite()" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.favoriteContentTile($ctrl.tileType)"></div><div class="actionIcon dashboardUnfavoriteBtn powervisuals-glyph star-full" localize-tooltip="ContentListMenu_RemoveFavorite" ng-if="$ctrl.canUnFavorite()" ng-disabled="$ctrl.isFavoriteDisabled()" ng-click="$ctrl.unfavoriteContentTile($ctrl.tileType)"></div><div class="actionIcon renameBtn pbi-glyph-settings" title="{{::$ctrl.tooltipForSettings($ctrl.tileType)}}" ng-if="::$ctrl.canRewrite($ctrl.viewModel.getPermissions())" ng-click="$ctrl.contentTileRename($ctrl.tileType)"></div><div class="actionIcon removeBtn pbi-glyph-delete" localize-tooltip="ContentTileOptions_Delete" ng-if="::$ctrl.deleteEnabled" ng-click="$ctrl.deleteContentTile($ctrl.tileType)"></div></section><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="8"><div class="actionIcon personalizeBtn pbi-glyph-contentviewicon" localize-tooltip="ContentTileOptions_Personalize" ng-if="::$ctrl.canPersonalize()" ng-click="$ctrl.personalize()"></div><div class="actionIcon refreshNow pbi-glyph-refresh" localize-tooltip="ContentTileOptions_RefreshNow" ng-if="::$ctrl.canRefreshNow()" ng-click="$ctrl.refreshNow()"></div><div class="actionIcon scheduleRefresh pbi-glyph-refresh-data" localize-tooltip="ContentTileOptions_ScheduleRefresh" ng-if="::$ctrl.canScheduleRefresh()" ng-click="$ctrl.scheduleRefresh()"></div><div class="actionIcon editWorkbookBtn pbi-glyph-edit" localize-tooltip="ContentTileOptions_EditWorkbooks" ng-if="::$ctrl.canEditWorkbook($ctrl.tileType)" ng-click="$ctrl.editWorkbook($ctrl.tileType)"></div><div class="actionIcon replaceWorkbookBtn pbi-glyph-getdata" localize-tooltip="ContentTileOptions_ReplaceWorkbooks" ng-if="::$ctrl.canReplaceWorkbook($ctrl.tileType)" ng-click="$ctrl.replaceWorkbook($ctrl.tileType)"></div><div class="actionIcon renameBtn pbi-glyph-settings" title="{{::$ctrl.tooltipForSettings($ctrl.tileType)}}" ng-if="::$ctrl.canRewrite($ctrl.viewModel.getPermissions())" ng-click="$ctrl.contentTileRename($ctrl.tileType)"></div><div class="actionIcon removeBtn pbi-glyph-delete" localize-tooltip="ContentTileOptions_Delete" ng-if="::$ctrl.deleteEnabled" ng-click="$ctrl.deleteContentTile($ctrl.tileType)"></div></section><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="16"><pbi-icon name="favoritestar" size="small" localize-tooltip="Artifact_Favorite" ng-if="$ctrl.canFavorite()" ng-click="$ctrl.favoriteContentTile()"></pbi-icon><pbi-icon name="favoritefilled" size="small" localize-tooltip="ContentListMenu_RemoveFavorite" ng-if="$ctrl.canUnFavorite()" ng-click="$ctrl.unfavoriteContentTile()"></pbi-icon><pbi-icon name="contentviewicon" size="small" localize-tooltip="ContentTileOptions_Personalize" ng-if="::$ctrl.canPersonalize()" ng-click="$ctrl.personalize()"></pbi-icon><pbi-icon name="delete" size="small" localize-tooltip="Delete_ToolTip" ng-if="::$ctrl.deleteEnabled" ng-click="$ctrl.deleteContentTile($ctrl.tileType)"></pbi-icon></section><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="32"><pbi-icon name="edit" size="small" localize-tooltip="Edit_ToolTip" ng-click="$ctrl.editChannel()"></pbi-icon><pbi-icon name="delete" size="small" localize-tooltip="Delete_ToolTip" ng-if="::$ctrl.deleteEnabled" ng-click="$ctrl.deleteContentTile($ctrl.tileType)"></pbi-icon></section><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="64"><pbi-icon class="actionIcon" name="excel" size="small" localize-tooltip="ContentTileOptions_AnalyzeInExcel" ng-if="::$ctrl.canAnalyzeInExcel()" ng-click="$ctrl.analyzeInExcel()"></pbi-icon><pbi-icon class="actionIcon" name="insight" size="small" localize-tooltip="ContentTileOptions_GetInsights" ng-if="::$ctrl.canRunInsights()" ng-click="$ctrl.runInsights()"></pbi-icon><pbi-icon class="actionIcon" name="refresh" size="small" localize-tooltip="ContentTileOptions_RefreshNow" ng-if="::$ctrl.canRefreshNow()" ng-click="$ctrl.refreshNow()"></pbi-icon><pbi-icon class="actionIcon" name="refresh-data" size="small" localize-tooltip="ContentTileOptions_ScheduleRefresh" ng-if="::$ctrl.canScheduleRefresh()" ng-click="$ctrl.scheduleRefresh()"></pbi-icon></section><section class="tileMenu" onclick="event.stopPropagation();" ng-switch-when="256"><pbi-icon ng-if="!$ctrl.viewModel.isMyWorkspace" ng-repeat="item in $ctrl.viewModel.metadata.contextMenuItemList" name="{{::$ctrl.getIconForGroupContextMenuItem(item)}}" size="small" title="{{::$ctrl.getTooltipForGroupContextMenuItem(item)}}" ng-click="$ctrl.onGroupContextMenuItemSelected(item)"></pbi-icon></section></section>'),e.put("components/createAppChannel/createAppChannel.html",'<section class="createAppChannelOverlay" ng-if="$ctrl.isPublishInProgress"></section><app-channel-header class="item-auto" view-model="$ctrl.viewModel"></app-channel-header><section class="tabsContainer item-auto"><section class="tabsContainerLeft"><header ng-class="{active: $ctrl.activeTab == 0}" ng-click="$ctrl.activeTab=0"><span localize="AppModel_CreateAppModel_Tab_Details"></span><pbi-icon name="asterisk" size="micro" ng-if="!$ctrl.isAppDetailsFormValid()"></pbi-icon></header><header ng-class="{active: $ctrl.activeTab == 1}" ng-click="$ctrl.activeTab=1"><span localize="AppModel_CreateAppModel_Tab_Content"></span><pbi-icon name="asterisk" size="micro" ng-if="!$ctrl.isAppContentFormValid()"></pbi-icon></header><header ng-class="{active: $ctrl.activeTab == 2}" ng-click="$ctrl.activeTab=2"><span localize="AppModel_CreateAppModel_Tab_Access"></span><pbi-icon name="asterisk" size="micro" ng-if="!$ctrl.isAppAccessFormValid()"></pbi-icon></header></section><section class="tabsContainerRight"><pbi-button kind="icon" primary="true" label="{{::$ctrl.publishButtonLabelKey}}" icon-name="go" ng-click="$ctrl.publishApp()"></pbi-button></section></section><section class="formsContainer item-fill"><create-app-channel-details ng-show="$ctrl.activeTab===0" view-model="::$ctrl.viewModel" error="$ctrl.error"></create-app-channel-details><create-app-channel-content ng-if="$ctrl.activeTab===1" view-model="::$ctrl.viewModel" dashboard-resources="::$ctrl.dashboardResources" report-resources="::$ctrl.reportResources" dataset-resources="::$ctrl.datasetResources" error="$ctrl.error"></create-app-channel-content><create-app-channel-access ng-show="$ctrl.activeTab===2" view-model="::$ctrl.viewModel" error="$ctrl.error"></create-app-channel-access></section>'),e.put("components/createAppChannelAccess/createAppChannelAccess.html",'<section class="headerLabel"><label localize="AppModel_CreateAppModel_Access_Permissions"></label><pbi-icon name="asterisk" size="micro"></pbi-icon></section><pbi-radio-group no-label ng-model="$ctrl.viewModel.isSharedToEntireOrg"><pbi-radio label="AppModel_CreateAppModel_Access_EntireOrganization" ng-value="true"></pbi-radio><pbi-radio label="AppModel_CreateAppModel_Access_SpecificIndividualsOrGroup" ng-value="false"></pbi-radio></pbi-radio-group><section class="appAccessEmailList" ng-class="{\'disabled\': $ctrl.viewModel.isSharedToEntireOrg}"><emails-list view-model="$ctrl.viewModel.emailsList" allow-object-ids allow-security-groups allow-distribution-lists></emails-list></section><section class="errorLabel" ng-if="$ctrl.hasGroupsValidationError()"><pbi-icon name="error" size="small"></pbi-icon><span ng-bind="::$ctrl.error.errorMessage"></span></section><section class="appAccessUrlMessage flexbox"><pbi-icon class="item-auto" name="info" size="small"></pbi-icon><header class="item-fill" ng-bind="::$ctrl.appAccessUrlMessage"></header></section><section class="appAccessUrls" ng-if="::!$ctrl.isNewApp()"><section class="appContentUrls appUrl"><section class="appContentUrlItem"><header localize="CreateApp_AppUrl"></header><editable-label readonly="true" view-model="::$ctrl.getUrlLabelModel($ctrl.viewModel)"></editable-label></section></section><section class="appContentUrls dashboardUrls" ng-if="::$ctrl.hasDashboardResources()"><section class="appContentUrlHeader"><header localize="AppModel_CreateAppModel_Access_DashboardUrls"></header><pbi-icon name="info" size="small" tooltip tooltip-config="$ctrl.dashboardUrlsTooltipConfig"></pbi-icon><pbi-icon name="chevronupmedium" size="small" ng-class="{\'expanded\': $ctrl.isDashboardUrlListExpanded}" ng-if="::$ctrl.shouldShowDashboardUrlToggle()" ng-click="$ctrl.toggleDashboardUrlList()"></pbi-icon></section><section class="appContentUrlItem" ng-repeat="dashboard in $ctrl.dashboardResources | limitTo: $ctrl.dashboardUrlListItemLimit"><header ng-bind="::dashboard.displayName"></header><editable-label readonly="true" view-model="::$ctrl.getUrlLabelModel(dashboard)"></editable-label></section></section></section>'),e.put("components/createAppChannelContent/createAppChannelContent.html",'<section class="headerLabel"><header class="description" localize="AppModel_CreateAppModel_Content_ContentToPublish"></header></section><section class="appContentList"><section class="dashboardResourceList"><header localize="ContentList_Dashboards"></header><section class="appContentListScrollSection" vs-repeat><section class="pbi-input" ng-repeat="dashboard in ::$ctrl.dashboardResources"><label class="trimmedTextWithEllipsis" bind-text-and-tooltip="::dashboard.displayName"></label></section></section></section><section class="reportResourceList"><header localize="ContentList_Reports"></header><section class="appContentListScrollSection" vs-repeat><section class="pbi-input" ng-repeat="report in ::$ctrl.reportResources"><label class="trimmedTextWithEllipsis" bind-text-and-tooltip="::report.displayName"></label><pbi-icon name="excel" size="small" ng-if="::$ctrl.isWorkbook(report)"></pbi-icon></section></section></section><section class="datasetResourceList"><header localize="ContentList_Datasets"></header><section class="appContentListScrollSection" vs-repeat><section class="pbi-input" ng-repeat="dataset in ::$ctrl.datasetResources"><label class="trimmedTextWithEllipsis" bind-text-and-tooltip="::dataset.displayName"></label></section></section></section></section><section class="headerLabel"><label localize="AppModel_CreateAppModel_Content_DefaultContent"></label><pbi-icon name="info" size="small" tooltip tooltip-config="$ctrl.defaultContentTooltipConfig"></pbi-icon></section><pbi-radio-group no-label ng-model="$ctrl.viewModel.defaultContentOption"><pbi-radio label="CreateApp_DefaultContent" ng-value="1"></pbi-radio><pbi-radio label="CreateApp_Index" ng-value="0"></pbi-radio></pbi-radio-group> <select class="appSpecificContentOptions" ng-model="$ctrl.appSpecificContent" ng-if="$ctrl.viewModel.defaultContentOption !== 0" ng-change="$ctrl.updateAppArtifact()" ng-options="candidate as $ctrl.getAppSpecificContentCandidateDisplayName(candidate) for candidate in $ctrl.appSpecificContentCandidates | orderBy: \'displayName\'"></select><pbi-icon name="asterisk" size="micro" ng-if="$ctrl.viewModel.defaultContentOption === 1"></pbi-icon><section feature-switch="appTemplatesEnabled" class="appTemplates"><section class="headerLabel"><label localize="AppModel_CreateAppModel_Content_ContentToPublish_Allow_Templating"></label></section><pbi-checkbox class="templateCheckbox" ng-if="::!$ctrl.isUpdate()" ng-disabled="$ctrl.appTemplateDisabled" label="PublishContentPack_TemplatizeModel" ng-model="$ctrl.viewModel.publishAsTemplate"></pbi-checkbox><label class="templateLockedLabel" ng-if="::$ctrl.isUpdate() && $ctrl.viewModel.publishAsTemplate" localize="PublishContentPack_TemplatizeModel_MayNotChange"/><label class="errorLabel" ng-if="$ctrl.templateUpdateHasError" localize="PublishContentPack_TemplatizeModel_InvalidSelection"/><a href="https://go.microsoft.com/fwlink/?LinkId=820986" target="_blank" localize="LearnMore"/></section><section class="errorLabel" ng-if="$ctrl.hasAppTemplateError()"><pbi-icon name="error" size="small"></pbi-icon><span ng-bind="::$ctrl.error.errorMessage"></span></section>'),e.put("components/createAppChannelDetails/createAppChannelDetails.html",'<section class="headerLabel"><pbi-icon name="asterisk" size="micro"></pbi-icon><header localize="AppModel_CreateAppModel_Details_Required"></header></section><section class="headerLabel"><label localize="AppModel_CreateAppModel_Details_Description"></label><pbi-icon name="asterisk" size="micro"></pbi-icon></section><pbi-textarea no-label ng-model="$ctrl.viewModel.description" maxlength="4000" placeholder="{{::$ctrl.appDescriptionPlaceholder}}" required></pbi-textarea><section class="iconConfig"><section class="iconBackgroundColor"><header localize="AppModel_CreateAppModel_Details_BackgroundColor"></header><icon-selector icons="$ctrl.iconBackgroundColors" config="$ctrl.iconBackgroundColorsConfig"></icon-selector></section></section>'),e.put("components/dashboardEditMobileDisplay/dashboardEditMobileDisplay.html",'<div class="dashboardModeView mobileAuthoring mobileLayout"><dashboard-pane view-model="$ctrl.viewModel.dashboardPane"></dashboard-pane><div class="simulatorWrapper"><section class="mobileAuthoringIntroduction"><span class="phoneAuthoringTitle" localize="Phone_Authoring_Dashboard_Title"></span><i class="centeredGlyph glyphicon pbi-glyph-info glyph-small icon"><span class="tooltipText" localize="Phone_Authoring_Dashboard_Description"></span></i></section><div class="authoringDashboardContainer"><div class="authoringDashboard"><div ng-if="$ctrl.pinnedTiles().length === 0" class="emptyStateLabel"><i class="circle glyphicon pbi-glyph-pinned glyph-reg"></i><div class="emptyStateTitle" localize="Authoring_Dashboard_Empty_State_Label"></div></div><div class="authoringDashboardTitleContainer"> <span class="label">{{$ctrl.viewModel.mobileDashboard.displayName}}</span></div><dashboard disable-tile-ease-in="true" view-model="$ctrl.viewModel.mobileDashboard" display-layout="1" disable-pointer-events="true" mobile-layout="1" in-edit-mobile-layout-mode="true"></dashboard></div></div></div></div>'),e.put("components/dashboardPane/dashboardPane.html",'<article class="dashboardPane sidePane smallFontSize" ng-class="{ isCollapsed: !$ctrl.viewModel.isPaneExpanded}"><div class="paneHeader"> <button class="toggleBtn" ng-class="{ isCollapsed: !$ctrl.viewModel.isPaneExpanded }" ng-click="$ctrl.toggle()" localize-tooltip="DashboardPane_Toggle"><i class="btnIcon glyphicon pbi-glyph-chevronrightmedium glyph-mini"></i><h2 class="sidePaneHorizontalTitle sidePaneTitle unselectable fieldsTab largeFontSize trimmedTextWithEllipsis" ng-if="$ctrl.viewModel.isPaneExpanded" localize="DashboardPane_Header"></h2><div class="verticalTitle" ng-if="!$ctrl.viewModel.isPaneExpanded"><h2 class="largeFontSize" localize="DashboardPane_Header"></h2></div></button></div><div class="paneContents flex" ng-show="$ctrl.viewModel.isPaneExpanded"><label localize="DashboardPane_TextMessage"></label><dashboard-tile-list view-model="$ctrl.viewModel.dashboard"></dashboard-tile-list></div></article>'),e.put("components/dashboardTileList/dashboardTileList.html",'<div class="tile-list"><div class="no-items-container" ng-if="!$ctrl.shouldShowUnpinnedTileList()"><i class="glyphicon pbi-glyph-unpin glyph-medium"></i><label localize="DashboardTileList_NoTiles" class="no-items-message"></label></div><ul class="tile-container" ng-if="$ctrl.shouldShowUnpinnedTileList()"><dashboard-tile ng-repeat="tile in $ctrl.unpinnedTiles() track by $ctrl.tileTrackerFn(tile)" view-model="tile" can-edit="false" disable-interactions="true" add-tile-to-mobile-view="$ctrl.addTileToMobile(tile)" disable-pointer-events="true" viewport-context-selector="\'dashboard-tile-list\'"></dashboard-tile></ul></div>'),e.put("components/dataClassificationLabel/dataClassificationLabel.html",'<a class="dataClassification" ng-href="{{$ctrl.dataClassification.url}}" onclick="event.stopPropagation();" target="_blank" ng-if="$ctrl.isDataClassificationFeatureEnabled && $ctrl.dataClassification && $ctrl.dataClassification.showTag && $ctrl.dataClassification.url" title="{{$ctrl.dataClassification.name}}" ng-bind="$ctrl.dataClassification.shortHand"></a><span class="dataClassification" ng-if="$ctrl.isDataClassificationFeatureEnabled && $ctrl.dataClassification && $ctrl.dataClassification.showTag && !$ctrl.dataClassification.url" title="{{$ctrl.dataClassification.name}}" ng-bind="$ctrl.dataClassification.shortHand"></span>'),
e.put("components/datasetIconContainer/datasetIconContainer.html",'<span class="datasetItemIcon" ng-switch="::$ctrl.refreshRelated"><span class="datasetItemIndicator" ng-switch-when="false"><i ng-if="::$ctrl.isShared()" class="glyphicon pbi-glyph-shared" localize-tooltip="NavigationPane_SharedWithMe"></i><i ng-if="$ctrl.isNew()" class="glyphicon pbi-glyph-asterisk"></i></span><span class="datasetRefreshIcons" ng-switch-when="true" ng-switch="$ctrl.isRefreshInProgress()"><spinner ng-switch-when="true" localize-tooltip="NavigationPane_RefreshInProgress"></spinner><span ng-switch-default><i ng-if="$ctrl.isPublishError()" class="warning glyphicon pbi-glyph-warning glyph-small" localize-tooltip="NavigationPane_RefreshPublishError"></i><i ng-if="$ctrl.showRefreshError && $ctrl.showRefreshError()" class="warning glyphicon pbi-glyph-warning glyph-small" tooltip tooltip-config="$ctrl.tooltipConfig" ng-click="$event.stopPropagation();$ctrl.showRefreshErrorDialog()"></i></span></span></span>'),e.put("components/errorPlaceholder/errorPlaceholder.html",'<div class="errorPlaceholder"><div class="errorContainer"><div class="errorPlaceholderIcon glyphicon pbi-glyph-error glyph-med" title="{{$ctrl.errorText}}"></div><div class="errorPlaceholderTextContainer"><span class="errorPlaceholderText" ng-bind="$ctrl.errorText"></span><a ng-if="$ctrl.errorDetails" class="getDetailsText clickAction" localize="ErrorPlaceHolder_SeeDetails" ng-click="$ctrl.seeErrorDetails()"></a></div></div></div>'),e.put("components/exportDataDialog/exportDataDialog.html",'<dialog-frame><dialog-header><span localize="ModalDialog_ExportDataTitle" class="dialogTitle"></span></dialog-header><dialog-body><span localize="ModalDialog_ExportDataTextDialogTwo" class="dialogMessage"></span><ul class="radioButtonText"><li ng-repeat="val in ::$ctrl.viewModel.options"><div class="pbi-input dataTypeMenu" tooltip tooltip-config="$ctrl.getTooltipConfigForDataType(val)"> <input class="dataTypeItem" type="radio" name="option" ng-model="$ctrl.viewModel.dataType" ng-value="::$index" ng-change="$ctrl.update(val)" ng-disabled="$ctrl.isDataTypeDisabled(val)"><label ng-bind="::val"></label></div></li></ul><pbi-select ng-if="$ctrl.viewModel.isCsvFormatDisabled" class="exportDataSelectButton" label="ModalDialog_ExportDataFormatTypeText" ng-model="$ctrl.viewModel.dataFormat"><pbi-option label="ModalDialog_ExportDataFormatXL" ng-value="\'0\'" ng-disabled="::$ctrl.viewModel.isExlFormatDisabled"></pbi-option><pbi-option label="ModalDialog_ExportDataFormatCsv" ng-value="\'1\'" ng-disabled="true"></pbi-option></pbi-select><pbi-select ng-if="!$ctrl.viewModel.isCsvFormatDisabled" class="exportDataSelectButton" label="ModalDialog_ExportDataFormatTypeText" ng-model="$ctrl.viewModel.dataFormat"><pbi-option label="ModalDialog_ExportDataFormatXL" ng-value="\'0\'" ng-disabled="::$ctrl.viewModel.isExlFormatDisabled"></pbi-option><pbi-option label="ModalDialog_ExportDataFormatCsv" ng-value="\'1\'"></pbi-option></pbi-select><pbi-alert class="dataInfoMessage" kind="\'info\'" message-info="ModalDialog_ExportDataInfoMessage"></pbi-alert><div ng-if="::$ctrl.viewModel.isExlFormatDisabled" ng-switch="$ctrl.viewModel.exportXlsxUnsupportedType"><pbi-alert ng-switch-when="1" kind="\'info\'" message-info="ExlFormat_ToolTipDescription_AsOnPrem"></pbi-alert><pbi-alert ng-switch-default kind="\'info\'" message-info="ExlFormat_ToolTipDescription"></pbi-alert></div><pbi-alert ng-if="$ctrl.viewModel.isCsvFormatDisabled" kind="\'info\'" message-info="SupportOnlyExlFormat_ToolTipDescription"></pbi-alert></dialog-body><dialog-footer><pbi-link ng-if="::($ctrl.viewModel.isUnderlyingDisabled && !$ctrl.viewModel.isExlFormatDisabled)" class="learnMoreLink" guid="827799" label="Learn_Aggregates"></pbi-link> <button autofocus type="submit" ng-click="$ctrl.exportData()" class="primary" localize="ModalDialogButtonText_Export"></button> <button ng-click="$ctrl.close()" localize="ModalDialogButtonText_Cancel"></button></dialog-footer></dialog-frame>'),e.put("components/exportDataDialog/exportDataDialogDefinition.html",'<export-data-dialog view-model="viewModel"></export-data-dialog>'),e.put("components/favoritesContainer/favoritesContainer.html",'<div class="favoriteContainerView isNavigationPaneEnabled contentListView" ng-class="{isMainContentDisabled: collapsiblePaneMode !== 0}"><div class="header" feature-switch-not="breadcrumbNavigationEnabled"><div class="dashboardAppBar appBar"><div class="appBarSection left"><ul><li class="label"><span class="appBarTitle" localize="Favorites_FavoritesTitle"></span></li></ul></div></div></div><div class="dashboardControls"><search-box should-focus="true" on-change="$ctrl.onSearchTextChange()" on-blur="$ctrl.resolveSearchTelemetry()" filter="$ctrl.searchText" placeholder="SearchContent"></search-box></div><div class="contentListOptionsTabs unselectable"><div class="right"><span class="count" localize="ShowingXItems" localize-fragments><span fragment-index="0" ng-bind="$ctrl.filteredFavorites.length"></span></span><select-tile-sort selected-predicate="$ctrl.sortPredicate" on-select="$ctrl.selectSort" predicates="$ctrl.sortPredicates"></select-tile-sort></div></div><div class="dashboardSliderMain" ng-class="{noFavorites: $ctrl.showEmptyFavoritesWatermark}" feature-switch-class="breadcrumbNavigationEnabled"><pbi-data-loader-spinner class="centered" ng-if="!$ctrl.initialized"></pbi-data-loader-spinner><water-mark-message config="::$ctrl.emptySearchWatermarkConfig" ng-show="$ctrl.showEmptySearchWatermarkConfig"></water-mark-message><content-list-gallery view-model="::$ctrl.galleryViewModel" is-data-classification-enabled="::$ctrl.isDataClassificationEnabled"></content-list-gallery><div class="emptyFavorites noselect"><div class="empty-favorites-img"></div><div class="noFavTitle" localize="Favorites_NoFavoritesTitle"></div><div class="noFavMessage" localize="Favorites_NoFavoritesMessage1"></div><i class="glyphicon pbi-glyph-favoritestar glyph-small"></i><div class="noFavMessage" localize="Favorites_NoFavoritesMessage2"></div></div></div></div>'),e.put("components/featuredDashboardContainer/featuredDashboardContainer.html",'<div class="featuredDashboardContainer"><water-mark-message config="::$ctrl.watermarkConfig"></water-mark-message><div ng-if="$ctrl.hasDashboards()" class="mfuDashboards"><header localize="FeaturedDashboard_MostFrequentlyUsedTitle"></header><div class="dashboards"><div class="outline" ng-repeat="dashboard in ::$ctrl.dashboards" ng-class="{\'selected\': dashboard.objectId === $ctrl.selectedDashboard.objectId}"> <button class="dashboard trimmedTextWithEllipsis" ng-click="$ctrl.selectDashboard(dashboard)" ng-bind="::dashboard.displayName" title="{{::dashboard.displayName}}"/></div></div><pbi-button primary="true" ng-click="$ctrl.setHomeDashboard()" localize-tooltip="FeaturedDashboard_SetDashboard" label="FeaturedDashboard_SetDashboard" ng-disabled="!$ctrl.selectedDashboard"></pbi-button></div></div>'),e.put("components/groupActions/groupActions.html",'<button class="options navigationPaneButton groupContextMenuButton " dropdown-menu dropdown-class="navigationPaneGroupContextMenu" dropdown-items="$ctrl.items" dropdown-orientation="horizontal" dropdown-on-item-selected="$ctrl.onGroupNavigationPaneMenuItemSelected(selected, $ctrl.group)" dropdown-separator-class="groupContextMenuSeparator"><i class="glyphicon pbi-glyph-more glyph-small"></i></button>'),e.put("components/groupEditor/create/createGroupBlade.html",'<ng-form name="createGroupForm"><div class="groupsEditorBlade paneLayout"><header><h1 class="primaryHeading" localize="GroupEditor_Title_CreateGroup"></h1></header><section class="contentContainer"><section class="displayBlock"><h4 class="title" localize="GroupEditor_GroupNameLabel_Text_CreateGroup"></h4> <input id="groupName" required name="groupName" type="text" spellcheck="false" autocomplete="off" ng-model="$ctrl.model.groupName" ng-keyup="$ctrl.groupNameKeyUp()"/></section><section class="displayBlock"><h4 class="title" ng-if="$ctrl.model.groupName" localize="GroupEditor_GroupIdLabel_Text"></h4> <input name="groupId" spellcheck="false" type="text" autocomplete="off" ng-if="$ctrl.model.groupName" ng-model="$ctrl.model.groupId" ng-disabled="!$ctrl.isEditingGroupId" ng-keyup="$ctrl.groupIdKeyUp()"><pbi-button kind="icon" icon-name="edit" icon-size="small" ng-click="$ctrl.isEditingGroupId = true" ng-if="$ctrl.model.groupName && !$ctrl.isEditingGroupId" localize-tooltip="GroupEditor_GroupIdEdit_Tooltip"></pbi-button><div ng-if="$ctrl.isValidatingGroupId" class="spinnerWithText"><spinner class="xsmall"></spinner><div localize="GroupEditor_WaitForGroupIdValidation"></div></div><div class="spinnerWithText" ng-hide="$ctrl.isValidatingGroupId || !$ctrl.model.groupId" ng-switch="$ctrl.groupValidationStatus"><label ng-switch-when="0" localize="GroupEditor_CreateGroup_GroupId_Available_Text"></label><label ng-switch-when="1" localize="GroupEditor_CreateGroup_GroupId_NotAvailable_Text"></label><label ng-switch-when="2" localize="GroupEditor_FailedValidateGroupId_Message"></label><label ng-switch-when="3" localize="GroupEditor_CreateGroup_GroupId_HasInvalidCharacters"></label></div></section><section class="displayBlock"><h4 class="title" localize="PBI_Button_Label_Privacy"></h4> <select name="privacySetting" ng-model="$ctrl.model.privacyOption" ng-options="privacyOption.key as privacyOption.value for privacyOption in $ctrl.model.privacyOptions" ng-disabled="$ctrl.isSaving"></select> <select name="accessControlOption" ng-if="::$ctrl.readOnlyGroupEnabled" ng-model="$ctrl.model.accessControlOption" ng-options="accessControlOption.key as accessControlOption.value for accessControlOption in $ctrl.model.accessControlOptions" ng-disabled="$ctrl.isSaving"></select></section><section class="displayBlock"><h4 class="title" localize="GroupEditor_AddGroupMembersLabel_Text"></h4><emails-list id="emailList" view-model="$ctrl.model.emailsList"></emails-list><pbi-button id="addButton" label="GroupEditor_AddButton_Text" primary="true" ng-click="$ctrl.add()" ng-disabled="!$ctrl.model.emailsList.inputUserList || $ctrl.isSaving"></pbi-button><div class="spinnerWithText" ng-if="$ctrl.isAddingMembers"><spinner></spinner><div localize="GroupEditor_WaitForAddingMembers"></div></div><div class="error"><label title="{{$ctrl.model.invalidEmailAddressesErrorMessage }}" ng-if="$ctrl.model.invalidEmailAddressesErrorMessage  !== \'\'" ng-bind="$ctrl.model.invalidEmailAddressesErrorMessage "></label><label title="{{$ctrl.model.notExitingEmailAddressesErrorMessage}}" ng-if="$ctrl.model.notExitingEmailAddressesErrorMessage !== \'\'" ng-bind="$ctrl.model.notExitingEmailAddressesErrorMessage"></label></div><ul class="userListContainer"><li ng-repeat="member in $ctrl.model.displayMemberList track by member.userPrincipalName"><span class="username trimmedTextWithEllipsis" ng-bind="::member.userPrincipalName"></span> <select name="groupMemberRole" class="usertype" ng-if="::$ctrl.readOnlyGroupEnabled && member.role !== 2" ng-model="member.role" ng-options="groupMemberRole.key as groupMemberRole.value for groupMemberRole in $ctrl.model.groupMemberRoleOptions"></select><pbi-button kind="icon" icon-name="delete" icon-size="mini" ng-click="$ctrl.removeMember(member);createGroupForm.$setDirty();"></pbi-button></li></ul></section><section class="displayBlock advanced" ng-if="::$ctrl.capacityEnabled" ng-click="$ctrl.toggleAdvancedMode()"><h4 class="title" localize="GroupEditor_Advanced"></h4><i class="glyphicon glyph-mini expand" ng-class="$ctrl.isAdvancedModeExpanded ? \'pbi-glyph-chevronupmedium\' : \'pbi-glyph-chevrondownmedium\'"></i></section><section class="displayBlock capacity" ng-if="$ctrl.isAdvancedModeExpanded"><div class="capToggle"><label localize="Premium"></label><pbi-icon name="info" size="small" tooltip tooltip-config="{tooltipLocalizeDescription: \'GroupEditor_PremiumTooltip\', tooltipArrowPosition: 1}"></pbi-icon><pbi-toggle on-state-text="ToggleSwitchOn" off-state-text="ToggleSwitchOff" ng-model="$ctrl.model.isCapacityEnabled" ng-change="$ctrl.toggleCapacity();editGroupForm.$setDirty();" ng-disabled="!$ctrl.canEditCapacity()" class="toggle"></pbi-toggle></div><div class="capEdit" ng-if="$ctrl.canEditCapacity() && $ctrl.model.isCapacityEnabled"><label localize="GroupEditor_CapacitySelection"></label> <select ng-model="$ctrl.model.capacity.id" ng-options="capacity.id as capacity.name for capacity in $ctrl.availableCapacities"/><a localize="LearnMore" href="https://go.microsoft.com/fwlink/?linkid=845343"></a></div></section></section><footer><fieldset class="buttons"><spinner ng-if="$ctrl.isSaving"></spinner><pbi-button label="GroupEditor_SaveButton_Text" ng-click="$ctrl.save()" ng-disabled="!createGroupForm.$dirty || editGroupForm.$invalid || !$ctrl.canSave || $ctrl.isSaving" primary="true"></pbi-button><pbi-button label="GroupEditor_DiscardButton_Text" ng-click="$ctrl.cancel()" ng-disabled="$ctrl.isSaving"></pbi-button></fieldset></footer></div></ng-form>'),e.put("components/groupEditor/edit/editGroupBlade.html",'<ng-form name="editGroupForm"><div class="groupsEditorBlade paneLayout"><header><h1 class="primaryHeading" localize="GroupEditor_Title_EditGroup"></h1></header><section class="contentContainer"><section class="displayBlock"><h4 class="title" localize="GroupEditor_GroupNameLabel_Text_CreateGroup"></h4> <input name="groupName" required ng-model="$ctrl.model.groupName" ng-disabled="$ctrl.editNonAdmin" type="text" spellcheck="false" autocomplete="off" maxlength="64" autofocus></section><section class="displayBlock"><h4 class="title" localize="GroupEditor_PrivacyLabel_Text"></h4> <input id="privacySetting" required type="text" disabled="disabled" ng-value="$ctrl.getPrivacyOption()"/> <select name="accessOption" ng-if="::$ctrl.readOnlyGroupEnabled" ng-model="$ctrl.model.accessControlOption" ng-options="accessControlOption.key as accessControlOption.value for accessControlOption in $ctrl.model.accessControlOptions" ng-disabled="$ctrl.isSaving"></select></section><section class="displayBlock"><h4 class="title" localize="GroupEditor_AddGroupMembersLabel_Text"></h4><emails-list id="emailList" view-model="$ctrl.model.emailsList"></emails-list><pbi-button label="GroupEditor_AddButton_Text" primary="true" ng-click="$ctrl.add()" ng-disabled="!$ctrl.model.emailsList.inputUserList || $ctrl.isSaving"></pbi-button><div class="spinnerWithText" ng-if="$ctrl.isAddingMembers"><spinner></spinner><div localize="GroupEditor_WaitForAddingMembers"></div></div><div class="error"><label title="{{$ctrl.model.invalidEmailAddressesErrorMessage }}" ng-if="$ctrl.model.invalidEmailAddressesErrorMessage  !== \'\'" ng-bind="$ctrl.model.invalidEmailAddressesErrorMessage "></label><label title="{{$ctrl.model.notExitingEmailAddressesErrorMessage}}" ng-if="$ctrl.model.notExitingEmailAddressesErrorMessage !== \'\'" ng-bind="$ctrl.model.notExitingEmailAddressesErrorMessage"></label></div><ul class="userListContainer"><li ng-repeat="member in $ctrl.model.displayMemberList | orderBy:\'+userPrincipalName\' track by member.userPrincipalName"><span class="username trimmedTextWithEllipsis" ng-bind="member.userPrincipalName" ng-attr-title="{{::member.userPrincipalName}}"></span> <select ng-if="::$ctrl.readOnlyGroupEnabled && member.role !== 2" ng-model="member.role" class="usertype" ng-options="groupMemberRole.key as groupMemberRole.value for groupMemberRole in $ctrl.model.groupMemberRoleOptions" ng-disabled="$ctrl.isMemberTheOnlyAdmin(member)"></select><pbi-button kind="icon" icon-name="delete" icon-size="mini" ng-click="$ctrl.removeMember(member);editGroupForm.$setDirty();"></pbi-button></li></ul></section><section class="displayBlock advanced" ng-if="::$ctrl.capacityEnabled" ng-click="$ctrl.toggleAdvancedMode()"><h4 class="title" localize="GroupEditor_Advanced"></h4><i class="glyphicon glyph-mini expand" ng-class="$ctrl.isAdvancedModeExpanded ? \'pbi-glyph-chevronupmedium\' : \'pbi-glyph-chevrondownmedium\'"></i></section><section class="displayBlock capacity" ng-if="$ctrl.isAdvancedModeExpanded"><div class="capToggle"><label localize="Premium"></label><pbi-icon name="info" size="small" tooltip tooltip-config="{tooltipLocalizeDescription: \'GroupEditor_PremiumTooltip\', tooltipArrowPosition: 1}"></pbi-icon><pbi-toggle on-state-text="ToggleSwitchOn" off-state-text="ToggleSwitchOff" ng-model="$ctrl.model.isCapacityEnabled" ng-change="$ctrl.toggleCapacity();editGroupForm.$setDirty();" ng-disabled="!$ctrl.canEditCapacity() && !$ctrl.model.isCapacityEnabled" class="toggle" tooltip tooltip-config="$ctrl.getToggleTooltipConfig()"></pbi-toggle></div><div class="capInfo" ng-if="!$ctrl.canEditCapacity() && $ctrl.model.isCapacityEnabled"><pbi-icon name="info" size="small"></pbi-icon> <label>{{$ctrl.getInCapacityMessage()}}</label><a localize="LearnMore" href="https://go.microsoft.com/fwlink/?linkid=845343"></a></div><div class="capEdit" ng-if="$ctrl.canEditCapacity() && $ctrl.model.isCapacityEnabled"><label localize="GroupEditor_CapacitySelection"></label> <select ng-model="$ctrl.model.capacity.id" ng-options="capacity.id as capacity.name disable when capacity.disabled for capacity in $ctrl.availableCapacities"/><a localize="LearnMore" href="https://go.microsoft.com/fwlink/?linkid=845343"></a></div></section></section><footer><fieldset class="buttons"><pbi-button id="deleteGroupButton" ng-if="$ctrl.model.isAdmin" label="GroupEditor_DeleteGroup_Text" icon-name="delete" ng-click="$ctrl.deleteGroup()" ng-disabled="$ctrl.isSaving || !$ctrl.canSave"></pbi-button><pbi-button label="GroupEditor_SaveButton_Text" ng-click="$ctrl.save()" ng-disabled="!editGroupForm.$dirty || editGroupForm.$invalid || !$ctrl.canSave" primary="true"></pbi-button><pbi-button label="GroupEditor_DiscardButton_Text" ng-click="$ctrl.cancel()" ng-disabled="$ctrl.isSaving || !$ctrl.canSave"></pbi-button></fieldset></footer></div></ng-form>'),e.put("components/groupEditor/view/viewGroupBlade.html",'<div class="groupsEditorBlade paneLayout"><header><h1 class="primaryHeading" localize="GroupEditor_Title_ViewGroup"></h1></header><section class="contentContainer viewContainer"><section class="displayBlock"><h4 class="title" localize="PBI_Button_Label_Name"></h4><span class="textBody" ng-bind="::$ctrl.model.groupName"></span></section><section class="displayBlock"><h4 class="title" localize="GroupEditor_PrivacyLabel_Text"></h4><div class="textBody" ng-bind="::$ctrl.getAccessControlOption()"></div><div class="textBody" ng-bind="$ctrl.getPrivacyOption()"></div></section><section class="displayBlock"><h4 class="title" localize="GroupEditor_AddGroupMembers_ViewMode_Label_Text"></h4><ul class="userListContainer" ng-if="!$ctrl.isLoadingGroupMembers"><li ng-repeat="member in ::$ctrl.model.displayMemberList | orderBy:\'+userPrincipalName\' track by member.userPrincipalName"><span class="username trimmedTextWithEllipsis" ng-bind="::member.userPrincipalName" ng-attr-title="{{::member.userPrincipalName}}"></span><span class="glyphicon pbi-glyph-mail glyph-small invite" ng-if="member.role === 2 && !member.invitationSent" localize-tooltip="GroupEditor_PendingInvitation"></span><span class="glyphicon pbi-glyph-mail glyph-small invite" ng-if="member.role === 2 && member.invitationSent" localize-tooltip="GroupEditor_InvitationSent"></span><span class="usertype" ng-if="::$ctrl.readOnlyGroupEnabled && member.role === 1" localize="GroupEditor_RoleOptions_Admin"></span><span class="usertype" ng-if="::$ctrl.readOnlyGroupEnabled && member.role === 0" localize="GroupEditor_RoleOptions_Member"></span></li></ul><div ng-if="$ctrl.isLoadingGroupMembers"><spinner></spinner><span localize="GroupEditor_WaitLoadMembers"></span></div></section></section><footer><fieldset class="buttons"><pbi-button label="PBI_Button_Label_OK" primary="true" ng-click="$ctrl.cancel()"></pbi-button></fieldset></footer></div>'),e.put("components/groupIcon/groupIcon.html",'<lazy-icon ng-if="$ctrl.group" src="$ctrl.src" placeholder="$ctrl.placeholder" placeholder-size="$ctrl.placeholderSize"></lazy-icon>'),e.put("components/groupList/groupList.html",'<header class="groupHeader"><span localize="NavigationPane_Groups_Workspaces_V2"></span> <button class="addGroup glyphicon pbi-glyph-add glyph-micro" ng-click="$ctrl.addGroup()" localize-tooltip="NavigationPane_CreateGroup"></button></header><ul><li> <button class="button myWorkspace" ng-class="{selected: $ctrl.isActiveGroup($ctrl.myWorkspace)}" ng-click="$ctrl.switchGroup($ctrl.myWorkspace)" title="{{::$ctrl.myWorkspace.displayName}}"><div class="flexDiv"><group-icon group="::$ctrl.myWorkspace" placeholder-size="small"></group-icon><span class="workspaceName" ng-bind="::$ctrl.myWorkspace.displayName"></span></div></button></li><li ng-repeat="group in $ctrl.groups track by group.aadGroupId"> <button class="button" ng-click="$ctrl.switchGroup(group)" ng-class="{selected: $ctrl.isActiveGroup(group)}" title="{{group.displayName}}"><div class="flexDiv"><group-icon group="group" placeholder-size="small"></group-icon><span class="workspaceName" ng-bind="group.displayName"></span><pbi-icon name="database" size="small" ng-if="!!group.capacity"></pbi-icon></div></button><group-actions group="group"></group-actions></li></ul><div ng-if="$ctrl.isExpanded" class="capture" ng-click="$ctrl.toggleGroupListPane(false)"></div>'),e.put("components/groupSwitcher/groupSwitcher.html",'<div class="flexDiv" ng-click="$ctrl.onToggled()" localize-tooltip="NavigationPane_Workspaces"> <button><div class="flexDiv"><i class="navicon glyphicon pbi-glyph-collections glyph-small"></i><span class="btnLabel" localize="NavigationPane_Workspaces"></span></div></button></div> <button class="switcher" ng-click="$ctrl.onToggled()" localize-tooltip="GroupSwitch_NavPaneTitle"><span class="glyphicon glyph-small"></span></button>'),e.put("components/groupSwitcherV2/groupSwitcherV2.html",'<div class="groupSwitcherV2" ng-class="{\'isExpanded\':$ctrl.isExpanded && $ctrl.canExpand}"><div class="activeGroup"><div class="toggle" ng-click="$ctrl.toggleGroupSwitcherPane()" localize-tooltip="NavigationPane_Workspaces"><div class="icon"><i class="glyphicon pbi-glyph-collections glyph-small"></i></div><span class="text" localize="NavigationPane_Workspaces"></span></div> <button class="options add" focus-out-trigger ng-click="$ctrl.addGroup()" localize-tooltip="NavigationPane_CreateGroup"><i class="glyphicon pbi-glyph-add"></i></button></div><div class="list"><span class="sectionLabel" localize="NavigationPane_Groups_MyWorkspace_V2"></span><div focus-out-trigger class="groupItem" ng-click="$ctrl.switchGroup($ctrl.groupService.groups[0])" ng-class="{\'selected\': $ctrl.isGroupSelected($ctrl.groupService.groups[0])}"><div class="icon" ng-switch="$ctrl.userPhoto !== undefined"><i ng-switch-when="false" class="glyphicon pbi-glyph-user glyph-med groupIcon placeholder"></i><div ng-switch-when="true" ng-style="{\'background-image\': $ctrl.userPhoto,\'background-size\':\'cover\',\'background-position\':\'0px 0px\'}"></div></div><span class="text" title="{{$ctrl.groupService.groups[0].displayName}}" ng-bind="$ctrl.groupService.groups[0].displayName"></span></div><span class="sectionLabel" localize="NavigationPane_Groups_MyGroups"></span><ul><li ng-repeat="group in $ctrl.getGroups()" focus-out-trigger ng-click="$ctrl.switchGroup(group)" class="groupItem" ng-if="$index!=0" ng-class="{\'selected\': $ctrl.isGroupSelected(group)}"><div class="icon" ng-switch="group.icon !== undefined"><i ng-switch-when="false" class="glyphicon pbi-glyph-group glyph-med groupIcon placeholder"></i> <img ng-switch-when="true" class="groupIcon" ng-src="{{group.icon}}"/></div><span class="text"><span title="{{group.displayName}}" ng-bind="group.displayName"></span></span></li></ul></div></div>'),e.put("components/installStoreAppDialog/installStoreAppDialog.html",'<dialog-frame><dialog-header><label ng-bind="::$ctrl.titleText"></label></dialog-header><dialog-body><label localize="App_AutoInstall_AddDialogMessage"></label><a class="helpLink" href="{{::$ctrl.appsLink}}" target="_blank"><label class="successLabel regularBlackText" localize="LearnMore"></label></a></dialog-body><dialog-footer> <button autofocus type="submit" ng-click="$ctrl.ok()" class="primary" localize="ModalDialog_Add"></button> <button ng-click="$ctrl.cancel()" localize="PBI_Button_Label_Cancel"></button></dialog-footer></dialog-frame>'),e.put("components/installStoreAppDialog/installStoreAppDialogDefinition.html",'<install-store-app-dialog app="app"></install-store-app-dialog>'),e.put("components/introduceAppBar/introduceAppBar.html",'<section ng-if="$ctrl.showIntroduceAppBar"><label class="title" localize="AppModel_IntroduceApp"></label><label localize="AppModel_IntroduceAppDescription"></label><a href="{{::$ctrl.appsLink}}" target="_blank" localize="AppModel_WhatAreApps"></a><pbi-icon name="close" size="small" class="closeButton" ng-click="$ctrl.hideBar()"></pbi-icon></section>'),e.put("components/introduceAppDialog/introduceAppDialog.html",'<dialog-frame><dialog-header><header class="smallHeader" localize="AppModel_IntroduceApp"></header><header class="mainHeader" localize="AppModel_TryApp"></header><pbi-icon name="question" size="micro" tooltip tooltip-config="$ctrl.learnMoreTooltipConfig" ng-click="$ctrl.learnMoreAboutApps()"></pbi-icon></dialog-header><dialog-body><table><thead><tr><th></th><th localize="AppModel_ContentPacks"></th><th localize="AppModel_Apps"></th></tr></thead><tbody><tr><td localize="AppModel_MakeACopy"></td><td><pbi-icon name="success" size="small"></pbi-icon></td><td><pbi-icon name="success" size="small"></pbi-icon></td></tr><tr><td localize="AppModel_BundleContent"></td><td><pbi-icon name="chromeminimize" size="small"></pbi-icon></td><td><pbi-icon name="success" size="small"></pbi-icon></td></tr><tr><td localize="AppModel_PermanentUrls"></td><td><pbi-icon name="chromeminimize" size="small"></pbi-icon></td><td><pbi-icon name="success" size="small"></pbi-icon></td></tr><tr><td localize="AppModel_AlwaysUpToDate"></td><td><pbi-icon name="chromeminimize" size="small"></pbi-icon></td><td><pbi-icon name="success" size="small"></pbi-icon></td></tr><tr><td localize="AppModel_CustomizableThemes"></td><td><pbi-icon name="chromeminimize" size="small"></pbi-icon></td><td><pbi-icon name="success" size="small"></pbi-icon></td></tr></tbody></table><section class="convertDescription" localize="AppModel_ConvertDescription"></section></dialog-body><dialog-footer><pbi-button class="okButton" autofocus type="submit" ng-click="$ctrl.ok()" primary="primary" label="{{::$ctrl.okButtonTextLocId}}"></pbi-button></dialog-footer></dialog-frame>'),e.put("components/introduceAppDialog/introduceAppDialogDefinition.html",'<introduce-app-dialog config="config"></introduce-app-dialog>'),e.put("components/makeACopyDialog/makeACopyDialog.html",'<dialog-frame><dialog-header><label localize="::$ctrl.titleKey"></label></dialog-header><dialog-body><label class="message" localize="::$ctrl.messageKey"></label><label localize="::$ctrl.itemsIntroKey"></label><div class="itemList"><label ng-repeat="item in ::$ctrl.itemNames track by $index" ng-bind="::item"></label></div></dialog-body><dialog-footer> <button autofocus type="submit" ng-click="$ctrl.save()" class="primary" localize="ModalDialog_Save"></button> <button ng-click="$ctrl.cancel()" localize="ModalDialog_Cancel"></button></dialog-footer></dialog-frame>'),e.put("components/makeACopyDialog/makeACopyDialogDefinition.html",'<make-a-copy-dialog title-key="titleKey" message-key="messageKey" items-intro-key="itemsIntroKey" dashboards="dashboards" reports="reports" models="models"></make-a-copy-dialog>'),e.put("components/metadataContainer/metadataContainer.html","<div ng-repeat='metadata in $ctrl.datasetMetadata' class='metadata' ng-switch='metadata.type'><div ng-switch-when='0'> <span class='message'>{{metadata.value()}}</span><span ng-if='metadata.infoTooltipConfig' class='glyphicon glyph-mini pbi-glyph-info' tooltip tooltip-config='::metadata.infoTooltipConfig'></span></div><div ng-switch-when='2'> <span>{{ metadata.value() }}</span> <a ng-bind-attr='{href: metadata.linkUrl(), title: metadata.linkTitle() || metadata.linkText(), target: metadata.linkTarget}'>{{ metadata.linkText() }}</a></div><div ng-switch-when='3'><span class='refreshFlyoutWarning' ng-if='metadata.isWarning == true'><i class='glyphicon pbi-glyph-error glyph-mini'></i></span> <a class='refreshHistory' href='' ng-click='metadata.actionOnClick()'>{{metadata.value()}}</a></div><div ng-switch-when='4'><div ng-switch='metadata.status'><div ng-switch-when='0'><span class='glyphicon glyph-small pbi-glyph-error statusIcon'></span><span class='statusText' ng-bind='metadata.value'></span></div><div ng-switch-when='1'><span class='glyphicon glyph-small pbi-glyph-success glyph-success-color statusIcon'></span><span class='statusText' ng-bind='metadata.value'></span></div></div></div></div>"),e.put("components/navigationPaneV2/navigationPaneV2.html",'<div class="navigationPaneV2" ng-class="{isFrozen: $ctrl.groupService.isInGroupTransition, isExpanded: $ctrl.isExpanded}"> <button class="expanderBtn glyphicon pbi-glyph-globalnavbutton slideFadeIn" ng-click="$ctrl.onToggleClicked()" title="{{ $ctrl.getExpandButtonTitle() }}"></button><div class="navigationPaneBody slideFadeIn" feature-switch-class="appsEnabled"><div class="globalPivots"><nav-pane-flyout-button class="button favorites" show-recent="false" icon="pbi-glyph-favoritestar" label="Favorites_NavPaneTitle" navigate-to="$ctrl.navigateToFavorites()" ng-class="{\'highlight\':$ctrl.isOnFavorites(), isExpanded: $ctrl.isExpanded}" ng-click="$ctrl.onGroupSwitcherToggled(false)"></nav-pane-flyout-button><nav-pane-flyout-button class="button recent" icon="pbi-glyph-mru" label="RecentlyViewed_NavPaneTitle" navigate-to="$ctrl.navigateToRecentlyViewed()" ng-class="{\'highlight\':$ctrl.isOnRecentlyViewed(), isExpanded: $ctrl.isExpanded}" ng-click="$ctrl.onGroupSwitcherToggled(false)"></nav-pane-flyout-button> <button class="button myApps" localize-tooltip="Apps_NavPaneTitle" ng-if="::$ctrl.isAppsEnabled()" ng-click="$ctrl.navigateToApps()" ng-class="{\'highlight\':$ctrl.isOnApps()}"><div class="flexDiv"><i class="navicon glyphicon pbi-glyph-my-apps glyph-small"></i><span class="btnLabel" localize="Apps_NavPaneTitle"></span></div></button> <button class="button sharedWithMe" localize-tooltip="NavigationPane_SharedWithMeTitle" ng-click="$ctrl.navigateToOnlySharedWithMe()" ng-class="{\'highlight\':$ctrl.isOnSharedWithMe()}"><div class="flexDiv"><i class="navicon glyphicon pbi-glyph-shared glyph-small"></i><span class="btnLabel" localize="NavigationPane_SharedWithMeTitle"></span></div></button></div><group-switcher class="button workspaces" on-toggled="$ctrl.onGroupSwitcherToggled(isExpanded)" ng-class="{\'highlight\':$ctrl.isOnWorkspaces(), isExpanded: $ctrl.isExpanded, isGroupSwitcherExpanded: $ctrl.isGroupSwitcherExpanded}"></group-switcher><quick-access-pane selected="$ctrl.isOnWorkspace()" ng-if="$ctrl.groupService.activeGroup" close-menus="$ctrl.onGroupSwitcherToggled(false)"></quick-access-pane> <button class="button getData" localize-tooltip="NavigationPane_GetData" ng-click="$ctrl.navigateToGetData()" ng-show="$ctrl.showGetDataBtn"><div class="flexDiv"><i class="navicon glyphicon pbi-glyph-getdata glyph-small"></i><span class="btnLabel" localize="NavigationPane_GetData"></span></div></button></div><group-list ng-if="$ctrl.isGroupSwitcherExpanded" ng-class="{large: $ctrl.shouldShowLargeGroupList}" active-group="$ctrl.groupService.activeGroup" on-toggled="$ctrl.onGroupSwitcherToggled(isExpanded)" is-expanded="$ctrl.isGroupSwitcherExpanded"></group-list></div>'),e.put("components/navPaneFlyoutButton/navPaneFlyoutButton.html",'<div class="flexDiv"> <button class="main" ng-click="$ctrl.navigateTo()" localize-tooltip="{{$ctrl.label}}"><div class="flexDiv"><i class="navicon glyphicon glyph-small" ng-class="::$ctrl.icon"></i><span class="name" localize="$ctrl.label"></span></div></button></div> <button class="switcher" ng-mousedown="$ctrl.mouseDownToggle()" ng-click="$ctrl.toggleFlyout()"><span class="glyphicon glyph-small" ng-class="{expanded: $ctrl.isExpanded}"></span></button><ul ng-class="{expand: $ctrl.isExpanded}" flyout-toggle="$ctrl.isExpanded"><li ng-repeat="item in $ctrl.items" title="{{item.displayName}}" ng-switch="::$ctrl.getActualType(item)"><a ng-click="$ctrl.openContent(item)"><i class="tileTypeIndicator glyphicon pbi-glyph-barchart glyph-small" ng-switch-when="2"></i><i class="tileTypeIndicator glyphicon pbi-glyph-gauge glyph-small" ng-switch-when="4"></i><i class="tileTypeIndicator glyphicon pbi-glyph-excel glyph-small" ng-switch-when="8"></i><i class="tileTypeIndicator glyphicon pbi-glyph-my-apps glyph-small" ng-switch-when="16"></i><span class="flyoutName" ng-bind="item.displayName"></span></a></li><li><a class="seeAll" ng-click="$ctrl.navigateToArea()" localize="NavigationPane_SeeAllLabel"></a></li></ul>'),
e.put("components/popupNotificationDialog/popupNotificationDialog.html",'<dialog-frame><dialog-header><header class="smallHeader" ng-bind="::$ctrl.config.subtitle"></header><header class="mainHeader" ng-bind="::$ctrl.config.title"></header></dialog-header><dialog-body> <img src="{{::$ctrl.config.imgUrl}}" ng-if="::$ctrl.config.imgUrl"><section class="description" ng-bind="::$ctrl.config.message"></section></dialog-body><dialog-footer id="popupNotificationFooter"> <button type="submit" ng-click="$ctrl.ok()" autofocus class="okButton actionButton primary">{{::$ctrl.config.okButton.text}}</button> <button class="cancelButton text" ng-click="$ctrl.close()">{{::$ctrl.config.cancelButton.text}}</button></dialog-footer></dialog-frame>'),e.put("components/popupNotificationDialog/popupNotificationDialogDefinition.html",'<popup-notification-dialog config="config"></popup-notification-dialog>'),e.put("components/previewFeaturesModal/previewFeaturesModal.html",'<header><i class="glyphicon pbi-glyph-powerbi glyph-custom"></i><h localize="PreviewFeaturesModal_Header"></h></header><div class="content"><ul class="tabs"><li ng-repeat="tab in $ctrl.tabs track by tab.icon" ng-click="$ctrl.selectTab(tab)" ng-class="{selected: $ctrl.isTabSelected(tab)}"><i class="glyphicon pbi-glyph-{{tab.icon}} glyph-custom"></i><span ng-bind="tab.title"></span></li></ul><p><span ng-bind="$ctrl.activeTab.text"></span><a target="_blank" ng-href="{{$ctrl.activeTab.learnMoreUrl}}" localize="LearnMore"></a></p></div>'),e.put("components/previewFeedbackModal/previewFeedbackModal.html",'<header><i class="glyphicon pbi-glyph-powerbi glyph-custom"></i><h localize="PreviewFeedbackModal_Header"></h></header><div class="content"><p><div localize="PreviewFeedbackModal_Content1"></div><div localize="PreviewFeedbackModal_Content2"></div></p></div>'),e.put("components/printableImage/printableImage.html",'<img class="image" ng-class="{loaded: $ctrl.imageLoaded, animate: !$ctrl.disableAnimation}" ng-src="{{$ctrl.source}}" on-load="$ctrl.onLoad()" on-error="$ctrl.onError()"/>'),e.put("components/progressDialog/progressDialog.html",'<dialog-frame dismissable="false"><dialog-header><label localize="::$ctrl.titleKey"></label></dialog-header><dialog-body><span class="pbi-spinner"></span><label class="message" localize="::$ctrl.messageKey"></label></dialog-body><dialog-footer></dialog-footer></dialog-frame>'),e.put("components/progressDialog/progressDialogDefinition.html",'<progress-dialog title-key="titleKey" message-key="messageKey"></progress-dialog>'),e.put("components/quickAccessPane/quickAccessPane.html",'<div class="quickAccessPaneLauncher"><div class="flexDiv"> <button class="button workspace" ng-class="{highlight: $ctrl.selected}" ng-click="$ctrl.navigateToContentList()" title="{{$ctrl.groupService.activeGroup.displayName}}"><div class="flexDiv"><group-icon group="$ctrl.groupService.activeGroup" placeholder-size="small"></group-icon><span class="workspaceName" ng-bind="$ctrl.groupService.activeGroup.displayName"></span><pbi-icon name="database" size="small" ng-if="::!!$ctrl.groupService.activeGroup.capacity"></pbi-icon></button></div> <button class="button switcher" ng-class="{highlight: $ctrl.selected}" ng-click="$ctrl.togglePane()" localize-tooltip="GroupSwitch_NavPaneTitle"><span class="glyphicon glyph-small" ng-class="{\'pbi-glyph-chevronupmedium\': $ctrl.paneExpanded, \'pbi-glyph-chevrondownmedium\': !$ctrl.paneExpanded}"></span></button></div><section class="artifactListing" ng-if="$ctrl.paneExpanded"><header class="artifactHeader unselectable" ng-click="$ctrl.toggleDashboards()" localize="NavigationPane_Dashboards_Header"></header><ul ng-if="$ctrl.dashboardsExpanded && !$ctrl.groupService.isInGroupTransition"><dashboard-navigation-pane-list-item ng-repeat="dashboard in $ctrl.dashboards track by dashboard.objectId" ng-click="$ctrl.openItem(dashboard)" view-model="::dashboard" new-style="true" selected="dashboard.objectId === $ctrl.currentObjectId"></dashboard-navigation-pane-list-item><li localize="NavigationPane_NoDashboardText" localize-tooltip="NavigationPane_NoDashboardText" class="noItemText navPaneListItem" ng-if="$ctrl.dashboards.length === 0"></li></ul><header class="artifactHeader unselectable" ng-click="$ctrl.toggleReports()" localize="NavigationPane_Reports_Header"></header><ul ng-if="$ctrl.reportsExpanded && !$ctrl.groupService.isInGroupTransition"><report-navigation-pane-list-item ng-repeat="report in $ctrl.reports track by report.objectId" ng-click="$ctrl.openItem(report)" view-model="::report" new-style="true" selected="report.objectId === $ctrl.currentObjectId"></report-navigation-pane-list-item><li localize="NavigationPane_NoReportText" localize-tooltip="NavigationPane_NoReportText" class="noItemText navPaneListItem" ng-if="$ctrl.reports.length === 0"></li></ul><header class="artifactHeader unselectable" ng-click="$ctrl.toggleWorkbooks()" localize="NavigationPane_Workbooks_Header"></header><ul ng-if="$ctrl.workbooksExpanded && !$ctrl.groupService.isInGroupTransition"><workbook-navigation-pane-list-item ng-repeat="workbook in $ctrl.workbooks track by workbook.uniqueId" ng-click="$ctrl.openItem(workbook)" view-model="::workbook" new-style="true" selected="workbook.uniqueId === $ctrl.currentObjectId"></workbook-navigation-pane-list-item><li localize="NavigationPane_NoWorkbookText" localize-tooltip="NavigationPane_NoWorkbookText" class="noItemText navPaneListItem" ng-if="$ctrl.workbooks.length === 0"></li></ul><header class="artifactHeader unselectable" ng-if="!$ctrl.isActiveWorkspaceReadOnly" ng-click="$ctrl.toggleDatasets()" localize="NavigationPane_Datasets_Header"></header><ul ng-if="$ctrl.datasetsExpanded && !$ctrl.groupService.isInGroupTransition && !$ctrl.isActiveWorkspaceReadOnly"><dataset-navigation-pane-list-item ng-repeat="model in $ctrl.datasets" ng-click="$ctrl.openModel(model)" view-model="::model" new-style="true" selected="model.dbName === $ctrl.currentObjectId || (navigation.inRowLevelSecurityView() && navigation.rowLevelSecurityModelId === model.id)"></dataset-navigation-pane-list-item><li localize="NavigationPane_NoDatasetText" localize-tooltip="NavigationPane_NoDatasetText" class="noItemText navPaneListItem" ng-if="$ctrl.datasets.length === 0"></li></ul></section>'),e.put("components/realTimeBlade/realTimeBlade.html",'<ng-form id="realTimeBlade" name="realTimeBladeForm" class="paneLayout"><header><h1 class="primaryHeading" localize="Realtime_AddStreamingDataTitle"></h1><h2 class="secondaryHeading" ng-bind="$ctrl.getBreadCrumb()"></h2></header><section class="banner" ng-if="$ctrl.stage === 0"><pbi-button label="ManageDatasets_AddStreamingDataset" class="wideButton" icon-name="add" primary="true" ng-click="$ctrl.navigateToManageDatasets(true)"></pbi-button></section><section class="contentContainer noPadding" ng-switch="$ctrl.stage"><section class="datasetsSelector" ng-switch-when="0"><h4 class="headerText" localize="Realtime_yourDatasets"></h4><ul class="datasetsList"><li class="dataset" ng-repeat="model in ::$ctrl.models" ng-class="{selected: $ctrl.selectedModel === model}" ng-click="$ctrl.selectModel(model)" ng-bind="::model.displayName" ng-attr-title="{{::model.displayName}}"></li></ul></section><real-time-tile-visualization-design tile="$ctrl.selectedTile" model="$ctrl.selectedModel" has-errors="$ctrl.hasVisualConfigError" ng-switch-when="1"></real-time-tile-visualization-design></section><section class="banner"><pbi-button label="Realtime_manageData" kind="text" ng-click="$ctrl.navigateToManageDatasets()"></pbi-button></section><footer><fieldset class="buttons"><pbi-button label="PBI_Button_Label_Back" ng-click="$ctrl.prev()"></pbi-button><pbi-button label="PBI_Button_Label_Next" primary="true" ng-click="$ctrl.next()" ng-disabled="realTimeBladeForm.$invalid || !$ctrl.nextValid()"></pbi-button><pbi-button label="PBI_Button_Label_Cancel" ng-click="$ctrl.cancel()"></pbi-button></fieldset></footer></ng-form>'),e.put("components/realTimeTile/realTimeTile.html",'<div class="realTimeTile compositeTile" ng-class="{ fullLayout: $ctrl.viewModel.config.layoutType === 1 }"><div class="visualTile"><visual ng-if="!$ctrl.viewModel.isLoading && !$ctrl.viewModel.hideVisual" view-model="$ctrl.viewModel.visual" allow-deferred-rendering="::true"></visual></div></div>'),e.put("components/realTimeTileVisualizationDesign/realTimeTileVisualizationDesign.html",'<ng-form name="realTimeVisualizationForm"><section id="realTimeVisualization"><section class="visualSelector selectLabelBlock"><label localize="Realtime_VisualizationType"></label> <select ng-model="$ctrl.activeVisual" ng-options="supportedVisual as supportedVisual.title for supportedVisual in ::$ctrl.supportedVisualTypes" ng-change="$ctrl.onVisualChanged()"></select></section><section class="visualConfig"><ul class="tabs" ng-if="$ctrl.showCardFormattingOptions"><li class="tabHeader" ng-repeat="tab in ::$ctrl.tabs track by $index" ng-class="{active: $ctrl.activeTab.id === tab.id}" ng-click="$ctrl.activateTab(tab)"><i class="glyphicon glyph-small icon {{::tab.iconClass}}"></i></li></ul><section ng-show="!$ctrl.showCardFormattingOptions || $ctrl.activeTab.id === 0"><div class="selectLabelBlock errorBlock" ng-if="$ctrl.hasErrors"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="Realtime_RoleEntryError" localize-tooltip="Realtime_RoleEntryError"></div></div><div class="selectLabelBlock" ng-repeat="role in $ctrl.roleBuckets track by $index"><label ng-bind="role.displayName"></label><ul class="roleBuckets"><li class="roleEntryRow" ng-repeat="boundEntry in role.roleEntries track by $index"><div class="propertyContainer" ng-click="$ctrl.clickedEntry(boundEntry, role)"><selection-box class="item-fill" ng-class="{hasError: boundEntry.hasError}" items="role.roleProperties" selected-value="boundEntry.selectedProperty" on-select="$ctrl.onRoleBucketEntryChanged" allow-external-values="true"></selection-box><i class="glyphicon pbi-glyph-chevrondownmedium"></i></div> <button ng-click="$ctrl.deleteRoleProperty(boundEntry, role)" localize-tooltip="Realtime_deleteRoleEntry" ng-disabled="$ctrl.disableDeleteRolePropertyButton"><i class="glyphicon glyph-small icon pbi-glyph-delete"></i></button></li></ul> <button type="button" ng-click="$ctrl.addNewRoleProperty(role)" localize-tooltip="Realtime_addRoleEntry" ng-disabled="!$ctrl.enableAddMoreButton(role)" id="addNewRole"><i class="glyphicon glyph-small icon pbi-glyph-add"></i><span class="buttonText" localize="Realtime_AddValue"></span></button></div></section><section class="cardFormatBlock" ng-if="$ctrl.showCardFormattingOptions && $ctrl.activeTab.id === 1"><h3 localize="Realtime_DataLabel"></h3><div class="labeledRow"><label localize="Visual_DisplayUnits"></label> <select ng-model="$ctrl.config.displayUnit" ng-change="$ctrl.updateCardFormatting()" ng-model-options="{ debounce: 250 }" ng-options="displayUnit.displayName for displayUnit in ::$ctrl.displayUnits track by displayUnit.value"></select></div><div class="labeledRow"><label localize="Visual_Precision"></label> <input name="precision" ng-class="{hasError: realTimeVisualizationForm.precision.$touched && !realTimeVisualizationForm.precision.$valid}" ng-model="$ctrl.config.precision" ng-change="$ctrl.updateCardFormatting()" ng-model-options="{ debounce: 100 }" type="number" min="0" max="{{::$ctrl.maxPrecisionValue}}"/><div class="errorBlock" ng-if="realTimeVisualizationForm.precision.$touched && !realTimeVisualizationForm.precision.$valid"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="Realtime_InvalidPrecision" localize-tooltip="Realtime_InvalidPrecision"></div></div></div></section><section class="timeConfigBlock" ng-if="$ctrl.showTimeWindow"><h3 localize="Realtime_TimeWindowHeader"></h3><label localize="Realtime_TimeWindowSelectLabel"></label> <select class="optionBlock" ng-model="$ctrl.config.timeWindow" ng-change="$ctrl.updateRealTimeTile()" ng-model-options="{ debounce: 250 }" ng-options="time for time in ::$ctrl.times"></select> <select class="optionBlock" ng-model="$ctrl.config.timeWindowGranularityOption" ng-change="$ctrl.updateRealTimeTile()" ng-model-options="{ debounce: 250 }" ng-options="timeLabel.value for timeLabel in ::$ctrl.timeLabels track by timeLabel.timeWindow"></select></section></section></section></ng-form>'),e.put("components/recentlyViewedContainer/recentlyViewedContainer.html",'<div class="recentlyViewedContainer contentListView"><div class="dashboardControls"><search-box should-focus="::true" on-change="$ctrl.ensureSearchTelemetry()" on-blur="$ctrl.resolveSearchTelemetry()" filter="$ctrl.searchText" placeholder="SearchContent"></search-box></div><div class="contentListOptionsTabs unselectable"><div class="right"><span class="count" localize="ShowingXItems" localize-fragments><span fragment-index="0" ng-bind="$ctrl.filteredRecentlyUsedArtifacts.length"></span></span><select-tile-sort selected-predicate="$ctrl.sortPredicate" on-select="$ctrl.selectSort" predicates="$ctrl.sortPredicates"></select-tile-sort></div></div><div class="dashboardSliderMain"><water-mark-message config="$ctrl.watermarkConfig" ng-show="$ctrl.showWatermarkConfig"></water-mark-message><content-list-gallery view-model="::$ctrl.galleryViewModel" is-data-classification-enabled="$ctrl.dataClassificationEnabled"></content-list-gallery></div></div>'),e.put("components/relatedContentBlade/relatedContentBlade.html",'<div class="relatedContentBlade paneLayout"><header><div class="header"><h4 class="title" localize="PermissionCenter_RelatedContent"></h4><span class="subtitle" ng-bind="::$ctrl.viewModel.displayName"></span></div></header><section class="contentContainer"><div ng-if="$ctrl.viewModel.artifactType !== 0"><h4 localize="NavigationPane_Dashboards_Header"></h4><ul ng-if="$ctrl.hasItems($ctrl.dashboards)"><li class="item" ng-repeat="item in $ctrl.dashboards track by item.objectId"><a ng-click="$ctrl.openContent(item)" title="{{item.displayName}}"><span ng-bind="item.displayName"></span></a> <button class="shareBtn pbi-glyph-share" localize-tooltip="ContentListMenu_Share" ng-if="::$ctrl.canShare(item)" ng-click="$ctrl.shareContentTile(item)"></button> <button class="renameBtn pbi-glyph-settings" title="{{::$ctrl.tooltipForSettings(item.contentTileType)}}" ng-if="::$ctrl.canWriteTo(item)" ng-click="$ctrl.openSettings(item)"></button></li></ul><span class="empty" ng-if="!$ctrl.hasItems($ctrl.dashboards)" localize="RelatedContentBlade_NoRelated"></span></div><div ng-if="$ctrl.viewModel.artifactType !== 2"><h4 localize="NavigationPane_Reports_Header"></h4><ul ng-if="$ctrl.hasItems($ctrl.reports)"><li class="item" ng-repeat="item in $ctrl.reports track by item.objectId"><a ng-click="$ctrl.openContent(item)" title="{{item.displayName}}"><span ng-bind="item.displayName"></span></a> <button class="analyzeInExcel pbi-glyph-excel" localize-tooltip="ContentTileOptions_AnalyzeInExcel" ng-if="::$ctrl.canAnalyzeInExcel(item)" ng-click="$ctrl.analyzeInExcel(item)"></button> <button class="renameBtn pbi-glyph-settings" title="{{::$ctrl.tooltipForSettings(item.contentTileType)}}" ng-if="::$ctrl.canWriteTo(item)" ng-click="$ctrl.openSettings(item)"></button> <button class="insightsBtn pbi-glyph-insight" localize-tooltip="ContentTileOptions_GetInsights" ng-if="::$ctrl.canRunInsights(item)" ng-click="$ctrl.runInsights(item)"></button></li></ul><span class="empty" ng-if="!$ctrl.hasItems($ctrl.reports)" localize="RelatedContentBlade_NoRelated"></span></div><div ng-if="$ctrl.viewModel.artifactType !== 1 && !$ctrl.viewModel.readOnly"><h4 localize="NavigationPane_Datasets_Header"></h4><ul ng-if="$ctrl.hasItems($ctrl.models)"><li ng-repeat="model in $ctrl.models track by $index"><related-content-dataset-row view-model="model"></related-content-dataset-row></li></ul><span class="empty" ng-if="!$ctrl.hasItems($ctrl.models)" localize="RelatedContentBlade_NoRelated"></span></div></section><footer><fieldset class="buttons"> <button class="biButton" type="button" localize="PBI_Button_Label_Close" ng-click="$ctrl.close()"></button></fieldset></footer></div>'),e.put("components/relatedContentDatasetRow/relatedContentDatasetRow.html",'<div class="relatedContentDatasetRow"><div class="header"><span ng-bind="$ctrl.viewModel.displayName" title="{{$ctrl.viewModel.displayName}}"></span><content-dataset-actions view-model="$ctrl.viewModel" delete-enabled="false" view-related-enabled="false"></content-dataset-actions></div><div class="refresh"><dataset-icon-container view-model="::$ctrl.viewModel" can-show-new="false" refresh-related="true"></dataset-icon-container><span class="trimmedTextWithEllipsis" ng-bind="$ctrl.convertRefreshTimeToJsDateTime($ctrl.viewModel.contract.lastRefreshTime)"></span></div></div>'),e.put("components/selectArtifactFilter/selectArtifactFilter.html",'<select-button overlay-name="SelectArtifactFilter"><span localize="PermissionCenter_ViewAllContent" class="dropdownFontColor"></span></select-button><dropdown-overlay dropdown-overlay-name="SelectArtifactFilter" class="overlayTopBar"><dropdown-list class="topBar filters artifactFilter"><dropdown-list-item ng-click="$ctrl.selectType()($ctrl.Dashboard)"><div class="pbi-input"> <input id="dashboardCheckBoxInput" type="checkbox" ng-checked="$ctrl.isSelectedType($ctrl.Dashboard)"/><label localize="ContentList_Dashboards" for="dashboardCheckBoxInput"></label></div></dropdown-list-item><dropdown-list-item ng-click="$ctrl.selectType()($ctrl.Report)"><div class="pbi-input"> <input id="reportCheckBoxInput" type="checkbox" ng-checked="$ctrl.isSelectedType($ctrl.Report)"/><label localize="ContentList_Reports" for="reportCheckBoxInput"></label></div></dropdown-list-item><dropdown-list-item ng-click="$ctrl.selectType()($ctrl.Workbook)"><div class="pbi-input"> <input id="workbookCheckBoxInput" type="checkbox" ng-checked="$ctrl.isSelectedType($ctrl.Workbook)"/><label localize="ContentList_Workbooks" for="workbookCheckBoxInput"></label></div></dropdown-list-item><dropdown-list-item ng-click="$ctrl.selectType()($ctrl.Dataset)"><div class="pbi-input"> <input id="datasetChecBoxInput" type="checkbox" ng-checked="$ctrl.isSelectedType($ctrl.Dataset)"/><label localize="ContentList_Datasets" for="datasetChecBoxInput"></label></div></dropdown-list-item></dropdown-list></dropdown-overlay>'),e.put("components/selectButton/selectButton.html",'<div class="toggle" ng-mousedown="$ctrl.toggleDropdown($event)"><ng-transclude class="title"></ng-transclude><span class="glyphicon glyph-mini anchorContainer" ng-class="$ctrl.dropdownOpen ? \'pbi-glyph-chevronupmedium\' : \'pbi-glyph-chevrondownmedium\'"><span class="js-anchor anchor"></span></span></div>'),e.put("components/selectDatasetDialog/selectDatasetDialog.html",'<dialog-frame><dialog-header><span localize="$ctrl.titleLabel"></span></dialog-header><dialog-body><label class="description" localize="$ctrl.descriptionLabel"></label><search-box filter="$ctrl.searchString" on-change="$ctrl.onSearchStringChanged()"></search-box><label class="error" ng-if="!$ctrl.hasModels" localize="NavigationPane_NoDatasetText"></label><div class="content" ng-if="$ctrl.hasModels"><label class="error" ng-if="$ctrl.tableConfig.filteredData.length === 0" localize="NavigationPane_NoDatasetSearchResultText"></label><table pbi-table pbi-table-config="$ctrl.tableConfig" ng-if="$ctrl.tableConfig.filteredData.length> 0"><tr ng-repeat="model in $ctrl.tableConfig.filteredData track by model.id" ng-click="$ctrl.selectModel(model)" ng-keydown="$ctrl.itemKeydown($event, model)" ng-class="{selected: $ctrl.selectedDataset.id === model.id}" tabindex="0"><td ng-bind="::model.displayName" title="{{::model.displayName}}" localized-header="CreateReport_Header_Name" sort-by="displayName"></td><td ng-bind="::$ctrl.getLastRefreshDate(model)" title="{{::$ctrl.getLastRefreshDate(model)}}" localized-header="CreateReport_Header_LastRefreshed" sort-by="lastRefreshEpochTime"></td></tr></table></div></dialog-body><dialog-footer><a href="" class="importDataset" localize="CreateReport_ImportNewDataset" ng-click="$ctrl.importDataset()"></a> <button type="submit" ng-click="$ctrl.confirm()" class="primary" ng-disabled="!$ctrl.selectedDataset" localize="$ctrl.confirmLabel"></button> <button ng-click="$ctrl.cancel()" localize="$ctrl.cancelLabel"></button></dialog-footer></dialog-frame>'),e.put("components/selectDatasetDialog/selectDatasetDialogDefinition.html",'<select-dataset-dialog title-label="titleLabel" description-label="descriptionLabel" confirm-label="confirmLabel" cancel-label="cancelLabel" models="models"></select-dataset-dialog>'),e.put("components/selectTileFilter/selectTileFilter.html",'<select-button overlay-name="SelectTileFilter"><span localize="Filters"></span></select-button><dropdown-overlay dropdown-overlay-name="SelectTileFilter" class="overlayTopBar"><dropdown-list class="topBar filters"><span class="dropdownListHeader" localize="FilterContent"></span><dropdown-list-item ng-click="$ctrl.selectOwner()($ctrl.OwnerAll)"><div class="pbi-input"> <input type="radio" ng-checked="$ctrl.isSelectedOwner($ctrl.OwnerAll)"/><label class="form-label" localize="NavigationPane_OwnershipFilterAllContent"></label></div></dropdown-list-item><dropdown-list-item ng-click="$ctrl.selectOwner()($ctrl.OwnerMine)"><div class="pbi-input"> <input type="radio" ng-checked="$ctrl.isSelectedOwner($ctrl.OwnerMine)"/><label class="form-label" localize="NavigationPane_OwnershipFilterMyContent"></label></div></dropdown-list-item><dropdown-list-item ng-click="$ctrl.selectOwner()($ctrl.OwnerShared)"><div class="pbi-input"> <input type="radio" ng-checked="$ctrl.isSelectedOwner($ctrl.OwnerShared)"/><label class="form-label" localize="NavigationPane_OwnershipFilterSharedWithMe"></label></div></dropdown-list-item><hr><dropdown-list-item ng-click="$ctrl.selectType()($ctrl.Dashboard)"><div class="pbi-input"> <input type="checkbox" ng-checked="$ctrl.isSelectedType($ctrl.Dashboard)"/><label localize="ContentList_Dashboards"></label></div></dropdown-list-item><dropdown-list-item ng-click="$ctrl.selectType()($ctrl.Report)"><div class="pbi-input"> <input type="checkbox" ng-checked="$ctrl.isSelectedType($ctrl.Report)"/><label localize="ContentList_Reports"></label></div></dropdown-list-item><dropdown-list-item ng-click="$ctrl.selectType()($ctrl.Workbook)"><div class="pbi-input"> <input type="checkbox" ng-checked="$ctrl.isSelectedType($ctrl.Workbook)"/><label localize="ContentList_Workbooks"></label></div></dropdown-list-item></dropdown-list></dropdown-overlay>'),e.put("components/selectTileSort/selectTileSort.html",'<select-button overlay-name="SelectTileSort""><span ng-bind="$ctrl.title"></span></select-button><dropdown-overlay dropdown-overlay-name="SelectTileSort" class="overlayTopBar"><dropdown-list class="topBar sort"><span class="dropdownListHeader" localize="SortBy"></span><dropdown-list-item ng-repeat="item in $ctrl.dropdownItems track by item.predicate.toAngularFilter()" ng-class="{selected: $ctrl.isSelected(item.predicate)}" ng-click="$ctrl.select(item.predicate)" ng-bind="item.title"></dropdown-list-item></dropdown-list></dropdown-overlay>'),e.put("components/settingsAlerts/settingsAlertsView.html",'<div class="alertsSettings"><div ng-repeat="group in ::$ctrl.viewModel track by $index"><section class="group"><div class="groupTitle" ng-bind="group.title"></div><table><thead><tr><th ng-repeat="column in $ctrl.columns track by $index" ng-class="column.predicateName" ng-click="$ctrl.order(group, column.predicateName)"> <button><span ng-bind="column.displayName"></span><span class="sortChevron" ng-if="group.sortPredicate === column.predicateName"><i class="glyphicon pbi-glyph-chevrondownmedium glyph-micro" ng-show="group.reverse"></i><i class="glyphicon pbi-glyph-chevronupmedium glyph-micro" ng-hide="group.reverse"></i></span></button></th><th class="actions"></th></tr></thead><tbody><tr ng-repeat="alert in group.alerts | orderBy:group.sortPredicate:group.reverse track by $index"><td class="dataCell" ng-bind="alert.alertTitle"></td><td class="dataCell" ng-bind="alert.dashboardName"></td><td class="dataCell" ng-bind="alert.alertCreatedDate"></td><td class="actions"><pbi-toggle class="toggleAction" no-label ng-model="alert.enabled" on-state-text="AlertsPane_ToggleOn" off-state-text="AlertsPane_ToggleOff" ng-change="$ctrl.toggleAlert(alert)"></pbi-toggle><span class="editAction" ng-click="$ctrl.editAlert(alert)" localize="AlertsSettings_AlertEdit"></span><span class="deleteAction" ng-click="$ctrl.deleteAlert(alert)" localize="AlertsSettings_AlertDelete"></span></td></tr></tbody></table></section></div></div>'),e.put("components/settingsBlade/settingsBlade.html",'<ng-form name="settingsForm"><div class="settingsBlade paneLayout"><header><h3 class="primaryHeading trimmedTextWithEllipsis" ng-bind="::$ctrl.artifactName" title="{{::$ctrl.artifactName}}"></h3></header><section class="contentContainer"><div class="ownerInfo info trimmedTextWithEllipsis" ng-if="$ctrl.isSettingsPane"><span class="details" localize="SettingsBlade_OwnerInfo"></span><span class="details" ng-bind="::$ctrl.ownerInfo" title="{{::$ctrl.ownerInfo}}"></span><span class="details" localize="SettingsBlade_OwnerInfoSeparator"/><a class="infoMail" ng-if="$ctrl.ownerMail" href="mailto:{{$ctrl.ownerMail}}"><span ng-bind="$ctrl.ownerMail" title="{{::$ctrl.ownerMail}}"></span></a></div><div class="modelNameText info" ng-bind="::$ctrl.artifactLabel"></div><div class="info"> <input class="nameInput" type="text" ng-model="$ctrl.artifact.displayName" spellcheck="false" autofocus="autofocus" maxlength="250"/></div><ng-form name="dashboardSettingsForm"><section class="info" ng-if="$ctrl.isSettingsPane"><settings-dashboard-blade view-model="$ctrl.artifact" dashboard-settings-form="dashboardSettingsForm"></settings-dashboard-blade></section></ng-form><div class="workbookSettings metadata info" ng-if="$ctrl.isWorkbook"><settings-workbook-blade view-model="$ctrl.artifact"></settings-workbook-blade></div></section><footer><fieldset class="buttons"><div ng-show="$ctrl.isSaving" class="spinnerWithText"><spinner></spinner><div localize="GroupEditor_WaitForSave"></div></div> <button class="biButton primary" type="button" ng-disabled="$ctrl.isDisabled()" ng-click="$ctrl.saveModelName($ctrl.artifact.displayName)" localize="SettingsBlade_Save"></button> <button class="biButton" type="button" localize="SettingsBlade_Cancel" ng-click="$ctrl.cancel()"></button></fieldset></footer></div></ng-form>'),e.put("components/settingsCommunications/settingsCommunications.html",'<section class="settingsDatasets"><settings-subscriptions view-model="$ctrl.viewModel.settingsSubscriptionsModel"></settings-subscriptions></section>'),e.put("components/settingsDashboardBlade/settingsDashboardBlade.html",'<form name="$ctrl.dashboardSettingsForm"><section class="dashboardSettingsQnA"><div class="qnaSection title" localize="SettingsDashboard_QnA_Title"/><div class="toggleButton"> <span class="qnaToggle"><input type="checkbox" ng-model="qnaEnabled" ng-change="$ctrl.setQnADirty()" title="{{$ctrl.qnaTooltip(qnaEnabled)}}"/><span class="toggleBox"></span><span class="toggleHandle"></span></span></div><div class="qnaSection info" localize="SettingsDashboard_QnA_Info1"/><div class="qnaSection info"><a href="https://go.microsoft.com/fwlink/?LinkId=808174" target="_blank" localize="LearnMore"/></div><div class="qnaSection warning" ng-if="$ctrl.isQnaDirty && qnaEnabled && !$ctrl.settingsDashboardModel.hasQnaSupportedModel"><i class="glyphicon pbi-glyph-warning glyph-small alertWarning"/><span localize="SettingsDashboard_QnA_QnaUnavailableWarning"/></div></section><section class="dashboardSettingsGravity"><div class="gravitySection title" localize="SettingsDashboard_Gravity_Title"/><div class="toggleButton"> <span class="gravityToggle"><input type="checkbox" ng-model="gravityEnabled" title="{{$ctrl.gravityTooltip(gravityEnabled)}}"/><span class="toggleBox"></span><span class="toggleHandle"></span></span></div><div class="gravitySection info" localize="SettingsDashboard_Gravity_GravityNoticeMessage"/></section><section class="dashboardSettingsDataClassification" ng-hide="!dataClassifications || dataClassifications.length==0"><div class="title" localize="SettingsDashboard_DataClassification_Title"></div> <select ng-options="option.id as option.name for option in dataClassifications" ng-model="dataClassificationId" ng-change="onDataClassificationIdChanged()"></select><div class="inlineWarning" ng-show="isNonDefaultDataClassificationSelected"><div class="message"><span class="glyphicon glyph-small pbi-glyph-info"></span><span localize="SettingsDashboard_DataClassification_NoDefaultChoosed"></span><span class="defaultDataClassificationOption">{{defaultDataClassification.name}}</span></div></div></section></form>'),e.put("components/settingsPreviewFeatures/settingsPreviewFeatures.html",'<div class="dashboardSettings previewFeaturesSettings"><h class="dashboardSettingsTitle" localize="Settings_PreviewFeaturesSettings"></h><div class="dashboardSettingsSection"><div class="dashboardSettingsSectionTitle trimmedTextWithEllipsis" localize="Settings_PreviewFeatures_Navigation_New"></div><div localize="Settings_PreviewFeatures_Navigation_Description_New"></div><a target="_blank" href="https://go.microsoft.com/fwlink/?linkid=833187" localize="LearnMore"></a><div class="settingsControls"><div class="pbi-input"> <input type="radio" ng-model="$ctrl.previewModel" ng-value="true"/><label class="form-label" localize="ToggleSwitchOn"></label></div><div class="pbi-input"> <input type="radio" ng-model="$ctrl.previewModel" ng-value="false"/><label class="form-label" localize="ToggleSwitchOff"></label></div></div></div><div class="dashboardSettingsSection"> <button class="primary" localize="SettingsDataset_ApplyButtonText" ng-disabled="$ctrl.isClean()" ng-click="$ctrl.applyChanges()"/> <button localize="SettingsDataset_DiscardButtonText" ng-disabled="$ctrl.isClean()" ng-click="$ctrl.discardChanges()"/></div></div>'),e.put("components/settingsSubscriptions/settingsSubscriptions.html",'<section class="dashboardSettings subscriptionSettings" ng-cloak ng-if="$ctrl.viewModel.subscriptions.length> 0"><span class="dashboardSettingsSectionTitle" ng-bind="::$ctrl.viewModel.workspaceName"/><table><thead><tr><th class="empty"></th><th ng-repeat="column in $ctrl.viewModel.columnsHeader track by $index" ng-class="column.predicateName" ng-click="$ctrl.sort(column.predicateName)"><div class="tableHeader"><span ng-bind="column.displayName"></span><span class="sortChevron" ng-if="$ctrl.sortType == column.predicateName && column.allowSorting"><i class="glyphicon pbi-glyph-chevrondownmedium glyph-micro" ng-if="!$ctrl.sortReverse"></i><i class="glyphicon pbi-glyph-chevronupmedium glyph-micro" ng-if="$ctrl.sortReverse"></i></span></div></th><th class="actions"></th></tr></thead><tbody><tr ng-repeat="subscription in $ctrl.viewModel.subscriptions"><td class="artifactImg" ng-class="::subscription.dashboardInfo && \'dashboardImg\'"><span ng-if="::subscription.reportInfo" class="tileTypeIndicator glyphicon pbi-glyph-barchart glyph-small" localize-tooltip="Artifact_Report"></span><span ng-if="::subscription.dashboardInfo" class="tileTypeIndicator glyphicon pbi-glyph-gauge glyph-small" localize-tooltip="Artifact_Dashboard"></span></td><td><div class="dataCell" tooltip tooltip-config="$ctrl.getTooltipConfig(subscription)" ng-bind="$ctrl.getArtifactDisplayName(subscription)"></div></td><td class="actions"><div class="bodyColumn"><div class="menuBtn" localize-tooltip="ContentTileOptions_EditWorkbooks" ng-click="$ctrl.editSubscription(subscription)"><i class="glyphicon pbi-glyph-edit glyph-small"></i></div></div></td><td class="dataCell" ng-bind="$ctrl.getSubscriptionsCount(subscription)"></td></tr></tbody></table></section><water-mark-message config="::$ctrl.getWaterMarkConfig()" ng-if="!$ctrl.isLoading && !$ctrl.viewModel.subscriptions.length">'),e.put("components/settingsWorkbookBlade/settingsWorkbookBlade.html",'<section class="workbookSettingsPane"><div ng-repeat="metadata in $ctrl.model.metadata" class="metadata" ng-switch="metadata.type"><h6 class="metadataLabel" ng-if="metadata.label" ng-bind="metadata.label" ng-class="{\'divider\': !$first}"></h6><div class="metadataContent" ng-class="{\'noLabel\': !metadata.label}" ng-switch-when="0"><span class="message trimmedTextWithEllipsis" ng-bind="metadata.value()"></span><span ng-if="metadata.infoTooltipConfig" class="glyphicon glyph-mini pbi-glyph-info tooltipIcon" tooltip tooltip-config="::metadata.infoTooltipConfig"></span></div><div class="metadataContent" ng-class="{\'noLabel\': !metadata.label}" ng-switch-when="2"> <span>{{ metadata.value() }}</span> <a ng-bind-attr="{href: metadata.linkUrl(), title: metadata.linkTitle() || metadata.linkText(), target: metadata.linkTarget}">{{ metadata.linkText() }}</a></div><div class="metadataContent" ng-class="{\'noLabel\': !metadata.label}" ng-switch-when="3"><span class="refreshFlyoutWarning" ng-if="metadata.isWarning == true"><i class="glyphicon pbi-glyph-error glyph-mini"></i></span> <a class="refreshHistory" href="" ng-click="metadata.actionOnClick()">{{metadata.value()}}</a></div><div class="metadataContent" ng-class="{\'noLabel\': !metadata.label}" ng-switch-when="4"><div ng-switch="metadata.status"><div ng-switch-when="0"><span class="glyphicon glyph-small pbi-glyph-error statusIcon"></span><span class="statusText" ng-bind="metadata.value"></span></div><div ng-switch-when="1"><span class="glyphicon glyph-small pbi-glyph-success glyph-success-color statusIcon"></span><span class="statusText" ng-bind="metadata.value"></span></div></div></div></div></section>'),
e.put("components/sharedByColumn/sharedByColumn.html",'<section class="contentHeaderContainer unselectable"><header class="name trimmedTextWithEllipsis" localize="ContentHeader_Owner"></header></section><div class="unselectable listContainer" vs-repeat><div ng-repeat="ownerInfo in $ctrl.ownerInfos track by ownerInfo.objectId" class="listItemWrapper"><div class="listItem" ng-class="{selected: $ctrl.selectedOwner === ownerInfo.objectId}" ng-click="$ctrl.onSelectedOwnerChanged({selectedOwner: ownerInfo.objectId})"><div class="icon" ng-switch="!!ownerInfo.icon"><i ng-switch-when="false" class="glyphicon glyph-small placeholder" ng-class="ownerInfo.isUser() ? \'pbi-glyph-user\' : \'pbi-glyph-group\'"></i> <img ng-switch-when="true" ng-src="{{ownerInfo.icon}}"/></div><div class="text trimmedTextWithEllipsis" ng-bind="::ownerInfo.name" title="{{::ownerInfo.name}}"></div></div></div></div><spinner ng-if="$ctrl.showSpinner" class="large"></spinner>'),e.put("components/sharedWithMeContainer/sharedWithMeContainer.html",'<div class="contentListView onlySharedWithMe" ng-class="{\'initializing\': !$ctrl.initialized}"><div class="header"></div><div class="dashboardControls"><search-box should-focus="::true" on-change="$ctrl.onSearchTextChange()" on-blur="$ctrl.resolveSearchTelemetry()" filter="$ctrl.searchText" placeholder="SearchContent"></search-box></div><div class="contentListOptionsTabs unselectable"><div class="left"><div class="optionTab dashboard label-med" ng-class="{hasNoResults: !$ctrl.hasResults}"></div></div><div class="right"><span class="count" localize="ShowingXItems" localize-fragments><span fragment-index="0" ng-bind="$ctrl.getNumberOfShownTabItems()"></span></span><select-tile-sort selected-predicate="$ctrl.sortPredicate" on-select="$ctrl.onSortPredicateChanged" predicates="$ctrl.sortPredicates"></select-tile-sort></div></div><div class="dashboardSliderMain"><spinner ng-if="$ctrl.showSpinner" class="large centered"></spinner><water-mark-message config="$ctrl.getWatermarkConfig()" ng-if="$ctrl.shouldShowWatermark()"></water-mark-message><shared-by-column ng-if="!$ctrl.showSpinner" shared-dashboards="$ctrl.sharedDashboardsPrefiltered" selected-owner="$ctrl.selectedSharedByOwner" on-selected-owner-changed="$ctrl.onSelectedOwnerChanged(selectedOwner)"></shared-by-column><content-list-gallery ng-if="!$ctrl.showSpinner" view-model="::$ctrl.galleryViewModel" is-data-classification-enabled="$ctrl.dataClassificationEnabled"></content-list-gallery></div></div>'),e.put("components/streamingDataset/pubNubEditor/pubNubEditor.html",'<form name="pubNubForm" class="streamingDatasetForm"><div class="streamingDataset pubNubEditor paneLayout"><header><h3 class="primaryHeading" localize="StreamingDatasetEditor_NewDataset"></h3></header><div class="contentContainer"><section class="contentHeader" localize="StreamingDatasetEditor_PubNub_Header" localize-fragments><a fragment-index="0" localize="StreamingDatasetEditor_PubNub_LearnMore" target="_blank" href="https://go.microsoft.com/fwlink/?linkid=821989"></a></section><label class="input-field-label required" localize="StreamingDatasetEditor_DatasetName"></label> <input type="text" name="name" autocomplete="off" ng-class="{hasError: streamingDatasetForm.name.$invalid && streamingDatasetForm.name.$touched}" ng-model="$ctrl.realTimeModel.definition.name" required/><div class="errorBlock" ng-if="pubNubForm.name.$invalid && pubNubForm.name.$touched"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="StreamingDatasetEditor_NameRequired"></div></div><label class="input-field-label required" localize="StreamingDataset_PubNub_SubscriptionKey"></label> <input type="text" name="subscriptionKey" autocomplete="off" ng-class="{hasError: pubNubForm.subscriptionKey.$invalid && pubNubForm.subscriptionKey.$touched}" ng-model="$ctrl.viewModel.subscriptionKey" required/><div class="errorBlock" ng-if="pubNubForm.subscriptionKey.$invalid && pubNubForm.subscriptionKey.$touched"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="StreamingDataset_PubNub_SubscriptionKeyRequired"></div></div><label class="input-field-label required" localize="StreamingDataset_PubNub_ChannelName"></label> <input type="text" name="channelName" autocomplete="off" ng-class="{hasError: pubNubForm.channelName.$invalid && pubNubForm.channelName.$touched}" ng-model="$ctrl.viewModel.channelName" required/><div class="errorBlock" ng-if="pubNubForm.channelName.$invalid && pubNubForm.channelName.$touched"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="StreamingDataset_PubNub_ChannelNameRequired"></div></div><label class="input-field-label" localize="StreamingDataset_PubNub_PAMKey"></label> <input type="password" autocomplete="off" ng-model="$ctrl.viewModel.authKey"/><div class="alertBlock" ng-if="$ctrl.viewModel.authKey"><i class="glyphicon glyph-small pbi-glyph-securityalert"></i><div class="message" localize="StreamingDataset_PubNub_AuthKeyWarning"></div></div></div><footer><fieldset class="buttons"><pbi-button label="Back_ButtonText" ng-click="$ctrl.back()"></pbi-button><pbi-button label="Next_ButtonText" primary="true" ng-click="$ctrl.next()" ng-disabled="pubNubForm.$invalid"></pbi-button><pbi-button label="Cancel_ButtonText" ng-click="$ctrl.cancel()"></pbi-button></fieldset></footer></div></form>'),e.put("components/streamingDataset/streamingDataSample/streamingDataSample.html",'<div class="streamingDataSample"><section class="tabs" ng-if="::$ctrl.showHeader"><span class="tabHeader" ng-repeat="example in ::$ctrl.apiExamples" ng-class="{selected: $ctrl.activeExample.id === example.id}" ng-click="$ctrl.showExample(example)" ng-bind="::example.title"></span></section><section class="exampleView" ng-if="$ctrl.hasColumns()" ng-switch="$ctrl.activeExample.id"><section ng-switch-when="1" select-text-on-click><div> [</div><div class="padLeft"> {</div><div class="streamingDataValue" ng-repeat="column in $ctrl.viewModel.columns | filter:{name: \'\'} track by $index"> <span class="columnName">"{{$ctrl.escapeCharacters(column.name)}}"</span> <span class="operator padRight">:</span><span ng-bind="$ctrl.mockValues[column.dataType]"></span><span class="operator" ng-bind="$last ? \'\' : \',\'"></span></div><div class="padLeft"> }</div><div> ]</div></section><section ng-switch-when="2" select-text-on-click><div class="codeBlock tight"> <span class="keyword">curl</span> <span class="flag">--include</span> <span class="operator">\\</span></div><div class="codeBlock tight"> <span class="flag">--request</span> POST <span class="operator">\\</span></div><div class="codeBlock tight"> <span class="flag">--header</span> <span class="string">"Content-Type: application/json"</span> <span class="operator">\\</span></div><div class="codeBlock tight"> <span class="flag">--data-binary</span> "[</div><div class="padLeft"> {</div><div class="streamingDataValue" ng-repeat="column in ::$ctrl.viewModel.columns | filter:{name: \'\'} track by $index"> <span class="columnName">\\"{{::$ctrl.escapeCharacters(column.name)}}\\"</span> <span class="operator padRight">:</span><span ng-bind="::$ctrl.escapeCharacters($ctrl.mockValues[column.dataType])"></span><span class="operator" ng-bind="$last ? \'\' : \',\'"></span></div> <span class="padLeft">}</span><div class="codeBlock tight"> ]" <span class="operator">\\</span></div><div class="string codeBlock">"{{::$ctrl.url()}}"</div></section><section ng-switch-when="3" select-text-on-click><div class="codeBlock"> <span class="identifier">$endpoint</span> <span class="operator">=</span> <span class="string">"{{::$ctrl.url()}}"</span></div><div class="codeBlock"> <span class="identifier">$payload</span> <span class="operator">=</span> <span>@{</span><div class="streamingDataValue" ng-repeat="column in ::$ctrl.viewModel.columns | filter:{name: \'\'} track by $index"> <span class="columnName">"{{::$ctrl.escapeCharacters(column.name)}}"</span> <span class="padRight operator">=</span><span ng-bind="::$ctrl.mockValues[column.dataType]"></span></div> }</div><div class="codeBlock"> <span class="keyword">Invoke-RestMethod</span> <span class="flag">-Method</span> Post <span class="flag">-Uri</span> "$endpoint" <span class="flag">-Body</span> <span>(<span class="keyword">ConvertTo-Json</span> <span class="identifier">@($payload)</span>)</span></div></section></section></div>'),e.put("components/streamingDataset/streamingDatasetEditor/streamingDatasetEditor.html",'<form name="streamingDatasetForm" custom-validator-synchronizer class="streamingDatasetForm"><div class="streamingDataset streamingDatasetEditor paneLayout"><header><spinner ng-if="$ctrl.isLoading"></spinner><h3 class="primaryHeading" ng-bind="$ctrl.header"></h3></header><fieldset class="contentContainer" ng-disabled="$ctrl.isLoading"><section class="contentHeader" localize="StreamingDatasetEditor_Push_Header" localize-fragments ng-if="$ctrl.historicalAnalysisEnabled"><a fragment-index="0" localize="StreamingDatasetEditor_Push_LearnMore" target="_blank" href="https://go.microsoft.com/fwlink/?linkid=822594"></a></section><section class="warning" ng-if="!!$ctrl.warningText"><i class="glyphicon pbi-glyph-warning glyph-small"></i><div>{{::$ctrl.warningText}}</div></section><label class="input-field-label required" localize="StreamingDatasetEditor_DatasetName"></label> <input type="text" name="name" autocomplete="off" ng-class="{hasError: streamingDatasetForm.name.$invalid && streamingDatasetForm.name.$touched}" ng-model="$ctrl.viewModel.definition.name" placeholder="{{::$ctrl.namePlaceholder}}" required/><div class="errorBlock" ng-if="streamingDatasetForm.name.$invalid && streamingDatasetForm.name.$touched"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="StreamingDatasetEditor_NameRequired" localize-tooltip="StreamingDatasetEditor_NameRequired"></div></div><label class="input-field-label required" localize="StreamingDatasetEditor_Values"></label><ng-form class="streamValue" name="streamValueForm" ng-repeat="column in $ctrl.viewModel.definition.columns track by $index"> <input type="text" name="name" autocomplete="off" placeholder="{{::$ctrl.columnPlaceholder}}" ng-change="$ctrl.columnUpdated($last)" ng-class="{hasError: streamValueForm.name.$invalid}" ng-model="column.name" ng-required="!$last" custom-validator="{validate: $ctrl.validateColumnName}"/> <select class="rowContent" ng-model="column.dataType" ng-options="type.value as type.displayName for type in ::$ctrl.dataTypes"></select><i class="glyphicon pbi-glyph-delete glyph-small icon" ng-if="!$last" ng-click="$ctrl.removeColumn(column);streamingDatasetForm.$setDirty();"></i><div class="errorBlock" ng-if="streamValueForm.name.$invalid"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="StreamingDatasetEditor_ColumnNameError" localize-tooltip="StreamingDatasetEditor_ColumnNameError"></div></div></ng-form><streaming-data-sample view-model="$ctrl.viewModel.definition" show-header="false"></streaming-data-sample><div ng-if="$ctrl.historicalAnalysisEnabled"><label class="input-field-label" localize="StreamingDatasetEditor_HistoricDataAnalysis"></label><div class="toggleButton"> <input type="checkbox" ng-model="$ctrl.viewModel.definition.mode" ng-false-value="{{$ctrl.realTimeMode.CacheOnly}}" ng-true-value="{{$ctrl.realTimeMode.PersistAndCache}}"/><span class="toggleBox"></span><span class="toggleHandle"></span><span class="toggleDescription unselectable" ng-bind="$ctrl.toggleStateText"></span></div></div></fieldset><footer><fieldset class="buttons"><pbi-button label="Back_ButtonText" ng-click="$ctrl.back()" ng-disabled="$ctrl.isLoading" ng-if="$ctrl.from != 0"></pbi-button><pbi-button label="{{$ctrl.buttonText}}" primary="true" ng-click="$ctrl.save()" ng-disabled="!streamingDatasetForm.$dirty || streamingDatasetForm.$invalid || !$ctrl.canSave"></pbi-button><pbi-button label="Cancel_ButtonText" ng-click="$ctrl.cancel()"></pbi-button></fieldset></footer></div></form>'),e.put("components/streamingDataset/streamingDatasetGallery/streamingDatasetGallery.html",'<div class="streamingDataset streamingDatasetGallery paneLayout"><header><h3 class="primaryHeading" localize="StreamingDatasetEditor_NewDataset"></h3><h3 class="secondaryHeading" localize="StreamingDataset_ChooseSource"></h3></header><div class="contentContainer"><ul><li class="streamingDatasetOption unselectable {{option.cssClass}}" ng-class="{selected: $ctrl.selectedOption === option}" ng-repeat="option in ::$ctrl.streamingDatasetOptions | orderBy: \'displayName\'" ng-click="$ctrl.selectOption(option)"><div class="logo"></div><div class="name" ng-bind="::option.displayName"></div></li></ul><aside class="callout_box" ng-if="$ctrl.isLinkTypeSelected()" localize="StreamingDataset_ASAHelpText" localize-fragments><a fragment-index="0" ng-attr-href="{{$ctrl.selectedOption.link}}" target="_blank" localize="StreamingDataset_AzureStreamAnalytics"></a></aside></div><footer><fieldset class="buttons"><pbi-button label="Next_ButtonText" primary="true" ng-click="$ctrl.next()" ng-disabled="$ctrl.isLinkTypeSelected()"></pbi-button><pbi-button label="Cancel_ButtonText" ng-click="$ctrl.cancel()"></pbi-button></fieldset></footer></div>'),e.put("components/streamingDataset/streamingDatasetPushInfo/streamingDatasetPushInfo.html",'<div class="streamingDatasetPushInfo streamingDataset paneLayout"><header ng-switch="!!$ctrl.viewModel.isNew"><h1 class="primaryHeading trimmedTextWithEllipsis" ng-switch-when="true"><i class="glyphicon pbi-glyph-circled-checkmark glyph-med"></i><span class="createdHeading" localize="StreamingDatasetPushInfo_Created"></span></h1><h1 class="primaryHeading trimmedTextWithEllipsis" ng-if="$ctrl.viewModel" ng-switch-when="false" localize="StreamingDatasetPushInfo_APIInfo" localize-fragments><span fragment-index="0" ng-bind="::$ctrl.viewModel.definition.name" ng-attr-title="{{::$ctrl.viewModel.definition.name}}"></span></h1><h2 class="secondaryHeading" ng-if="$ctrl.viewModel" ng-switch-when="false" localize="StreamingDatasetPushInfo_APIHowTo" localize-fragments><a fragment-index="0" href="https://dev.powerbi.com" target="_blank" localize="StreamingDatasetPushInfo_APIHowToLinkText"></a></h2><spinner ng-if="!$ctrl.viewModel"></spinner></header><section class="contentContainer noPadding" ng-class="{isNew: $ctrl.viewModel.isNew}"><section class="sampleHeader"><div class="datasetInfo"><div ng-if="$ctrl.viewModel.isNew" localize="StreamingDatasetPushInfo_SchemaCreated" localize-fragments><span fragment-index="0" ng-bind="::$ctrl.viewModel.definition.name"></span></div></div><label class="input-field-label" localize="StreamingDatasetPushInfo_PushURL"></label> <input type="text" ng-disabled="!$ctrl.viewModel" ng-value="::$ctrl.viewModel.getPushUrl()" readonly="true" onclick="this.select()"/></section><streaming-data-sample view-model="$ctrl.viewModel.definition" url="$ctrl.viewModel.getPushUrl()" show-header="true"></streaming-data-sample></section><footer><fieldset class="buttons"><pbi-button label="Done_ButtonText" primary="true" ng-click="$ctrl.close()"></pbi-button></fieldset></footer></div>'),e.put("components/subscriptionPane/subscriptionPane.html",'<div class="paneLayout subscriptionPane"><header><div class="subscriptionPaneHeader"><h4 class="subscriptionPaneSubtitle" ng-if="!$ctrl.isLoading" title="{{::$ctrl.getSubscriptionSubtitle()}}" ng-bind="::$ctrl.getSubscriptionSubtitle()"></h4><h4 class="subscriptionPaneTitle" localize="EmailSnapshot_Title"></h4></div></header><section class="banner" ng-if="!$ctrl.isLoading"><pbi-button label="EmailSnapshot_AddSubscription" icon-name="add" primary="true" class="wideButton" ng-click="$ctrl.addNewSubscription()" ng-if="::$ctrl.canAddSubscription()"></pbi-button><pbi-alert class="alertmessage" kind="\'info\'" message-info="\'EmailSnapshot_OneSubscription\'" ng-if="::!$ctrl.canAddSubscription()"/></section><section class="contentContainer" ng-if="!$ctrl.isLoading"><form name="$ctrl.subscriptionForm" class="subscriptionForm"><div class="subscription" ng-repeat="subscription in $ctrl.getCurrentSubscriptions() track by $index"><section class="formHeader"><i ng-if="!$ctrl.isSubscriptionDeleted(subscription)" class="glyphicon glyph-mini expand" ng-click="subscription.expanded = !subscription.expanded" ng-class="subscription.expanded ? \'pbi-glyph-chevronupmedium\' : \'pbi-glyph-chevrondownmedium\'"></i><div class="title" ng-bind="$ctrl.getSubscriptionName(subscription)" title="{{$ctrl.getSubscriptionName(subscription)}}"></div><div class="draft" ng-if="$ctrl.isDraftSubscription(subscription)" localize="EmailSnapshot_Draft"></div><i ng-if="!$ctrl.isSubscriptionDeleted(subscription)" class="subscriptionDelete glyphicon glyph-small pbi-glyph-delete" ng-click="$ctrl.removeSubscription(subscription)" localize-tooltip="Delete_ToolTip"></i><pbi-toggle ng-if="!$ctrl.isSubscriptionDeleted(subscription)" on-state-text="ToggleSwitchOn" off-state-text="ToggleSwitchOff" ng-model="subscription.enabled" ng-change="$ctrl.changeSubscriptionToUpdatedState(subscription)" class="toggle"></pbi-toggle><div ng-if="$ctrl.isSubscriptionDeleted(subscription)" ng-click="$ctrl.undoRemoveSubscription(subscription)" class="undo"><div localize="EmailSnapshot_Undo" class="text"></div><i class="glyphicon pbi-glyph-undo icon"></i></div></section><section ng-if="subscription.expanded && !$ctrl.isSubscriptionDeleted(subscription)"><fieldset class="reportPageSettings" ng-if="$ctrl.isReportSubscription()"><legend localize="EmailSnapshot_Report_Page" localize-tooltip></legend> <select class="reportPage" ng-model="subscription.selectedSlide" ng-change="$ctrl.changeSubscriptionToUpdatedState(subscription)" ng-options="slide as slide.displayName for slide in ::$ctrl.viewModel.report.slides track by slide.id"/></fieldset><fieldset class="frequencySettings" ng-if="$ctrl.canShowSchedule()"><legend localize="EmailSnapshot_Frequency" localize-tooltip></legend> <select class="frequency" ng-model="subscription.selectedFrequency" ng-change="$ctrl.changeSubscriptionToUpdatedState(subscription)" ng-options="freq.frequencyType as freq.label for freq in ::$ctrl.getAllowedFrequencies()"/></fieldset><pbi-alert class="alertmessage" kind="\'info\'" message-info="\'EmailSnapshot_Message\'" ng-if="!$ctrl.canShowSchedule()"/></section></div></form></section><fieldset class="message" ng-if="!$ctrl.isLoading"><a class="link" ng-bind="::$ctrl.viewModel.editMessage" ng-click="$ctrl.navigate()"></a></fieldset><footer ng-if="!$ctrl.isLoading"><fieldset class="buttons"><spinner modern ng-if="$ctrl.isUpdating"></spinner><pbi-button primary="true" label="EmailSnapshot_Save" ng-click="$ctrl.saveChangesAndExit()"></pbi-button><pbi-button label="EmailSnapshot_Cancel" ng-click="$ctrl.cancel()"></pbi-button></fieldset></footer><spinner ng-show="$ctrl.isLoading" class="icon large centered"></spinner></div>'),e.put("components/userNotifications/userNotificationsView.html",'<div class="usernotifications paneLayout"><header><div class="notificationheader"><div class="headercontainer"><div localize="UsersNotifications_AlertsFeed" class="heading"></div><div localize="UsersNotifications_AllNotifications" class="subheading"></div></div> <button ng-if="$ctrl.userNotifications.menuEnabled" localize-tooltip="UsersNotifications_Options" class="options" dropdown-overlay-invoke="notificationOptionsContextMenu" need-blur="true" prefer-left="true"><i class="glyphicon glyph-small pbi-glyph-more"></i></button><dropdown-overlay dropdown-overlay-name="notificationOptionsContextMenu" dropdown-overlay-class="angular-dropdown override-box-shadow"><dropdown-menu-items dropdown-items="::$ctrl.userNotifications.moreOptionsMenu" dropdown-class="additionalMenus active" dropdown-on-item-selected="$ctrl.moreOptionsMenuSelected(selected)"></dropdown-menu-items></dropdown-overlay></div></header><section class="contentContainer noPadding"><div class="notificationcontainer"><div class="nonotification" ng-if="!$ctrl.userNotifications.loadingData && (!$ctrl.userNotifications.notifications || $ctrl.userNotifications.notifications.length <= 0)"><div><i class="glyphicon pbi-glyph-emoji"></i></div><div localize="UsersNotifications_NoNotificationsMessage"></div></div><div ng-if="$ctrl.userNotifications.notifications && $ctrl.userNotifications.notifications.length> 0"><div ng-repeat="notification in $ctrl.userNotifications.notifications track by notification.contract.id"><div ng-init="$ctrl.userNotifications.loadIcon(notification)" ng-show="!notification.showDismissalDialog" class="notification" ng-class="notification.contract.id <= 0 ? \'pinned\' : (!notification.seen ? \'unseen\' : \'seen\')"><div class="notificationicon" ng-if="::!notification.contract.iconUrl" ng-switch="notification.image.imageType"><i class="glyphicon glyph-small pbi-glyph-user" ng-switch-when="0"></i><i class="glyphicon glyph-small pbi-glyph-group" ng-switch-when="1"></i><i class="glyphicon glyph-small pbi-glyph-gauge" ng-switch-when="2"></i><i class="glyphicon glyph-small pbi-glyph-barchart" ng-switch-when="3"></i><i class="glyphicon glyph-small pbi-glyph-insight" ng-switch-when="4"></i><i class="glyphicon glyph-small pbi-glyph-comment" ng-switch-when="5"></i><i class="glyphicon glyph-small pbi-glyph-powerbi" ng-switch-when="6"></i><i class="glyphicon glyph-small pbi-glyph-database" ng-switch-when="7"></i><i class="glyphicon glyph-small pbi-glyph-settings" ng-switch-when="8"></i><i class="glyphicon glyph-small pbi-glyph-uparrow rotate" ng-switch-when="9"></i><i class="glyphicon glyph-small pbi-glyph-uparrow" ng-switch-when="10"></i></div><div class="notificationicon" ng-if="::notification.contract.iconUrl"> <img class="icon" ng-src="{{::notification.contract.iconUrl}}"/></div><div class="message"><div><span class="title" ng-bind="::notification.title"></span><span class="time" ng-bind="::notification.formattedDate"></span></div><div class="desc" ng-bind="::notification.description"></div><div class="action" ng-if="::notification.actionText"><button ng-click="$ctrl.userNotifications.performAction(notification)" ng-bind="::notification.actionText"></button></div></div><div> <button class="close" ng-click="$ctrl.userNotifications.dismissNotification(notification)" localize-tooltip="UsersNotifications_DismissNotification"><i class="glyphicon glyph-micro pbi-glyph-close"></i></button></div></div></div><div ng-if="showLoadMore" class="loadmore"> <button ng-show="!disableLoadMore" ng-click="loadMoreNotification()" localize="UsersNotifications_LoadMore"></button><spinner ng-show="disableLoadMore" class="icon large centered"></spinner></div></div></div><spinner ng-show="$ctrl.userNotifications.loadingData" class="icon large centered"></spinner></section></div>'),e.put("components/workspacesContainer/workspacesContainer.html",'<div class="mainContent" ng-class="{\'initializing\': !$ctrl.initialized}"><div class="dashboardControls"><search-box should-focus="true" on-change="$ctrl.onSearchTextChange()" on-blur="$ctrl.resolveSearchTelemetry()" filter="$ctrl.searchText" placeholder="SearchContent"></search-box></div><div class="dashboardSliderMain" feature-switch-class="breadcrumbNavigationEnabled"><pbi-data-loader-spinner class="centered" ng-if="!$ctrl.groups"></pbi-data-loader-spinner><water-mark-message config="::$ctrl.watermarkConfig" ng-if="$ctrl.showWatermarkConfig"></water-mark-message><div class="galleryContainer workspacesGallery" feature-switch-class="breadcrumbNavigationEnabled" ng-if="$ctrl.groups"><content-tile-container tiles="$ctrl.groups" disable-lazy-loading="true" collapsible-pane-mode="false"></content-tile-container></div></div></div>'),e.put("views/bottomBar.html",'<div class="bottomBar" ng-hide="context.activeView === 2"><div class="dashboardConnectionsContainer"><dashboard-connections-dialog context="context.dashboardConnections"/></div><div class="dashboardConnectionsBtn unselectable" id="dashboardConnectionsBtn" ng-click="context.dashboardConnections.visible = !context.dashboardConnections.visible"><span localize="Landing_DashboardConnectionsButtonText"></span> <span>{{context.dashboardConnections.dashboardConnectionsCount}}</span><i class=\'ms-Icon ms-Icon--alert warningIcon\' ng-hide="!context.dashboardConnections.error"></i></div></div>'),e.put("views/collapsiblePane.html",'<div class="collapsiblePane" ng-class="{expanded: viewModel.isExpanded, hidden: !viewModel.isExpanded, smallWidth:viewModel.expandedWidth===1, mediumWidth:viewModel.expandedWidth===2, largeWidth:viewModel.expandedWidth===3}"><div class="innerLayout"><div class="contentFrameHost" ng-transclude></div><div class="expandButtonContainer"><div class="expanderBtn" ng-click="togglePane()" ng-hide="isExpanderHidden === true" localize-tooltip="ActivityPane_Tooltip"><i class="expandIcon glyphicon pbi-glyph-chevronleftmedium glyph-micro"></i></div></div></div></div>'),e.put("views/contentProviderDialog.html",'<div class="contentProviderDialogFrame" ng-show="showIFrame"><div class="loading"><spinner class="large centered"></spinner></div><iframe name="contentProviderDialogFrame" class="contentProviderDialogFrame" sandbox="allow-scripts allow-popups allow-same-origin allow-forms"></iframe><div ng-include src="customConfigurationHandler" ng-if="customConfigurationHandler"></div></div>'),e.put("views/contentProviderLocalFile.html",'<div class="tileContainer localFile"><excel-upload-format ng-if="shouldChooseFormat"></excel-upload-format><div id="loadingId" class="loading" ng-click="$event.stopPropagation()"><div class="content"><div class="information"><div class="title"><span ng-attr-title="{{uploadingMessage}}">{{uploadingMessage}}</span></div><spinner class="large"></spinner></div> <button class="primary" ng-click="closeLoadingDialog()" localize="GetData_Cancel"></button></div></div></div>'),e.put("views/contentProviderStore/contentProviderChildTile.html",'<a><div class="childTitle" ng-bind="::viewModel.title | uppercase"/><div class="childDescription" ng-bind="::viewModel.descriptionTrustedHtml"/></a>'),e.put("views/contentProviderStore/contentProviderEventTile.html",'<div ng-click="handleClick()" class="eventTile"><content-provider-tile-body></content-provider-tile-body></div>'),e.put("views/contentProviderStore/contentProviderLinkTile.html",'<a href="{{::href}}" class="fwLinkTile" target="_blank"><content-provider-tile-body></content-provider-tile-body></a>'),e.put("views/contentProviderStore/contentProviderLocalFileTile.html",'<div ng-click="chooseFile()" class="localFileTile"><content-provider-tile-body></content-provider-tile-body></div>'),e.put("views/contentProviderStore/contentProviderNormalTile.html","<div><content-provider-tile-body></content-provider-tile-body></div>"),e.put("views/contentProviderStore/contentProviderSplash.html",'<div class="contentProviderSplash"><div ng-class="{welcome: screenState == 0}" class="container"><h1 ng-if="screenState == 0" localize="GetData_WelcomeTitle" class="title"></h1><h1 ng-if="screenState == 1" localize="GetData_GetData" class="title"></h1><h1 ng-if="screenState == 2" class="title">{{getSplashTitleForCurrentGroup()}}</h1><div ng-if="screenState == 0" class="desc"><div localize="GetData_WelcomeDescLine1"></div><div localize="GetData_WelcomeDescLine2"></div></div><div ng-if="screenState == 2 && !isMyWorkspace()" class="desc"><div localize="Groups_Splash_Description1"></div><div localize="Groups_Splash_Description2"></div></div><section class="helpSection"><span localize="GetData_TutorialLinkPreface_Text"></span><a localize="GetData_Try_This_Tutorial_Or_Watch_A_Video_1" href="https://go.microsoft.com/fwlink/p/?LinkId=522081" target=" _blank"></a><span localize="GetData_Try_This_Tutorial_Or_Watch_A_Video_2"></span><a localize="GetData_Try_This_Tutorial_Or_Watch_A_Video_3" href="javascript:void(0)" class="intoVideoButton" ng-click="showIntroductionVideoModal()"></a></section><section class="dataSourceTiles"><article class="dataSourceTileGroup"><h2 localize="GetData_ContentLibrary_Title"></h2><div class="dataSourceTile" ng-click="navigateToCategory(2, \'splashPage\')" ng-if="featureSwitchOrgAppsEnabled"><div class="tileContent"><h localize="GetData_MyOrganization" class="dataSourceTitle"></h><div localize="GetData_MyOrganizationDesc" class="dataSourceDesc"></div></div> <button class="getBtn biButton primary"><div localize="GetData_Get" class="btnLabel trimmedTextWithEllipsis" localize-tooltip="GetData_Get"></div><i class="glyphicon pbi-glyph-getdata glyph-small getDataIcon"></i></button></div><div class="dataSourceTile" id="serviceAppTile" ng-click="navigateToCategory(1, \'splashPage\')" ng-if="showServicesTile"><div class="tileContent"><h localize="GetData_Services" class="dataSourceTitle"></h><div localize="GetData_ServicesDesc" class="dataSourceDesc"></div></div> <button class="getBtn biButton primary"><div localize="GetData_Get" class="btnLabel trimmedTextWithEllipsis" localize-tooltip="GetData_Get"></div><i class="glyphicon pbi-glyph-getdata glyph-small getDataIcon"></i></button></div><div class="separator"></div><footer><a ng-click="navigateToCategory(4, \'splashPage\')" href="javascript:void(0)"><i class="glyphicon pbi-glyph-paste glyph-small"></i> &nbsp;<span localize="GetData_Samples" class="text"></span></a><a href="https://go.microsoft.com/fwlink/?linkid=839715" target="_blank"><i class="glyphicon pbi-glyph-puzzle glyph-small"></i> &nbsp;<span localize="GetData_SolutionTemplates" class="text"></span></a><a href="https://go.microsoft.com/fwlink/?linkid=839714" target="_blank"><i class="glyphicon pbi-glyph-person glyph-small"></i> &nbsp;<span localize="GetData_PartnerShowcase" class="text"></span></a></footer></article><article class="dataSourceTileGroup"><h2 localize="GetData_UploadOrConnectData_Title"></h2><div class="dataSourceTile" ng-click="navigateToCategory(3, \'splashPage\')"><div class="tileContent"><h localize="GetData_Files" class="dataSourceTitle"></h><div localize="GetData_FilesDesc" class="dataSourceDesc"></div></div> <button class="getBtn biButton primary"><div localize="GetData_Get" class="btnLabel trimmedTextWithEllipsis" localize-tooltip="GetData_Get"></div><i class="glyphicon pbi-glyph-getdata glyph-small getDataIcon"></i></button></div><div class="dataSourceTile" ng-click="navigateToCategory(6, \'splashPage\')"><div class="tileContent"><h localize="GetData_Databases" class="dataSourceTitle"></h><div localize="GetData_Databases_Desc" class="dataSourceDesc"></div></div> <button class="getBtn biButton primary"><div localize="GetData_Get" class="btnLabel trimmedTextWithEllipsis" localize-tooltip="GetData_Get"></div><i class="glyphicon pbi-glyph-getdata glyph-small getDataIcon"></i></button></div><footer><a class="skipBtn" ng-click="navigateToContentList()" ng-if="listViewEnabled() && inGroupWelcomeView()"><span localize="ContentList_SkipGetData" class="text"></span></a></footer></article></section></div></div>'),e.put("views/contentProviderStore/contentProviderSplashIntroVideoModal.html",'<iframe ng-src="https://go.microsoft.com/fwlink/?LinkID=761006" allowfullscreen></iframe><span localize="GetData_TutorialLinkPreface_Text"></span><a href="https://go.microsoft.com/fwlink/?LinkId=780853 " localize="GetData_Watch_Our_Video_Course_Or_Try_This_Tutorial_1" target="_blank"></a><span localize="GetData_Watch_Our_Video_Course_Or_Try_This_Tutorial_2"></span><a class="tutorialLink" localize="GetData_Watch_Our_Video_Course_Or_Try_This_Tutorial_3" href="https://go.microsoft.com/fwlink/p/?LinkId=522081" target="_blank"></a>'),e.put("views/contentProviderStore/contentProviderStore.html",'<div class="sliderContentView contentProviderStore" ng-class="{splashState: isSplashState()}"><div class="navigation"><div class="backBtn" ng-click="navigateToHome()" ng-class="{welcome: screenState == 0 && isSplashState()}" feature-switch-not="breadcrumbNavigationEnabled"><i class="glyphicon pbi-glyph-arrowleft"></i> <span class="currentGroupLabel" ng-attr-title="{{getCurrentGroupName()}}">{{getCurrentGroupName()}}</span></div><ul class="categoryContainer"><li class="categoryHeader"><span localize="GetData_ContentLibrary_Title" localize-tooltip="GetData_ContentLibrary_Title"></span></li><li class="category" ng-class="{\'selected\':viewModel.selectedCategory==2}" ng-if="featureSwitchOrgAppsEnabled" ng-click=" navigateToCategory(2, \'navPane\')"><i class="glyphicon pbi-glyph-emi glyph-small"></i><span ng-bind="::getCategoryDisplayName(2)"></span></li><li class="category" ng-class="{\'selected\':viewModel.selectedCategory==1}" ng-click="navigateToCategory(1, \'navPane\')"><i class="glyphicon pbi-glyph-chromerestore glyph-small"></i><span ng-bind="getCategoryDisplayName(1)"></span></li><li class="category" ng-class="{\'selected\':viewModel.selectedCategory==4}" ng-click="navigateToCategory(4, \'navPane\')"><i class="glyphicon pbi-glyph-paste glyph-small"></i><span ng-bind="::getCategoryDisplayName(4)"></span></li><li class="categoryHeader"><span localize="GetData_UploadOrConnectData_Title" localize-tooltip="GetData_UploadOrConnectData_Title"></span></li><li class="category" ng-class="{\'selected\':viewModel.selectedCategory==3 }" ng-click="navigateToCategory(3, \'navPane\')"><i class="glyphicon pbi-glyph-save glyph-small"></i><span ng-bind="::getCategoryDisplayName(3)"></span></li><li class="category" ng-class="{\'selected\':viewModel.selectedCategory==6}" ng-click="navigateToCategory(6, \'navPane\')"><i class="drum-icon"></i><span ng-bind="::getCategoryDisplayName(6)" ng-attr-title="{{getCategoryDisplayName(6)}}"></span></li></ul><ul class="categoryContainer bottomStack"><li class="category"><i class="glyphicon pbi-glyph-link glyph-small"></i><a target="_blank" href="https://go.microsoft.com/fwlink/?LinkID=613515"><span localize="GetData_AddYourContent" localize-tooltip="GetData_AddYourContent"></span></a></li><li class="category"><i class="glyphicon pbi-glyph-link glyph-small"></i><a target="_blank" href="https://go.microsoft.com/fwlink/?LinkID=613519"><span localize="GetData_FindAPartner" localize-tooltip="GetData_FindAPartner"></span></a></li><li class="category"><i class="glyphicon pbi-glyph-link glyph-small"></i><a target="_blank" href="https://go.microsoft.com/fwlink/?LinkId=522424"><span localize="GetData_SubmitAnIdea" localize-tooltip="GetData_SubmitAnIdea"></span></a></li></ul></div><div class="contentProviderStoreContent"><div class="topBar"><div class="breadcrumb" ng-if="!isSplashState()" feature-switch-class="breadcrumbNavigationEnabled"><span><span class="link" localize="NavigationPane_GetData" ng-click="navigateToGetData()"></span></span><span ng-if="viewModel.selectedCategory"><i class="glyphicon pbi-glyph-chevronrightmedium glyph-micro"></i> <span class="link" ng-class="{current: !viewModel.selectedContentProviderTile}" ng-click="navigateToCategory(viewModel.selectedCategory, \'breadcrumb\')">{{getCategoryDisplayName(viewModel.selectedCategory)}}</span></span><span ng-if="viewModel.selectedContentProviderTile"><i class="glyphicon pbi-glyph-chevronrightmedium glyph-micro"></i> <span class="link current">{{viewModel.selectedContentProviderTile.title}}</span></span></div><div class="search" ng-class="{\'highlighted\': viewModel.searchKeyword}" ng-show="viewModel.searchBoxVisible"> <input ng-model="viewModel.searchKeyword"/><i class="glyphicon pbi-glyph-search glyph-small"></i></div></div><content-provider-tile-browser ng-hide="!showProviderTiles()" tiles="viewModel.contentProviderTiles" selected-content-provider-tile="viewModel.selectedContentProviderTile" navigate-to-category="navigateToCategory" has-content-provider-loaded="viewModel.hasContentProviderLoaded" is-splash-state="isSplashState"></content-provider-tile-browser><content-provider-local-file selected-file="selectedLocalFile" is-update-from-element-flow="false" ng-if="isLocalFileSelected"></content-provider-local-file><content-provider-configuration/></div><content-provider-splash></content-provider-splash></div>'),
e.put("views/contentProviderStore/contentProviderTileBody.html",'<div class="tileHolder"><div class="tileBody"><div ng-if="viewModel.iconCSSClass" class="providerIcon {{::viewModel.iconCSSClass}}"/><div ng-if="!viewModel.iconCSSClass" class="providerIcon urlIcon" style="background-image:url({{::viewModel.iconUrl}})"/><div class="text"> <span class="title">{{::viewModel.title}}</span></div></div></div>'),e.put("views/contentProviderStore/contentProviderTileBrowser.html",'<div class="tileContainer dataSourceList"><div ng-if="currentCategory === 2 && visibleTiles.length === 1" class="header" localize="PublishContentPack_FirstContentPack"></div><div ng-if="showNoSearchResultText" class="noSearchResultText" localize="GetData_NoSearchResultsFound"></div><load-notification hide="isSplashState() || hasContentProviderLoaded" message="contentProviderLoadingMessage"></load-notification><div class="tile" ng-repeat="contentProviderTile in tiles" ng-class="{\'selected\': selectedContentProviderTile==contentProviderTile}" ng-switch on="contentProviderTile.contract.configurationUIstyle"><content-provider-normal-tile ng-switch-when="0" view-model="contentProviderTile" class="tileContent" ng-click="navigateToTile($index, true);"></content-provider-normal-tile><content-provider-normal-tile ng-switch-when="1" view-model="contentProviderTile" class="tileContent" ng-click="navigateToTile($index, true);"></content-provider-normal-tile><content-provider-normal-tile ng-switch-when="2" view-model="contentProviderTile" class="tileContent" ng-click="navigateToTile($index, true);"></content-provider-normal-tile><content-provider-local-file-tile ng-switch-when="3" view-model="contentProviderTile" class="tileContent" ng-click="navigateToTile($index, true);" on-cancel="clearSelection()"></content-provider-local-file-tile><content-provider-link-tile ng-switch-when="4" view-model="contentProviderTile" class="tileContent" ng-click="navigateToTile($index, false);"></content-provider-link-tile><content-provider-event-tile ng-switch-when="5" view-model="contentProviderTile" class="tileContent" ng-click="navigateToTile($index, false);"></content-provider-event-tile></div><div class="detailPane" ng-class="{\'grouping\': selectedContentProviderTile.tileGrouping.groupingChildItems}"><div class="detailPaneArrow"></div><div class="accordion" ng-if="!selectedContentProviderTile.tileGrouping.groupingChildItems"><i class="close glyphicon pbi-glyph-close glyph-mini" ng-click="closeDetailPane()"></i><div class="title" ng-bind="selectedContentProviderTile.title" ng-attr-title="{{selectedContentProviderTile.title}}"></div><div class="publishMetadata" ng-if="selectedContentProviderTile.publisher"><div><span ng-bind="getPublishMetaData(selectedContentProviderTile.publisher)"></span> <span ng-if="selectedContentProviderTile.emailAddress">-<a ng-bind-attr="{href: selectedContentProviderTile.emailAddressAsLink}" ng-bind="selectedContentProviderTile.emailAddress"></a></span></div><div><span ng-bind="getPrettyDate(selectedContentProviderTile.publishDate)"></span></div></div><div class="detailPaneContent"><div class="detailContainer"><div class="descriptionContainer"><div class="description" ng-class="{\'short\': selectedContentProviderTile.usePBIDesktop}" ng-bind-html="selectedContentProviderTile.descriptionTrustedHtml"></div><div class="more-information" ng-if="selectedContentProviderTile.usePBIDesktop"><i class="glyphicon glyph-small pbi-glyph-info"></i><span localize="GetData_DownloadDesktopInfo" localize-fragments><pbi-link fragment-index="0" guid="824921" label="GetData_LearnMoreAboutDesktop"></pbi-link></span></div></div><div class="connectContainer"> <button class="primary connect detailPaneConnectBtn" ng-click="connect()"><div ng-if="!selectedContentProviderTile.usePBIDesktop" class="label trimmedTextWithEllipsis" localize="GetData_Connect" localize-tooltip="GetData_Connect"></div><div ng-if="selectedContentProviderTile.usePBIDesktop" class="label trimmedTextWithEllipsis" localize="GetData_DownloadDesktop" localize-tooltip="GetData_DownloadDesktop"></div><i class="glyphicon pbi-glyph-getdata"></i></button><a class="learnMoreLink" ng-if="selectedContentProviderTile.learnMoreUrl && !selectedContentProviderTile.usePBIDesktop" target="_blank" href="{{selectedContentProviderTile.learnMoreUrl}}" localize="LearnMore"></a></div></div></div></div><div class="accordion grouping" ng-if="selectedContentProviderTile.tileGrouping.groupingChildItems"><a ng-click="closeDetailPane()"><i class="close glyphicon pbi-glyph-close glyph-mini"></i></a><div class="groupingSection"><div class="groupingTitle" ng-bind="selectedContentProviderTile.title" ng-attr-title="{{selectedContentProviderTile.title}}"></div><div class="groupingSrollWrapper"><div class="groupingScrollArea"><div class="groupingIntroduction"><div class="groupingDescription"><span ng-bind="getLocalizedValue(selectedContentProviderTile.descriptionLocalizationKey)"></span><a class="learnMoreLink" ng-if="selectedContentProviderTile.learnMoreUrl" target="_blank" href="{{selectedContentProviderTile.learnMoreUrl}}" localize="LearnMore"></a></div><hr/><div class="groupingInstruction" localize="GetData_GroupingInstruction"/></div><div class="childContainer"><content-provider-child-tile ng-repeat="childContentProviderTile in selectedContentProviderTile.tileGrouping.groupingChildItems | orderBy:[\'sortPriority\', \'title\'] track by $index" ng-click="selectChildTile(childContentProviderTile)" view-model="childContentProviderTile" class="childTile" ng-class="{\'activeChild\': childContentProviderTile==selectedChildContentProvider}"></content-provider-child-tile></div></div><div class="reservation"></div></div><div class="groupingConnectContainer"> <button class="primary connect group" ng-disabled="!selectedChildContentProvider" ng-click="childConnect()"><span localize="GetData_Connect"></span><i class="glyphicon pbi-glyph-getdata"></i></button></div></div></div></div><div><div class="extraInfo" ng-if="currentCategory === 2 && visibleTiles.length === 1"><div><h3 localize="PublishContentPack_AddDataToMyOrgTitle"></h3></div><span localize="PublishContentPack_AddDataToMyOrgText" localize-fragments><a fragment-index="0" localize="LearnMore" href="https://go.microsoft.com/fwlink/?LinkID=616059" target="_blank"></a></span></div></div></div>'),e.put("views/contentProviderStore/customConfigHandlers/sharePointConfigHandler.html","<share-point-url-input></share-point-url-input>"),e.put("views/contentProviderStore/customConfigHandlers/sharePointUrlModal.html",'<div class="sharePointConfig"><div localize="SharePointSiteExample"></div> <input type="text" autofocus="" tabindex="1" ng-model="url"/><div class="notice infonav-dialogContentNotification typeInfo"><span class="glyphicon pbi-glyph-info glyph-mini"></span><span class="infonav-dialogContentNotificationText" localize="SharePoint_ModalNotification"></span></div><div ng-show="isLoading"><spinner class="xsmall"></spinner><span class="loading" localize="DataLoaderSpinner_LoadingMessage1"></span></div><div ng-show="hasError" class="error">{{errorMessage}}</div></div>'),e.put("views/contextMenu.html",'<div class="contextMenu" ng-class="contextMenuStyle"><div class="wrapper" ng-class="::arrowDirection"><div class="arrow"></div><dropdown-list><div class="metadata-container"><div ng-bind="context.source.displayName" class="title trimmedTextWithEllipsis" title="{{context.source.displayName}}"></div><div ng-click="close()" class="close-btn"><i class="glyphicon pbi-glyph-close glyph-mini"></i></div><div ng-repeat="metadata in context.metadata" class="metadata"><h6 class="metadataLabel" ng-bind="metadata.label"></h6><div ng-if="metadata.type === 0"> <span class="message">{{metadata.value()}}</span><span ng-if="metadata.infoTooltipConfig" class="glyphicon glyph-mini pbi-glyph-info tooltipIcon" tooltip tooltip-config="::metadata.infoTooltipConfig"></span></div><div ng-if="metadata.type === 2"> <span>{{ metadata.value() }}</span> <a ng-bind-attr="{href: metadata.linkUrl(), title: metadata.linkTitle() || metadata.linkText(), target: metadata.linkTarget}">{{ metadata.linkText() }}</a></div><div ng-if="metadata.type === 3"><span class="refreshFlyoutWarning" ng-if="metadata.isWarning == true"><i class="glyphicon pbi-glyph-error glyph-mini"></i></span> <a class="refreshHistory" href="" ng-click="metadata.actionOnClick();close();">{{metadata.value()}}</a></div><div ng-if="metadata.type === 4"><div ng-switch="metadata.status"><div ng-switch-when="0"><span class="glyphicon glyph-small pbi-glyph-error statusIcon"></span><span class="statusText" ng-bind="metadata.value"></span></div><div ng-switch-when="1"><span class="glyphicon glyph-small pbi-glyph-success glyph-success-color statusIcon"></span><span class="statusText" ng-bind="metadata.value"></span></div></div></div></div><hr/></div><dropdown-list-item ng-repeat="button in context.actions" class="contextMenuButton trimmedTextWithEllipsis" ng-click="button.action();close();"> <a ng-if="button.link" href="{{button.link}}" target="_blank" title="{{button.text}}">{{::button.text }}</a><span ng-if="!button.link" title="{{button.text}}" ng-bind="button.text"></span></dropdown-list-item></dropdown-list></div></div>'),e.put("views/dashboard.html",'<div class="dashboard" dashboard-printer><pbi-data-loader-spinner class="centered" ng-if="!viewModel.isLoaded && !isGroupTransitionDelayed && !showReloadDashboard"></pbi-data-loader-spinner><div class="error" ng-if="!viewModel.isLoaded && showReloadDashboard"><i class="glyphicon pbi-glyph-error glyph-large"></i><h3 localize="DashboardTilesLoadError_Title"></h3><span class="tileLoadErrorMessage" localize="DashboardTilesLoadError_Message1" localize-fragments><a fragment-index="0" href="https://support.powerbi.com" target="_blank" localize="DashboardTilesLoadError_Message2"></a><span fragment-index="1" localize="DashboardTilesLoadError_Message3"/></span> <button class="biButton primary" ng-click="reloadActiveDashboard()" localize="DashboardTilesLoadError_Reload"></button></div><ul class="tileContainer" ng-show="!showReloadDashboard" grid-layout id="dashboard{{viewModel.id}}"><dashboard-tile ng-repeat="tile in filteredTiles() track by tileTrackerFn(tile)" view-model="tile" can-edit="canEditTiles()" disable-pointer-events="{{::disablePointerEvents}}" grid-layout-item grid-layout-container="gridLayoutContainer" ng-repeat-finish-event="dashboardTileRepeatFinished" remove-tile-from-mobile-view="removeTileFromMobileView(tile)" in-edit-mobile-layout-mode="inEditMobileLayoutMode"></dashboard-tile></ul></div>'),e.put("views/dashboardContainer.html",'<div class="dashboardContainerView isNavigationPaneEnabled" ng-class="{isMainContentDisabled: collapsiblePaneMode !== 0 || showDashboardTileErrors,                isDashboardHeaderEnabled: showDashboardTileErrors,                isSelectedTileHighlighted: collapsiblePaneMode === 1 || collapsiblePaneMode === 7 || collapsiblePaneMode === 9 || showDashboardTileErrors,                qnaMode: navigation.inQnaView() || navigation.inQnaStartView(),                isQuestionBoxHidden: !shouldDisplayQuestionBox}" ng-switch="getViewState()"><div class="mainContent" ng-switch-when="0"><div class="header" ng-cloak><div class="dashboardAppBar appBar"><div class="appBarSection left" ng-switch="refreshState"><ul ng-if="showBreadcrumb"><li class="label groupLabel" ng-if="listViewEnabled()"> <button class="activeDashboardLabel appBarTitle" title="{{groupService.activeGroup.displayName}}" ng-click="navigateToContentList()">{{groupService.activeGroup.displayName}}</button></li><li class="breadcrumbLabel" ng-if="listViewEnabled()"><i class="glyphicon pbi-glyph-arrowright glyph-small"></i></li><li class="label" ng-class="{breadCrumbEnabled: listViewEnabled()}"> <span class="activeDashboardLabel appBarTitle" title="{{dashboardDataService.displayName}}">{{dashboardDataService.displayName}}</span><i ng-hide="dashboardDataService.activeDashboard.canEdit && !permissionService.isActiveWorkspaceIsReadOnly && !fullScreen.fullScreenMode" class="readonlyIcon glyphicon pbi-glyph-lock glyph-mini"></i></li><li class="label dataClassificationSection"><data-classification-label data-classification-id="dashboardDataService.activeDashboard.dataClassificationId"></data-classification-label></li></ul><section class="notification" ng-switch-when="1"><spinner modern></spinner><span class="notificationText" localize="DashboardContainer_RefreshInProgress"></span></section><section class="notification" ng-switch-when="2"><span class="glyphicon glyph-small pbi-glyph-success icon"></span><span class="notificationText" localize="DashboardContainer_RefreshCompleted"></span></section></div><div class="appBarSection right"><ul class="optionsMenu"><li ng-if="showAddTileButton() && !viewModel.isPhonePortraitViewMode"> <button ng-click="showTileGalleryPane()" localize-tooltip="DashboardAppBar_AddTile" id="addTile"><i class="glyphicon pbi-glyph-add icon smallIcon"></i><span class="appBarMenuItem" localize="DashboardAppBar_AddTile"></span></button></li><li ng-if="showUsageMetricsButton() && !viewModel.isPhonePortraitViewMode"> <button ng-click="openUsageMetricsReport()" localize-tooltip="UsageMetrics" id="addTile"><i class="glyphicon pbi-glyph-chart icon smallIcon"></i><span class="appBarMenuItem" localize="UsageMetrics"></span></button></li><li ng-if="showViewRelatedButton() && !viewModel.isPhonePortraitViewMode"> <button ng-click="showRelatedContentPane()" localize-tooltip="DashboardAppBar_ViewRelated"><i class="glyphicon pbi-glyph-link icon smallIcon"></i><span class="appBarMenuItem" localize="DashboardAppBar_ViewRelated"></span></button></li><li ng-if="showHomeDashboardButton() && !isOnHomeDashboard && !viewModel.isPhonePortraitViewMode"> <button ng-click="setHomeDashboard()" class="setFeatured" localize-tooltip="SetFeaturedDashboardButton"><i class="glyphicon pbi-glyph-gauge glyph-small"></i><span class="appBarMenuItem" localize="SetFeaturedDashboardButton"></span></button></li><li ng-if="showHomeDashboardButton() && isOnHomeDashboard && !viewModel.isPhonePortraitViewMode"> <button ng-click="unsetHomeDashboard()" class="unsetFeatured" localize-tooltip="NavigationPane_DisableFeaturedDashboard"><i class="glyphicon pbi-glyph-gauge glyph-small"></i><span class="appBarMenuItem" localize="NavigationPane_DisableFeaturedDashboard"></span></button></li><li ng-if="favoriteEnabled && !dashboardDataService.activeDashboard.isFavorite && !viewModel.isPhonePortraitViewMode"> <button ng-click="addDashboardFavorite()" ng-disabled="dashboardDataService.activeDashboard.id < 0 || dashboardDataService.activeDashboard.isFavoriteDisabled" class="addFavorite" localize-tooltip="Artifact_Favorite"><i class="powervisuals-glyph star-empty glyph-small icon"></i><span class="appBarMenuItem" localize="Artifact_Favorite"></span></button></li><li ng-if="favoriteEnabled && dashboardDataService.activeDashboard.isFavorite && !viewModel.isPhonePortraitViewMode"> <button ng-click="deleteDashboardFavorite()" ng-disabled="dashboardDataService.activeDashboard.isFavoriteDisabled" class="deleteFavorite" localize-tooltip="Artifact_UnFavorite"><i class="powervisuals-glyph star-full glyph-small icon"></i><span class="appBarMenuItem" localize="Artifact_UnFavorite"></span></button></li><li ng-if="::isEmailSubscriptionEnabled()" class="subscription" localize-tooltip="ReportAppBar_Subscribe" ng-click="showSubscriptionPane()"><i class="glyphicon pbi-glyph-mail glyph-small"></i><span localize="ReportAppBar_Subscribe"></span></li><li> <button ng-click="showShareSlider()" class="shareDashboardButton" localize-tooltip="ReportAppBar_ShareButton" ng-if="sharingEnabled() && !viewModel.isPhonePortraitViewMode"><i class="glyphicon pbi-glyph-share glyph-small icon"></i><span class="appBarMenuItem" localize="ReportAppBar_ShareButton"></span></button></li><li ng-if="viewModel.isPhonePortraitViewMode"> <button ng-click="resetPhoneView()" localize-tooltip="Dashboard_Authoring_Reset_Phone_View"><i class="glyphicon pbi-glyph-tvmonitor glyph-small icon"></i><span class="appBarMenuItem" localize="Dashboard_Authoring_Reset_Phone_View"></span></button></li><li ng-if="viewModel.isPhonePortraitViewMode"> <button ng-click="unpinAllTiles()" ng-disabled="!shouldShowUnpinTiles()" localize-tooltip="Phone_Authoring_Clear_All_Tiles"><i class="glyphicon pbi-glyph-unpin glyph-small icon"></i><span class="appBarMenuItem" localize="Phone_Authoring_Clear_All_Tiles"></span></button></li><li ng-if="viewModel.isPhonePortraitViewMode"> <button ng-click="resetTiles()" localize-tooltip="Dashboard_Authoring_Reset_Tiles"><i class="glyphicon pbi-glyph-undo glyph-small icon"></i><span class="appBarMenuItem" localize="Dashboard_Authoring_Reset_Tiles"></span></button></li><li ng-if="shouldShowAuthoringDropDown()" ng-click="showMenu($event, getAuthoringMenuProperties)"><i class="{{authorMenuSelectedItem().iconClass}} glyph-small"></i> <span class="appBarMenuItem">{{authorMenuSelectedItem().text}}</span><i id="anchorElementForAuthoring" class="glyphicon pbi-glyph-chevrondownmedium glyph-mini marginTextFromGlyph"></i></li><li class="moreOptionsItem"> <button id="optionsBtn" class="moreOptionsDashboardButton" ng-click="showMoreOptionsMenu($event)" ng-if="isMoreOptionsMenuAvailable()" localize-tooltip="Options_Menu"><i class="glyphicon glyph-small pbi-glyph-more"></i></button></li><dropdown-overlay dropdown-overlay-name="moreOptionsMenu" dropdown-overlay-class="angular-dropdown override-box-shadow"><dropdown-menu-items id="moreOptionsItem" dropdown-items="moreOptionsMenu" dropdown-class="additionalMenus active" dropdown-on-item-selected="moreOptionsMenuSelected(selected)"></dropdown-menu-items></dropdown-overlay></ul> <span class="dashboardTileErrors trimmedTextWithEllipsis" ng-if="dashboardTileErrorCount>0"><div class="badge mini-label" ng-bind="dashboardTileErrorCount" ng-click="showTileErrorDetails()"></div><i class="glyphicon glyph-small pbi-glyph-warning" ng-click="showTileErrorDetails()"></i><span class="errorMessage"><span localize="DashboardAppBar_TileError"></span><span class="errorToggle" ng-switch="showDashboardTileErrors" ng-click="toggleTileError()"><span ng-switch-when="true" localize="DashboardAppBar_TileError_HideErrors"></span><span ng-switch-when="false" localize="DashboardAppBar_TileError_ShowErrors"></span></span></span></span></div></div><div class="qnaAppBar appBar" ng-if="navigation.inQnaView() || navigation.inQnaStartView()"><div class="appBarSection left"><ul><li> <button ng-click="navigation.navigateToDashboardByGUID(dashboardDataService.activeDashboard.objectId)"><i class="glyphicon pbi-glyph-pageleft glyph-small backBtn"></i> <span class="activeDashboardLabel appBarTitle displayOnSmallScreen">{{dashboardDataService.displayName}}</span></button></li></ul></div></div><div class="dashboardFullScreenTitle"> {{viewModel.displayName}}</div><div class="dashboardControlsWrapper" ng-cloak ng-if="shouldDisplayQuestionBox && !viewModel.isPhonePortraitViewMode"><qna-input-launcher ng-if="dashboardDataService.activeDashboardContainsQnaSupportedModel" models="dashboardDataService.activeDashboardModels" show-qna="showQna"></qna-input-launcher></div></div><div class="dashboardSliderMain fillAvailableSpace" id="paneContainer" ng-class="{dashboardViewSliderPhoneMode: viewModel.isPhonePortraitViewMode}"><ng-switch on="viewModel.viewMode"><dashboard-edit-mobile-display ng-switch-when="1" view-model="viewModel.dashboardEditMobileDisplay"></dashboard-edit-mobile-display><div class="dashboardModeView" ng-switch-default><div class="dashboardViewSlider"><dashboard disable-tile-ease-in="true" view-model="dashboardDataService.activeDashboard" display-layout="0" is-group-transition-delayed="groupService.isGroupTransitionDelayed"></dashboard></div></div></ng-switch></div></div><water-mark-message config="errorMessageConfig" ng-switch-when="1"></water-mark-message><request-dashboard-access ng-switch-when="2"></request-dashboard-access></div>'),e.put("views/devToolsView.html",'<div class="devToolsView"><title-bar></title-bar><dev-tools-main-container></dev-tools-main-container></div>'),e.put("views/dropdowns/appBarAuthoringMenu.html",'<dropdown-overlay dropdown-overlay-name="authorOptionsMenu" dropdown-overlay-class="angular-dropdown override-box-shadow angular-dropdown-authoring"><ul class="angular-dropdown angular-dropdown-authoring active additionalMenus mobileAuthoringAdditionalMenus" ng-class="{dark: getMode() === 0}"><li ng-repeat="item in getMenuActions()" class="dropdown-item moreOptions" ng-class="{selectedItem: item.checked}" ng-mousedown="menuActionSelected(item); $event.stopPropagation();"><a href="" target="_blank"><div class="dropdown-content angular-dropdown-authoring"><i class="dropdown-icon {{::item.iconClass}}"></i><div class="dropdown-label" ng-bind="::item.text"></div></div></a></li></ul></dropdown-overlay>'),e.put("views/dropdowns/navigationBarSettingsMenu.html",'<dropdown-overlay dropdown-overlay-name="settingsMenu" dropdown-overlay-class="angular-dropdown navigationBar-contextMenu override-box-shadow"><ul class="navigationBar-contextMenu active" ng-attr-read-only="{{!canWrite()}}"><li class="quotaManagement"><div class="dropdown-item addBorderBottom" ng-click="onManageStorageSelected()"> <button class="dropdown-content "><usage-bar-menu-item label-class="lableItem"></usage-bar-menu-item></button></div></li><li ng-if="featureSwitchOrgAppsEnabled()" class="orgApps"><div class="dropdown-item addBorderBottom" ng-click="onCreateContentPackSelected()"> <button class="dropdown-content dropdown-label" localize="TopNav_SettingsMenu_CreateContentPack"/></div><div class="dropdown-item addBorderBottom" ng-click="onViewContentPackSelected()"> <button class="dropdown-content dropdown-label" localize="TopNav_SettingsMenu_ViewContentPack"/></div></li><li ng-if="showAdminPortal()" class="dropdown-item addBorderBottom" ng-click="onAdminPortalSelected()"> <button class="dropdown-content dropdown-label" localize="AdminPortal_Title"/></li><li ng-if="featureSwitchEnterpriseGatewayEnabled()" class="dropdown-item addBorderBottom" ng-click="onManageGatewaysSelected()"> <button class="dropdown-content dropdown-label" localize="TopNav_SettingsMenu_ManageGateways"/></li><li ng-if="featureSwitchPermissionCenterEnabled()" class="dropdown-item addBorderBottom" ng-click="onManagePermissionsSelected()"> <button class="dropdown-content dropdown-label" localize="TopNav_SettingsMenu_ManagePermissions"/></li><li ng-if="o365PowerBIEnabled()" class="dropdown-item addBorderBottom" ng-click="onO365PowerBISelected()"> <button class="dropdown-content dropdown-label" localize="TopNav_SettingsMenu_PowerBIForO365"/></li><li class="dropdown-item addBorderBottom" ng-click="onPowerBISettingsSelected()"> <button class="dropdown-content dropdown-label" localize="TopNav_SettingsMenu_PowerBISettings"/></li><li><div ng-if="featureSwitchPublishToWeb()" class="dropdown-item addBorderBottom" ng-click="onManageEmbedSelected()"> <button class="dropdown-content dropdown-label" localize="TopNav_SettingsMenu_ManageEmbedCodes"/></div></li></ul></dropdown-overlay>'),e.put("views/excelUploadFormat.html",'<div class="excelContent"><div class="uploadFormat"><header><h1 class="title" localize="UploadExcelLocalFile_ChooseFormat"></h1><div class="text" localize="UploadExcel_ChooseFormatDescription"></div></header><table class="contentContainer"><tr class="contentItem"><td class="optionColumn"><div class="imageContainer"><div class="importDataIntoPowerBI"></div></div></td><td></td><td class="optionColumn"><div class="imageContainer"><div class="viewExcelInPowerView"></div></div></td></tr><tr class="spacer"></tr><tr class="contentItem"><td class="optionColumn"><span class="contentItemTitle" localize="UploadExcel_ChooseFormat_ImportData"></span></td><td class="seperatorColumn"><span class="contentItemTitle" localize="UploadExcel_ChooseFormat_Or"></span></td><td class="optionColumn"><span class="contentItemTitle" localize="UploadExcelLocalFile_ChooseFormat_ViewExcel"></span></td></tr><tr class="contentItem"><td class="optionColumn"><div class="contentItemDescription"><span localize="UploadExcelLocalFile_ChooseFormat_ImportDataDescription"></span></div></td><td></td><td class="optionColumn"><div class="contentItemDescription"><span localize="UploadExcelLocalFile_ChooseFormat_ViewExcelDescription"></span></div></td></tr><tr class="contentItem"><td class="optionColumn"><div class="contentBtnItem"> <button class="buttonProviderFormat submitBtn BigBtn importDataBtn" ng-click="chooseFormat(0)" ng-disabled="inProgress"><span localize="UploadExcel_ChooseFormat_Import"></span><i class="arrow glyphicon pbi-glyph-getdata glyph-small getDataIcon"></i></button></div></td><td></td><td class="optionColumn"><div class="contentBtnItem"> <button class="buttonProviderFormat submitBtn BigBtn viewExcelBtn" ng-click="chooseFormat(1)" ng-disabled="inProgress"><span localize="UploadExcelLocalFile_ChooseFormat_Upload"></span><i class="arrow glyphicon pbi-glyph-getdata glyph-small getDataIcon"></i></button></div></td></tr></table></div></div>'),e.put("views/explorationContainer.html",'<div class="explorationContainer explorationWithChrome" ng-class="{\'editing\' : (viewModeState.getMode() === 1 || viewModeState.getMode() === 2),    \'reading\': viewModeState.getMode() === 0}"><exploration-app-bar ng-if="viewModel.options.showAppBar" view-model="viewModel"></exploration-app-bar><div class="explorationHost" ng-class="{ \'explorationHostNoAppBar\': !viewModel.options.showAppBar }"><exploration-host view-model="viewModel" id="pvExplorationHost"><task-pane view-model="viewModel.taskPane" ng-if="viewModeState.getMode() === 1 || viewModeState.getMode() === 2" field-list-config="::fieldListConfig" ng-show="viewModel.options.showTaskPane" resizable resizable-containerid="pvExplorationHost" resizable-sibling="visualizationPane" resizable-expanded="{{viewModel.taskPane.isPaneExpanded}}" resizable-default-width="180" resizable-min-width="180" resizable-max-width="420" resizable-collapsed-width="32"></task-pane><visualization-pane view-model="viewModel.visualizationPane" ng-show="isVisualizationPaneVisible()" resizable resizable-containerid="pvExplorationHost" resizable-sibling="taskPane" resizable-expanded="{{viewModel.visualizationPane.isPaneExpanded}}" resizable-default-width="180" resizable-min-width="180" resizable-max-width="420" resizable-collapsed-width="32"></visualization-pane><div class="horizontalItemsContainer"><exploration view-model="viewModel.exploration" ng-class="{\'exploreCanvasToBottom\': !isFooterVisible()}" canvas-options="canvasOptions"></exploration><exploration-footer ng-show="isFooterVisible()" view-model="viewModel"></exploration-footer></div></exploration-host></div><div class="explorationMask" ng-if="viewModel.showMask"><div class="centeredSpinner"><spinner></spinner></div></div><div class="canvasSpinnerBackground" ng-if="viewModel.showSpinner"><pbi-data-loader-spinner class="centered"></pbi-data-loader-spinner></div></div>'),e.put("views/fullScreenControls.html",'<div class="fullScreenBtnHost"><div ng-if="fullScreen.fullScreenMode"> <button class="fullScreenBrowserBack floatingViewBtn" localize-tooltip="Back_In_Browser" ng-click="navigation.navigateBack()"><i class="glyphicon pbi-glyph-pageleft"></i><span localize="FullScreen_Back"></span></button><span ng-if="navigation.inReportView() || navigation.inDatasetView()"><span class="floatingViewDivider"></span> <button class="fullScreenPrevious floatingViewBtn" localize-tooltip="Previous_Report_Page" ng-click="fullScreen.fullScreenPreviousPage()"><i class="glyphicon pbi-glyph-chevronleftmedium"></i></button> <button class="fullScreenNext floatingViewBtn" localize-tooltip="Next_Report_Page" ng-click="fullScreen.fullScreenNextPage()"><i class="glyphicon pbi-glyph-chevronrightmedium"></i></button></span><span class="floatingViewDivider"></span> <button class="printBtn floatingViewBtn" localize-tooltip="FullScreen_Print" ng-click="print()"><i class="glyphicon pbi-glyph-print"></i></button> <button class="fitContentBtn floatingViewBtn" localize-tooltip="FullScreen_FitToScreen" ng-if="navigation.inDashboardView()" ng-click="toggleFitContent()"><i class="glyphicon pbi-glyph-fittopage"></i></button> <button class="fitWidthBtn floatingViewBtn" localize-tooltip="FullScreen_FitToWidth" ng-if="navigation.inDashboardView()" ng-click="toggleFitWidth()"><i class="glyphicon pbi-glyph-fittowidth"></i></button> <button class="exitFullScreenBtn floatingViewBtn" ng-click="exitFullScreen()" localize-tooltip="FullScreen_Exit"><i class="glyphicon pbi-glyph-fullscreenexit"></i></button></div></div>'),e.put("views/groupNavigationPaneListItem.html",'<li class="navPaneListItem" ng-right-click="showContextMenuIfEnabled()" ng-class="{selected: selected === true, active: showContextMenu === true}" data-id="{{::viewModel.id}}"><div class="navPaneItemIcon" ng-switch on="model.icon"><div ng-switch-when="3" class="groupsListItemIcon defaultGroupIcon"></div><div ng-switch-when="4" class="groupsListItemIcon groupsUserPhoto" ng-style="userPhoto ?{\'background-image\': userPhoto,\'background-size\':\'cover\',\'background-position\':\'0px 0px\'}:\'\'"></div></div><div class="navPaneListItemName trimmed groupNavPaneListItemName"><div class="textLabel" title="{{model.source.displayName}}">{{model.source.displayName}}</div></div></li>'),e.put("views/historyDialogView.html",'<div><modal-dialog class="historyDialog" history-dialog="viewModel" view-model="dialogModel" ng-if="viewModel.showModalDialog" on-cancel-action="closeDialog()" on-confirm-action="closeDialog()"><div class="title"><span localize="HistoryDialog_Title"></span></div><div class="model-package-selection"><span ng-class="{\'active\': refreshTypeSelected === 0}" ng-click="refreshTypeSelected = 0" localize="HistoryDialog_ScheduledTab"></span><span ng-class="{\'active\': refreshTypeSelected === 1}" ng-click="refreshTypeSelected = 1" localize="HistoryDialog_OneDriveTab"></span></div><div class="historyTableContainer"><table class="historyTable"><thead class="historyTableHeader"><tr><th class="historyDetails" localize="HistoryDialog_TableHeader_Details"></th><th class="historyType" localize="HistoryDialog_TableHeader_Type"></th><th class="historyStart" localize="HistoryDialog_TableHeader_Start"></th><th class="historyEnd" localize="HistoryDialog_TableHeader_End"></th><th class="historyStatus" localize="HistoryDialog_TableHeader_Status"></th><th class="historyFailMessage" localize="HistoryDialog_TableHeader_FailMessage"></th></tr></thead><tbody class="historyTableBody" ng-repeat="history in getSelectedHistories(refreshTypeSelected)" ng-init="detailExpand=false"><tr><td class="errorDetailsLink"><div ng-show="history.isSuccessful===false" ng-switch="detailExpand" ng-click="detailExpand=!detailExpand"><span localize="HistoryDialog_RefreshDetail_Show" ng-switch-when="false"></span><span localize="HistoryDialog_RefreshDetail_Hide" ng-switch-when="true"></span></div></td><td class="historyType" ng-switch="isScheduledRefresh(history)"><span ng-switch-when=true localize="HistoryDialog_RefreshType_Scheduled"></span><span ng-switch-when=false localize="HistoryDialog_RefreshType_OnDemand"></span></td><td class="historyStart"><span ng-bind="::history.startTime"/></td><td class="historyEnd"><span ng-bind="::history.endTime"/></td><td class="historyStatus"><span ng-bind="::history.status"/></td><td class="historyFailMessage"><span ng-bind="::history.friendlyErrorMessage"/></td></tr><tr class="historyErrorDetails" ng-if="detailExpand"><td colspan="9"><inline-name-value-pairs mode="\'info\'" show-title="false" detail-expand="true" name-value-pairs="history.details"></inline-name-value-pairs></td></tr></tbody></table></div></modal-dialog></div>'),e.put("views/inFocus.html",'<div class="inFocusContainer" on-resize="handleResize(width, height)" ng-if="showInFocusMode"><div class="inFocusAppBar appBar"><div class="appBarSection left"><ul><li> <button class="iconBox" ng-click="hide()"><i class="glyphicon pbi-glyph-arrowleft glyph-small"></i><span class="dashboardTitle link appBarMenuItem" localize="InFocus_ExitInFocus"></span></button></li><li class="appBarDivider"></li><li class="focusTitle appBarTitle" ng-bind="viewModel.displayText"></li><li class="focusSubtitle appBarText" ng-bind="viewModel.subDisplayText"></li></ul></div><div class="appBarSection right" ng-class="{readOnlyMode: !(canEdit || viewModel.openInsightArgs.canPin), insights: viewModel.openInsightArgs != null}" ng-if="viewModel.inFocusTile"><ul><li class="lastRefreshTimestamp appBarText metadata" ng-if="viewModel.inFocusTile.formattedTime"><span class="caption" localize="InFocus_RefreshTime"></span><span ng-bind="viewModel.inFocusTile.formattedTime"></span></li><li class="appBarDivider"></li><li class="getRelatedInsightsBtn" localize-tooltip="Insights_GetRelatedInsights_Tooltip" ng-if="relatedInsightsEnabled"> <button ng-click="getRelatedInsights()"><i class="glyphicon pbi-glyph-insight glyph-small"></i><span class="appBarMenuItem" ng-bind="viewModel.getRelatedInsightsText"></span></button></li><li class="pinBtn" ng-if="viewModel.inFocusTile && viewModel.inFocusTile.type != 5 && viewModel.inFocusTile.type != 8"> <button ng-click="pinVisual()"><i class="glyphicon pbi-glyph-pinned glyph-small"></i><span class="appBarMenuItem" ng-bind="viewModel.pinVisualText"></span></button></li><li class="editBtn" ng-if="inFocusEditEnabled"> <button ng-click="editVisual()"><i class="glyphicon pbi-glyph-edit glyph-small" ng-class="{inEditMode: viewModeState.getMode() === 1}"></i><span class="appBarMenuItem" ng-bind="viewModel.editVisualText"></span></button></li><li class="saveBtn" ng-if="inFocusEditEnabled"> <button ng-disabled="viewModeState.getMode() === 0" ng-click="saveVisual()"><i class="glyphicon pbi-glyph-save glyph-small"></i><span class="appBarMenuItem" ng-bind="::viewModel.saveVisualText"></span></button></li><li class="moreOptionsItem"> <button dropdown-menu class="moreOptionsInFocusButton" dropdown-items="inFocusMenuItems" dropdown-on-item-selected="inFocusMenuItemSelected(selected)" dropdown-class="additionalMenus"><i class="glyphicon pbi-glyph-more glyph-small"></i></button></li></ul></div></div><div ng-if="viewModel.inFocusTile" ng-switch="viewModel.inFocusTile.type"><section class="explorationContainer inFocus" ng-switch-when="0"><exploration-host ng-if="viewModel.showVisualEnabled && !inFocusDrillableError" class="explorationHost inFocusBody" view-model="viewModel" id="inFocusExpHost"><task-pane view-model="viewModel.taskPane" field-list-config="::fieldListConfig" ng-if="viewModeState.getMode() === 1" resizable resizable-containerid="InFocusExpHost" resizable-sibling="visualizationPane" resizable-expanded="{{viewModel.taskPane.isPaneExpanded}}" resizable-default-width="180" resizable-min-width="180" resizable-max-width="420" resizable-collapsed-width="32"></task-pane><visualization-pane class="inFocusVizPane" view-model="viewModel.visualizationPane" resizable resizable-containerid="InFocusExpHost" resizable-sibling="taskPane" resizable-expanded="{{viewModel.visualizationPane.isPaneExpanded}}" resizable-default-width="180" resizable-min-width="180" resizable-max-width="420" resizable-collapsed-width="32"></visualization-pane><insights-pane ng-if="viewModel.showInsightsPane" model="viewModel.inFocusTile.datasetModel.contract" visual-contract="viewModel.canvas.visual.visualContainer.contract" exploration-contract="viewModel.canvas.exploration.contract" tile-action="viewModel.inFocusTile.action.action" visual-title="viewModel.displayText + \' \' + viewModel.subDisplayText" visual="viewModel.canvas.visual.visualContainer.readOnlyState.visual" parent-event="openInFocusEvent"></insights-pane><div class="exploration"> <button class="previousVisualButton" ng-if="viewModel.showPreviousVisualButton" ng-click="showPreviousVisual()"><i class="glyphicon iconBox pbi-glyph-chevronleftmedium glyph-small"></i><span localize="InFocus_PreviousVisual"></span></button><explore-canvas view-model="::viewModel.canvas.exploration.exploreCanvas"></explore-canvas><div class="sourceInfo"><a class="sourceStyle" ng-if="viewModel.inFocusTile.report" ng-click="openReport()" ng-bind="viewModel.source"></a><div class="insightFeedbackStyle" ng-if="viewModel.openInsightArgs.insightContainerModel && viewModel.openInsightArgs.showInsightsEvent"><span localize="Insights_FeedbackLink"></span> <button ng-click="logInsightFeedback(true)" class="insightFeedbackButton" localize="Insights_FeedbackYes"></button> <button ng-click="logInsightFeedback(false)" class="insightFeedbackButton" localize="Insights_FeedbackNo"></button></div></div></div></exploration-host><water-mark-message ng-if="inFocusDrillableError" config="errorMessageConfig"></water-mark-message><div class="inFocusCenteredSpinner" ng-show="!viewModel.inFocusTile"><spinner modern delay="1000"></spinner></div></section><workbook-tile view-model="viewModel.workbook" class="explorationContainer inFocus" ng-switch-when="5"></workbook-tile><real-time-tile view-model="viewModel.realTime" class="realTimeTile inFocus" ng-switch-when="8"></real-time-tile></div></div>'),
e.put("views/insights/insights.html",'<div class="sliderContentView insightsSliderContentView"><insights-canvas view-model="viewModel.insightsCanvasModel"></insights-canvas></div>'),e.put("views/landing.html",'<div class="landingController"><navigation-bar ng-if="::isInitialized" current-dashboard="dashboardDataService.activeDashboard.displayName" current-report="activeReportInfo.displayName" current-workbook="activeWorkbookInfo.displayName"></navigation-bar><impersonation-bar class="unselectable" ng-if="impersonation.impersonating" on-back="quitImpersonation()"></impersonation-bar><div id="contentMain" class="contentMain" ng-class="{isCollapsiblePaneExpanded: viewModel.collapsiblePane.isExpanded}"><navigation-pane ng-if="::(isInitialized && !listViewEnabled())" ng-cloak view-model="viewModel.dashboardContainer" current-report="activeReportInfo" current-workbook="activeWorkbookInfo"></navigation-pane><navigation-pane-v2 ng-if="::(isInitialized && listViewEnabled())" is-expanded="$ctrl.isNavigationPaneExpanded" on-toggled="$ctrl.toggleNavigationPane(isExpanded)" ng-class="{isExpanded: $ctrl.isNavigationPaneExpanded}" resizable resizable-containerid="contentMain" resizable-expanded="{{$ctrl.isNavigationPaneExpanded}}" resizable-default-width="220" resizable-min-width="200" resizable-max-width="420" resizable-collapsed-width="48" resizable-side="{{::navigationPaneSide}}"></navigation-pane-v2><div id="contentColumn" class="contentColumn"><notification-bar></notification-bar><landing-container ng-cloak></landing-container></div><div class="taskPaneSliderOverlay" ng-click="hideTaskPaneSliderOnClick()" ng-if="viewModel.collapsiblePane.isExpanded" ng-class="{isCollapsiblePaneExpanded: viewModel.collapsiblePane.isExpanded, showOverlay:viewModel.collapsiblePane.expandedWidth> 0}"></div><task-pane-slider ng-show="viewModel.collapsiblePaneMode !== 0"></task-pane-slider><div class="notificationPane" ng-if="viewModel.showNotificationPane"><div class="taskPaneSliderOverlay" ng-click="hideNotificationPaneOnClick()" ng-if="viewModel.notificationPane.isExpanded" ng-class="{isCollapsiblePaneExpanded: viewModel.notificationPane.isExpanded, showOverlay:viewModel.notificationPane.expandedWidth> 0}"></div><collapsible-pane view-model="viewModel.notificationPane" is-expander-hidden="viewModel.showNotificationPane"><user-notifications></user-notifications></collapsible-pane></div></div><marketplace-host ng-if="navigation.inGetDataView()"></marketplace-host><nps-host></nps-host><div class="sliderPane fullPageSlider unselectable" ng-if="navigation.inFullPageSliderView()" ui-view="fullPageSlider"></div></div>'),e.put("views/landingContainer.html",'<div class="landingContainer"><notification-toast></notification-toast><full-screen-controls></full-screen-controls><div class="waitingContainer" ng-if="groupService.isGroupTransitionDelayed || (isDashboardLandingContainerActive && showLoadingForDashboard())"><div class="spinnerWithText"><spinner class="large"></spinner><div class="loadingText" localize="Loading_Text"></div></div></div><div id="featuredDashboardLandingContainer" class="featuredDashboardRootContent" ng-if="inEmptyFeaturedDashboardView()"><featured-dashboard-container></featured-dashboard-container></div><div id="favoritesLandingContainer" class="favoritesRootContent" ng-if="favoritesEnabled && inFavoritesView()"><favorites-container collapsible-pane-mode="viewModel.collapsiblePaneMode"></favorites-container></div><div id="appsLandingContainer" class="appsRootContent" ng-if="inAppsView()"><apps-container></apps-container></div><div id="installedAppLandingContainer" ng-if="inAppView()" ng-class="{\'scrollable\': isScrollable()}"><app-container></app-container></div><div id="workspacesLandingContainer" class="workspacesRootContent" ng-if="inWorkspacesView()"><workspaces-container></workspaces-container></div><div id="contentListLandingContainer" class="contentListRootContent" ng-if="!groupService.isGroupTransitionDelayed && contentListEnabled() && isContentListActive"><content-list-container-v2 collapsible-pane-mode="viewModel.collapsiblePaneMode"></content-list-container-v2></div><div id="dashboardLandingContainer" class="landingRootContent" ng-if="isDashboardLandingContainerActive && !showLoadingForDashboard() && !inQnaModelView() && !inQnaView()" ng-class="{inApps: inAppView()}"><dashboard-container view-model="viewModel.dashboardContainer" collapsible-pane-mode="viewModel.collapsiblePaneMode" is-active="isDashboardLandingContainerActive"></dashboard-container></div><div id="datasetLandingContainer" class="landingRootContent datasetContainerContent" ng-if="inDatasetView() && !inQnaModelView()" ng-class="{inApps: inAppView()}"><manage-datasets></manage-datasets></div><div id="reportLandingContainer" class="landingRootContent reportContainerContent" ng-if="inReportView() && !inQnaModelView()" ng-class="{inApps: inAppView()}"><exploration-container view-model="viewModel.explorationContainer"></exploration-container></div><div id="workbookLandingContainer" class="landingRootContent workbookContainerContent" ng-if="inWorkbookView()" ng-class="{inApps: inAppView()}"><workbook-container view-model="viewModel.workbookContainer"></workbook-container></div><div id="qnaLandingContainer" class="landingRootContent" ng-if="inQnaModelView() || inQnaView()" ng-class="{inApps: inAppView()}"><qna-container view-model="viewModel.qnaContainer" collapsible-pane-mode="viewModel.collapsiblePaneMode"></qna-container></div><div in-focus ng-if="::isInitialized" can-edit="dashboardDataService.activeDashboard.canEdit"></div><content-provider-splash screen-state="2" class="isGroupWelcome" ng-if="inGroupWelcomeView()"></content-provider-splash><div class="sliderPane unselectable" ng-if="navigation.inContentSliderView()" ui-view="contentSlider"></div></div>'),e.put("views/loadNotificationDialog.html",'<div class="contentProviderLoadNotificationContent"><span class="pbi-spinner"></span><span class="contentProviderLoadNotificationMessage" localize="ParametersLoadingMessage"></span></div>'),e.put("views/localFileBrowser.html",'<div> <input class="browseFileInput" type="file" accept="{{fileDialogFilter}}"/></div>'),e.put("views/manageEmbedView.html",'<div class="sliderContentView manageEmbed"><user-group-header view-model="userGroupHeader"></user-group-header><div class="tableArea"><div class="centeredSpinner" ng-show="!viewModel.isLoaded"><spinner modern></spinner></div><div ng-show="viewModel.isLoaded" ng-switch="viewModel.embeddedResources.length> 0"><table class="manageEmbedTable" ng-switch-when="true"><thead><tr><th class="associatedReport" ng-click="updateSortProperty(\'associatedReport.displayName\')" localize="ManageEmbed_AssociatedReport_Header"></th><th class="status" ng-click="updateSortProperty(\'status\')" localize="ManageEmbed_Status_Header"></th><th class="dateCreated" ng-click="updateSortProperty(\'dateCreatedSortable\')" localize="ManageEmbed_DateCreated_Header"></th><th class="actions header"></th></tr></thead><tbody><tr ng-repeat="resource in viewModel.embeddedResources | orderBy:sortProperty:sortDescending track by (resource.contract.snapshotId + resource.contract.embedType)"><td class="itemField trimmedTextWithEllipsis" ng-bind="resource.associatedReport.displayName"></td><td class="itemField trimmedTextWithEllipsis" ng-bind="resource.status"></td><td class="itemField trimmedTextWithEllipsis" ng-bind="resource.dateCreated ? resource.dateCreated : resource.contract.date"></td><td class="actionsField"><a href="" class="glyphicon glyph-small pbi-glyph-more" ng-click="$event.stopPropagation();toggleFlyout($event, resource)" localize-tooltip="NavigationPane_OpenMenu"></a></td></tr></tbody></table><div class="manageEmbedTableEmpty" ng-switch-when="false"><i class="glyphicon pbi-glyph-warning glyph-med warningIcon"></i><h2 localize="ManageEmbed_NoEmbedCodesWarningTitle"></h2><p localize="ManageEmbed_NoEmbedCodesWarningText"></p></div></div></div></div>'),e.put("views/manageStorageView.html",'<div class="sliderContentView"><div class="manageStorage"><user-group-header view-model="userGroupHeader"></user-group-header><usage-bar usage-bar-model="viewModel.usageBarModel" view-model="viewModel"></usage-bar> <button class="primary submit" type="button" ng-if="!viewModel.isPremiumUser" ng-click="tryItFree()"><span ng-bind="viewModel.tryItFreeText"></span></button><div class="storageArea"><div class="own"><div class="tab" ng-click="viewModel.ownedByMeSelected=true" ng-switch on="viewModel.isMyWorkspace"><div localize="QuotaManagement_OwnedByMe" ng-switch-when="true"></div><div localize="QuotaManagement_OwnedByUs" ng-switch-when="false"></div><div class="highlight" ng-if="viewModel.ownedByMeSelected"></div></div><div class="tab" ng-click="viewModel.ownedByMeSelected=false"><div localize="QuotaManagement_OwnedByOthers"></div><div class="highlight" ng-if="!viewModel.ownedByMeSelected"></div></div></div><div class="usageList"><table class="usageListTable"><thead><tr><th class="delete"></th><th class="name header" localize="QuotaManagement_ModelName"></th><th class="size header" localize="QuotaManagement_ModelSize"></th><th class="type header" localize="QuotaManagement_ModelType"></th><th class="lastRefresh header" localize="QuotaManagement_ModelLastRefreshedTime"></th><th class="associated header" localize="QuotaManagement_AssociatedDashboards"></th><th class="associated header" localize="QuotaManagement_AssociatedReports"></th></tr></thead><tbody><tr class="ms-font-weight-regular" ng-repeat="usage in viewModel.usageDetails|filter:{ownedByMe: viewModel.ownedByMeSelected}|filter:isInVisibleDashboard(dashboardsFromModel)| orderBy:\'-sizeInMBs\'"><td class="deleteIcon" ng-click="deleteModel(usage)" localize-tooltip="QuotaManagement_DeleteButtonText"><div class="btn-delete"></div></td><td class="itemField" title="{{usage.name}}" ng-bind="usage.name"></td><td class="itemField" ng-bind="usage.sizeWithUnit"></td><td class="itemField" ng-bind="usage.typeText"></td><td class="itemField" ng-bind="usage.lastRefreshTime"></td><td class="itemField associated" title="{{usage.associatedDashboards}}" ng-bind="usage.associatedDashboards"></td><td class="itemField associated" title="{{usage.associatedReports}}" ng-bind="usage.associatedReports"></td></tr></tbody></table></div></div></div></div>'),e.put("views/navigationBar.html",'<div id="topBar" class="unselectable fadeIn" feature-switch-class="breadcrumbNavigationEnabled"><div class="topNavLeft"><o365-application-launcher></o365-application-launcher><pbi-logo config="logoConfig" ng-click="navigateToLanding()"></pbi-logo></div><breadcrumbs feature-switch="breadcrumbNavigationEnabled"></breadcrumbs><div class="topNavRight"> <button class="enterFullScreenBtn topNavButton" ng-if="fullScreen.fullScreenModeSupported" localize-tooltip="TopNav_FullScreen_Enter" ng-click="enterFullScreen()"><i class="glyphicon glyph-small pbi-glyph-fullscreen"></i></button> <button class="notificationsBtn topNavButton" localize-tooltip="UsersNotifications_BadgeTooltip" ng-click="showUserNotifications()"><i class="glyphicon glyph-small pbi-glyph-notification-center"></i> <span ng-if="getUserNotificationsCount()>0" class="badge" ng-class="{\'warning\': getHighestNotificationLevel(userNotifications) === 2}" ng-bind="getUserNotificationsCount()"></span></button> <button id="settingsMenuBtn" class="topNavButton" ng-click="showSettingsMenu($event)" localize-tooltip="TopNav_Settings"><i class="glyphicon glyph-small pbi-glyph-gear"></i></button> <button id="downloadMenuBtn" class="topNavButton" ng-click="showMenu(\'downloadMenu\', downloadMenu, $event)" localize-tooltip="TopNav_Download"><i class="glyphicon glyph-small pbi-glyph-download"></i></button> <button id="helpMenuBtn" class="topNavButton" ng-click="showMenu(\'helpMenu\', helpMenu, $event)" localize-tooltip="TopNav_Help"><i class="glyphicon glyph-small pbi-glyph-question"></i></button><pbi-button kind="icon" icon-name="smiley" icon-size="small" no-label="" class="topNavButton" ng-click="showFeedbackContextMenu($event)" localize-tooltip="TopNav_Feedback"></pbi-button> <button id="powerBIUserInfoBtn" class="powerBIUserInfoButton" ng-click="showMenu(\'powerBIUserInfo\', userInfoMenu, $event)" ng-style="userPhoto ? {\'background-image\': userPhoto, \'background-size\':\'cover\', \'background-position\':\'0px 0px\'} : \'\'"><i ng-if="!userPhoto" class="glyphicon glyph-small pbi-glyph-user"></i></button></div><div class="topNavCenter" feature-switch-not="breadcrumbNavigationEnabled"><div class="currentNavigationTitle" ng-show="navigation.inDashboardView()"><span ng-bind="currentDashboard"></span></div><div class="currentNavigationTitle" ng-show="navigation.inReportView()"><span ng-bind="currentReport"></span><span ng-show="reportChanged">*</span></div><div class="currentNavigationTitle" ng-show="navigation.inWorkbookView()"><span ng-bind="currentWorkbook"></span></div></div></div>'),e.put("views/navigationPane.html",'<div class="navigationPane unselectable" ng-class="{isCollapsed: isPaneExpanded === false, isFrozen: groupService.isInGroupTransition}" ng-attr-read-only="{{!canWrite()}}"><div class="innerLayout"><div class="expanderBtn slideFadeIn" ng-click="toggleNavigationPane()" ng-switch on="isPaneExpanded"><i class="glyphicon pbi-glyph-globalnavbutton" localize-tooltip="NavigationPane_Minimize" ng-switch-when="true"></i><i class="glyphicon pbi-glyph-globalnavbutton" localize-tooltip="NavigationPane_Expand" ng-switch-when="false"></i></div><div class="getDataBtn btn primary trimmedTextWithEllipsis slideFadeIn" ng-if="!navigation.inGroupWelcomeView() && !impersonation.impersonating" ng-disabled="groupService.isGroupTransitionDelayed" ng-click="switchToExternalContentViewerMode(navigatorPaneGetDataButton)" localize-tooltip="NavigationPane_GetData"><i class="glyphicon pbi-glyph-getdata glyph-small getDataIcon"></i><span class="label trimmedTextWithEllipsis" localize="NavigationPane_GetData"></span></div><div class="scrollRegion" ng-if="isPaneExpanded"><div class="homeSection" ng-if="homeDashboardEnabled && !impersonation.impersonating"> <button class="homeTitleButton trimmedTextWithEllipsisFullWidth" ng-click="navigateToHome()" localize-tooltip="NavigationPane_FeaturedDashboardTitle"><i class="glyphicon pbi-glyph-gauge glyph-small" ng-class="{\'highlight\': isOnHome}"></i><span class="btnLabel" localize="NavigationPane_FeaturedDashboardTitle"></span></button> <button class="homeMenuButton" dropdown-menu dropdown-class="navigationPaneGroupContextMenu" dropdown-dark-theme="false" dropdown-items="homeDashboardMenuItems" dropdown-orientation="horizontal" dropdown-on-item-selected="homeDashboardMenuItemSelected(selected)" ng-disabled="!home.isHomeDashboardSet"><i class="glyphicon moreIcon pbi-glyph-more"></i></button></div><div class="favoritesSection" ng-if="favoritesEnabled && !impersonation.impersonating" localize-tooltip="Favorites_NavPaneTitle"> <button class="favoritesTitleButton" ng-click="navigateToFavorites()"><i class="glyphicon pbi-glyph-favoritestar glyph-small" ng-class="{\'highlight\': isInFavoritesView()}"></i><span localize="Favorites_NavPaneTitle"></span></button></div><div class="collapsibleSection groupCollapsibleSection" ng-class="{isExpanded: isGroupsListExpanded === true }" ng-if="!impersonation.impersonating"><div class="sectionTitle trimmedTextWithEllipsis"><div class="collapseToggle" ng-click="toggleNavigationPaneSection(groupSection)"><i class="glyphicon pbi-glyph-chevrondownmedium"></i><div class="groupsTitle"><div ng-bind="groupService.activeGroup.displayName" title="{{groupService.activeGroup.displayName}}" class="trimmedTextWithEllipsis"></div></div><div class="waitingContainer" ng-show="groupService.isGroupTransitionDelayed"><spinner></spinner></div></div><group-actions ng-hide="groupService.activeGroup.isMyWorkspace || groupService.isInGroupTransition" group="groupService.activeGroup"></group-actions></div><ul class="navigationItemList"><group-navigation-pane-list-item ng-repeat="group in filteredGroups = (groupService.groups |filter: { isMyWorkspace:true })" ng-click="switchGroup(group)" view-model="group" selected="groupService.activeGroup.aadGroupId === group.aadGroupId"></group-navigation-pane-list-item></ul><div class="sectionTitle subsectionTitle trimmedTextWithEllipsis"><div class="subsectionTitleText" ng-switch on="groupService.groups.length === 1"> <button ng-switch-when="true" class="navigationPaneButton groupAddButton" ng-click="addGroup()" localize="NavigationPane_GroupsTitle_CreateGroup"></button><span ng-switch-when="false" localize="NavigationPane_GroupsTitle_HasGroups" localize-tooltip="NavigationPane_GroupsTitle_HasGroups"></span></div> <button class="navigationPaneButton addButton" ng-click="addGroup()" localize-tooltip="NavigationPane_CreateGroup"><i class="glyphicon pbi-glyph-add"></i></button></div><ul class="navigationItemList"><group-navigation-pane-list-item ng-repeat="group in filteredGroups = (groupService.groups |filter: { isMyWorkspace:false } | orderBy: \'displayName\' | limitTo: isListOfGroupsExpanded ? 99999 : 5)" ng-click="switchGroup(group)" view-model="group" selected="groupService.activeGroup.aadGroupId === group.aadGroupId"></group-navigation-pane-list-item></ul> <button class="groupsMoreLessButton" ng-show="groupService.groups.length> 5" ng-click="isListOfGroupsExpanded = !isListOfGroupsExpanded" ng-switch on="isListOfGroupsExpanded"><span ng-switch-when="true" localize="Groups_LessButtonText"/><span ng-switch-when="false" localize="Groups_MoreButtonText" class="groupsMoreButton"/></button></div><div class="freezableScrollRegion" ng-disabled="groupService.isGroupTransitionDelayed"><div class="viewArchivedContent collapsibleSection" ng-click="viewArchivedContent()" ng-if="showArchivedContentLink && !impersonation.impersonating"><div class="sectionTitle trimmedTextWithEllipsis"><span class="collapseToggle"><i class="glyphicon pbi-glyph-library glyph-small"></i><span localize="NavigationPane_ArchivedContent"></span></span></div></div><search-box filter="$ctrl.searchFilter" on-change="searchFilterChanged()"></search-box><div class="collapsibleSection ownershipFitlerCollapsibleSection" ng-if="!impersonation.impersonating"><div class="sectionTitle" tabindex="0" dropdown-overlay-invoke="ownershipFilterContextMenu" localize-tooltip="NavigationPane_OwnershipFilterShowTooltip" need-blur="true" horizontal="true"><span class="collapseToggle trimmedTextWithEllipsisFullWidth"><i class="glyphicon pbi-glyph-show glyph-small"></i><span localize="NavigationPane_OwnershipFilterShow"></span><span class="selectedOwnershipFilterText" ng-bind="selectedOwnershipFilter.text"></span></span> <button class="navigationPaneButton filterMoreButton"><i class="glyphicon pbi-glyph-more"></i></button></div></div><dropdown-overlay dropdown-overlay-name="ownershipFilterContextMenu"><dropdown-list class="ownershipFilterContextMenu"><dropdown-list-item ng-repeat="menuItem in ownershipFilterContextMenuItems" ng-click="ownershipFilterSelected(menuItem)" title="{{::menuItem.text}}"><div class="pbi-input"> <input type="radio" name="filterOption" ng-checked="selectedOwnershipFilter.filter===menuItem.filter"><label class="form-label" ng-bind="menuItem.text"></label></div></dropdown-list-item></dropdown-list></dropdown-overlay><div class="collapsibleSection dashboardCollapsibleSection" ng-class="{isExpanded: isDashboardsListExpanded === true }" ng-if="!impersonation.impersonating"><div class="sectionTitle"><span class="collapseToggle trimmedTextWithEllipsisFullWidth" ng-click="toggleNavigationPaneSection(dashboardSection)"><i class="glyphicon pbi-glyph-gauge glyph-small"></i><span localize="NavigationPane_DashboardsTitle" localize-tooltip="NavigationPane_DashboardsTitle"></span></span> <button class="navigationPaneButton addButton" ng-hide="groupService.isInGroupTransition" ng-click="activeAddDashboard()" localize-tooltip="NavigationPane_CreateDashboard"><i class="glyphicon pbi-glyph-add"></i></button></div><div class="addDashboardInputBox" ng-if="showAddDashboardInputBox"><text-input on-complete="addDashboard" validate="isDashboardNameValid" placeholder="addDashboardPlaceholder" is-focused="isAddDashboardInputboxFocused"></div><ul class="navigationItemList dashboardList"><dashboard-navigation-pane-list-item ng-repeat="dashboard in filteredDashboards = (viewModel.visibleDashboards | filter: ownershipFilterFunction(selectedOwnershipFilter.filter) | filter: { displayName: $ctrl.searchFilter } | orderBy: \'displayName\')" ng-click="switchActiveDashboard(dashboard.objectId)" view-model="dashboard" selected="dashboardDataService.activeDashboard.objectId === dashboard.objectId && navigation.inDashboardView()"></dashboard-navigation-pane-list-item><li localize="NavigationPane_NoDashboardText" localize-tooltip="NavigationPane_NoDashboardText" class="noItemText trimmedTextWithEllipsis" ng-if="viewModel.dashboards.length === 0"></li><li localize="NavigationPane_NoDashboardSearchResultText" localize-tooltip="NavigationPane_NoDashboardSearchResultText" class="noItemText trimmedTextWithEllipsis" ng-if="viewModel.dashboards.length> 0 && filteredDashboards.length === 0"></li></ul></div><div class="collapsibleSection reportCollapsibleSection" ng-class="{isExpanded: isReportsListExpanded === true }"><div class="sectionTitle"><span class="collapseToggle trimmedTextWithEllipsisFullWidth" ng-click="toggleNavigationPaneSection(reportSection)"><i class="glyphicon pbi-glyph-barchart glyph-small"></i><span localize="NavigationPane_ReportsTitle" localize-tooltip="NavigationPane_ReportsTitle"></span></span></div><ul class="navigationItemList reportList"><report-navigation-pane-list-item ng-repeat-start="reportResource in filteredReports = (reportsResourceList() | filter: ownershipFilterFunction(selectedOwnershipFilter.filter) | filter: { displayName: $ctrl.searchFilter } | orderBy:\'displayName\') track by reportResource.uniqueId" ng-if="reportResource.resourceType == 0" ng-click="openReport(reportResource)" view-model="reportResource" selected="navigation.inReportView() && reportService.currentActiveReport.id === reportResource.id"></report-navigation-pane-list-item><workbook-navigation-pane-list-item ng-repeat-end ng-if="reportResource.resourceType == 1" ng-click="viewWorkbook(reportResource)" view-model="reportResource" selected="navigation.inWorkbookView() && workbookService.currentActiveWorkbook.uniqueId === reportResource.uniqueId"></workbook-navigation-pane-list-item><li localize="NavigationPane_NoReportText" localize-tooltip="NavigationPane_NoReportText" class="noItemText trimmedTextWithEllipsis" ng-if="reportService.copyAndEditReports.length === 0 && workbookService.workbooks.length === 0"></li><li localize="NavigationPane_NoReportSearchResultText" localize-tooltip="NavigationPane_NoReportSearchResultText" class="noItemText trimmedTextWithEllipsis" ng-if="(reportService.copyAndEditReports.length> 0 || workbookService.workbooks.length > 0) && filteredReports.length === 0"></li></ul></div><div class="collapsibleSection datasetCollapsibleSection" ng-class="{isExpanded: isDatasetsListExpanded === true }" ng-if="!impersonation.impersonating"><div class="sectionTitle"><span class="collapseToggle trimmedTextWithEllipsisFullWidth " ng-click="toggleNavigationPaneSection(datasetSection)"><i class="glyphicon pbi-glyph-database glyph-small"></i><span localize="NavigationPane_DatasetsTitle" localize-tooltip="NavigationPane_DatasetsTitle"></span></span> <button class="navigationPaneButton addButton" ng-hide="groupService.isInGroupTransition" ng-click="switchToExternalContentViewerMode(navigatorPaneAddDatasetButton)" localize-tooltip="NavigationPane_GetData"><i class="glyphicon pbi-glyph-add"></i></button></div><ul class="navigationItemList datasetList"><dataset-navigation-pane-list-item ng-repeat="model in filteredModels = (modelService.sanitizedCopyAndEditModels | filter: ownershipFilterFunction(selectedOwnershipFilter.filter) | filter: { isHidden: \'!true\', displayName: $ctrl.searchFilter } | orderBy: \'displayName\')" ng-click="openModel(model)" view-model="model" selected="(navigation.inDatasetView() && reportService.currentActiveReport.id === model.id) || (navigation.inRowLevelSecurityView() && navigation.rowLevelSecurityModelId === model.id)"></dataset-navigation-pane-list-item><li class="trimmedTextWithEllipsis streamingDataset" localize="ManageDatasets_StreamingDatasets" ng-click="navigateToStreamingDatasets()"></li><li localize="NavigationPane_NoDatasetText" localize-tooltip="NavigationPane_NoDatasetText" class="noItemText trimmedTextWithEllipsis" ng-if="modelService.models.length === 0"></li><li localize="NavigationPane_NoDatasetSearchResultText" localize-tooltip="NavigationPane_NoDatasetSearchResultText" class="noItemText trimmedTextWithEllipsis" ng-if="modelService.models.length> 0 && filteredModels.length === 0"></li></ul></div></div></div></div></div>'),e.put("views/navigationPaneListItem.html",'<li class="navPaneListItem" ng-right-click="showContextMenuIfEnabled()" ng-class="{selected: selected, active: showContextMenu}" data-id="{{::viewModel.id}}"><div class="navPaneItemIcon" ng-if="::!newStyle" ng-switch="isRefreshInProgress()"><spinner ng-switch-when="true" localize-tooltip="NavigationPane_RefreshInProgress"></spinner><div ng-switch-default><i ng-if="model.icon === 1 && model.source.packagePublishStatus !== 2 && model.source.contract.lastRefreshStatus !== 4" class="glyphicon pbi-glyph-share" localize-tooltip="NavigationPane_SharedWithMe"></i><i ng-if="model.icon === 5 && showIcon && showIcon()" class="glyphicon pbi-glyph-excel" localize-tooltip="NavigationPane_ExcelWorkbook"></i><i ng-if="getPackagePublishStatus && getPackagePublishStatus() === 2" class="warning glyphicon pbi-glyph-warning glyph-small" localize-tooltip="NavigationPane_RefreshPublishError"></i><i ng-if="showRefreshError && showRefreshError()" class="warning glyphicon pbi-glyph-warning glyph-small" tooltip tooltip-config="tooltipConfig" ng-click="$event.stopPropagation();showRefreshErrorDialog()"></i></div></div><editable-label class="navPaneListItemName smallFontSize" ng-class="{trimmed: model.source.isNew || model.source.packagePublishStatus === 2 || model.source.packagePublishStatus === 4, publishing: model.source.packagePublishStatus === 1, editing: model.isNameEditable}" view-model="::model.source" on-blur="::rename(newName)" validate="::isNameValid" disable-click="true" editable="model.isNameEditable"></editable-label><div class="navPaneItemIndicator" ng-if="::!newStyle"><i ng-if="model.source.isNew && model.source.packagePublishStatus !== 2 && model.source.packagePublishStatus !== 4 && !model.source.isRefreshInProgress" class="glyphicon pbi-glyph-asterisk"></i></div> <button class="navigationPaneButton itemActionsBtn" context-menu localize-tooltip="NavigationPane_OpenMenu" context="::model" show-context-menu="showContextMenu" ng-click="$event.stopPropagation();showContextMenuIfEnabled()"><i class="glyphicon pbi-glyph-more"></i></button></li>'),e.put("views/npsHost.html",'<div class="npsHost"></div>'),e.put("views/o365ApplicationLauncher.html",'<div class="o365Waffle"><div class="powerBILogo"><div class="waffle glyphicon pbi-glyph-waffle"></div></div><div id="o365AppLauncherContainer" class="o365AppLauncherContainer" ng-class="{o365AppLauncherContainerOldStyle: oldStyleAppLauncher === true}" tabindex="-1"><div id="o365AppLauncherUpperTriangle" class="uppertriangle" ng-show="oldStyleAppLauncher"></div><div class="o365LoadingContainer" ng-show="loadingAppLauncher"><div class="loadingspinner"><spinner></spinner></div><div class="o365AppLauncherLoading" localize="Loading_Text"></div></div><div class="o365AppLauncherError" ng-show="loadingError" localize="TopNav_O365ApplicationLauncher_Error"></div><div id="o365AppLauncherContent" class="o365AppLauncherContent" ng-show="!loadingAppLauncher"></div></div></div>'),e.put("views/pbiDataLoaderSpinner.html",'<div class="dataLoaderSpinner"><spinner class="xlarge"></spinner><h3 class="unselectable"></h3></div>'),e.put("views/pinTileDialog.html",'<div class="explorationPinTileDialog" ng-class="{liveReportTile: isLiveReport, pinDashboardTile: !isLiveReport}"><div class="tilePreview section" ng-class="{noTitle: !viewModel.hasTitle(viewModel.useDashboardFormatting ? viewModel.reportTile:viewModel.dashboardTile), noPreview: viewModel.needSaveReport, showPreview: !viewModel.needSaveReport,vrmPreview:!viewModel.hasTileFormatting }"><div class="liveReport" ng-if="isLiveReport"><span class="previewSection" localize="PinLiveReport_Preview"/><span localize="PinLiveReport_SavedState"/></div><div class="dashTile tilePreviewFrame" ng-show="viewModel.useDashboardFormatting"><ul><dashboard-tile view-model="viewModel.dashboardTile"></dashboard-tile></ul></div><div class="reportTile tilePreviewFrame" ng-show="!viewModel.useDashboardFormatting"><ul><dashboard-tile view-model="viewModel.reportTile"></dashboard-tile></ul></div><div class="tileFormatting section" ng-show="viewModel.hasTileFormatting"><div class="tileFormattingMessage pinTileBoldText" localize="ReportContainer_TileFormattingMessage"></div><div class="formatChoices tileRadioGroup"><ul><li><div class="pbi-input"> <input type="radio" name="cpRadio1" ng-disabled="viewModel.needSaveReport" ng-model="viewModel.useDashboardFormatting" ng-value="true" ng-change="updateFormatting()"><label class="form-label" localize="ReportContainer_UseDashboardFormattingRadioText"></label></div></li><li><div class="pbi-input"> <input type="radio" name="cpRadio2" ng-disabled="viewModel.needSaveReport" ng-model="viewModel.useDashboardFormatting" ng-value="false" ng-change="updateFormatting()"><label class="form-label" localize="ReportContainer_RetainReportFormattingRadioText"></label></div></li></ul></div></div></div><div class="dashboardSelector section"><div class="sectionContainer pinToDashboard" ng-model="viewModel.needSaveReport" ng-show="!viewModel.needSaveReport"><h2 class="title trimmedTextWithEllipsis" localize="ReportContainer_PinToDashboardTitle" localize-tooltip="ReportContainer_PinToDashboardTitle"></h2><div class="message" localize="ReportContainer_SelectExistingOrCreateNewDashboardMessage"></div><div class="pinMessage" localize="ReportContainer_WhereToPinMessage"></div><div class="dashboardChoices tileRadioGroup"><ul><li><div class="pbi-input" ng-disabled="viewModel.noExistingDashboard"> <input type="radio" class="existingDashRadio" ng-model="viewModel.useExistingDashboard" ng-value="true" ng-disabled="noPinnableDashboard()"><label class="form-label" localize="ReportContainer_UseExistingDashboardRadioText"></label></div></li><li><div class="pbi-input"> <input class="newDashRadio" type="radio" ng-model="viewModel.useExistingDashboard" ng-value="false"><label class="form-label" localize="ReportContainer_UseNewDashboardRadioText"></label></div></li></ul></div><div class="existingDashboardDropDown" ng-show="viewModel.useExistingDashboard"> <select ng-model="viewModel.selectedDashboardId"><option ng-selected="{{dashboard.id === dashboardDataService.activeDashboard.id}}" ng-repeat="dashboard in getDashboards() | filter:isDashboardPinnable | orderBy:\'displayName\'" value="{{dashboard.id}}" title="{{dashboard.displayName}}" ng-bind="dashboard.displayName"></option></select></div><div class="newNameTextBox animate-show section" ng-show="!viewModel.useExistingDashboard"> <input type="text" class="pinTileText inputDashboardTitle" ng-trim="false" min="1" maxlength="500" ng-model="viewModel.newDashboardName"/></div><div class="liveReportMessage" ng-if="isLiveReport"><span class="glyphicon pbi-glyph-info glyph-mini"/><span localize="PinLiveReport_RefreshMessage"/></div></div><div class="sectionContainer saveYourReport" ng-model="viewModel.needSaveReport" ng-hide="!viewModel.needSaveReport"><h2 class="title" localize="ReportAppBar_SaveAsDialogTitle"></h2><div class="message" localize="ReportContainer_NeedToSaveReportBeforePin"></div><div class="newNameTextBox animate-show section"> <input type="text" class="pinTileText inputReportTitle" ng-trim="false" min="1" maxlength="500" ng-model="viewModel.newReportName"/></div></div><div class="pinTileButtons"> <button class="cancelpinTile biButton" ng-click="cancel()" localize="PBI_Button_Label_Cancel"></button> <button class="pinTile biButton primary trimmedTextWithEllipsis" ng-click="pin()" ng-show="!viewModel.needSaveReport" ng-disabled="viewModel.isPinned || (!viewModel.useExistingDashboard && (!viewModel.newDashboardName || viewModel.newDashboardName.length===0))" ng-bind="::pinButtonText" ng-attr-title="{{::pinButtonText}}"></button> <button class="saveAndContinueBtn biButton primary" ng-click="saveAndContinue()" ng-show="viewModel.needSaveReport" ng-disabled="(!viewModel.newReportName || viewModel.newReportName.length===0)" localize="ReportContainer_SaveAndContinue"></button></div></div></div>'),
e.put("views/publishContentPackView.html",'<div class="sliderContentView"><div class="publishContentPack"><user-group-header view-model="viewModel.userGroupHeader" feature-switch-not="breadcrumbNavigationEnabled"></user-group-header><article class="page" feature-switch-class="breadcrumbNavigationEnabled"><fieldset ng-disabled="viewModel.isPublishInProgress"><div class="publishContentPackHeader" ng-bind="viewModel.headerText" feature-switch-not="breadcrumbNavigationEnabled"></div><div class="contentPackAccess section"><div class="contentPackAccessChoose" localize="Publish_ChooseContentPackAccess"></div><div class="contentPackAccessChoices"><ul><li><div class="pbi-input"> <input type="radio" ng-model="viewModel.contentPackCreatedFor" name="publish" ng-value="false" ng-change="enableUpdateButton()"/><label class="trimmedTextWithEllipsis" localize="Publish_Group"/></div></li><li ng-class="::{disabled: isPublishContentPackFeatureDisabled}"><div class="pbi-input"> <input type="radio" ng-model="viewModel.contentPackCreatedFor" name="publish" ng-value="true" ng-change="enableUpdateButton()" ng-disabled="::isPublishContentPackFeatureDisabled"/><label class="trimmedTextWithEllipsis" localize="Publish_Organization"/></div><span class="glyphicon pbi-glyph-info glyph-mini" localize-tooltip="Publish_PublishContentPackToOrganizationDisabled"></span></li></ul></div></div> <span class="section" ng-if="viewModel.hasNotification" title="{{::viewModel.publishNotification}}">{{::viewModel.publishNotification}}</span><div class="contentPackGroups animate-show section" ng-show="!viewModel.contentPackCreatedFor"><emails-list view-model="viewModel.emailsList" allow-object-ids allow-security-groups allow-distribution-lists allow-unified-groups></emails-list><div class="groupsValidationError errorSection" ng-if="viewModel.hasGroupsValidationError"><i class="glyphicon glyph-small pbi-glyph-error"></i><span class="message" ng-bind=viewModel.groupsValidationError></span></div></div><div class="contentPackTitle section"><h5 class="header" localize="Publish_Title"></h5><textarea id="inputTitle" ng-trim="false" maxlength="500" ng-model="viewModel.titleText" required ng-change="enableUpdateButton()"/><div class="titleValidationError errorSection" ng-if="viewModel.hasTitleValidationError"><i class="glyphicon glyph-small pbi-glyph-error"></i><span class="message" ng-bind=viewModel.titleValidationError></span></div></div><div class="contentPackDescription section"><h5 class="header" localize="Publish_Description"></h5><textarea id="msg" ng-model="viewModel.descriptionText" ng-trim="false" maxlength="4000" ng-change="enableUpdateButton()"/><div class="descValidationError errorSection" ng-if="viewModel.hasDescriptionValidationError"><i class="glyphicon glyph-small pbi-glyph-error"></i><span class="message" ng-bind=viewModel.descriptionTextValidationError></span></div></div><div class="contentPackImage section"><div class="showDefaultImage" ng-show="imageThumbView==\'\'"><i class="glyphicon glyph-large pbi-glyph-powerbi"></i></div><div style="background-image:url({{imageThumbView}})" ng-show="imageThumbView" class="imageForContentPack" id="contentPackImageId"></div><div class="imageUploadText"><div class="imageLinkOne"><span localize="Publish_UploadImage"></span> <input type="file" class="uploadImg" ng-disabled="viewModel.isPublishInProgress" ng-file-select="onFileSelect($files)" data-multiple="false" onclick="this.value = null" accept=".jpeg,.jpg,.png"/></div><span class="imageLinkTwo" localize="Publish_UploadText"></span><div class="infoMessage" localize="Publish_ImageDimensionText"/><div class="useDefaultImage" ng-show="imageThumbView!==\'\'"><a href="" ng-click="setDefaultImage(true)" class="useDefaultLink"><span localize="Publish_UseDefaultImage"></span></a></div><div class="imageValidationError errorSection" ng-if="viewModel.hasImageValidationError"><i class="glyphicon glyph-small pbi-glyph-error"></i><span class="message" ng-bind=viewModel.imageValidationErrorText></span></div></div></div><div class="contentpackItemsToPublish"><h5 class="contentpackItemsToPublishHeader" localize="Publish_ItemsToPublish"/><div class="dashboardList"><h5 class="listHeader" localize="Publish_Dashboards"></h5><div class="listItems"><ul><li ng-repeat="dashboard in dashboards"> <label><input type="checkbox" ng-model="dashboard.isSelected" ng-disabled="!dashboard.isEnabled || dashboardHasLegacyReport(dashboard) || !canDashboardBeAdded(dashboard.id)" ng-change="toggleDashboard(dashboard)"/><span class="displayNameForContentPackItemstoPublish" ng-class="{disabled: dashboardHasLegacyReport(dashboard)}" ng-bind="dashboard.displayName" title="{{dashboard.displayName}}"/></label><span ng-if="dashboardHasLegacyReport(dashboard)" class="infoIcon glyphicon pbi-glyph-info glyph-mini" localize-tooltip="Dashboard_Report_Upgrade_Required"/><span ng-if="!canDashboardBeAdded(dashboard.id)" class="infoIcon glyphicon pbi-glyph-info glyph-mini" localize-tooltip="Dashboard_Contains_Unowned"/></li><li localize="NavigationPane_NoDashboardText" class="noItemText" ng-if="dashboards.length === 0"></li></ul></div></div><div class="reportList"><h5 class="listHeader" localize="Publish_Reports"></h5><div class="listItems"><ul><li ng-repeat-start="reportResource in filteredReportResources = (filteredReportResources | filter: { displayName: searchFilter } | orderBy:\'displayName\') track by reportResource.uniqueId" ng-if="reportResource.resourceType == 0"> <label><span class="glyphicon pbi-glyph-blank-mini glyph-mini"/><input type="checkbox" ng-model="reportResource.isSelected" ng-disabled="!reportResource.isEnabled || isLegacyReport(reportResource)" ng-change="toggleReport($index)"/> <span class="displayNameForContentPackItemstoPublish" ng-class="{disabled: !reportResource.isEnabled || isLegacyReport(reportResource)}" title="{{reportResource.displayName}}">{{reportResource.displayName}}</span></label><span ng-if="isLegacyReport(reportResource)" class="infoIcon glyphicon pbi-glyph-info glyph-mini" localize-tooltip="Report_Upgrade_Required"/></li><li ng-repeat-end ng-if="reportResource.resourceType == 1"> <label><span class="glyphicon pbi-glyph-excel glyph-mini"/><input type="checkbox" ng-model="reportResource.isSelected" ng-disabled="!reportResource.isEnabled" ng-change="toggleWorkbook($index)"/> <span class="displayNameForContentPackItemstoPublish" ng-class="{disabled: !reportResource.isEnabled}" title="{{reportResource.displayName}}">{{reportResource.displayName}}</span></label></li><li localize="NavigationPane_NoReportText" class="noItemText" ng-if="filteredReportResources.length === 0"></li></ul></div></div><div class="modelList"><h5 class="listHeader" localize="Publish_Datasets"></h5><div class="listItems"><ul><li ng-repeat="model in models"> <label><input type="checkbox" ng-model="model.isSelected" ng-disabled="!model.isEnabled" ng-change="enableUpdateButton()"/><span class="displayNameForContentPackItemstoPublish" ng-class="{disabled: !model.isEnabled}" ng-bind="model.displayName" title="{{model.displayName}}"/></label></li><li localize="NavigationPane_NoDatasetText" class="noItemText" ng-if="models.length === 0"></li></ul></div></div></div><div class="itemsNotSelectedError errorSection" ng-if="viewModel.hasNoItemsSelected"><i class="glyphicon glyph-small pbi-glyph-error"></i><span class="message" ng-bind=viewModel.itemsNotSelectedError></span></div><div class="publishDataNotification"><span localize="Publish_DataAccessNotification"></span><a href="https://go.microsoft.com/fwlink/?LinkID=616059" target="_blank"><span localize="LearnMore"></span></a></div><div ng-if="showTemplateUI" class="templateUI trimmedTextWithEllipsis"> <label ng-class="{disabled: !isTemplatingAllowed()}" title="{{getLocalizedTemplatizeModelToolTip()}}"><input type="checkbox" ng-model="viewModel.isTemplate" ng-disabled="!isTemplatingAllowed() || viewModel.providerKey"/><span localize="PublishContentPack_TemplatizeModel" class="templatizeModelDescription"/><a href="https://go.microsoft.com/fwlink/?LinkId=820986" target="_blank"><span localize="LearnMore"/></a></label></div><div class="templateValidationError errorSection" ng-if="viewModel.hasTemplatePublishError"><i class="glyphicon glyph-small pbi-glyph-error"></i><span class="message" ng-bind="viewModel.templatePublishErrorText" ng-attr-title="viewModel.templatePublishErrorText"></span><a class="learnMoreErrorLink" href="https://go.microsoft.com/fwlink/?LinkId=820986" target="_blank"><span localize="LearnMore"/></a></div><div class="publishDataNotification publishDataNotificationWarning" ng-if="isRemoteWorkbookSelected"><span localize="Publish_ExcelWorkbookNeedPermissionsMessage"></span><a href={{workbooksWebUri}} target="_blank" class="goToOneDriveMessageInfo" ng-switch="getWorkookPermissionsMessageType()"><span localize="Sharing_GoToWorkBookNotificationLink" ng-switch-when="0"></span><span localize="Sharing_GoToGroupSharedDocumentNotificationLink" ng-switch-when="2"></span></a></div><div class="messageInfo"><div class="publishActionButtons"> <button class="cancel biButton" ng-click="cancelPublishContentPack()" ng-disabled="viewModel.isPublishCancelled " localize="Publish_ContentPackCancelButton"></button> <button class="publish biButton primary" ng-click="publishContentPack()" ng-disabled="viewModel.isPublishInProgress || viewModel.isUpdateScenario || (dashboards.length===0 && reports.length===0 && models.length===0 && workbooks.length===0 ) || !isPublishAllowed()" ng-bind="viewModel.publishButtonText"></button><span class="messageInfoErrorSection" ng-if="viewModel.isPublishOrUpdateError" ng-bind="viewModel.publishOrUpdateError"/><spinner class="publishActionSpinner" ng-if="viewModel.isPublishInProgress"></spinner></div></div></fieldset></article></div></div>'),e.put("views/qna/qnaContainer.html",'<div class="dashboardContainerView isNavigationPaneEnabled qnaMode" ng-class="{isMainContentDisabled: collapsiblePaneMode !== 0,                isSelectedTileHighlighted: collapsiblePaneMode === 1}" ng-switch="modelsSupportQna"><div class="mainContent" ng-switch-when="true"><div class="header" ng-cloak><div class="qnaAppBar appBar"><div class="appBarSection left"><ul><li> <button class="backBtn" ng-click="navigation.navigateBack()"><i class="glyphicon pbi-glyph-arrowleft glyph-small"></i><span class="activeDashboardLabel appBarTitle displayOnSmallScreen" localize="QnA_ExitQnA"></span></button></li></ul></div><div class="appBarSection right" ng-if="newQnaEnabled"><ul><li class="pinBtn" ng-if="pinIconState.visible && !!pinIconState.enabled" ng-switch=""> <button id="pinVisualBtn" class="in_navigationBtn infoNavActionItem" localize-tooltip="PinVisual_ToolTip" ng-click="pinQnAVisual($event)"><i class="glyphicon pbi-glyph-pinned pinButton glyph-small"></i><span class="appBarMenuItem" localize="PinVisual_ToolTip"></span></button></li></ul></div></div><div class="dashboardControlsWrapper" ng-if="!newQnaEnabled" ng-cloak><div class="legacyQnaWrapper"><div class="qnaQuestionBoxWrapper"><question-box-container get-additional-o-data-filter="getAdditionalODataFilter" interpret-listener="infoNavContainerInterpretListener" output="questionBoxOutput" usage-reporting-enabled="allowQnaDataCollection" models="viewModel.models"></question-box-container><span ng-if="modelSupportsQna" class="qnaStart smallFontSize"><a ng-click="showQnaStart()" localize="QnaStart_EntryLink"></a></span></div><section class="infoNavActions"><span ng-if="pinIconState.visible" ng-switch="!!pinIconState.enabled"><span id="pinVisualBtn" class="in_navigationBtn infoNavActionItem" localize-tooltip="PinVisual_ToolTip" ng-click="pinQnAVisual($event)" ng-switch-when="true"><i class="glyphicon pbi-glyph-pinned pinButton"></i></span><span id="pinVisualBtn" class="in_navigationBtn infoNavActionItem infoNavActionItemDisabled" localize-tooltip="PinVisual_DisabledForReportPagesToolTip" ng-switch-when="false"><i class="glyphicon pbi-glyph-pinned pinButton"></i></span></span><span id="userFeedbackBtn" class="in_navigationBtn infoNavActionItem" ng-if="questionBoxOutput.showQnaFeedback" localize-tooltip="UtteranceFeedbackTooltip" ng-click="questionBoxOutput.showUserFeedbackDialog()"><i class="glyphicon pbi-glyph-flag"></i></span></section></div></div></div><div class="dashboardSliderMain"><div class="infoNavVisualizationModeView"><info-nav-container host-service="infoNavHostService" question-box-output="questionBoxOutput" interpret-listener="infoNavContainerInterpretListener" usage-reporting-enabled="allowQnaDataCollection" models="viewModel.models" get-additional-o-data-filter="getAdditionalODataFilter"></info-nav-container></div></div></div><div class="waterMarkMsg unselectable" ng-switch-when="false"><i class="glyphicon pbi-glyph-warning glyph-med warningIcon"></i><p>{{::unsupportedModelMessage}}</p></div></div>'),e.put("views/qrCodeDialog.html",'<div class="qrCodeDialog"><div class="qrCodePreview section"><div class="tileHeader"><div class="heading title"><div class="displayText" ng-bind="viewModel.displayText"></div></div><div class="heading subTitle"><div class="subDisplayText" ng-bind="viewModel.subDisplayText"></div></div></div> <img class="qrCode" ng-src="{{qrCodeImageDataUrl}}"/></div><div class="qrCodeInstructions"><h2 class="title" localize="QRCodeDialog_Title"></h2><div class="message" ng-bind="viewModel.dialogMessage"></div><div class="notification"><i class="glyphicon pbi-glyph-info glyph-small"></i><div class="notificationBody" ng-bind="viewModel.notificationMessage"></div><div class="qrCodeButtons"> <button class="done biButton" ng-click="hideDialog()" localize="QRCodeDialog_Done"></button><a class="downloadButton btn primary" ng-disabled="!qrCodeCanvas" localize="QRCodeDialog_Download" ng-href="{{qrCodeImageDataUrl}}" ng-click="tryIEDownloadQRCodeImage()" download="{{qrCodeImageFileName}}"></a></div></div></div></div>'),e.put("views/qrCodeProgressDialog.html",'<div class="qrLoading" ng-click="$event.stopPropagation()"><div class="content"><div class="information"><div class="title" localize="QRCodeProgressDialog_Title"/><spinner class="large"></spinner></div> <button class="primary" ng-click="hideDialog()" localize="GetData_Cancel"></button></div></div>'),e.put("views/requestDashboardAccess.html",'<div class="requestDashboardAccess unselectable"><i class="glyphicon pbi-glyph-error glyph-large"></i><div class="contentArea"><div><h2>{{::viewModel.splashMessage}}</h2></div> <button ng-show="!viewModel.isRequestActive" class="primary actionButton" ng-disabled="viewModel.isRequestActive" ng-click="requestAccess()" localize="RequestDashboardAccess_RequestAccessButton"></button><div class="spinner" ng-show="viewModel.isRequestActive"><spinner></spinner></div></div></div>'),e.put("views/requestDashboardAccessModal.html",'<div class="requestDashboardAccessModal unselectable"><div><div> <span>{{::viewModel.requestAccessDescription}}</span></div><div><textarea maxlength="1000" ng-model="viewModel.message" ng-attr-placeholder="{{viewModel.placeholderText}}"></textarea></div></div></div>'),e.put("views/settings/manageDatasets.html",'<div class="mainContent"><div class="header" ng-cloak><div class="dashboardAppBar appBar" ng-if="$ctrl.inDatasetsView()"><div class="appBarSection left"><ul feature-switch-not="breadcrumbNavigationEnabled"><li class="label workspaceLabel"> <button class="appBarTitle" title="{{$ctrl.activeGroupName}}" ng-click="$ctrl.navigateToContentList()" ng-disabled="!$ctrl.listViewEnabled" ng-bind="$ctrl.activeGroupName"></button></li><li class="label breadcrumbLabel"><i class="glyphicon pbi-glyph-arrowright glyph-small"></i></li><li class="label datasetsLabel"><span class="appBarTitle" ng-if="$ctrl.activeTab === 1" localize="NavigationPane_ManageDatasets"></span><span class="appBarTitle" ng-if="$ctrl.activeTab === 2" localize="NavigationPane_StreamingData"></span></li></ul></div><div class="appBarSection right"><ul><li class="label right" ng-if="$ctrl.activeTab === 1"> <button ng-click="$ctrl.navigateToGetData()" localize-tooltip="ManageDatasets_AddDataset"><i class="glyphicon pbi-glyph-add glyph-small icon"></i><span class="appBarMenuItem" localize="ManageDatasets_AddDataset"></span></button></li><li class="label right" ng-if="$ctrl.activeTab === 2"> <button ng-click="$ctrl.showStreamingDatasetGalleryPane()" localize-tooltip="ManageDatasets_AddStreamingDataset"><i class="glyphicon pbi-glyph-add glyph-small icon"></i><span class="appBarMenuItem" localize="ManageDatasets_AddStreamingDataset"></span></button></li></ul></div></div></div><div class="dashboardSliderMain"><div class="manageDatasetsPane flexbox"><section class="manageDatasetsOptionsList item-auto"><div class="optionTab label-med" ng-class="{selected: $ctrl.activeTab === 1}" ng-click="$ctrl.setActiveTab(1)" ng-if="$ctrl.listViewEnabled" localize="NavigationPane_ManageDatasets"></div><div class="optionTab label-med" ng-class="{selected: $ctrl.activeTab === 2}" ng-click="$ctrl.setActiveTab(2)" localize="NavigationPane_StreamingData"></div></section><section><div class="search"> <input placeholder="{{$ctrl.placeholderText}}" ng-model="$ctrl.searchFilter" ng-model-options="{ debounce: 300 }" fast-keydown="$ctrl.resetSearchOnEsc($event)" autofocus/></div></section><section class="contentContainer item-fill"><section ng-if="$ctrl.activeTab === 1"><section class="headerSection"><table><thead class="fixed-header"><tr><th class="datasetNameCell"> <button ng-click="order(\'displayName\')"> <span localize="ManageDatasets_Name"/>&nbsp;<span ng-if="predicate === \'displayName\'"><i class="glyphicon pbi-glyph-chevrondownmedium glyph-small" ng-show="reverse"></i><i class="glyphicon pbi-glyph-chevronupmedium glyph-small" ng-hide="reverse"></i></span></button></th><th class="lastRefreshCell"> <button ng-click="order(\'lastRefreshTime\')"> <span localize="ManageDatasets_LastRefresh"/>&nbsp;<span ng-if="predicate === \'lastRefreshTime\'"><i class="glyphicon pbi-glyph-chevrondownmedium glyph-small" ng-show="reverse"></i><i class="glyphicon pbi-glyph-chevronupmedium glyph-small" ng-hide="reverse"></i></span></button></th><th class="nextRefreshCell"> <button ng-click="order(\'nextRefreshTime\')"> <span localize="ManageDatasets_NextRefresh"/>&nbsp;<span ng-if="predicate === \'nextRefreshTime\'"><i class="glyphicon pbi-glyph-chevrondownmedium glyph-small" ng-show="reverse"></i><i class="glyphicon pbi-glyph-chevronupmedium glyph-small" ng-hide="reverse"></i></span></button></th><th class="optionsCell"></th></tr></thead></table></section><section class="bodySection"><table class="friend"><tbody><tr class="datasetRow" ng-repeat-start="model in filteredModels= (modelService.sanitizedCopyAndEditModels | then:$ctrl.mapDateObjects | filter: {displayName: $ctrl.searchFilter, isHidden: \'!true\'}) | orderBy:predicate:reverse" ng-click="$ctrl.toggleRowState($index)"><td class="datacell datasetNameCell" ng-class="{\'thinBorder\': $ctrl.activePosition === $index, \'publishing\': $ctrl.isPackagePublishInProgress(model.contract.packagePublishStatus)}"><span class="datasetDisplayName trimmedTextWithEllipsis" ng-bind="model.displayName" ng-attr-title="{{model.displayName}}"></span><dataset-icon-container view-model="model" refresh-related="false"/></td><td class="datacell lastRefreshCell" ng-class="{\'thinBorder\': $ctrl.activePosition === $index, \'publishing\': $ctrl.isPackagePublishInProgress(model.contract.packagePublishStatus)}"><dataset-icon-container class="refreshDatasetContainer" view-model="model" refresh-related="true"/> <span class="lastRefreshTime">{{$ctrl.convertRefreshTimeToJsDateTime(model.contract.lastRefreshTime) | date:\'h:mm a MM.dd.yyyy\'}}</span></td><td class="datacell nextRefreshCell" ng-class="{\'thinBorder\': $ctrl.activePosition === $index, \'publishing\': $ctrl.isPackagePublishInProgress(model.contract.packagePublishStatus)}"> {{$ctrl.convertRefreshTimeToJsDateTime(model.contract.nextRefreshTime) | date:\'h:mm a MM.dd.yyyy\'}}</td><td class="datacell optionsCell" ng-class="{\'thinBorder\': $ctrl.activePosition === $index, \'publishing\': $ctrl.isPackagePublishInProgress(model.contract.packagePublishStatus)}"> <button ng-click="$ctrl.showOptions(model, $index); $event.stopPropagation();" dropdown-overlay-invoke="datasetMenu" prefer-left="true" need-blur="true" disable-animation="true"><i class="glyphicon moreIcon pbi-glyph-more"></i></button></td></tr><tr ng-repeat-end ng-if="$ctrl.activePosition === $index"><td class="metadatacell" colspan="3"><metadata-container view-model="model"/></td><td class="metadatacell" ng-click="$ctrl.toggleRowState($index)"><i class="glyphicon pbi-glyph-chevronupmedium glyph-small"/></td></tr></tbody></table></section></section><section ng-if="$ctrl.activeTab === 2"><section class="headerSection"><table><thead class="fixed-header"><tr><th class="datasetNameCell"> <button ng-click="order(\'displayName\')"> <span localize="ManageDatasets_Name"/>&nbsp;<span ng-if="predicate === \'displayName\'"><i class="glyphicon pbi-glyph-chevrondownmedium glyph-small" ng-show="reverse"></i><i class="glyphicon pbi-glyph-chevronupmedium glyph-small" ng-hide="reverse"></i></span></button></th><th class="datasetTypeCell"> <button><span localize="StreamingDatasetModel_Type"></span></button></th><th class="associatedDashboardsCell"> <button><span localize="StreamingDatasetModel_UsedInDashboards"></span></button></th><th class="historicalCell"> <button><span localize="StreamingDatasetModel_Historical"></span></button></th><th class="realTimeActionsCell"> <button><span localize="StreamingDatasetModel_Actions"></span></button></th></tr></thead></table></section><section class="bodySection"><table class="friend" ng-if="modelService.streamingModels.length> 0"><tbody><tr ng-repeat="model in filteredModels= (modelService.streamingModels | filter: {displayName: $ctrl.searchFilter}) | orderBy:predicate:reverse"><td class="datacell datasetNameCell"><span class="datasetDisplayName trimmedTextWithEllipsis" ng-bind="model.displayName" ng-attr-title="{{model.displayName}}"></span><dataset-icon-container view-model="model" refresh-related="false"/></td><td class="datacell datasetTypeCell trimmedTextWithEllipsis" ng-bind="::$ctrl.getModelType(model)" ng-attr-title="::$ctrl.getModelType(model)"></td><td class="datacell associatedDashboardsCell trimmedTextWithEllipsis" ng-bind="::$ctrl.getDashboardsForModel(model)" ng-attr-title="{{::$ctrl.getDashboardsForModel(model)}}"></td><td class="datacell historicalCell trimmedTextWithEllipsis" ng-switch="model.realTimeMode"><span ng-switch-when="1" localize="Disabled"></span><span ng-switch-when="2" localize="Enabled"></span></td><td class="datacell realTimeActionsCell"><div class="actionContents"><i class="glyphicon glyph-small actionIcon {{::action.iconClass}}" ng-repeat="action in $ctrl.getStreamingDatasetActions(model) track by action.action" ng-click="$ctrl.streamingDatasetActionSelected(model, $parent.$index, action)" ng-attr-title="{{::action.text}}"></i></div></td></tr></tbody></table><div class="noDatasets" ng-if="modelService.streamingModels.length === 0"><i class="glyphicon glyph-large pbi-glyph-info"></i><h3 localize="StreamingDatasetModel_NoStreamingDatasets"></h3><span localize="StreamingDatasetModel_NoStreamingDatasetsInfo" localize-fragments><a fragment-index="0" href="https://go.microsoft.com/fwlink/?linkid=822071" target="_blank" localize="LearnMore"></a></span></div></section></section></section><dropdown-overlay dropdown-overlay-name="datasetMenu"><ul class="angular-dropdown active datasetActionList"><li ng-repeat="item in $ctrl.datasetMenuActions" class="dropdown-item" ng-mousedown="$ctrl.datasetMenuActionSelected(item); $event.stopPropagation();"><a href="" target="_blank"><div class="dropdown-content"><div class="dropdown-label" ng-bind="::item.text"></div></div></a></li></ul></dropdown-overlay></div></div></div>'),e.put("views/settings/refreshStatusView.html",'<div class="topMarginTextContainer" ng-switch="lastRefreshFailed"><div class="lastRefreshResult" ng-switch-when="false"><span ng-bind="lastRefreshStatus"/></div><div class="lastRefreshFailed" ng-switch-when="true"><inline-name-value-pairs name-value-pairs="lastRefreshHistoryDetails" show-title="true" detail-expand="false" class="expandableBlockWarning"><span ng-bind="lastRefreshStatus"/><br/><span ng-bind="lastRefreshFailureMessage"/></inline-name-value-pairs></div><div><span ng-bind="nextRefreshTime" ng-show="viewModel.refreshSettings && viewModel.refreshSettings.refreshEnabled"/></div></div>'),e.put("views/settings/refreshWelcomeView.html",'<div class="topMarginTextContainer"><div class="sectionPoints"><div ng-if="!enterpriseGatewayETLEnabled"><div localize="SettingsDataset_Welcome_Before_Configuration"></div><ol class="gatewayInstructionList"><li><div class="installGateway" ng-switch="isPersonalGatewayRunning"><div ng-switch-when="false"><div class="gatewayInstallInfo"><i class="arrowRight glyphicon pbi-glyph-rightarrow glyph-mini"></i><span localize="SettingsDataset_Install_OnPrem_Gateway" localize-fragments><a fragment-index="0" localize="SettingsDataset_OnPrem_Gateway_InstallNow" target="_blank" href={{::onPremGatewayDownloadLink}}></a><a fragment-index="1" localize="LearnMore" target="_blank" href="https://go.microsoft.com/fwlink/?LinkID=534232"></a></span></div><div class="gatewayInstallInfoSubtitle"><i class="infoCircle glyphicon pbi-glyph-info glyph-small"></i><div class="gatewayDownloadInfoContainer"><span localize="SettingsDataset_OnPrem_Gateway_InstallPage"></span><a ng-bind=::onPremGatewayDownloadLink target="_blank" href={{::onPremGatewayDownloadLink}}></a></div></div></div><div ng-switch-when="true"><i class="check glyphicon pbi-glyph-checkmark glyph-small"></i> <span localize="SettingsDataset_Install_OnPrem_Gateway_Succeed" localize-fragments><span fragment-index="0">{{personalGateway.gatewayAnnotation.machineName}}</span><a fragment-index="1" localize="LearnMore" target="_blank" href="https://go.microsoft.com/fwlink/?LinkId=627094"></a></span></div></div></li><li><div class="provideCredential"><div ng-switch="isPersonalGatewayRunning"><span ng-switch-when="false" localize="SettingsDataset_Provide_Credential"></span><div ng-switch-when="true" ng-switch="viewModel.datasources && viewModel.hasDatasourceWithWrongCredentials"><div ng-switch-when="true"><i class="arrowRight glyphicon pbi-glyph-rightarrow glyph-mini"></i><span localize="SettingsDataset_Provide_Credential"></span></div><div ng-switch-when="false"><i class="check glyphicon pbi-glyph-checkmark glyph-small"></i><span localize="SettingsDataset_Provide_Credential_Valid"></span></div></div></div></div></li><li><div class="SetSchedule" ng-switch="refreshScheduleComplete"><div ng-switch-when="false"><i class="arrowRight glyphicon pbi-glyph-rightarrow glyph-mini" ng-show="isPersonalGatewayRunning && viewModel.datasources &&!viewModel.hasDatasourceWithWrongCredentials"></i><span localize="SettingsDataset_SetScheduleRefresh"></span></div><div ng-switch-when="true"><i class="check glyphicon pbi-glyph-checkmark glyph-small"></i><span localize="SettingsDataset_SetScheduleRefresh_Done"></span></div></div></li></ol></div><div ng-if="enterpriseGatewayETLEnabled && selectGatewayModel.enterpriseGateways.length < 1"><div localize="SettingsDataset_Welcome_Before_Configuration"></div><ol class="gatewayInstructionList"><li><div class="installGateway" ng-switch="isPersonalGatewayRunning"><div ng-switch-when="false"><div class="gatewayInstallInfo"><i class="arrowRight glyphicon pbi-glyph-rightarrow glyph-mini"></i><span localize="SettingsDataset_Install_OnPrem_Gateway" localize-fragments><a fragment-index="0" localize="SettingsDataset_OnPrem_Gateway_InstallNow" target="_blank" href="//go.microsoft.com/fwlink/?LinkID=534231"></a><a fragment-index="1" localize="LearnMore" target="_blank" href="//go.microsoft.com/fwlink/?LinkId=627094"></a></span></div><div class="gatewayInstallInfoSubtitle"><i class="infoCircle glyphicon pbi-glyph-info glyph-small"></i><div class="gatewayDownloadInfoContainer"><span localize="SettingsDataset_OnPrem_Gateway_InstallPage"></span> <a target="_blank" href="//go.microsoft.com/fwlink/?LinkID=534231">//go.microsoft.com/fwlink/?LinkID=534231</a></div></div></div><div ng-switch-when="true"><i class="check glyphicon pbi-glyph-checkmark glyph-small"></i> <span localize="SettingsDataset_Install_OnPrem_Gateway_Succeed" localize-fragments><span fragment-index="0">{{personalGateway.gatewayAnnotation.machineName}}</span><a fragment-index="1" localize="LearnMore" target="_blank" href="https://go.microsoft.com/fwlink/?LinkId=627094"></a></span></div></div></li><li><div class="provideCredential"><div ng-switch="isPersonalGatewayRunning"><span ng-switch-when="false" localize="SettingsDataset_Provide_Credential"></span><div ng-switch-when="true" ng-switch="viewModel.datasources && viewModel.hasDatasourceWithWrongCredentials"><div ng-switch-when="true"><i class="arrowRight glyphicon pbi-glyph-rightarrow glyph-mini"></i><span localize="SettingsDataset_Provide_Credential"></span></div><div ng-switch-when="false"><i class="check glyphicon pbi-glyph-checkmark glyph-small"></i><span localize="SettingsDataset_Provide_Credential_Valid"></span></div></div></div></div></li><li><div class="SetSchedule" ng-switch="refreshScheduleComplete"><div ng-switch-when="false"><i class="arrowRight glyphicon pbi-glyph-rightarrow glyph-mini" ng-show="isPersonalGatewayRunning && viewModel.datasources &&!viewModel.hasDatasourceWithWrongCredentials"></i><span localize="SettingsDataset_SetScheduleRefresh"></span></div><div ng-switch-when="true"><i class="check glyphicon pbi-glyph-checkmark glyph-small"></i><span localize="SettingsDataset_SetScheduleRefresh_Done"></span></div></div></li></ol><span localize="SettingsDataset_AboutEnterpriseGateway" localize-fragments><a fragment-index="0" localize="LearnMore" target="_blank" href="//go.microsoft.com/fwlink/?LinkId=627094"></a></span></div></div></div>'),e.put("views/settings/settingsCloseAccountView.html",'<div class="dashboardSettings" ng-cloak><div class="deleteAccountSettings"><h1 class="dashboardSettingsTitle" localize="Settings_CloseAccount"></h1><div ng-if="::canCloseAccount"><div class="description" localize="Settings_CloseAccount_Description"></div><div class="inputTitle" localize="Settings_CloseAccount_WhyAreYouClosingYourAccount"></div> <select ng-model="reason"><option localize="Settings_CloseAccount_Reason_PlaceHolder" value="" disabled selected></option><option localize="Settings_CloseAccount_Reason_HardToUse" value="Settings_CloseAccount_Reason_HardToUse"></option><option localize="Settings_CloseAccount_Reason_TooManyErrors" value="Settings_CloseAccount_Reason_TooManyErrors"></option><option localize="Settings_CloseAccount_Reason_MissingFeatures" value="Settings_CloseAccount_Reason_MissingFeatures"></option><option localize="Settings_CloseAccount_Reason_NotValuableEnoughToMe" value="Settings_CloseAccount_Reason_NotValuableEnoughToMe"></option><option localize="Settings_CloseAccount_Reason_DidntNeedToUseIt" value="Settings_CloseAccount_Reason_DidntNeedToUseIt"></option><option localize="Settings_CloseAccount_Reason_ForgotAboutIt" value="Settings_CloseAccount_Reason_ForgotAboutIt"></option><option localize="Settings_CloseAccount_Reason_HaventHadTimeToUseIt" value="Settings_CloseAccount_Reason_HaventHadTimeToUseIt"></option><option localize="Settings_CloseAccount_Reason_DecidedToUseOtherSoftware" value="Settings_CloseAccount_Reason_DecidedToUseOtherSoftware"></option></select><div class="inputTitle" localize="Settings_CloseAccount_AnythingElseYouWantToTellUs"></div><textarea ng-model="userComment" rows="3"></textarea></div><div class="warning inlineWarning" ng-if="::!canCloseAccount"><div class="message"><span class="glyphicon glyph-small pbi-glyph-info"></span><span localize="Settings_CloseAccount_ContactYourAdmin"></span></div></div> <button class="closeAccountBtn primary" ng-disabled="::!canCloseAccount" ng-click="promptCloseAccount()" localize="Settings_CloseAccount"></button></div></div>'),
e.put("views/settings/settingsDashboardsView.html",'<div class="settingsDatasets"><div class="settingsDatasetsLeftColumn" ng-if="viewModel && viewModel.dashboards && viewModel.dashboards.length !== 0"><div class="datasetsList"><ul><li ng-repeat="dashboard in viewModel.dashboards | orderBy: \'name\' track by dashboard.dashboardId" ng-click="onDashboardSelected(dashboard.objectId)" ng-class="{selected: viewModel.currentDashboardId === dashboard.objectId}"><span ng-bind="::dashboard.name"/></li></ul></div></div><div class="settingsDatasetsRightColumn" ng-if="viewModel && viewModel.dashboards && viewModel.dashboards.length !== 0"><div ng-repeat="dashboard in viewModel.dashboards track by dashboard.objectId"><settings-dashboard view-model="dashboard" ng-if="viewModel.currentDashboardId === dashboard.objectId"/></div></div></div>'),e.put("views/settings/settingsDashboardView.html",'<form name="dashboardSettingsForm" class="dashboardSettings" ng-cloak><div class="dashboardSettingsTitle">{{::sectionTitle}}</div><div class="dashboardSettingsSection"><div class="dashboardSettingsSectionTitle" localize="SettingsDashboard_QnA_Title"/><div class="dashboardSettingsInfo"><span localize="SettingsDashboard_QnA_Information" localize-fragments><a fragment-index="0" href="https://go.microsoft.com/fwlink/?LinkId=808174" target="_blank" localize="LearnMore"/></span></div><div class="dashboardSettingsCheckbox"> <label><input name="qnaEnabled" ng-model="qnaEnabled" type="checkbox"/><span class="dashboardSettingsQnaEnabledSpan" localize="SettingsDashboard_QnA_QnaEnabledMessage"/></label></div><div class="warning" ng-show="qnaEnabled && !viewModel.hasQnaSupportedModel"><i class="glyphicon pbi-glyph-warning glyph-small"/><span localize="SettingsDashboard_QnA_QnaUnavailableWarning"/></div></div><div class="dashboardSettingsSection"><div class="dashboardSettingsSectionTitle" localize="SettingsDashboard_Gravity_Title"/><div class="dashboardSettingsInfo"><span localize="SettingsDashboard_Gravity_Info"/></div><div class="dashboardSettingsCheckbox"> <label><input name="gravityEnabled" ng-model="gravityEnabled" type="checkbox"/><span class="dashboardSettingsGravityEnabledSpan" localize="SettingsDashboard_Gravity_GravityEnabledMessage"/></label></div><div class="warning" ng-show="gravityEnabled"><i class="glyphicon pbi-glyph-warning glyph-small"></i><div localize="SettingsDashboard_Gravity_GravityNoticeMessage"></div></div></div><div class="dashboardSettingsSection" ng-hide="!dataClassifications || dataClassifications.length==0"><div class="dashboardSettingsSectionTitle" localize="SettingsDashboard_DataClassification_Title"/><div> <select ng-options="option.id as option.name for option in dataClassifications" ng-model="dataClassificationId" ng-change="onDataClassificationIdChanged()"></select><div class="warning" ng-show="isNonDefaultDataClassificationSelected"><i class="glyphicon pbi-glyph-warning glyph-small"></i><div><span localize="SettingsDashboard_DataClassification_NoDefaultChoosed"></span><span class="defaultDataClassificationOption">{{defaultDataClassification.name}}</span></div></div></div></div><div class="dashboardSettingsSection"> <button id="dashboardSettingsApply" class="biButton primary" localize="SettingsDataset_ApplyButtonText" ng-disabled="!dashboardSettingsForm.$dirty" ng-click="applyChanges()"/> <button class="biButton" localize="SettingsDataset_DiscardButtonText" ng-disabled="!dashboardSettingsForm.$dirty" ng-click="discardChanges()"/></div></form>'),e.put("views/settings/settingsDatasetFeaturedQuestionsView.html",'<div><div class="featuredQuestionsSection" ng-if="modelSupportsQna"><div class="sectionHeader" ng-click="sectionExpanded = !sectionExpanded"><i class="glyphicon" ng-class="{true:\'refreshSectionExpander pbi-glyph-caretdownright\', false:\'refreshSectionExpander pbi-glyph-caretright\'}[sectionExpanded]"></i><span class="refreshSectionTitle" localize="SettingsDataset_FeaturedQuestions_Title"></span></div><div class="expandableInnerContainer" ng-if="sectionExpanded"><div class="prompt" localize="SettingsDataset_FeaturedQuestions_Prompt"></div><div class="question" ng-repeat="q in questions"> <input class="mediumFontSize" type="text" ng-model="q.utterance" ng-class="{hasError: q.utterance.length === 0}" ng-change="onChange(q)" maxlength="{{maxUtteranceLength}}" aria-label="{{inputAriaLabel}}"/><a class="deleteQuestion" ng-click="deleteQuestion($index)" localize-tooltip="SettingsDataset_FeaturedQuestions_DeleteQuestion"><i class="glyphicon pbi-glyph-close glyph-mini"></i></a><div class="emptyQuestion smallFontSize" ng-if="!q.isValid"><i class="glyphicon pbi-glyph-error glyph-small"></i> <span>{{q.validationMessage}}</span></div></div><div ng-if="questions.length < maxQuestions"><a href="" class="addQuestion" ng-click="addQuestion()" localize="SettingsDataset_FeaturedQuestions_AddAnotherQuestion"></a></div><div class="buttonsContainer"> <button class="primary" localize="SettingsDataset_ApplyButtonText" ng-click="applyChanges()" ng-disabled="!isDirty || !isValid"></button> <button localize="SettingsDataset_DiscardButtonText" ng-click="discardChanges()" ng-disabled="!isDirty"></button></div></div></div></div>'),e.put("views/settings/settingsDatasetsView.html",'<div class="settingsDatasets"><div class="settingsDatasetsLeftColumn" ng-if="filteredModels && filteredModels.length !== 0"><div class="datasetsList" ng-if="filteredModels"><ul><li ng-repeat="model in filteredModels | orderBy: \'displayName\' track by model.id" ng-click="onDatasetSelected(model.dbName)" ng-class="{selected: viewModel.currentDatasetId === model.id}"><span ng-bind="::model.displayName"/></li></ul></div></div><div class="settingsDatasetsRightColumn" ng-if="viewModel && viewModel.datasets"><div ng-repeat="dataset in viewModel.datasets"><settings-dataset view-model="dataset" ng-if="viewModel.currentDatasetId === dataset.modelId" storage-refresh-supported="storageRefreshSupported"></settings-dataset></div></div></div>'),e.put("views/settings/settingsDatasetView.html",'<div class="dataset" ng-cloak ng-switch="datasetPageReady"><div class="settingsDatasetsTitle"><span localize="SettingsDataset_Title"/><span ng-bind="viewModel.name"/></div><spinner ng-switch-when="false"></spinner><div class="settingsContainer" ng-switch-when="true"><inline-message ng-if="showHeaderMessage" display-icon="displayIcon" use-error-icon="storageSourceFileNotFound" use-error-background="storageSourceFileNotFound" class="warning"> {{headerMessage}} <a ng-show="showInstallPGWLink" target="_blank" href="//go.microsoft.com/fwlink/?LinkID=534231">{{headerLink}}</a> {{headerGatewayWarning}}<span ng-show="disabledEntireRefreshPageShowLearnMoreLink" localize="DataSourceSupport_LearnMoreMessage" localize-fragments><a fragment-index="0" localize="LearnMore" target="_blank" href="http://support.powerbi.com/knowledgebase/articles/474669-refresh-data"/></span><a ng-if="headerLearnMoreLink" localize="LearnMore" target="_blank" href={{headerLearnMoreLink}}/></inline-message><div class="tryProAccountButton" ng-if="isFreemiumUser && (isOnPremGatewayRequired || isCloudDirectQuery)"> <button class="biButton primary" ng-bind="tryProAccountButtonText" ng-show="isFreemiumUser && (isOnPremGatewayRequired || isCloudDirectQuery)" ng-click="tryProAccount()"></button></div><div ng-if="!disableEntireRefreshPage"><div class="takeoverContainer" ng-if="shouldTakeoverContainerShow()"><spinner ng-if="!isTakeoverStatusReady"></spinner><div ng-if="isTakeoverStatusReady" ng-bind-html="getTrustedHtml(viewModel.takeoverStatusText)"></div><div ng-if="!viewModel.takenOver && isTakeoverStatusReady" class="buttonsContainer"> <button class="primary" ng-click="showTakeoverDialog()" ng-bind="viewModel.takeoverButtonText"></button></div></div><div class="gatewayStatus" ng-if="gatewayStatusMessage" ng-bind="gatewayStatusMessage"></div><div class="expandableRefreshSections"><div ng-switch="firstTimeExperience && viewModel.takenOver" ng-if="!disableRefreshSection"><refresh-welcome ng-switch-when="true"></refresh-welcome><refresh-status ng-switch-when="false"><refresh-status></div><div><a href="" class="refreshHistory" localize="SettingsDataset_RefreshHistoryText" ng-click="showHistoryDialog()"></a></div><div ng-include="\'views/settings/settingsGateways.html\'" ng-if="isOnPremGatewayAllowed"></div><div ng-include="\'views/settings/settingsDatasourceCredentials.html\'" ng-if="!disableDatasourcesSection"></div><div ng-include="\'views/settings/settingsDatasourceScheduleRefresh.html\'" ng-if="!disableRefreshSection"></div><div ng-include="\'views/settings/settingsOneDriveCredentials.html\'" ng-if="showStorageConnection"></div><div ng-include="\'views/settings/settingsOneDriveRefresh.html\'" ng-if="showStorageRefresh"></div></div></div><div ng-include="\'views/settings/settingsQnaView.html\'"></div><dataset-parameters-dialog view-model="datasetParametersDialogParameters"></dataset-parameters-dialog><auth-dialog view-model="authDialogParameters" ng-if="authDialogParameters.showAuthDialog"></auth-dialog></div></div>'),e.put("views/settings/settingsDatasourceCredentials.html",'<div ng-if="::hasEditableDatasources" class="settingsDatasourceCredentials"><div class="refreshSectionHeader" ng-class="{disabledContainer : shouldDatasourceCredentialsDisabled()}" ng-click="viewModel.manageDataSourcesExpand = !viewModel.manageDataSourcesExpand" ng-switch on="enterpriseGatewayETLEnabled && selectGatewayModel.useEnterpriseGateway !== undefined && selectGatewayModel.useEnterpriseGateway"><i class="glyphicon" ng-class="{true:\'refreshSectionExpander pbi-glyph-caretdownright\', false:\'refreshSectionExpander pbi-glyph-caretright\'}[!shouldDatasourceCredentialsDisabled() && viewModel.manageDataSourcesExpand]"></i><span class="refreshSectionTitle" localize="SettingsDataset_ManageDataSources_Title" ng-switch-when="false"></span><span class="refreshSectionTitle" localize="SettingsDataset_ManageDataSources_Title_EnterpriseGateway" ng-switch-when="true"></span></div><div class="expandableInnerContainer" ng-show="!shouldDatasourceCredentialsDisabled() && viewModel.manageDataSourcesExpand" ng-switch="showDiscoverDatasourcesSpinner"><spinner ng-switch-when="true"></spinner><div ng-switch-when="false"><inline-message trace-details="datasourceTraceDetails" use-error-icon class="expandableBlockWarning" ng-show="viewModel.hasDatasourceWithWrongCredentials || viewModel.hasDirectQueryDatasourceWithMissingCredentials"><span ng-show="viewModel.hasDatasourceWithWrongCredentials" localize="SettingsDataset_ManageDataSources_Warning_YouNeedToProvideCredentials"></span><span ng-show="viewModel.hasDirectQueryDatasourceWithMissingCredentials" localize="SettingsDataset_ManageDataSources_Warning_DirectQueryMissingCredentials"></span></inline-message><div class="topMarginTextContainer"><table class="datasourceContainer"><tr ng-repeat="datasource in viewModel.datasources | orderBy:\'displayName\'"><th class="datasourceName"><span ng-bind-attr-once="{title:  datasource.fullName}" ng-bind="::datasource.displayName"></span><th><div class="statusContainer"><spinner ng-show="testConnectionProgressing(datasource)"></spinner><i class="glyphicon pbi-glyph-error glyph-small" title="{{datasource.testConnectionErrorMessage}}" ng-show="testConnectionFailed(datasource)"></i></div><a href="" class="dataSourceEditButton" localize="SettingsDataset_ManageDataSources_EditButtonText" ng-click="editDatasource(datasource)"></a></th></tr></table></div></div></div></div>'),e.put("views/settings/settingsDatasourceScheduleRefresh.html",'<div ng-if="::hasRefreshSchedule" class="settingsDatasourceScheduleRefresh"><div class="refreshSectionHeader" ng-class="{disabledContainer : shouldScheduleRefreshContainerDisabled()}" ng-click="viewModel.refreshSectionExpand = !viewModel.refreshSectionExpand"><i class="glyphicon" ng-class="{true:\'refreshSectionExpander pbi-glyph-caretdownright\', false:\'refreshSectionExpander pbi-glyph-caretright\'}[(firstTimeExperience && viewModel.takenOver) ? false : viewModel.refreshSectionExpand]"></i><span class="refreshSectionTitle" ng-attr-localize="{{viewModel.isDirectQueryOrOnPremModel ? \'SettingsDataset_DirectQuery_SettingTitle\' : \'SettingsDataset_ScheduleRefresh_Title\'}}"></span></div><div class="expandableInnerContainer" ng-show="viewModel.refreshSectionExpand"><div class="datasetSchedule" ng-cloak><div class="topMarginTextContainer" ng-class="{disabledContainer : !viewModel.takenOver}" ng-switch="::viewModel.isDirectQueryOrOnPremModel"><section ng-switch-when="true" class="directQueryRefreshHeader"><header localize="SettingsDataset_DirectQuery_RefreshTitle"></header><a href="https://go.microsoft.com/fwlink/?linkid=839732" target="_blank" localize="SettingsDashboard_DQRefresh_LearnMore"/></section><section ng-switch-when="false"><header localize="SettingsDataset_ScheduleRefresh_EnableRefresh_Title"></header><pbi-toggle ng-model="viewModel.refreshSettings.refreshEnabled" ng-disabled="shouldRefreshSettingsToggleDisabled()" ng-change="refreshSettingsToggleMouseUp()" no-label on-state-text="ToggleSwitchOn" off-state-text="ToggleSwitchOff"></pbi-toggle></section></div><fieldset class="inputContainer" ng-class="{disabledContainer : shouldRefreshSettingsDisabled()}" ng-disabled="shouldRefreshSettingsDisabled()"><div class="refreshFrequencyContainer"><header localize="SettingsDataset_ScheduleRefresh_RefreshFrequency_Title"></header> <select ng-model="viewModel.refreshFrequencyString" ng-options="key as value for (key, value) in ::viewModel.refreshFrequencies"/></div><section ng-if="viewModel.showRefreshTimeInfo"><div class="refreshTimeZoneContainer"><header localize="SettingsDataset_ScheduleRefresh_TimeZone"></header> <select ng-model="viewModel.refreshSettings.refreshTimeZoneId" ng-options="refreshTimeZone.key as refreshTimeZone.value for refreshTimeZone in viewModel.refreshTimeZonesViewModel"/></div><ul class="refreshFrequencyWeekDays" ng-if="viewModel.showWeekDays"><li ng-repeat="weekdayKey in ::viewModel.weekdayKeys"><pbi-checkbox label="{{::weekdayKey}}" ng-model="viewModel.refreshSettings.refreshDays[$index]" class="refreshFrequencyDay"></pbi-checkbox></li></ul><div ng-switch="isFreemiumUser"><div class="refreshWindowContainer" ng-switch-when="true"><header localize="SettingsDataset_ScheduleRefresh_TimeWindow"></header> <select ng-model="viewModel.refreshSettings.refreshTimeWindowIndex" ng-options="viewModel.refreshTimeWindows.indexOf(refreshTimeWindow) as refreshTimeWindow for refreshTimeWindow in viewModel.refreshTimeWindows"/><span class="updateAccountScheduleDataRefreshMessage" ng-bind="updateAccountScheduleDataRefreshMessage"/><div><button class="biButton primary" ng-bind="tryProAccountButtonText" ng-click="tryProAccount()"></button></div></div><div ng-switch-when="false"><div class="refreshProWindowContainer"><header localize="SettingsDataset_ScheduleRefresh_TimeProWindow"></header><div ng-repeat="time in viewModel.refreshSettings.refreshTimesHourly "> <select ng-model="time.refreshHourIndex" ng-options="viewModel.refreshTimeHourWindows.indexOf(refreshTimeHourWindow) as refreshTimeHourWindow for refreshTimeHourWindow in viewModel.refreshTimeHourWindows"/> <select ng-model="time.refreshMinuteIndex" ng-options="viewModel.refreshTimeMinuteWindows.indexOf(refreshTimeMinuteWindow) as refreshTimeMinuteWindow for refreshTimeMinuteWindow in viewModel.refreshTimeMinuteWindows"/> <select ng-model="time.refreshAmPmIndex" ng-options="viewModel.refreshTimeAmPmWindows.indexOf(refreshTimeAmPmWindow) as refreshTimeAmPmWindow for refreshTimeAmPmWindow in viewModel.refreshTimeAmPmWindows"/><i class="refreshTimeDeletButton glyphicon pbi-glyph-cancel glyph-mini" ng-click="removeRefreshTime($index)"></i><div class="invalidTimeWarning" ng-if="time.isDuplicate"><i class="invalidTimeErrorIcon glyphicon pbi-glyph-error glyph-small"></i><span localize="SettingsDataset_DuplicateTime"></span></div><div class="invalidTimeWarning" ng-if="time.isIncomplete"><i class="invalidTimeErrorIcon glyphicon pbi-glyph-error glyph-small"></i><span localize="SettingsDataset_IncompleteTime"></span></div></div></div><a href="" class="addRefreshTime" localize="SettingsDataset_Add_Refresh_Time" ng-show="canAddRefreshTime()" ng-click="addRefreshTime()"></a></div></div></section><div class="sendFailureEmail" ng-if="::!viewModel.isDirectQueryOrOnPremModel"><pbi-checkbox label="SettingsDataset_ScheduleRefresh_SendRefreshFailureEmail" ng-model="viewModel.refreshSettings.refreshNotificationEnabled"></pbi-checkbox></div></fieldset><div class="buttonsContainer"> <button class="biButton primary" localize="SettingsDataset_ApplyButtonText" ng-disabled="shouldSettingsDatasetButtonDisable()" ng-click="applyChanges()"></button> <button class="biButton" localize="SettingsDataset_DiscardButtonText" ng-disabled="shouldSettingsDatasetButtonDisable()" ng-click="discardChanges()"></button></div></div></div></div>'),e.put("views/settings/settingsEsriView.html",'<div class="dashboardSettings" ng-cloak><h class="dashboardSettingsTitle" localize="SettingsEsri_Title"/><div ng-if="esriVisualDisallowed"" class="dashboardSettingsSection"><inline-message class="inlineWarning"><span localize="SettingsEsri_OrganizationHasDisabled"></span></inline-message></div><div ng-if="!esriVisualDisallowed"" class="dashboardSettingsSection"><table class="dashboardSettingsCheckbox"><tr><td> <input id="esriVisualEnabled" type="checkbox" ng-model="esriSettings.esriVisualEnabled" ng-change="onSettingChange()"/></td><td class="dashboardSettingsInfo"><label class="settingDescription" localize="SettingsEsri_UseEsriMap" for="esriVisualEnabled"/></td></tr></table></div><div ng-if="!esriVisualDisallowed" class="dashboardSettingsSection"> <button id="dashboardSettingsApply" class="primary" localize="SettingsDataset_ApplyButtonText" ng-disabled="!isDirty" ng-click="applyChanges()"/> <button localize="SettingsDataset_DiscardButtonText" ng-disabled="!isDirty" ng-click="discardChanges()"/></div></div>'),e.put("views/settings/settingsGateways.html",'<div><div class="refreshSectionHeader" ng-class="{disabledContainer : shouldGatewaysContainerDisabled()}" ng-click="viewModel.gatewaysExpand = !viewModel.gatewaysExpand"><i class="glyphicon" ng-class="{true:\'refreshSectionExpander pbi-glyph-caretdownright\', false:\'refreshSectionExpander pbi-glyph-caretright\'}[viewModel.gatewaysExpand]"></i><span class="refreshSectionTitle" localize="SettingsDataset_GatewayConnection_Title"></span></div><div class="expandableInnerContainer" ng-show="viewModel.takenOver && viewModel.gatewaysExpand"><select-gateway ng-if="viewModel.takenOver" view-model="selectGatewayModel"></select-gateway><div class="buttonsContainer"> <button class="primary" localize="SettingsDataset_ApplyButtonText" ng-click="applyGatewaySelection()" ng-disabled="!selectGatewayModel.isDirty"></button> <button localize="SettingsDataset_DiscardButtonText" ng-click="discardGatewaySelection()" ng-disabled="!selectGatewayModel.isDirty"></button></div></div></div>'),e.put("views/settings/settingsGeneralView.html",'<div class="settingsDatasets"><div class="settingsDatasetsLeftColumn"><div class="datasetsList"><ul><li ng-repeat="subGroup in subGroups track by subGroup.type" ng-click="onSubgroupSelected(subGroup.type)" ng-class="{selected: viewModel.selectedSubgroupType === subGroup.type}"><span ng-bind="subGroup.name"></span></li></ul></div></div><div class="settingsDatasetsRightColumn" ng-switch="viewModel.selectedSubgroupType"><settings-privacy ng-switch-when="0" view-model="viewModel.privacy"></settings-privacy><settings-close-account ng-switch-when="1"></settings-close-account><settings-language ng-switch-when="2" view-model="viewModel.language"></settings-language><settings-plugins ng-switch-when="3" view-model="viewModel.plugins"></settings-plugins><settings-preview-features ng-switch-when="4"></settings-preview-features><settings-esri ng-switch-when="5" view-model="viewModel.esri"></settings-esri></div></div>'),e.put("views/settings/settingsLanguageView.html",'<form name="languageSettingsForm" class="dashboardSettings" ng-cloak><h class="dashboardSettingsTitle" localize="SettingsLanguage_Title"/><div class="dashboardSettingsSection"><div class="dashboardSettingsSectionTitle" localize="SettingsLanguage_SelectLanguage_Title"/><div class="dashboardSettingsSectionSubTitle"><span localize="SettingsLanguage_SelectLanguage_SubTitle" localize-fragments><a fragment-index="0" href="https://go.microsoft.com/fwlink/?LinkID=723835" target="_blank" localize="LearnMore"/></span></div><div class="dropdown"> <select ng-options="language.name for language in ::supportedLanguages track by language.code" ng-model="currentLanguage" ng-change="languageSelected()"></select><spinner ng-if="isLoading"></spinner></div></div><div class="dashboardSettingsSection"> <button id="dashboardSettingsApply" class="primary" localize="SettingsDataset_ApplyButtonText" ng-disabled="!languageSettingsForm.$dirty" ng-click="applyChanges()"/> <button localize="SettingsDataset_DiscardButtonText" ng-disabled="!languageSettingsForm.$dirty" ng-click="discardChanges()"/></div></form>'),e.put("views/settings/settingsOneDriveCredentials.html",'<div class="settingsOneDriveCredentials"><div class="refreshSectionHeader" ng-class="{disabledContainer : storageSourceFileNotFound}" ng-click="viewModel.manageStorageSourceExpand = !viewModel.manageStorageSourceExpand"><i class="glyphicon" ng-class="{true:\'refreshSectionExpander pbi-glyph-caretdownright\', false:\'refreshSectionExpander pbi-glyph-caretright\'}[viewModel.manageStorageSourceExpand]"></i><span class="refreshSectionTitle" localize="SettingsDataset_ManageStorageSource_Title"></span></div><div class="expandableInnerContainer" ng-show="viewModel.manageStorageSourceExpand" ng-switch="showDiscoverStorageSourcesSpinner"><spinner ng-switch-when="true"></spinner><div ng-switch-when="false"><inline-message trace-details="storageSourceTraceDetails" use-error-icon class="expandableBlockWarning" ng-show="testPackageConnectionFailed()"><span localize="SettingsDataset_ManageStorageSource_Warning_YouNeedToProvideCredentials"></span></inline-message><div><table class="datasourceContainer"><tr><th class="datasourceName"><span title="{{::getStorageSourceDisplayName()}}" ng-bind="getStorageSourceDisplayName()"></span></th><th><div class="statusContainer"><spinner ng-show="testPackageConnectionProgressing()"></spinner><i class="glyphicon pbi-glyph-error glyph-small" title="{{viewModel.storageSource.testConnectionErrorMessage}}" ng-show="testPackageConnectionFailed()"></i></div><a href="" class="dataSourceEditButton" localize="SettingsDataset_ManageDataSources_EditButtonText" ng-click="editStorageSource()"></a></th></tr></table></div></div></div></div>'),e.put("views/settings/settingsOneDriveRefresh.html",'<div class="settingsOneDriveRefresh"><div class="refreshSectionHeader" ng-class="{disabledContainer : storageSourceFileNotFound}" ng-click="viewModel.manageStorageRefreshExpand = !viewModel.manageStorageRefreshExpand"><i class="glyphicon" ng-class="{true:\'refreshSectionExpander pbi-glyph-caretdownright\', false:\'refreshSectionExpander pbi-glyph-caretright\'}[viewModel.manageStorageRefreshExpand]"></i><span class="refreshSectionTitle" localize="SettingsDataset_RefreshStorageSource_Title"></span></div><div class="expandableInnerContainer" ng-show="viewModel.manageStorageRefreshExpand" ng-switch="showDiscoverStorageSourcesSpinner"><spinner ng-switch-when="true"></spinner><div class="topMarginTextContainer" ng-switch-when="false"><header localize="SettingsDataset_Enable_PackageRefresh_Title"></header><inline-message trace-details="storageSourceTraceDetails" use-error-icon class="expandableBlockWarning" ng-show="testPackageConnectionFailed()"><span localize="SettingsDataset_ManageStorageSource_Warning_YouNeedToProvideCredentials"></span></inline-message><pbi-toggle ng-model="viewModel.contract.isPackageRefreshEnabled" ng-disabled="shouldPackageRefreshSettingsToggleDisabled()" ng-change="updateStorageSourceRefresh()" no-label on-state-text="ToggleSwitchOn" off-state-text="ToggleSwitchOff"></pbi-toggle></div></div></div>'),e.put("views/settings/settingsPluginsView.html",'<div class="dashboardSettings" ng-cloak><h class="dashboardSettingsTitle" localize="SettingsPlugins_Title"/><div class="dashboardSettingsSection"><table class="dashboardSettingsCheckbox"><tr><td> <input id="developerModeSettingsCheckbox" type="checkbox" ng-model="pluginsSettings.developerMode" ng-change="applyChanges()"/></td><td class="dashboardSettingsInfo"><label class="settingDescription" localize="SettingsPlugins_DeveloperMode_Info" for="developerModeSettingsCheckbox"/><a href="http://aka.ms/powerbideveloperhelp" target="_blank" localize="LearnMore"/></td></tr></table></div></div>'),e.put("views/settings/settingsPrivacyView.html",'<div class="dashboardSettings" ng-cloak><h class="dashboardSettingsTitle" localize="SettingsPrivacy_Title"/><div class="dashboardSettingsSection"><div class="dashboardSettingsSectionTitle" localize="SettingsPrivacy_DataCollection_Title"/><table class="dashboardSettingsCheckbox"><tr><td> <input id="qnaDataCollection" type="checkbox" ng-model="privacySettings.allowQnaDataCollection" ng-change="onSettingChange()"/></td><td class="dashboardSettingsInfo"><label class="settingDescription" localize="SettingsPrivacy_DataCollection_Info" for="qnaDataCollection"/><a href="https://go.microsoft.com/fwlink/p/?LinkId=615884" target="_blank" localize="LearnMore"/></td></tr></table></div><div class="dashboardSettingsSection"> <button id="dashboardSettingsApply" class="primary" localize="SettingsDataset_ApplyButtonText" ng-disabled="!isDirty" ng-click="applyChanges()"/> <button localize="SettingsDataset_DiscardButtonText" ng-disabled="!isDirty" ng-click="discardChanges()"/></div></div>'),e.put("views/settings/settingsPublishedContentView.html",'<div class="settings"></div>'),e.put("views/settings/settingsQnaView.html",'<div class="expandableRefreshSections"><section class="qnaSection" ng-if="qna"><div class="sectionHeader" ng-click="viewModel.qnaSectionExpand = !viewModel.qnaSectionExpand"><i class="glyphicon" ng-class="{true:\'refreshSectionExpander pbi-glyph-caretdownright\', false:\'refreshSectionExpander pbi-glyph-caretright\'}[viewModel.qnaSectionExpand]"></i><span class="refreshSectionTitle" localize="SettingsDataset_QnaAndCortana_Title"></span></div><div class="expandableInnerContainer" ng-show="viewModel.qnaSectionExpand"><inline-message ng-if="qna.showOnPremiseSetting" display-icon="displayIcon" use-error-icon="storageSourceFileNotFound" use-error-background="storageSourceFileNotFound"><span><a class="onPremQna" localize="SettingsDataset_Qna_OnPremWarning"></a><a class="learnAboutOnPremQna" target="_blank" href="https://go.microsoft.com/fwlink/?LinkId=786785" localize="LearnMore"></a></span></inline-message><div class="qnaOptions" ng-if="qna.showOnPremiseSetting"><pbi-checkbox label="SettingsDataset_Cortana_EnableQnaOption" ng-model="qna.powerBIQnaEnabled" ng-change="enableQna()"></pbi-checkbox></div><div class="qnaOptions" ng-if="qna.showCortanaSetting"><pbi-checkbox label="SettingsDataset_Cortana_EnableCortanaOption" ng-model="qna.cortanaEnabled" ng-change="enableCortana()"></pbi-checkbox></div><div class="qnaInfo" ng-if="qna.showCortanaSetting"><span localize="SettingsDataset_Cortana_InformationSharing"/></div><div class="buttonsContainer"> <button class="primary" localize="SettingsDataset_ApplyButtonText" ng-disabled="!viewModel.isQnaDirty" ng-click="qna.apply()"></button> <button localize="SettingsDataset_DiscardButtonText" ng-disabled="!viewModel.isQnaDirty" ng-click="qna.discard()"></button></div></div><settings-dataset-featured-questions view-model="viewModel"></settings-dataset-featured-questions></section></div>'),e.put("views/settings/settingsViewerView.html",'<div class="sliderContentView" ng-switch="isLoading"><div class="layoutTop"><div class="backToDashboard section"><div class="sliderContentHeader ms-font-weight-light ms-font-color-neutralSecondary"><span feature-switch-not="breadcrumbNavigationEnabled" localize="SettingsViewer_Title"></span><spinner class="settingsLoadingSpinner" ng-switch-when="true"></spinner></div></div></div><div class="layoutBottom" ng-switch-when="false"><div class="layoutLeft"><div class="settingsList"><ul><li ng-repeat="settingsGroup in settingsGroups" ng-click="onSettingsGroupSelected(settingsGroup.type)" ng-class="{selected: currentSettingsGroup === settingsGroup.type}"> <span>{{::settingsGroup.name}}</span></li></ul></div></div><div class="layoutRight"><div ng-switch on="currentSettingsGroup" feature-switch-class="breadcrumbNavigationEnabled"><settings-general ng-switch-when="general" view-model="viewModel.general"></settings-general><settings-dashboards ng-switch-when="dashboards" view-model="viewModel.dashboards"></settings-dashboards><settings-datasets ng-switch-when="datasets" view-model="viewModel.datasets"></settings-datasets><settings-workbooks ng-switch-when="workbooks" view-model="viewModel.workbooks"></settings-workbooks><settings-published-content ng-switch-when="publishedContent"></settings-published-content><settings-alerts ng-switch-when="alerts"></settings-alerts><settings-communications ng-switch-when="communications" view-model="viewModel.communications"></settings-communications></div></div></div></div>'),e.put("views/shareView.html",'<div id="sharingPane" class="paneLayout"><header><div class="primaryHeading label-xxl" localize="ShareView_ShareDashboard"></div><div class="secondaryHeading pbi-link" ng-class="{requestsSummaryActive: anyRequests()}" ng-bind="viewModel.requestsSummaryText"></div><section class="sharingOptionsList"><div class="sharingOptionTab label-med inviteTab" ng-class="{selected: viewModel.inviteSelected}" ng-click="sharedWithUsers(false)" localize="ShareView_ShareText"></div><div class="sharingOptionTab label-med sharedWithTab" ng-class="{selected: viewModel.sharedWithSelected}" ng-click="sharedWithUsers(true)" ng-if="::isOwner()" localize="ShareView_AccessText"></div></section></header><section class="contentContainer"><section class="sharingPaneSection invite" ng-show="viewModel.inviteSelected"><div class="sharingSectionTitleContainer"><span class="sharingSectionTitle" localize="Sharing_GrantAccess"></span></div><div class="sharePaneNotification shareAlert" ng-if="viewModel.proContentAlertMessage" id="proContentMessageElement"><i class="glyphicon glyph-small pbi-glyph-warning"></i><span ng-bind="viewModel.proContentAlertMessage"></span><a class="learnMore" href="//go.microsoft.com/fwlink/?LinkId=616914" target="_blank" localize="LearnMore"></a></div><emails-list ng-hide="isNotPermitted()" view-model="viewModel.emailsList" allow-object-ids allow-security-groups allow-distribution-lists on-tag-added="validateInputTag" on-tag-removed="resetValidation"></emails-list><div class="sharePaneNotification shareError" ng-if="viewModel.hasValidationError"><i class="glyphicon glyph-small pbi-glyph-error"></i> <span>{{viewModel.emailValidationError}}</span></div><div class="sharePaneNotification shareError" ng-if="viewModel.showSecurityGroupUpgradeAccount"><i class="glyphicon glyph-small pbi-glyph-error"></i><span localize="Sharing_SecurityGroupRequiresPro"></span><a class="learnMore" href="//go.microsoft.com/fwlink/?LinkId=616914" target="_blank" localize="LearnMore"></a></div><div class="sharePaneNotification shareAlert" ng-if="viewModel.hasValidationWarning"><i class="glyphicon glyph-small pbi-glyph-warning"></i> <span>{{viewModel.emailValidationWarning}}</span></div><div class="emailMessage"><textarea id="msg" ng-model="viewModel.messageText" ng-disabled="isNotPermitted()" ng-trim="false" maxlength="4000" ng-attr-placeholder="{{viewModel.placeholderMessage}}"/></div></section><section class="sharingPaneSection sharedWith" ng-show="viewModel.sharedWithSelected"><div class="userListContainer sharedWithUsers"><div class="sharingSectionTitleContainer" ng-class="{isResharer: !isOwner()}"><span class="sharingSectionTitle shareWithTitle" localize="ShareView_DashboardSharedWith"></span><span class="sharingSectionTitle shareWithNotAvailableTitle" localize="ShareView_DashboardSharedWithNotAvailable"></span></div><div class="searchBoxContainer" ng-if="::isOwner()"><search-box filter="viewModel.searchFilter"></search-box></div><ul ng-if="::isOwner()"><li><div id="ownerLabel" class="username trimmedTextWithEllipsis" ng-bind="viewModel.owner.fullName" title="{{viewModel.owner.fullName}}"></div><div class="usertype" localize="Sharing_Owner"></div></li><li ng-repeat="user in filteredSharedUsers = (viewModel.sharedUsers | filter: { fullName: viewModel.searchFilter })"><div class="username trimmedTextWithEllipsis" ng-bind="user.fullName" title="{{user.fullName}}"></div><div class="action"><div class="dropMenuContainer"> <button class="optionsMenu" dropdown-menu dropdown-items="user.sharingPermissionsOptions" dropdown-on-item-selected="sharingPermissionsItemSelected(selected)"><span class="glyphicon pbi-glyph-more glyph-small"></span></button></div><div class="performAction">{{user.permissionsDisplayText}}</div><div class="inProgress" ng-show="user.id === viewModel.removedUserId && user.kind === viewModel.removedUserKind && viewModel.selectedList === SharingUserList.SharedUsers"><spinner dots></spinner></div></div><div class="userTypeLabel" ng-show="user.isExternalUser"><span localize="Sharing_Guest"></span><i class="glyphicon glyph-small pbi-glyph-info" localize-tooltip="Sharing_Guest_Info"></i></div></li><li ng-repeat="userInvite in filteredInvitedUsers = (viewModel.invitedUsers | filter: { sentToEmailAddress: viewModel.searchFilter })"><div class="username trimmedTextWithEllipsis" ng-attr-data-invitation-id="{{userInvite.id}}" ng-bind="userInvite.sentToEmailAddress" title="{{userInvite.sentToEmailAddress}}"></div><div class="action"><div class="inProgress" ng-show="userInvite.id === viewModel.removedUserId && viewModel.selectedList === SharingUserList.InvitedUsers"><spinner dots></spinner></div><div class="performAction noOptions" ng-click="cancelInvite(userInvite.id)" ng-hide="userInvite.id === viewModel.removedUserId && viewModel.selectedList === SharingUserList.InvitedUsers" localize="Sharing_CancelInvite"></div></div><div class="userTypeLabel" ng-show="userInvite.isExternalUser"><span localize="Sharing_Guest"></span><i class="glyphicon glyph-small pbi-glyph-info" localize-tooltip="Sharing_Guest_Info"></i></div></li><li ng-if="featureSwitchPermissionCenterEnabled" class="action"><a href="" class="pbi-link" localize="PermissionCenter_HomeHeader" ng-click="navigateToManagePermissions()"></a></li></ul></div><div class="userListContainer pendingRequests" ng-if="anyRequests()"><div class="sharingSectionTitleContainer"><span class="sharingSectionTitle" localize="ShareView_DashboardAccessRequestedBy"></span><i class="icon glyphicon pbi-glyph-info glyph-small" localize-tooltip="ShareView_PendingRequestsTooltip"></i></div><ul ng-if="::isOwner()"><li ng-repeat="requestingUser in viewModel.requestingUsers"><div class="username trimmedTextWithEllipsis" ng-bind="requestingUser.fullName" title="{{requestingUser.fullName}}"></div><div class="glyphDeny glyphicon pbi-glyph-close glyph-mini mini-label" ng-hide="requestingUser.isPerformingAccessRequest" ng-click="denyAccess(requestingUser)" localize-tooltip="Reject"></div><div class="glyphGrant glyphicon pbi-glyph-success glyph-small" ng-hide="requestingUser.isPerformingAccessRequest" ng-click="grantAccess([requestingUser])" localize-tooltip="Approve"></div><div class="requestAccessSpinner" ng-show="requestingUser.isPerformingAccessRequest"><spinner dots></spinner></div></li><li class="action"><a href="" class="pbi-link" localize="ShareView_ApproveAll" ng-click="approveAll()"></a></li></ul></div><div class="shareLink"><div class="sharingSectionTitleContainer"><span class="sharingSectionTitle" localize="ShareView_ShareLink"></span><i class="icon glyphicon pbi-glyph-info glyph-small" localize-tooltip="ShareView_InternalDashboardLinkTooltip"></i></div> <input class="dashboardUrl" type="text" readonly onclick="this.select()" ng-attr-value="{{getDashboardUrl()}}"/></div></section></section><footer><div class="sharePaneNotification shareAlert" ng-hide="isNotPermitted() || !shouldShowPermissionsWarning()"><i class="icon glyphicon pbi-glyph-warning glyph-small"></i><span class="workbookPermissonsMessageInfo" ng-switch="getWorkookPermissionsMessageType()"><span localize="Sharing_WorkbookOwnerPermissionNeeded" ng-switch-when="0"></span><span localize="Sharing_WorkbookNonOwnerPermissionNeeded" ng-switch-when="1"></span><span localize="Sharing_WorkbookGroupPermissionNeeded" ng-switch-when="2"></span><a class="learnMore" href="//go.microsoft.com/fwlink/p/?LinkId=692007" target="_blank"><span localize="LearnMore"></span></a><a href={{workbookWebUri}} target="_blank" class="goToOneDriveMessageInfo" ng-if="getWorkookPermissionsMessageType() !== 1" ng-switch="getWorkookPermissionsMessageType()"><span localize="Sharing_GoToWorkBookNotificationLink" ng-switch-when="0"></span><span localize="Sharing_GoToGroupSharedDocumentNotificationLink" ng-switch-when="2"></span></a></span></div><div class="sharePaneNotification shareInfo"><i class="glyphicon glyph-small pbi-glyph-info"></i><span localize="Sharing_DataAccessNotification"></span><a class="learnMore" href="//go.microsoft.com/fwlink/?LinkID=522083" target="_blank"><span localize="LearnMore"></span></a></div><div class="messageInfo" ng-show="viewModel.inviteSelected"><label id="cantShare" class="error" localize="Sharing_UsersCannotReshare" ng-show="isNotPermitted()"></label><div class="sharingOptions" ng-hide="isNotPermitted()"><pbi-checkbox label="Sharing_UsersCanReshare" ng-model="viewModel.allowReshare" ng-disabled="viewModel.isEmailBeingSent"></pbi-checkbox><pbi-checkbox label="Sharing_NotifyViaEmail" ng-model="viewModel.notifyViaEmail" ng-disabled="viewModel.isEmailBeingSent"></pbi-checkbox></div></div><div class="buttons"> <button ng-show="viewModel.sharedWithSelected" class="biButton default closeButton" ng-click="cancelShare()" localize="ShareView_CloseButtonText"></button><div ng-show="viewModel.inviteSelected"><spinner ng-show="viewModel.isEmailBeingSent"></spinner> <button class="biButton primary shareButton" type="button" ng-click="shareEmail()" ng-disabled="viewModel.hasValidationError || viewModel.isEmailBeingSent || isNotPermitted() || viewModel.emailsList.inputUserList.length === 0" localize="ShareView_ShareButtonText"></button> <button class="biButton default cancelButton" type="button" ng-click="cancelShare()" localize="ShareView_CancelButtonText"></button></div></div></footer></div>'),
e.put("views/states/adminPortalState.html","<admin-portal></admin-portal>"),e.put("views/states/appAutoInstallState.html","<app-placeholder></app-placeholder>"),e.put("views/states/createChannelState.html",'<create-app-channel class="flexbox"></create-app-channel>'),e.put("views/states/devToolsViewState.html","<dev-tools-view></dev-tools-view>"),e.put("views/states/externalContentViewerState.html",'<content-provider-store active-dashboard="dashboardDataService.activeDashboard"></content-provider-store>'),e.put("views/states/gatewaysState.html","<gateways></gateways>"),e.put("views/states/insightsState.html",'<insights active-dashboard="dashboardDataService.activeDashboard"></insights>'),e.put("views/states/manageEmbedViewState.html",'<manage-embed-view view-model="viewModel.dashboardContainer.manageEmbedPane" dashboard-container="viewModel.dashboardContainer"></manage-embed-view>'),e.put("views/states/managePermissionsState.html","<permission-details></permission-details>"),e.put("views/states/manageStorageViewState.html",'<manage-storage-view view-model="viewModel.dashboardContainer.manageStoragePane" dashboard-container="viewModel.dashboardContainer"></manage-storage-view>'),e.put("views/states/permissionCenterState.html","<permission-center-home></permission-center-home>"),e.put("views/states/publishContentPackViewState.html",'<introduce-app-bar></introduce-app-bar><publish-content-pack-view view-model="viewModel.dashboardContainer.publishPane" dashboard-container="viewModel.dashboardContainer"></publish-content-pack-view>'),e.put("views/states/rowLevelSecurityState.html","<row-level-security-container></row-level-security-container>"),e.put("views/states/settingsViewerState.html","<settings-viewer></settings-viewer>"),e.put("views/states/shareViewState.html",'<share-view view-model="viewModel.dashboardContainer.sharePane" active-dashboard="dashboardDataService.activeDashboard"></share-view>'),e.put("views/states/viewContentPackViewState.html","<introduce-app-bar></introduce-app-bar><view-content-pack></view-content-pack>"),e.put("views/taskPaneSliderView.html",'<div class="taskPaneSliderView" ng-if="isPaneExpanded()"><collapsible-pane view-model="viewModel.collapsiblePane" is-expander-hidden="viewModel.collapsiblePaneMode !== 0"><tile-editor ng-if="viewModel.collapsiblePaneMode === 1"></tile-editor><create-group-blade ng-if="viewModel.collapsiblePaneMode === 2" group-editor-mode="viewModel.collapsiblePaneMode"></create-group-blade><edit-group-blade ng-if="viewModel.collapsiblePaneMode === 3" group-editor-mode="viewModel.collapsiblePaneMode" parameters="viewModel.parameters"></edit-group-blade><view-group-blade ng-if="viewModel.collapsiblePaneMode === 4" group-editor-mode="viewModel.collapsiblePaneMode" parameters="viewModel.parameters"></view-group-blade><tile-gallery ng-if="viewModel.collapsiblePaneMode === 5"></tile-gallery><share-view ng-if="viewModel.collapsiblePaneMode === 6" view-model="viewModel.dashboardContainer.sharePane"></share-view><real-time-blade ng-if="viewModel.collapsiblePaneMode === 7"></real-time-blade><upn-mapping-pane ng-if="viewModel.collapsiblePaneMode === 8"></upn-mapping-pane><alerts-editor ng-if="viewModel.collapsiblePaneMode === 9"></alerts-editor><streaming-dataset-editor ng-if="viewModel.collapsiblePaneMode === 10" from="viewModel.previousMode"></streaming-dataset-editor><streaming-dataset-push-info ng-if="viewModel.collapsiblePaneMode === 11"></streaming-dataset-push-info><settings-blade ng-if="viewModel.collapsiblePaneMode === 12"></settings-blade><streaming-dataset-gallery ng-if="viewModel.collapsiblePaneMode === 13"></streaming-dataset-gallery><pub-nub-editor ng-if="viewModel.collapsiblePaneMode === 14"></pub-nub-editor><subscription-pane ng-if="viewModel.collapsiblePaneMode === 15"></subscription-pane><capacity-migrate-workspaces ng-if="viewModel.collapsiblePaneMode === 16"></capacity-migrate-workspaces><related-content-blade ng-if="viewModel.collapsiblePaneMode === 17" view-model="viewModel.parameters"></related-content-blade><capacity-settings-editor ng-if="viewModel.collapsiblePaneMode === 18"></capacity-settings-editor></collapsible-pane></div>'),e.put("views/tileEditor.html",'<ng-form name="tileEditorForm"><div class="tileEditor paneLayout"><header><h3 class="primaryHeading" ng-bind="::tileEditorHeaderPaneTitle()"></h3><ul class="headerTabs" ng-if="::isSavedRealTimeTile"><li class="label-med" ng-repeat="tab in ::headerTabs" ng-class="{selected: activeHeaderTab.type === tab.type}" ng-click="activateHeaderTab(tab)" ng-bind="::tab.text"></li></ul></header><section class="contentContainer noPadding"><real-time-tile-visualization-design ng-if="(activeHeaderTab.type === 0) && isSavedRealTimeTile" tile="tileModel" model="selectedModel"></real-time-tile-visualization-design><section class="tileDetails" ng-show="(activeHeaderTab.type === 1) || !isSavedRealTimeTile"><aside class="requiredField" localize="TileEditor_RequiredField"></aside><section class="tileEditorSection"><h4 class="sectionHeader" localize="TileEditor_SectionHeader_Details"></h4><section class="sectionContent"><pbi-checkbox label="TileEditor_PaneSubtitle_DisplayTitle" ng-model="displayTitle" ng-change="toggleDisplayTitle()" ng-disabled="viewModel.titleRequired || viewModel.tile.config.lastRefreshTimeEnabled"></pbi-checkbox><div ng-class="{disabled: !displayTitle}"><h6 class="input-field-label" ng-class="{required:viewModel.titleRequired}" localize="TileEditor_PaneSubtitle_Title"></h6> <input type="text" name="title" class="displayText" ng-class="{hasError: tileEditorForm.title.$touched && !viewModel.isTitleValid()}" ng-disabled="!displayTitle" ng-model="viewModel.tile.displayText"/><div class="errorBlock" ng-if="tileEditorForm.title.$touched && !viewModel.isTitleValid()"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="TileEditor_EmptyTitleWarning" localize-tooltip="TileEditor_EmptyTitleWarning"></div></div><h6 class="input-field-label" localize="TileEditor_PaneSubtitle_Subtitle"></h6> <input type="text" class="subDisplayText" ng-disabled="!displayTitle" ng-model="viewModel.tile.subDisplayText"/></div></section></section><section ng-show="viewModel.tile.config.widget" class="tileEditorSection"><h4 class="sectionHeader" localize="TileEditor_SectionHeader_Content"></h4><section class="sectionContent"><div class="widgetEditorContent"></div></section></section><section class="tileEditorSection"><h4 class="sectionHeader" localize="TileEditor_SectionHeader_Functionality"></h4><section class="sectionContent"><pbi-checkbox label="TileEditor_DisplayLastRefreshTime" ng-if="viewModel.hasLastRefreshTime" ng-model="viewModel.tile.config.lastRefreshTimeEnabled" ng-change="showLastRefreshTimeChanged()"></pbi-checkbox><pbi-checkbox label="TileEditor_SetCustomLink" ng-model="hasCustomLink" ng-change="setCustomLinkChanged()" ng-disabled="::!viewModel.canAddOrRemoveCustomLink"></pbi-checkbox><div ng-class="{disabled: !hasCustomLink}"><h6 class="input-field-label altTextStyling required" localize="TileEditor_Url"></h6> <input class="customLinkUrl" type="text" name="customUrl" ng-model="viewModel.tile.action.targetUrl" ng-disabled="!hasCustomLink" ng-class="{hasError: hasCustomLink && tileEditorForm.customUrl.$touched && !viewModel.isCustomLinkValid()}"/><div class="errorBlock" ng-if="hasCustomLink && tileEditorForm.customUrl.$touched && !viewModel.isCustomLinkValid()"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="TileEditor_Action_Url_WarningInvalidUrl" localize-tooltip="TileEditor_Action_Url_WarningInvalidUrl"></div></div><h6 class="input-field-label altTextStyling" localize="TileEditor_SetOpenInSameTab"></h6><pbi-radio-group ng-model="viewModel.tile.action.openInSameTab" ng-disabled="!hasCustomLink"><pbi-radio label="TileEditor_Yes" ng-value="true"/><pbi-radio label="TileEditor_No" ng-value="false"/></pbi-radio-group></div></section></section><section class="tileEditorSection"><div ng-if="viewModel.tile.workbook && viewModel.tile.config.workbookTile"><h4 class="tileEditorTitle sectionHeader" localize="TileEditor_PaneTitle_Workbook_AdvancedOptions"></h4><section class="sectionContent"><h6 class="input-field-label altTextStyling" localize="TileEditor_PaneSubtitle_Fit"></h6><label class="toggleButton"><toggle checked="viewModel.tile.workbook.keepOriginalContentSize" on-change="setDynamicImageForWorkbookTile()"></toggle><span class="keepOriginSizeTileMessage" localize="TileEditor_SetKeepOriginalContentSize"/></label></section></div></section></section></section><section class="banner"><ul><li ng-if="viewModel.canRestoreDefaults()"><pbi-button label="TileEditor_UseDefaultText" kind="text" ng-click="restoreDefaults()"></pbi-button></li><li><pbi-button label="TileEditor_TechnicalDetails" kind="text" ng-click="showTechnicalDetailsDialog()"></pbi-button></li></ul></section><footer><fieldset class="buttons"><pbi-button label="PBI_Button_Label_Back" ng-if="viewModel.tile.isTemporary" ng-click="back()"></pbi-button><pbi-button label="PBI_Button_Label_Apply" primary="true" ng-disabled="tileEditorForm.$invalid || !viewModel.isDirty() || !viewModel.isValid()" ng-click="saveChangesAndExit()"></pbi-button><pbi-button label="PBI_Button_Label_Cancel" ng-click="closeTileEditorWithoutSaving()"></pbi-button></fieldset></footer></div></ng-form>'),e.put("views/tileGallery.html",'<div class="addTilesView paneLayout"><header><h3 class="primaryHeading" localize="Add_Tile_Experience_Add_Tile"></h3><h3 class="secondaryHeading" localize="Add_Tile_Experience_Select_Source"></h3></header><section class="contentContainer"><div class="tilesGroup" ng-repeat="tileGroup in $ctrl.tileGroups"><h4 class="headerText" ng-bind="::tileGroup.title"></h4><ul class="tilesContainer"><li class="tile" ng-repeat="tile in tileGroup.tiles" ng-class="{selected: $ctrl.selectedTile.id === tile.id}" ng-click="$ctrl.select(tile)"><i class="glyphicon glyph-large icon {{::tile.iconClass}}"></i><h5 class="tileTitle" ng-bind="::tile.title" ng-attr-title="{{::tile.title}}"></h5></li></ul></div></section><footer><fieldset class="buttons"><pbi-button label="PBI_Button_Label_Next" primary="true" ng-disabled="!$ctrl.selectedTile" ng-click="$ctrl.next()"></pbi-button><pbi-button label="PBI_Button_Label_Cancel" ng-click="$ctrl.closeTileGalleryPane()"></pbi-button></fieldset></footer></div>'),e.put("views/tiles/compositeTile.html",'<div class="compositeTile" ng-class="{ fullLayout: viewModel.config.layoutType === 1 }"><div class="visualTile"><visual ng-if="$ctrl.readyToRender()" view-model="viewModel.visual" allow-deferred-rendering="::allowDeferredRendering"></visual></div></div>'),e.put("views/tiles/dashboardTile.html",'<li class="dashboardTile baseTile" in-viewport="onceInViewport()" in-viewport-context="{{::viewportContextSelector}}" in-viewport-offset="100%" ng-class="{selected: model.isSelected, readonly: isReadOnly(), showOptions: optionsMenuVisible, nonActionable: isNonActionable()}" ng-click="$event.stopPropagation()" ng-mouseenter="setHover(true)" ng-mouseleave="setHover(false)"><dashboard-tile-open-options ng-if="displayDashboardTileOpenOptions()" model="model"></dashboard-tile-open-options><div class="dashboardTileLayout" ng-if="inViewport" ng-click="openTile(disablePointerEvents, $event)"><section ng-if="::(inEditMobileLayoutMode() || displayDashboardTileShowIcon())"> <button ng-click="addTileToMobileView()" class="tileAction pinTile glyphicon pbi-glyph-pinned glyph-small showTileIcon" localize-tooltip="DashboardTile_ToggleVisibility" ng-if="displayDashboardTileShowIcon()"></button> <button ng-click="removeTileFromMobileView()" class="tileAction unpinTile glyphicon pbi-glyph-unpin glyph-small" localize-tooltip="DashboardTile_unpinTile" ng-if="::(!displayDashboardTileShowIcon())"></button></section><a class="urlTile" ng-attr-href="{{viewModel.href}}" ng-attr-target="{{viewModel.hrefTarget}}" rel="noopener noreferrer"><tile view-model="viewModel" disable-pointer-events="{{::disablePointerEvents}}" header-click-target="openNotification ? openNotifications(event) : openTile(true, event)"></tile></a><dashboard-tile-options-menu ng-if="displayDashboardTileOptionsMenuVisible()"></dashboard-tile-options-menu></div></li>'),e.put("views/tiles/dashboardTileOpenOptions.html",'<div class="moreOptions" localize-tooltip="NavigationPane_OpenMenu"> <button class="inFocusTileBtn" ng-click="inFocusTile($event);" ng-disabled="model.isLoading" ng-if="shouldShowInfocusButton()" localize-tooltip="TileEditor_InFocusTile"><i class="glyphicon pbi-glyph-miniexpand glyph-small"></i></button> <button class="openTileOptionsBtn" ng-click="setOptionsMenuVisibility(true, $event)"><i class="glyphicon pbi-glyph-more"></i></button></div>'),e.put("views/tiles/dashboardTileOptionsMenu.html",'<div class="tileOptionsMenu"> <button class="closeOptionsMenu" ng-click="setOptionsMenuVisibility(false, $event)"><i class="glyphicon pbi-glyph-close glyph-mini"></i></button><a class="openActionDescription mediumFontSize" ng-click="openTile(true, $event)" ng-attr-href="{{viewModel.href}}" ng-attr-target="{{viewModel.hrefTarget}}" rel="noopener noreferrer"><div class="actionInfo" ng-switch="::getOpenActionType()"><div ng-switch-when="0"><i class="glyphicon pbi-glyph-link glyph-small"></i><span class="openActionHeader trimmedTextWithEllipsis" localize="TileMenuOption_GoToURL"></span></div><div ng-switch-when="1"><i class="glyphicon pbi-glyph-comment glyph-small"></i><span class="openActionHeader trimmedTextWithEllipsis" localize="TileMenuOption_GoToQnA"></span></div><div ng-switch-when="2"><i class="glyphicon pbi-glyph-barchart glyph-small"></i><span class="openActionHeader trimmedTextWithEllipsis" localize="TileMenuOption_GoToReport"></span></div><div ng-switch-when="3"><i class="glyphicon pbi-glyph-excel glyph-small"></i><span class="openActionHeader trimmedTextWithEllipsis" localize="TileMenuOption_GoToWorkbook"></span></div><div ng-switch-when="4"><i class="glyphicon pbi-glyph-dataset glyph-small"></i><span class="openActionHeader trimmedTextWithEllipsis" localize="TileMenuOption_GoToDataset"></span></div></div><i class="glyphicon pbi-glyph-rightarrow glyph-small"></i><span class="actionText trimmedTextWithEllipsis" ng-bind="::getOpenActionDescriptionText()"></span></a><div class="optionsMenu" ng-click="$event.stopPropagation();"> <button class="inFocusTileBtn" ng-click="inFocusTile($event);" ng-disabled="model.isLoading" ng-if="shouldShowInfocusButton()" localize-tooltip="TileEditor_InFocusTile"><i class="glyphicon pbi-glyph-miniexpand glyph-small"></i></button> <button class="insightsBtn" localize-tooltip="Insights_GetRelatedInsights_Tooltip" ng-disabled="model.isLoading" ng-click="inFocusTile($event, true)" ng-if="isInsightsSupported()  && shouldShowInfocusButton()"><i class="glyphicon pbi-glyph-insight"></i></button> <button class="vcPinBtn" ng-click="pinTileFromDashboard($event)" ng-disabled="model.isLoading" ng-hide="!shouldShowPinButton();" localize-tooltip="PinVisual_ToolTip"><i class="glyphicon pbi-glyph-pinned"></i></button> <button class="vcAlertBtn" ng-click="showAlertsEditor($event)" ng-disabled="model.isLoading" ng-hide="::!shouldShowAlertsButton();" localize-tooltip="ManageAlerts_Tooltip"><i class="glyphicon pbi-glyph-bell"></i></button> <button class="vcExportBtn" ng-click="exportVisualData($event);" ng-if="::canExport" localize-tooltip="ExportData_MenuItem"><i class="glyphicon pbi-glyph-export glyph-small"></i></button> <button class="editTileBtn" ng-click="editTile($event);" ng-disabled="model.isLoading" localize-tooltip="TileEditor_PaneTitle_Details"><i class="glyphicon pbi-glyph-edit"></i></button> <button class="deleteTileBtn" ng-click="deleteTile();" localize-tooltip="TileEditor_DeleteTile"><i class="glyphicon pbi-glyph-delete"></i></button></div><div class="webContentWarning" ng-if="::viewModel.type === 1"><span localize="WebContentWarning_Widget" localize-tooltip="WebContentWarning_Widget"></span><a href="https://go.microsoft.com/fwlink/?LinkID=759648" localize="LearnMore" target="_blank"></a></div></div>'),e.put("views/tiles/iframeTile.html",'<div class="iframeTile"><iframe class="iframeSelf" ng-if="!viewModel.isLoading" frameborder="0" ng-src="{{iframeSource}}" sandbox="allow-scripts allow-popups allow-same-origin allow-forms" marginheight="0" marginwidth="0"></iframe></div>'),e.put("views/tiles/imageTile.html",'<div class="imageTile"><printable-image source="{{viewModel.imageUrl}}"></printable-image></div>'),e.put("views/tiles/modelTile.html",'<div class="modelTile"><printable-image source="{{imageUrl}}"></printable-image></div>'),e.put("views/tiles/providerTile.html",'<div class="dashboardTaskPaneTile" ng-click="openTile()"><div class="background" background-image="{{viewModel.backgroundImageUrl}}"></div><div class="dashboardTaskPaneTitle" ng-bind="viewModel.displayText"></div></div>'),e.put("views/tiles/reportTile.html",'<div class="explorationContainer" ng-switch="viewModel.isError"><exploration ng-switch-when="false" view-model="viewModel.exploration" disable-print="true"></exploration><error-placeholder ng-switch-when="true" error-text="viewModel.errorText"></error-placeholder></div>'),e.put("views/tiles/ssrsTile.html",'<div class="ssrsTile"><printable-image source="{{viewModel.imageUrl}}"></printable-image></div>'),e.put("views/tiles/tile.html",'<div class="tile baseTile" ng-class="{ noTitle: !viewModel.hasTitle(), largeHeader:largeHeader, noSubtitle: !viewModel.hasSubtitle() && viewModel.hasTitle() }"><div class="item-auto" ng-if="::(viewModel.type === 1)"><div class="webContentCorner"></div> <button class="webContentIcon" localize-tooltip="WebContentWarning_Widget" ng-click="onIconClick(getWebContentIcon(), $event)"><i class="glyphicon pbi-glyph-securityalert glyph-small"></i></button></div><header class="flexbox"> <button ng-repeat="icon in ::getIcons()" class="item-auto {{::icon.itemClass}}" ng-if="::icon.show()" title="{{::icon.tooltip()}}" ng-click="onIconClick(icon, $event)"><i class="glyphicon glyph-small {{::icon.iconClass}}"></i><span class="badge" ng-if="::icon.hasBadge" ng-bind="icon.badgeValueSetter()"></span></button><div class="headerText item-fill" ng-click="headerClickTarget({event: $event})"><div class="displayText" ng-bind="viewModel.getDisplayText()"></div><div class="flexbox"><span class="subDisplayText item-auto first-part" ng-bind="viewModel.getSubDisplayText()"></span> <span class="subDisplayText item-auto" ng-show="viewModel.shouldPlaceBulletSeperator()"></span><span class="subDisplayText item-auto item-fill" bind-text-and-tooltip="viewModel.lastRefreshTimeInLocaleWithLabel()"></span></div></div></header><section><div class="loadingPlaceholder"><div class="loadingPlaceholderText glyphicon pbi-glyph-powerbi glyph-large"></div></div><div ng-show="!viewModel.isTileLoading && shouldShowTileVisual()" class="tileBody unselectable" ng-class="::{nonInteractive: disablePointerEvents}" ng-switch on="::{{viewModel.type}}"><composite-tile view-model="viewModel.composite" ng-switch-when="0" allow-interactivity="{{::allowInteractivity}}"></composite-tile><iframe-tile view-model="viewModel.iframe" ng-switch-when="1"></iframe-tile><image-tile view-model="viewModel.image" ng-attr-title="{{viewModel.displayText}}" ng-switch-when="2"></image-tile><model-tile view-model="viewModel.model" ng-switch-when="3"></model-tile><ssrs-tile view-model="viewModel.ssrs" ng-switch-when="4"></ssrs-tile><workbook-tile view-model="viewModel.workbook" ng-switch-when="5"></workbook-tile><report-tile view-model="viewModel.reportTile" ng-switch-when="6"></report-tile><real-time-tile view-model="viewModel.realTime" ng-switch-when="8"></real-time-tile></div><error-placeholder ng-if="!shouldShowTileVisual()" error-text="errorText" error-details="errorDetails"></error-placeholder></section></div>'),e.put("views/tiles/workbookTile.html",'<div class="workbookTile" ng-class="{hasTitle: title}" ng-switch="useLiveEwaControl"><iframe ng-src="{{::workbookTileUrl}}" ng-switch-when="true"/><printable-image source="{{viewModel.dynamicImageUrl}}" disable-animation="true" ng-class="{backgroundOriginalSize: viewModel.keepOriginalContentSize}" ng-switch-when="false"></printable-image> <img class="internalWorkbookTileImage" name="internalWorkbookTileImage" ng-src="{{viewModel.previewImageUrl}}" ng-hide="true"/></div>'),e.put("views/usageBarMenuItemView.html",'<div class="usageBarMenuItemBlock"><div class="{{labelClass}}">{{text}}</div><div class="toptext">{{usageDescription}}</div><section class="usageBar"><div class="bar usedSpace"></div><div class="bar freeSpace"></div></section></div>'),e.put("views/usageBarView.html",'<div class="usageBarBlock"><div class="toptext">{{usageBarModel.usageDescription}}</div><section class="usageBar"><div class="bar selfUsed"></div><div class="bar othersUsed"></div><div class="bar freeSpace"></div></section><section class="legends"><span class="square selfUsed"></span><div class="textstyle">{{usageBarModel.selfUsageInUnit}}</div><span ng-switch on="viewModel.isMyWorkspace"><div class="textstyle" localize="QuotaManagement_OwnedByMe" ng-switch-when="true"></div><div class="textstyle" localize="QuotaManagement_OwnedByUs" ng-switch-when="false"></div></span><span class="square othersUsed"></span><div class="textstyle">{{usageBarModel.otherUsageInUnit}}</div><div class="textstyle" localize="QuotaManagement_OwnedByOthers"></div></section><section class="limit"><div class="limitnumber">{{viewModel.quotaLimitInUnit}}</div><div class="limitline"></div></section></div>'),e.put("views/userGroupHeaderView.html",'<header class="userGroupHeader"><h1><span class="name" ng-bind="viewModel.isMyWorkspace ? viewModel.userName : viewModel.activeGroup.displayName"></span><span class="servicePlan" localize="QuotaManagement_FreeUser" ng-if="!viewModel.isPremiumUser"></span><span class="servicePlan" localize="QuotaManagement_ProTrialUser" ng-if="viewModel.userHasFreeTrial && !viewModel.userHasPremiumPlan && viewModel.isMyWorkspace"></span><span class="servicePlan" localize="QuotaManagement_ProUser" ng-if="viewModel.userHasPremiumPlan && viewModel.isMyWorkspace"></span></h1></header>'),e.put("views/viewContentPack.html",'<div class="sliderContentView"><div class="viewContentPack"><user-group-header view-model="userGroupHeader" feature-switch-not="breadcrumbNavigationEnabled"></user-group-header><div class="tableArea" ng-switch="contentPacks.length> 0" feature-switch-class="breadcrumbNavigationEnabled"><table class="viewContentPackTable" ng-switch-when="true"><tbody><tr><th class="contentPackName" localize="Publish_ContentPackName"></th><th class="publishedTo" localize="Publish_ContentPackPublishedTo"></th><th class="datePublished" localize="Publish_ContentPackDatePublished"></th><th class="actions" localize="Publish_ContentPackActions"></th></tr><tr ng-repeat="user in contentPacks"><td class="name"> <span ng-bind="user.displayText"/>&nbsp;&nbsp;<span ng-show="user.providerContract.isDirty" class="indicator glyphicon pbi-glyph-warning glyph-small" localize-tooltip="PublishContentPack_ChangesTooltip"></span></td><td class="publishedTo" ng-bind="user.publishedTo"></td><td class="datePublished" ng-bind="user.publishTime | date:\'MMM d, yyyy\'"></td><td class="performAction noOptions"><a href="" ng-click="editContentPack(user.providerId)" class="editContentack linkSection"><span localize="Publish_EditContentPack"></span></a> &nbsp;|&nbsp;<a href="" ng-click="deleteContentPack(user.providerKey)" class="deleteContentPack linkSection"><span localize="Publish_DeleteContentPack"></span></a></td></tr></tbody></table><div class="viewContentPackTableEmpty unselectable" ng-switch-when="false"><i class="glyphicon pbi-glyph-warning glyph-med warningIcon"></i><h2 localize="ContentPack_NoContentPackWarningTitle"></h2><p localize="ContentPack_NoContentPackWarningText"></p><a href="https://go.microsoft.com/fwlink/?LinkId=623862" target="_blank" localize="LearnMore"></a></div></div></div></div>'),e.put("views/warningBar.html",'<div class="warningBar"><span class=\'warning\'><i class=\'glyphicon pbi-glyph-error icon\'></i></span><div class=\'errorMessage\'>{{viewModel.text}}</div><div class=\'button officeStyleLink\' ng-if="viewModel.type === 1" localize="ErrorBar_FixItText" ng-click="onFixItClick()"></div><div class=\'button officeStyleLink\' ng-if="viewModel.type === 2" localize="ErrorBar_NoText" ng-click="onNoClick()"></div><div class=\'button officeStyleLink\' ng-if="viewModel.type === 2" localize="ErrorBar_YesText" ng-click="onYesClick()"></div></div>'),e.put("views/waterMarkMessage.html",'<div class="waterMarkMsg unselectable"><i class="glyphicon" ng-class="{true: \'pbi-glyph-error glyph-med\', false: \'pbi-glyph-warning glyph-med warningIcon\'}[config.mode]"></i><div ng-if="config.imgClass" ng-class="config.imgClass"></div><div ng-switch="config.canEdit"><div ng-switch-when="true"><h2 class="title" ng-bind="config.titleNonShared"></h2><p class="content" ng-bind="config.contentNonShared"></p></div><div ng-switch-when="false"><h2 class="title" ng-bind="config.titleShared"></h2><p class="content" ng-bind="config.contentShared"></p><p ng-bind="config.contact"></p></div></div><p ng-if="config.linkAction"><span ng-bind="config.linkDescription"></span><span class="linkText" ng-mousedown="config.linkAction()" ng-bind="config.linkText"></span></p><pbi-button ng-if="config.btnClick" label="{{config.btnLabelKey}}" localize-tooltip="{{config.btnLabelKey}}" ng-click="config.btnClick()" primary="true"></pbi-button></div>'),e.put("views/widgets/editIframeWidget.html",'<div><h6 class="input-field-label required" localize="EditWidget_EmbedCode"></h6><textarea ng-model="viewModel.tile.iframe.embedCode"></textarea><div class="infoBlock"><i class="glyphicon glyph-small pbi-glyph-info"></i><span class="message" localize="EditWidget_WebContentIssues" localize-fragments><a class="link" href="https://go.microsoft.com/fwlink/?LinkID=799824" target="_blank" fragment-index="0" localize="LearnMore"></a></span></div></div>'),e.put("views/widgets/editImageWidget.html",'<div><form name="imageContentForm"><h6 class="input-field-label required" localize="TileEditor_Url"></h6> <input type="url" name="imageUrl" ng-model="viewModel.tile.image.imageUrl" ng-change="onChange()" ng-class="{hasError: imageContentForm.imageUrl.$touched && !viewModel.isImageUrlValid()}"/><div class="errorBlock" ng-show="imageContentForm.imageUrl.$touched && !viewModel.isImageUrlValid()"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="EditWidget_ImageWidget_InvalidUrl" localize-tooltip="EditWidget_ImageWidget_InvalidUrl"></div></div></form></div>'),e.put("views/widgets/editTextWidget.html",'<div class="editWidgetContainer" toolbar-anchor><div class="widgetDetails" localize="EditWidget_Details"></div><div><toolbar-overlay view-model="viewModel.toolbarModel" toolbar-container></toolbar-overlay><visual class="textVisual" view-model="viewModel.visualModel"></visual></div></div>');e.put("views/widgets/editVideoWidget.html",'<div><form name="videoContentForm"><h6 class="input-field-label required" localize="EditWidget_VideoWidget_Url"></h6> <input type="url" name="videoUrl" ng-model="url" ng-blur="blurChanged()" ng-change="inputChanged()" ng-class="{hasError: videoContentForm.videoUrl.$touched && !viewModel.isVideoUrlValid()}"/><div class="errorBlock" ng-show="videoContentForm.videoUrl.$touched && !viewModel.isVideoUrlValid()"><i class="glyphicon glyph-small pbi-glyph-error"></i><div class="message" localize="EditWidget_VideoWidget_InvalidUrl" localize-tooltip="EditWidget_VideoWidget_InvalidUrl"></div></div></form></div>');e.put("views/workbookAppBar.html",'<div class="workbookAppBarContent appBar trimmedTextWithEllipsis unselectable"><div class="appBarSection left"><ul><li class="workbookAppBarItemNotClickable"><span class="excelOnlineText" localize="WorkbookAppBar_ExcelOnline"></span></li><li class="appBarDivider"></li><li class="edit-menu" ng-class="{workbookAppBarItemNotClickable: !isEditEnabled()}"> <button dropdown-menu dropdown-items="editMenuActions" dropdown-class="workbookAppBarMenu" dropdown-dark-theme="viewModeState.getMode() === 0" dropdown-on-item-selected="editMenuActionSelected(selected)" ng-disabled="!isEditEnabled()" localize-tooltip="{{getEditButtonTooltipLocId()}}" dynamic-tooltip-update tabindex="0"><span localize="WorkbookAppBar_EditButton"></span><i class="glyphicon pbi-glyph-chevrondownmedium glyph-mini"></i></button></li></ul></div><div class="appBarSection right"><ul><li ng-switch="getRefreshDataStatus()" class="appBarText refreshStatus workbookAppBarItemNotClickable"><div ng-switch-when="0"><span ng-bind="refreshInformationText"></span></div><div ng-switch-when="1"> <button ng-click="showRefreshHistory()"><i class="glyphicon pbi-glyph-warning"></i></button><span ng-bind="refreshInformationText"></span></div><div ng-switch-when="2"><i class="glyphicon pbi-glyph-info" tooltip tooltip-config="refreshNotSupportedTooltip"></i><span ng-bind="refreshInformationText"></span></div></li><li class="reload" ng-class="{workbookAppBarItemNotClickable: !isWorkbookLoaded()}"> <button ng-disabled="!isWorkbookLoaded()" ng-click="reloadClicked()"><i class="glyphicon pbi-glyph-refresh"></i><span localize="WorkbookAppBar_ReloadButton"></span></button></li><li class="data-menu" id="data" ng-class="{workbookAppBarItemNotClickable: !isWorkbookLoaded()}"> <button ng-disabled="!isWorkbookLoaded()" dropdown-menu dropdown-items="dataMenuActions" dropdown-class="workbookAppBarMenu" dropdown-on-item-selected="dataMenuActionSelected(selected)" tabindex="0"><i class="glyphicon pbi-glyph-dataset"></i><span localize="WorkbookAppBar_DataButton"></span><i class="glyphicon pbi-glyph-chevrondownmedium glyph-mini"></i></button></li><li ng-class="{workbookAppBarItemNotClickable: !isPinToDashboardEnabled()}"> <button class="pinToDashboard" ng-disabled="!isPinToDashboardEnabled()" ng-click="pinClicked()" localize-tooltip="{{getPinButtonTooltipLocId()}}" dynamic-tooltip-update><i class="glyphicon pbi-glyph-pinned"></i><span localize="WorkbookAppBar_PinWorkbookElementButton"></span></button></li></ul></div></div>'),e.put("views/workbookContainer.html",'<div id="workbookContainerWrapper" class="workbookContainerContent"><workbook-discoverability-toast class="discoverabilityToast"></workbook-discoverability-toast><workbook-app-bar view-model="viewModel" ng-if="workbookAppBarIncluded"></workbook-app-bar><spinner class="centeredSpinner" ng-show="!isEmbeddedWorkbookReady && !embeddedWorkbookFailed"></spinner><iframe name="workbookEWAIsolation" class="workbookEWAIsolation" src="/ewaIsolation.cshtml" ng-if="isEmbeddedWorkbookDataReady" ng-class="{\'fullSizeFrame\': !workbookAppBarIncluded }"></iframe></div>'),e.put("views/workbookDiscoverabilityToast.html",'<div class="workbookDiscoverabilityToast" ng-show="viewModel.showDiscoverabilityToast"><div class="arrow"></div><div class="title" localize="WorkbookPinDiscoverability_Title"></div><div class="message" localize="WorkbookPinDiscoverability_Message"></div><div class="gotItBtn"><pbi-button label="TutorialPopup_GotIt" primary="true" ng-click="dismissToast()"></pbi-button></div><i class="glyphicon pbi-glyph-pinned"></i></div>')}]);var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i=220,o=(function(){function t(t,i){this.scope=t,this.services=i;var o=this.scope.viewModel.tile;this.scope.viewModel=new e.models.EditTextWidgetModel(o,this.services.featureSwitchService,this.services.explorationSerializer,this.services.visualPlugin),this.initializeViewModelProperties()}return t.createOptions=function(){return{additionalServices:["explorationSerializer","featureSwitchService","moduleLoader","localizationService","promiseFactory","visualPlugin"],scopedDependencies:["uiComponent"]}},t.prototype.initializeViewModelProperties=function(){var t=this,o=this.scope.viewModel;o.visualModel={type:e.dataServices.TileUtils.getVisualType(o.tile.config),
viewport:{height:i},dataTransforms:o.tile.composite.visual.dataTransforms,hostServices:{getLocalizedString:function(e){return t.services.localizationService.get(e)},getViewMode:function(){return 1},getEditMode:function(){return 0},persistProperties:function(e){return t.persistProperties(e)},setToolbar:function(e){return t.setToolbar(e)},loader:function(){return t.services.moduleLoader},promiseFactory:function(){return t.services.promiseFactory},getUIComponentFactory:function(){return t.services.uiComponent.getUIComponentFactory(t.scope)}}},o.toolbarModel={visible:!0,$element:null,update:function(){},theme:e.common.directives.ToolbarOverlay.Themes.light,layout:e.common.directives.ToolbarOverlay.Layouts.stacked}},t.prototype.persistProperties=function(t){for(var i=this.scope.viewModel.tile.composite.visual,o=0,r=t;o<r.length;o++){var a=r[o],n=e.data.DataViewObjectDefinitions.ensure(i.dataTransforms.objects,a.objectName,a.selector);n.properties=a.properties,i.dataViews[0].metadata.objects||(i.dataViews[0].metadata.objects={}),i.dataViews[0].metadata.objects[a.objectName]=a.properties,i.visual.onDataChanged({dataViews:i.dataViews})}this.scope.$applyAsync(_.noop)},t.prototype.setToolbar=function(e){var t=this.scope.viewModel.toolbarModel;t.$element=e,t.update()},t})();t.EditTextWidgetController=o})(i=t.widgets||(t.widgets={}))})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i,o){var r=this;this.featureSwitchService=t,this.explorationSerializer=i,this.visualPlugin=o,this.replace=!0,this.restrict="E",this.templateUrl="views/widgets/editIframeWidget.html",this.link=function(t){var i=t.viewModel.tile;t.viewModel=new e.models.EditIframeWidgetModel(i,r.featureSwitchService,r.explorationSerializer,r.visualPlugin)}}return t})();t.EditIframeWidget=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(t,i,o){var r=this;this.featureSwitchService=t,this.explorationSerializer=i,this.visualPlugin=o,this.replace=!0,this.restrict="E",this.templateUrl="views/widgets/editImageWidget.html",this.link=function(t){var i=t.viewModel.tile;i.image.isStatic=!0,t.viewModel=new e.models.EditImageWidgetModel(i,r.featureSwitchService,r.explorationSerializer,r.visualPlugin),t.onChange=function(){i.resetTileErrors&&i.resetTileErrors()},t.$on(e.common.constants.scopeDestroyEventName,(function(){i.resetTileErrors&&i.resetTileErrors()}))}}return t})();t.EditImageWidget=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.controller=e.common.createController(e.controllers.widgets.EditTextWidgetController),this.replace=!0,this.restrict="E",this.templateUrl="views/widgets/editTextWidget.html"}return t})();t.EditTextWidget=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(e){function t(t,i,o,r){return e.call(this,t,i,o,r)||this}return __extends(t,e),t.prototype.isDirty=function(){var t=this.tile;return t.iframe.srcUrl!==t.config.iframe.srcUrl||t.iframe.embedCode!==t.config.iframe.embedCode||e.prototype.isDirty.call(this)},t.prototype.isValid=function(){return!!this.tile.iframe.embedCode&&e.prototype.isValid.call(this)},t.prototype.undoChanges=function(){var t=this.tile;t.iframe.srcUrl=t.config.iframe.srcUrl,t.iframe.embedCode=t.config.iframe.embedCode,e.prototype.undoChanges.call(this)},t.prototype.updateModelContract=function(){this.tile.config.iframe.srcUrl=this.tile.iframe.srcUrl,this.tile.config.iframe.embedCode=this.tile.iframe.embedCode,e.prototype.updateModelContract.call(this)},t})(e.TileEditorModel);e.EditIframeWidgetModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.dataServices.models.Tile,o=(function(e){function t(t,i,o,r){return e.call(this,t,i,o,r)||this}return __extends(t,e),t.prototype.isImageUrlValid=function(){var e=this.tile.image.imageUrl;return!!e&&(e.indexOf("data:")>=0||i.isValidUrl(e))},t.prototype.isDirty=function(){var t=this.tile;return t.image.imageUrl!==t.config.imageTile.imageUrl||e.prototype.isDirty.call(this)},t.prototype.isValid=function(){return this.isImageUrlValid()&&e.prototype.isValid.call(this)},t.prototype.undoChanges=function(){var t=this.tile;t.image.imageUrl=t.config.imageTile.imageUrl,e.prototype.undoChanges.call(this)},t.prototype.updateModelContract=function(){this.tile.config.imageTile.imageUrl=this.tile.image.imageUrl,e.prototype.updateModelContract.call(this)},t})(t.TileEditorModel);t.EditImageWidgetModel=o})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.data.DataViewTransform,o=(function(t){function o(o,r,a,n){var s=t.call(this,o,r,a,n)||this,c=s.tile.composite.visual,l=c.visual;if(l&&l.visualPlugin){var d=l.visualPlugin.capabilities;c.dataViews||(c.dataViews=i.apply({prototype:void 0,objectDescriptors:d?d.objects:null,transforms:c.dataTransforms,colorAllocatorFactory:e.visuals.createColorAllocatorFactory(),dataRoles:null}))}return s.originalDataTransforms=angular.copy(c.dataTransforms),s.originalDataViews=angular.copy(c.dataViews),s}return __extends(o,t),o.prototype.isDirty=function(){var e=this.tile.composite.visual.dataTransforms;return!_.isEqual(e,this.originalDataTransforms)||t.prototype.isDirty.call(this)},o.prototype.undoChanges=function(){var e=this.tile.composite.visual;e.dataTransforms=this.originalDataTransforms,e.dataViews=this.originalDataViews,e.visual.onDataChanged({dataViews:e.dataViews}),t.prototype.undoChanges.call(this)},o.prototype.updateModelContract=function(){this.tile.config.visualContainer.$visualContainer.config.singleVisual.objects=this.tile.composite.visual.dataTransforms.objects,t.prototype.updateModelContract.call(this)},o})(t.TileEditorModel);t.EditTextWidgetModel=o})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,a,n,s,c,d,p,u){return new l(e,t,i,o,r,a,n,s,c,d,p,u)}var i=e.dataServices.ContractUtils,o=e.explore.util.FilterContainerBuilder,r=e.explore.viewModels.FilterViewModelFactory,a=e.explore.QueryProjectionBuilderCoreUtils,n=e.data.services.SemanticQuerySerializer,s=e.dataServices.contracts.TileType;e.createExportDataService=t;var c="sobe_onpremisevirtualserver",l=(function(){function t(e,t,i,o,r,a,n,s,c,l,d,p){this.promiseFactory=e,this.notificationToastService=t,this.localizationService=i,this.conceptualSchemaProxy=o,this.visualPluginService=r,this.visualPluginOps=a,this.exportVisualDataService=n,this.featureSwitchService=s,this.displayNameService=c,this.aggrOps=l,this.filterRestatementService=d,this.drillToDetails=p}return t.prototype.exportTileDataToCsv=function(t){var o=this,r=t.composite,s=t.contract,c=t.config,l=e.dataServices.TileUtils.getVisualType(c),d=this.getDataSources(t),p=this.promiseFactory.defer(),u=this.localizationService,v=this.notificationToastService,h=v.notify({title:u.get("ExportData_LoadingTitle"),message:u.get("ExportData_LoadingMessage"),notificationType:e.common.NotificationToastType.Loading});return this.conceptualSchemaProxy.get(d).then((function(t){v.hide(h);var u=i.convertToSemanticQueryWithDataShapeBinding(s.query),g=n.deserializeQuery(u.defn),f=c.visualContainer.elements,m=f&&f.length>0?f[0].DataRoles:null,b=o.visualPluginService.getPlugin(l),y=a.createProjectionBuilderFromDataRoles(b,m,g,t),S=o.visualPluginService.capabilities(l);if(S){var C=c.visualContainer.$visualContainer.config.singleVisual.objects,w={objects:C,visualType:l,query:new e.explore.contracts.VisualQuery(g,y.build(u.shape))};o.exportVisualDataToCsv(c.visualContainer.heading1,r.tileData,d,w,r.visual.dataTransforms,null).then((function(e){p.resolve(e)}),(function(e){p.reject(e)}))}}),(function(){v.hide(h)})),p.promise},t.prototype.exportVisualDataToCsv=function(t,i,o,r,a,n){var s=this.localizationService,c=this.notificationToastService,l=c.notify({title:s.get("ExportData_LoadingTitle"),message:s.get("ExportData_LoadingMessage"),notificationType:e.common.NotificationToastType.Loading,sticky:!0}),d=this.exportVisualDataService.exportToCsv(t,i,o,r,a,n);return this.handleExportDataResult(d,l)},t.prototype.exportVisualDataToExcel=function(t,i,o,r,a,n){var s=this,c=this.localizationService,l=this.notificationToastService,d=this.promiseFactory.defer(),p=l.notify({title:c.get("ExportData_LoadingTitle"),message:c.get("ExportData_LoadingMessage"),notificationType:e.common.NotificationToastType.Loading,sticky:!0});return this.conceptualSchemaProxy.get(i).then((function(e){var c=o;if(a){var l=s.drillToDetails.generateDetailsTable(o,e,n);if(!l)return void d.reject({blob:null,error:4});c=l}s.generateFiltersDescriptionPromise(e,r,c,i).then((function(e){s.exportVisualDataService.exportToExcel(t,i,c,r,e).then((function(e){d.resolve(e)}),(function(e){d.reject(e)}))}),(function(){d.reject({blob:null,error:5})}))}),(function(){d.reject({blob:null,error:3})})),this.handleExportDataResult(d.promise,p)},t.prototype.canExportTileData=function(t){if(!this.featureSwitchService.featureSwitches.exportDataEnabled)return!1;if(t.type!==s.composite)return!1;var o=t.composite&&t.composite.visual&&t.composite.visual.type,r=this.visualPluginService.getPlugin(o);if(!r)return!1;if(!t.composite.tileData)return!1;if(!this.visualPluginOps.isQueryVisual(o))return!1;try{var a=t&&t.contract&&t.contract.query,n=i.convertToSemanticQueryWithDataShapeBinding(a),c=n.defn;if(!c||!c.Version||c.Version<e.data.SemanticQueryVersions.Version2)return!1}catch(e){return!1}return!0},t.prototype.getExportDataToExcelUnsupportedType=function(e,t){var i=e.objects,o=e.visualType,r=!0;return!r&&this.isDataModelASOnPremises(t)?1:i&&i.forecast?3:i&&i.clustering?2:this.visualPluginService.isScriptVisual(o)?4:this.visualPluginService.isCustomVisual(o)?5:0},t.prototype.isDataModelASOnPremises=function(e){return e&&e.vsName&&e.vsName===c},t.prototype.generateFiltersDescriptionPromise=function(t,i,a,n){var s={filtersNamesAndRestatements:[]},c=this.promiseFactory.defer();if(!i||!i.dataFilter)return c.resolve(s),c.promise;var l=o.fromSemanticFilter(i.dataFilter,t);if(!l)return c.resolve({}),c.promise;for(var d={container:l,scopeType:0},p=[],u=[],v=[],h=0,g=l;h<g.length;h++){var f=g[h],m=this.visualPluginService.capabilities(a.visualType),b=r.convertFilterContainer(f,t,this.displayNameService,d,this.visualPluginService,this.aggrOps,this.localizationService,m);b.updateFilterProperties(t,this.visualPluginService,this.aggrOps),b.contract.config={singleVisual:a};var y={includeVariationSource:!0};p.push(this.displayNameService.getDisplayName(b.contract.expression,t,m,y)),u.push(this.displayNameService.getQualifiedDisplayName(b.contract.expression,t,m,y));var S=this.promiseFactory.defer(),C=e.explore.components.TopNFilterViewModelFactory.createViewModelFromSemanticFilter(f.filter,t,this.localizationService,this.displayNameService,this.aggrOps);if(C)S.resolve(C.getRestatement(this.localizationService));else{var w=e.explore.viewModels.FilterViewModelFactory.extractAdvFilterCard(f);if(!w)return c.resolve({}),c.promise;var I=w.getRestatement(b.formatter);I?S.resolve(I):S.promise=this.filterRestatementService.loadRestatement(n,f,b.formatter)}v.push(S.promise)}return p.length!==l.length||v.length!==l.length||u.length!==l.length?(c.resolve({}),c.promise):(this.promiseFactory.all(v).then((function(e){for(var t=0;t<l.length;t++)_.isEmpty(p[t])||_.isEmpty(e[t])||s.filtersNamesAndRestatements.push({displayName:p[t],qualifiedDisplayName:u[t],restatement:e[t]});c.resolve(s)})),c.promise)},t.prototype.getDataSources=function(t){var i=t.contract,o=e.explore.contracts.createDataSourceArray(),r={type:"dsr",id:i.modelId,name:i.modelName,dsr:{schemaName:i.modelName,vsName:t.vsName,dbName:t.dbName,modelId:i.modelId}};if(o.push(r),this.featureSwitchService.featureSwitches.reportMeasures){var a=e.explore.constants.ExplorationSchemaName;o.push({type:e.explore.dataReaderPlugins.ExplorationDataReaderType,id:i.id,name:a,extends:i.modelName,exploration:{schemaName:a,extends:i.modelName,getModelExtensions:function(){return t.config.visual.$modelExtensions}}})}return o},t.saveResult=function(e){switch(e.format){case 0:var t=new Blob([e.blob],{type:"text/csv;charset=utf-8;"});saveAs(t,e.fileName);break;case 1:var i=new Blob([e.blob],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"});saveAs(i,e.fileName)}},t.prototype.handleExportDataResult=function(i,o){var r=this.promiseFactory.defer(),a=this.localizationService,n=this.notificationToastService;return i.then((function(i){null!=i.error?(n.notify({title:a.get("ExportData_FailureTitle"),message:a.get("ExportData_FailureMessage"),notificationType:e.common.NotificationToastType.Error}),r.reject(i)):(i.isPartialResult&&n.notify({title:a.get("ExportData_PartialDataTitle"),message:a.get("ExportData_PartialDataMessage"),notificationType:e.common.NotificationToastType.Warning}),t.saveResult(i),r.resolve(i))}),(function(t){n.notify({title:a.get("ExportData_FailureTitle"),message:a.get("ExportData_FailureMessage"),notificationType:e.common.NotificationToastType.Error}),r.reject(t)})).finally((function(){return n.hide(o)})),r.promise},t})();e.ExportDataService=l})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i){return new o(e,t,i)}t.createExportStaticExplorationService=i;var o=(function(){function t(e,t,i){this.exportStaticReportProxy=e,this.notificationToast=t,this.localizationService=i}return t.prototype.exportToPng=function(i,o,r){var a=this,n=this.localizationService,s=this.notificationToast.notify({title:n.get("ExportStaticImage_Title"),message:n.get("ExportStaticImage_Message"),notificationType:e.common.NotificationToastType.Loading});this.exportStaticReportProxy.exportAsImage(o,r).then((function(e){var o=new Blob([e.blob],{type:"image/png"});saveAs(o,t.getFileName(i))})).finally((function(){a.notificationToast.hide(s)}))},t.getFileName=function(e){var t=jsCommon.StringExtensions.normalizeFileName(e);return t+".png"},t})();t.ExportStaticExplorationService=o})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(e,t){var i=this;this.restrict="E",this.replace=!0,this.templateUrl="views/pbiDataLoaderSpinner.html",this.link=function(e,t,o){var r=t.find("h3");r.text(i.loc.get("DataLoaderSpinner_LoadingMessage1")),i.timeout((function(){r.text(i.loc.get("DataLoaderSpinner_LoadingMessage2"))}),5e3)},this.loc=e,this.timeout=t}return e})();e.PbiDataLoaderSpinner=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i,o,a,n,s){return new r(e,t,i,o,a,n,s)}var o=e.common.constants;t.createPageTitleService=i;var r=(function(){function t(e,t,i,o,r,a,n){this.navigationService=t,this.window=a,this.dashboardService=i,this.reportService=o,this.localizationService=e,this.workbookService=r,this.rootScope=n,this.initialize()}return t.prototype.refresh=function(){var e,t=this.navigationService,i=this.localizationService,o=this.reportService,r=this.workbookService,a=this.dashboardService;if(t.inReportView()){var n=o.findReportByGUID(t.currentReportGUID);n&&n.displayName&&(e=i.format("PowerBI_PageTitle",[n.displayName]))}else if(t.inWorkbookView()){var s=r.findWorkbookByUniqueId(t.currentWorkbookURLIdentifier);s&&s.displayName&&(e=i.format("PowerBI_PageTitle",[s.displayName]))}else if(t.inDashboardView()){var c=a.findDashboardByGUID(t.currentDashboardGUID);c&&c.displayName&&(e=i.format("PowerBI_PageTitle",[c.displayName]))}_.isEmpty(e)&&(e=i.get("Power_BI")),this.window.document.title=e},t.prototype.initialize=function(){var t=this,i=this.rootScope,r=function(){t.refresh()},a=i.$on(o.navigation.stateChangeSuccess,r),n=i.$on(o.currentActiveReportInfoChangedEventName,r),s=i.$on(e.constants.renameDashboardEventName,r),c=i.$on(e.constants.dashboardContainerLoaded,r);i.$on("$destroy",(function(){a(),n(),s(),c()}))},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t,i){return new a(e,t,i)}var o=e.common.models.CollapsiblePaneExpandedWidth,r=e.common.constants.TaskPaneCollapsiblePaneMode;t.createShareSliderService=i;var a=(function(){function e(e,t,i){this.navigation=e,this.rootscope=t,this.taskPaneSliderService=i}return e.prototype.openShareSlider=function(e){e&&(this.shareDashboard=e,this.taskPaneSliderService.expandPane(r.SharingPane,o.Large))},e})();t.ShareSliderService=a})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i=(function(){function t(t,i){var o=this;this.scope=t,this.services=i;var r=this.scope.viewModel.tile;this.scope.viewModel=new e.models.EditVideoWidgetModel(r,this.services.featureSwitchService,this.services.explorationSerializer,this.services.visualPlugin),this.scope.url=r.iframe.srcUrl,this.scope.inputChanged=function(){return o.inputChanged()}}return t.createOptions=function(){return{additionalServices:["explorationSerializer","featureSwitchService","visualPlugin"]}},t.prototype.inputChanged=function(){var e=this.scope.url,i=this.scope.viewModel.tile.iframe,o=this.parseUrl(e),r=o.hostname.toLowerCase();if(("www.youtube.com"===r||"youtube.com"===r)&&o.queryParams.v)return i.srcUrl=e,void(i.embedCode=jsCommon.StringExtensions.format(t.youtubeEmbedTemplate,o.queryParams.v+o.search));if("youtu.be"===r){var a=_.trimLeft(o.pathname,"/");if(a)return i.srcUrl=e,void(i.embedCode=jsCommon.StringExtensions.format(t.youtubeEmbedTemplate,a+o.search))}else if(_.contains(r,"vimeo.com")){var n=this.parseVimeoVideoId(e);if(null!=n)return i.srcUrl=e,void(i.embedCode=jsCommon.StringExtensions.format(t.vimeoEmbedTemplate,n))}i.srcUrl="",i.embedCode=""},t.prototype.parseUrl=function(e){var t=document.createElement("a");return t.href=e,{hostname:t.hostname,pathname:t.pathname,search:t.search,queryParams:jsCommon.QueryStringUtil.parseQueryString(t.search)}},t.prototype.parseVimeoVideoId=function(e){var t=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)((#|\?)(.*))?$/i,i=e.match(t);if(i)return i[5]},t})();i.youtubeEmbedTemplate='<iframe width="100%" height="100%" src="https://www.youtube.com/embed/{0}" frameborder="0"></iframe>',i.vimeoEmbedTemplate='<iframe width="100%" height="100%" src="https://player.vimeo.com/video/{0}" frameborder="0"></iframe>',t.EditVideoWidgetController=i})(i=t.widgets||(t.widgets={}))})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i;!(function(t){var i=(function(){function t(t,i){var o=this;this.excelProviderBaseEndpointPath="/powerbi/providers/excel/",this.scope=t,this.services=i,this.scope.isLoading=!1,this.scope.hasError=!1;var r,a="<share-point-url-modal></share-point-url-modal>",n=this.services.telemetryService.startChildEvent(this.services.telemetryService.root,e.telemetry.CustomConfigHandlerSharePointDiscover,this.scope.url),s={dialogName:this.services.localizationService.get("SharePoint_ModalTitle"),isDismissable:!1,scope:this.scope,template:a,focusOnFirstButton:!0,dialogActions:[new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialog_Connect"),function(i,a){o.scope.isLoading=!0,o.scope.hasError=!1,o.services.contentProviderConfigHandler.configData={},o.services.contentProviderConfigHandler.configData.sharePointUrl=o.scope.url,o.getDocumentLibararies(n.event).then((function(i){o.services.contentProviderConfigHandler.configData.result=i,o.scope.isLoading=!1,r.closeDialog(),t.$emit(e.common.constants.contentProviderStoreCustomConfigurationPostbackEventName,!0),n.resolve()}),(function(t){o.scope.hasError=!0,o.scope.isLoading=!1,(t.status=e.HttpStatusCode.NotFound)?(o.scope.errorMessage=o.services.localizationService.get("SharePoint_AccessError"),n.resolve()):(r.closeDialog(),n.reject())}))}),new InJs.ModalDialogAction(this.services.localizationService.get("ModalDialog_Cancel"),function(i,a){o.scope.isLoading=!1,o.scope.hasError=!1,r.closeDialog(),t.$emit(e.common.constants.contentProviderStoreCustomConfigurationPostbackEventName,!1)})],notificationType:jsCommon.ModalDialogNotificationType.Info};r=this.services.modalDialogService.showLegacyWebModalDialog(s)}return t.createOptions=function(){return{additionalServices:["modalDialogService","localizationService","contentProviderConfigHandler","telemetryService"]}},t.prototype.getDocumentLibararies=function(t){var i=e.common.httpService.powerbiRequestOptions(t,"GetSharepointDocumentLibraries"),o=this.excelProviderBaseEndpointPath+"allDocumentLibraries";return this.scope.url&&(o=o+"?siteUrl="+this.scope.url),e.common.httpService.get(o,i)},t})();t.SharePointUrlInputController=i})(i=t.contentProviderStore||(t.contentProviderStore={}))})(t=e.controllers||(e.controllers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.controller=e.common.createController(e.controllers.widgets.EditVideoWidgetController),this.replace=!0,this.restrict="E",this.templateUrl="views/widgets/editVideoWidget.html"}return t})();t.EditVideoWidget=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(e){function t(t,i,o,r){return e.call(this,t,i,o,r)||this}return __extends(t,e),t.prototype.isVideoUrlValid=function(){return!!this.tile.iframe.srcUrl},t.prototype.isDirty=function(){var t=this.tile;return t.iframe.srcUrl!==t.config.iframe.srcUrl||e.prototype.isDirty.call(this)},t.prototype.isValid=function(){return this.isVideoUrlValid()&&e.prototype.isValid.call(this)},t.prototype.undoChanges=function(){var t=this.tile;t.iframe.srcUrl=t.config.iframe.srcUrl,t.iframe.embedCode=t.config.iframe.embedCode,e.prototype.undoChanges.call(this)},t.prototype.updateModelContract=function(){var t=this.tile.config.iframe,i=this.tile.iframe;t.srcUrl=i.srcUrl,t.embedCode=i.embedCode,e.prototype.updateModelContract.call(this)},t})(e.TileEditorModel);e.EditVideoWidgetModel=t})(t=e.models||(e.models={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/tiles/dashboardTileOpenOptions.html",this.replace=!0}return e})();e.DashboardTileOpenOptions=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t=(function(){function e(){this.restrict="E",this.templateUrl="views/tiles/dashboardTileOptionsMenu.html",this.replace=!0}return e})();e.DashboardTileOptionsMenu=t})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=(function(){function t(){this.restrict="E",this.controller=e.common.createController(e.controllers.contentProviderStore.SharePointUrlInputController)}return t})();t.SharePointUrlInput=i})(t=e.directives||(e.directives={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){var i=e.common.constants,o=(function(){function e(){}return e.getClusterLocation=function(e,t){var o=i.clusterLocations;for(var r in o)for(var a=o[r],n=0,s=a;n<s.length;n++){var c=s[n];if(e.toLocaleLowerCase().indexOf(c)>=0)return t.get(r)}return t.get("Cluster_Location_TestEnvironment")},e})();t.ClusterLocationHelper=o})(t=e.helpers||(e.helpers={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i,o,r,n){return new a(e,t,i,o,r,n)}var i=e.contracts.DynamicMessageNotificationLevel,o=e.contracts.DynamicMessageNotificationType,r=e.contracts.DynamicMessageActionType;e.createDynamicMessagingDataService=t;var a=(function(){function t(e,t,i,o,r,a){var n=this;this.dynamicMessagingDataHttp=e,this.userNotificationInfo=t,this.userInfo=i,this.telemetryService=o,this.localizationService=r,this.asyncFeatureSwitchService=a,"undefined"!=typeof dynamicMessagingUrl&&this.asyncFeatureSwitchService.getFeatureSwitches().then((function(){n.asyncFeatureSwitchService.featureSwitches.dynamicMessageEnabled&&n.getData()}))}return t.prototype.postData=function(t){if(this.notificationMessage){var i=this.telemetryService.startEvent(e.telemetry.DynamicMessageUserAction,t);return this.dynamicMessagingDataHttp.postData(this.localizationService.currentLanguageLocale,this.notificationMessage.MessageID,this.notificationMessage.TransactionID,this.notificationMessage.CampaignId,this.userInfo.puid,t).then((function(e){i.resolve()}),(function(t){i.reject({errorCode:"DynamicMessagingPostUserActionFailed.",errorSource:e.telemetry.ErrorSource.External})}))}},t.prototype.getData=function(){var t=this,i=this.telemetryService.startEvent(e.telemetry.DynamicMessageGetMessage,!1);this.userInfo.puid&&this.dynamicMessagingDataHttp.getData(this.userInfo.puid,this.localizationService.currentLanguageLocale).then((function(o){if(null!=o.data){var r=o.data[dynamicMessageSurfaceName],a=r.Data;if(r&&99!==r.ContentType&&r.Message){t.notificationMessage=r;var n=jsCommon.JsonExtensions.tryParseJSON(r.Message);n&&n.NotificationTitle&&n.NotificationMessage&&(t.userNotificationInfo.addClientNotification({id:0,notificationCategory:e.userNotifications.contracts.NotificationCategory.DynamicMessage,notificationType:t.getUserNotificationType(a),notificationLevel:t.getUserNotificationLevel(a),message:t.createNotificationMessage(n),action:_.isEmpty(n.Buttons)?null:t.createNotificationAction(n.Buttons[0],n.ActionType),subAction:_.isEmpty(n.Buttons)&&n.Buttons.length<2?null:t.createNotificationAction(n.Buttons[1]),seen:!1}),i.event.info.parsedMessage=!0)}}i.resolve()}),(function(t){i.reject({errorCode:"DynamicMessagingInitializationFailed.",errorSource:e.telemetry.ErrorSource.External})}))},t.prototype.createNotificationAction=function(e,t){var i=null;return e&&(i={resource:{text:e.Text},actionType:this.getNotificationActionType(t),path:[e.URL]}),i},t.prototype.getNotificationActionType=function(t){if(!t)return 5;var i=e.contracts.DynamicMessageActionType[t];switch(i){case r.EnablePreviewFeatures:return 6;default:return 5}},t.prototype.createNotificationMessage=function(e){var t={title:{text:e.NotificationTitle},image:this.createNotificationImage(e.Body),message:{text:e.NotificationMessage}};return e.Body&&(t.subTitle=this.createNotificationSubtitle(e.Body)),t},t.prototype.createNotificationImage=function(e){var t={imageType:6};if(e){var i=e.filter((function(e){return e.ImageURL})).map((function(e){return e.ImageURL}));t.imagePath=_.first(i)}return t},t.prototype.createNotificationSubtitle=function(e){var t={},i=e.filter((function(e){return e.Text})).map((function(e){return e.Text}));return _.isEmpty(i)||(t.text=i[0]),t},t.prototype.getUserNotificationType=function(e){if(!e)return 1;var t=o[e.NotificationType];switch(t){case o.NotificationPane:return 1;case o.Popup:return 0;case o.NotificationBar:return 2;default:return 1}},t.prototype.getUserNotificationLevel=function(e){if(!e)return 1;var t=i[e.NotificationLevel];switch(t){case i.Low:return 0;case i.Normal:return 1;case i.High:return 2;default:return 1}},t})();e.DynamicMessagingDataService=a})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(){return new i}e.createDynamicMessagingDataHttpService=t;var i=(function(){function t(){}return t.prototype.getData=function(t,i){var o=e.common.httpService.powerbiRequestOptions();return e.common.httpService.get(jsCommon.StringExtensions.format("{0}/api/V2/messaging/Web/Message?source={1}&Locale={2}&id=5:{3}",dynamicMessagingUrl,dynamicMessageSurfaceName,i,t),o)},t.prototype.postData=function(t,i,o,r,a,n){var s=e.common.httpService.powerbiRequestOptions(),c=jsCommon.StringExtensions.format("{0}/api/v1/messaging/Web/useraction?source={1}&Locale={2}&contentID={3}&transactionID={4}&campaignId={5}&id={6}&type=0&useraction={7}",dynamicMessagingUrl,dynamicMessageSurfaceName,t,i,o,r,a,n);return e.common.httpService.post(c,{},s)},t})();e.DynamicMessagingDataHttpService=i})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(t){function i(e,t){return new o(e,t)}t.createQuota=i;var o=(function(){function t(e,t){this.storageUsageService=e,this.dashboardService=t}return Object.defineProperty(t.prototype,"quotaLimitInMB",{get:function(){return this.storageUsageService.quotaLimitInMB},enumerable:!0,configurable:!0}),t.prototype.getUsageModels=function(){return this.storageUsageService.getUsageModels(this.dashboardService.dashboards)},t.prototype.getUsage=function(){return this.storageUsageService.getUsage(this.dashboardService.dashboards)},t.prototype.checkQuotaExceeded=function(t,i){return void 0===t&&(t=e.telemetry.QuotaCheckOperation.Unknown),this.storageUsageService.checkQuotaExceeded(this.dashboardService.dashboards,t,i)},t.prototype.getUsageBarMenuItemViewModel=function(){return this.storageUsageService.getUsageBarMenuItemViewModel(this.dashboardService.dashboards)},t.prototype.showQuotaExceedDialog=function(){this.storageUsageService.showQuotaExceedDialog()},t.prototype.isInVisibleDashboard=function(e){return this.storageUsageService.isInVisibleDashboard(e)},t})()})(t=e.services||(e.services={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){function t(e,t,i){return new o(e,t,i)}var i=e.telemetry.UsageMetricsArtifactType;e.createUsageMetricsHttpService=t;var o=(function(){function t(e,t,i){this.telemetryService=e,this.promiseFactory=t,this.httpService=i}return t.prototype.getPackage=function(t,o){return __awaiter(this,void 0,e.Promise,(function(){var r,a,n,s,c,l,d,p;return __generator(this,(function(u){switch(u.label){case 0:r=this.telemetryService.startChildEvent(o,e.telemetry.UsageMetricsHttpGetPackage,t),u.label=1;case 1:switch(u.trys.push([1,3,,4]),a=void 0,t){case i.Report:a="powerbi/content/providers/usagemetrics/report/";break;case i.Dashboard:a="powerbi/content/providers/usagemetrics/dashboard/"}return n=this.httpService.powerbiRequestOptions(o,"getPackage"),[4,this.httpService.get(a,n)];case 2:return s=u.sent(),r.resolve(),[2,s.data];case 3:return c=u.sent(),l=this.promiseFactory.defer(),d=e.errorDetailsHelper.getTelemetryErrorDetails(c.error),r.reject(d),p=this.getErrorCode(c),l.reject({errorCode:p,requestId:c.requestId,error:c.error}),[2,l.promise];case 4:return[2]}}))}))},t.prototype.getErrorCode=function(e){var t;return e&&(e.error?t=e.error.code:e.status&&(t=e.status.toString())),t},t})()})(powerbi||(powerbi={}));;var powerbi;!(function(e){var t;!(function(t){var a=e.dataServices.constants,r=e.common.helpers.ExceptionHelper,n=e.common.HostEnv,s=jsCommon.QueryStringUtil,o=s.getQueryStringValue("isE2ERun")||window.DEBUG,i=n.Web;angular.module("powerbi.web",["angularFileUpload","vs-repeat","powerbi.common.directives","powerbi","powerbi.controllers","powerbi.directives","powerbi.components","powerbi.filters","powerbi.connectivity"]).config(["$compileProvider","$ocLazyLoadProvider",function(e,t){o?t.config({debug:!0}):e.debugInfoEnabled(!1)}]).config(["pbiLazyLoadProvider",function(e){e.setHostEnv(i)}]).config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(e.web.constants.whiteListResource)}]).config(["$httpProvider",function(e){e.useApplyAsync(!0)}]).config(["featureSwitchesProvider",function(e){var t=jsCommon.QueryStringUtil.getQueryStringValue("cpcode");t&&(e.prototypeSwitches.includeFlightingContentProviders=!0)}]).config(["telemetryServiceProvider",function(t){t.hostService=e.telemetry.createTelemetryHostService()}]).factory("checkSigninService",[function(){return new e.common.CheckSigninService}]).factory("mostRecentlyUsedService",["groupService","promiseFactory","navigation","telemetryService","$timeout","userSettingsService","packageService","dashboardDataService","reportService","appService",function(t,a,r,n,s,o,i,l,d,c){return e.services.createMostRecentlyUsedService(t,a,r,n,s,o,i,l,d,c)}]).factory("settingsService",["telemetryService","$rootScope","userSettingsService",function(t,a,r){return e.services.createSettingsService(t,a,r)}]).factory("serverLatency",["clusterUriRetriever","$http","telemetryService","$interval",function(t,a,r,n){return e.services.createServerLatencyService(t,a,r,n)}]).run(["$http","$rootScope","$window","syncService","telemetryService","customTraceLoggerService","errorService","localizationService","tutorialDataStore","tutorialPopup","$injector","$timeout","appMetadataService",function(t,n,s,o,i,l,d,c,p,m,u,g,v){window.DEBUG&&(window.injector=u),e.common.popupWindowService=e.common.createPopupWindowService(s);var h=function(){if(window.initialDashboardContainer&&"object"==typeof window.initialDashboardContainer){var e=window.initialDashboardContainer.gettingStartedStatus;p.setJsonData(e)}else n.$on(a.initialDashboardContainerReadyEventName,h)};h();var w=n.$on(e.constants.dashboardContainerLoaded,(function(){e.common.helpers.InitialLoadingScreenHelper.removeDummyChrome(g),w()})),S=jsCommon.DateExtensions.parseIsoDate(window.powerBIAccessTokenExpiry),b=S.getTime()-Date.now()-e.constants.tokenRefreshIntervalOffset,I=function(){_.isEmpty(window.powerBIAccessToken)||_.isEmpty(window.powerBIAccessTokenExpiry)||e.common.tokenService.refreshToken(g,(function(){S=jsCommon.DateExtensions.parseIsoDate(window.powerBIAccessTokenExpiry),b=S.getTime()-Date.now()-e.constants.tokenRefreshIntervalOffset,b<0&&(b=6e4),D=setTimeout(I,b)}))},D=setTimeout(I,b<0?0:b);if(!window.DEBUG){window.alert=function(e){};var U=window.onerror||_.noop;window.onerror=r.getWindowOnErrorWrapper(i,U,e.telemetry.DashboardUnhandledStacklessException,e.telemetry.DashboardUnhandledException)}}]).run(["serverLatency",function(e){return e.startMonitoring()}]).factory("$exceptionHandler",["telemetryService","customTraceLoggerService",function(t,a){return r.getExceptionHandler(t,a,e.telemetry.DashboardUnhandledAngularException)}]),e.registerController("LandingContainer",["$scope","$rootScope","$http","$timeout"]),e.common.registerPBICommonBuildingBlocksForHost(i),e.visualHost.registerBuildingBlocksForHost(i),e.explore.registerBuildingBlocksForHost(i),e.settings.registerBuildingBlocksForHost(i),e.connectivity.registerBuildingBlocksForHost(i),e.permissions.registerBuildingBlocksForHost(i),e.capacityAdmin.registerBuildingBlocksForHost(i),e.registerBuildingBlocksForHost(i),$((function(){if(jsCommon.BrowserUtility.isBrowserSupported()===!1&&"undefined"!=typeof clusterUri&&"undefined"!=typeof telemetrySessionId){var t=e.createUserActivityContextService(),a=e.createTelemetryService(e.telemetry.createTelemetryHostService(),t),r=e.common.createLoggerService(),n=e.common.createErrorTraceLoggerService(a,r),s=e.common.createErrorService(a,null,n);s.fatalCustom(InJs.UnlocalizedStrings.unsupportedBrowserMessageTitle,InJs.UnlocalizedStrings.unsupportedBrowserMessageText,"UnsupportedBrowser")}}))})(t=e.web||(e.web={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t;!(function(e){var t;!(function(e){e.whiteListResource=["self","**"]})(t=e.constants||(e.constants={}))})(t=e.web||(e.web={}))})(powerbi||(powerbi={}));var powerbi;!(function(e){var t=e.common.constants.navigation.states,a=e.insights.constants.insightsUrlParams,r=e.common.constants.navigation,n=jsCommon.PerfTimer,s=jsCommon.QueryStringUtil,o=e.common.contracts.reportServer.ReportInstantiationMode,i=e.constants.navigation.states;angular.module("powerbi").config(["$stateProvider","$urlRouterProvider","$locationProvider","$urlMatcherFactoryProvider",function(l,d,c,p){var m=n.start("ui-router registration");c.html5Mode(!0),p.caseInsensitive(!0),d.otherwise((function(e,t){var a=t.path(),r=t.url(),n=r.indexOf("?"),s=n>=0?r.substr(n):"",o="/groups/me";return _.contains(a,"groups")||(o+=a),_.contains(r,"/home")&&(o="/featureddashboard"),o+s}));var u=Object.keys(new e.common.ClientFeatureSwitches);u.push("unmin","tenantId","language","collapseNavigation","chromeless","openReportSource","loadFitToPage");var g=s.parseQueryString(window.location.search),v=_.intersection(u,Object.keys(g)),h="?"+v.join("&"),w={loadModule:["pbiLazyLoad",function(e){return e.load({name:"powerbi.infonav",namespace:"powerbi.explore.infonav",dependency:{javascript:"infonav",css:["infonav"]}})}]};l.state({name:i.adminPortal,url:"admin-portal",views:{"contentSlider@landing":{templateUrl:"views/states/adminPortalState.html"}},data:{contentSlider:!0},params:{adminPortalSettingsTab:0}}),l.state({name:i.adminPortalCapacities,url:"/capacities",params:{adminPortalSettingsTab:5}}),l.state({name:i.adminPortalCapacity,url:"/{capacityId}",params:{adminPortalSettingsTab:5}}),l.state({name:i.appAutoinstall,url:"auto-install",views:{"contentSlider@landing":{templateUrl:"views/states/appAutoInstallState.html"}},data:{contentSlider:!0}}),l.state({name:i.devTools,url:"devTools",views:{"contentSlider@landing":{templateUrl:"views/states/devToolsViewState.html"}},data:{contentSlider:!0}}),l.state({name:i.home,url:"^/featureddashboard"+h}),l.state({name:i.groups,url:"groups?needproforgroups&error&groupid"}),l.state({name:i.group,url:"/{groupGUID}",params:{initialLoad:0}}),l.state({name:i.apps,url:"/apps"}),l.state({name:i.app,url:"/{appGUID}"}),l.state({name:i.appDashboards,url:"/dashboards",abstract:!0}),l.state({name:i.appDashboard,url:"/{dashboardOriginalGUID}",params:{dashboardGUID:null}}),l.state({name:i.appDashboardQna,url:"/qna?q&filter",params:{dashboardGUID:null},resolve:w}),l.state({name:i.appDashboardQnaStart,url:"/qnastart",params:{dashboardGUID:null},resolve:w}),l.state({name:i.appAlertsEditor,url:"/tiles/{tileOriginalGUID}/alerts/{alertId}",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.appInFocusMode,url:"/tiles/{tileOriginalGUID}/infocus",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.appInFocusInsights,url:"/tiles/{tileOriginalGUID}/infocus/insights",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:t.appReports,url:"/reports",params:{instantiationMode:o.None},abstract:!0}),l.state({name:t.appReport,url:"/{reportOriginalGUID}?filter",params:{reportGUID:null}}),l.state({name:t.appReportPage,url:"/{reportPage}",params:{reportGUID:null}}),l.state({name:t.appWorkbooks,url:"/workbooks",abstract:!0}),l.state({name:t.appWorkbook,url:"/{workbookURLIdentifier}?activeSelection"}),l.state({name:i.appInstances,url:"/instances",abstract:!0}),l.state({name:i.appInstance,url:"/{appInstanceId}"}),l.state({name:i.appInstanceDashboards,url:"/dashboards",abstract:!0}),l.state({name:i.appInstanceDashboard,url:"/{dashboardOriginalGUID}",params:{dashboardGUID:null}}),l.state({name:i.appInstanceAlertsEditor,url:"/tiles/{tileOriginalGUID}/alerts/{alertId}",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.appInstanceInFocusMode,url:"/tiles/{tileOriginalGUID}/infocus",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.appInstanceInFocusInsights,url:"/tiles/{tileOriginalGUID}/infocus/insights",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.appInstanceDashboardQna,url:"/qna?q&filter",params:{dashboardGUID:null},resolve:w}),l.state({name:i.appInstanceDashboardQnaStart,url:"/qnastart",params:{dashboardGUID:null},resolve:w}),l.state({name:t.appInstanceReports,url:"/reports",params:{instantiationMode:o.None},abstract:!0}),l.state({name:t.appInstanceReport,url:"/{reportOriginalGUID}?filter",params:{reportGUID:null}}),l.state({name:t.appInstanceReportPage,url:"/{reportPage}",params:{reportGUID:null}}),l.state({name:i.contentList,url:"/contentlist?onlySharedWithMe&contentListTab&q",params:{skipWelcome:!1,instantiationMode:0}}),l.state({name:i.contentListPivot,url:"/{pivot}?q"}),l.state({name:i.sharedWithMe,url:"^/sharedwithme"+h+"&q",params:{initialLoad:0,groupGUID:e.constants.myWorkSpaceGroupId},views:{"contentSlider@landing":{template:"<shared-with-me-container id='contentListLandingContainer'></shared-with-me-container>"}},data:{contentSlider:!0}}),l.state({name:i.sharedDashboards,url:"/dashboards"}),l.state({name:i.sharedDashboard,url:"/{dashboardGUID}",data:{contentSlider:!1}}),l.state({name:i.sharedAlertsEditor,url:"/tiles/{tileGUID}/alerts/{alertId}",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.sharedInFocusMode,url:"/tiles/{tileGUID}/infocus",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.sharedInFocusInsights,url:"/tiles/{tileGUID}/infocus/insights",params:{dashboardGUID:null,tileGUID:null}}),l.state({name:i.sharedDashboardQna,url:"/qna?q&filter",resolve:w}),l.state({name:i.sharedDashboardQnaStart,url:"/qnastart",resolve:w}),l.state({name:i.sharedDashboardReports,url:"/reports",params:{instantiationMode:o.None},abstract:!0}),l.state({name:i.sharedDashboardReport,url:"/{reportGUID}?filter",data:{contentSlider:!1}}),l.state({name:i.sharedDashboardReportPage,url:"/{reportPage}"}),l.state({name:i.sharedDashboardRequestAccess,url:"/requestAccess",views:{templateUrl:"views/requestDashboardAccess.html"}}),l.state({name:i.sharedDashboardShare,url:"/share?inviteid&inviteoid"}),l.state({name:i.sharedDashboardWorkbooks,url:"/workbooks",abstract:!0}),l.state({name:i.sharedDashboardWorkbook,url:"/{workbookURLIdentifier}?activeSelection"}),l.state({name:t.datasets,url:"/datasets"}),l.state({name:t.dataset,url:"/{datasetDBName}?tileId",params:{instantiationMode:o.Exploration}}),l.state({name:i.modelQna,url:"/qna?q&filter",resolve:w}),l.state({name:i.dashboards,url:"/dashboards"}),l.state({name:i.dashboard,url:"/{dashboardGUID}"}),l.state({name:i.dashboardReports,url:"/reports",params:{instantiationMode:o.None},abstract:!0}),l.state({name:i.dashboardReport,url:"/{reportGUID}?filter",data:{contentSlider:!1}}),l.state({name:i.dashboardReportPage,url:"/{reportPage}"}),l.state({name:i.alertsEditor,url:"/tiles/{tileGUID}/alerts/{alertId}"}),l.state({name:i.inFocusMode,url:"/tiles/{tileGUID}/infocus"}),l.state({name:i.inFocusInsights,url:"/tiles/{tileGUID}/infocus/insights"}),l.state({name:i.dashboardQna,url:"/qna?q&filter",resolve:w}),l.state({name:i.dashboardQnaStart,url:"/qnastart",resolve:w}),l.state({name:i.dashboardRequestAccess,url:"/requestAccess",views:{templateUrl:"views/requestDashboardAccess.html"}}),l.state({name:i.dashboardShare,url:"/share?inviteid&inviteoid"}),l.state({name:i.dashboardWorkbooks,url:"/workbooks",abstract:!0}),l.state({name:i.dashboardWorkbook,url:"/{workbookURLIdentifier}?activeSelection"}),l.state({name:i.extendTrial,url:"/extendtrial"}),l.state({name:i.favorites,url:"^/favorites"+h}),l.state({name:i.insights,url:"/insights/{dataGUID}?"+a,views:{"contentSlider@landing":{templateUrl:"views/states/insightsState.html"}},data:{contentSlider:!0}}),l.state({name:i.gateways,url:"/gateways",views:{"contentSlider@landing":{templateUrl:"views/states/gatewaysState.html"}},data:{contentSlider:!0}}),l.state({name:i.gateway,url:"/{gatewayId}"}),l.state({name:i.dataSource,url:"/{dataSourceId}"}),l.state({name:i.getData,parent:i.group,url:"/getdata?"+r.getDataDirectQueryUrlParams,views:{"contentSlider@landing":{templateUrl:"views/states/externalContentViewerState.html"}},data:{contentSlider:!0}}),l.state({name:i.getDataCategory,url:"/{categoryName}"}),l.state({name:i.getDataCategoryProviderName,url:"/{providerName}?"+r.getDataForceConnect}),l.state({name:i.groupWelcome,url:"/groupwelcome",views:{"/groupWelcome@landing":{templateUrl:"views/contentProviderStore/contentProviderSplash.html"}}}),l.state({name:i.manageEmbed,parent:i.group,url:"/manageembed",views:{"contentSlider@landing":{templateUrl:"views/states/manageEmbedViewState.html"}},data:{contentSlider:!0}}),l.state({name:i.manageStorage,parent:i.group,url:"/managestorage",views:{"contentSlider@landing":{templateUrl:"views/states/manageStorageViewState.html"}},data:{contentSlider:!0}}),l.state({name:i.publishApp,url:"/publish-app/{appGUID}",views:{"contentSlider@landing":{templateUrl:"views/states/createChannelState.html"}},data:{contentSlider:!0},resolve:{loadModule:["pbiLazyLoad",function(e){return e.load({name:"powerbi.app.authoring",namespace:"powerbi.app.authoring",dependency:{javascript:"appAuthoring",css:["appAuthoring"]}})}]}}),l.state({name:i.publishContent,url:"/publish-content/{contentPackId}",views:{"contentSlider@landing":{templateUrl:"views/states/publishContentPackViewState.html"}},data:{contentSlider:!0}}),l.state({name:t.permissionCenter,url:"/permission",views:{"contentSlider@landing":{templateUrl:"views/states/permissionCenterState.html"}},data:{contentSlider:!0}}),l.state({name:t.dashboardPermission,url:"/dashboard/{type}/{GUID}",views:{"contentSlider@landing":{templateUrl:"views/states/managePermissionsState.html"}},data:{contentSlider:!0}}),l.state({name:t.datasetPermission,url:"/dataset/{type}/{GUID}",views:{"contentSlider@landing":{templateUrl:"views/states/managePermissionsState.html"}},data:{contentSlider:!0}}),l.state({name:t.reportPermission,url:"/report/{type}/{GUID}",views:{"contentSlider@landing":{templateUrl:"views/states/managePermissionsState.html"}},data:{contentSlider:!0}}),l.state({name:t.workbookPermission,url:"/workbook/{type}/{GUID}",views:{"contentSlider@landing":{templateUrl:"views/states/managePermissionsState.html"}},data:{contentSlider:!0}}),l.state({name:i.recentlyViewed,url:"^/recentlyviewed"+h,views:{"contentSlider@landing":{template:"<recently-viewed-container></recently-viewed-container>"}},data:{contentSlider:!0}}),l.state({name:t.reports,url:"/reports",params:{instantiationMode:o.None}}),l.state({name:t.report,url:"/{reportGUID}?filter"}),l.state({name:t.reportPage,url:"/{reportPage}"}),l.state({name:t.reportSubscription,url:"/subscriptions/{subscriptionGUID}"}),l.state({name:t.dashboardSubscription,url:"/subscriptions/{subscriptionGUID}"}),l.state({name:i.rowLevelSecurity,url:"/rowLevelSecurity/{modelId}",views:{"contentSlider@landing":{templateUrl:"views/states/rowLevelSecurityState.html"}},data:{contentSlider:!0},resolve:{loadModule:["pbiLazyLoad",function(e){return e.load({name:"powerbi.rowLevelSecurity",namespace:"powerbi.rowLevelSecurity",dependency:{javascript:"rowLevelSecurity",css:["rowLevelSecurity"]}})}]}}),l.state({name:i.settings,url:"/settings",views:{"contentSlider@landing":{templateUrl:"views/states/settingsViewerState.html"}},data:{contentSlider:!0}}),l.state({name:i.settingsGroup,url:"/{settingsGroup}"}),l.state({name:i.settingsId,url:"/{settingsId}"}),l.state({name:t.streamingDatasets,url:"/streamingdatasets",params:{instantiationMode:0}}),l.state({name:i.viewContent,url:"/view-content",views:{"contentSlider@landing":{templateUrl:"views/states/viewContentPackViewState.html"}},data:{contentSlider:!0}}),l.state({name:t.workbooks,url:"/workbooks"}),l.state({name:t.workbook,url:"/{workbookURLIdentifier}?activeSelection"}),l.state({name:i.workspaces,url:"^/workspaces"+h}),l.state({name:i.landing,templateUrl:"views/landing.html",url:"/"+h}),m()}])})(powerbi||(powerbi={}));

window.parseTimeMarkers['powerbiportal.web.bundle.min.js'].end = Date.now();
